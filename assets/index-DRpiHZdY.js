var zP=e=>{throw TypeError(e)};var ww=(e,t,r)=>t.has(e)||zP("Cannot "+r);var W=(e,t,r)=>(ww(e,t,"read from private field"),r?r.call(e):t.get(e)),Me=(e,t,r)=>t.has(e)?zP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ye=(e,t,r,n)=>(ww(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Je=(e,t,r)=>(ww(e,t,"access private method"),r);var ig=(e,t,r,n)=>({set _(a){ye(e,t,a,r)},get _(){return W(e,t,n)}});function gG(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Qr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function vG(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var i4={exports:{}},Yb={},o4={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp=Symbol.for("react.element"),yG=Symbol.for("react.portal"),bG=Symbol.for("react.fragment"),xG=Symbol.for("react.strict_mode"),wG=Symbol.for("react.profiler"),_G=Symbol.for("react.provider"),jG=Symbol.for("react.context"),SG=Symbol.for("react.forward_ref"),kG=Symbol.for("react.suspense"),NG=Symbol.for("react.memo"),EG=Symbol.for("react.lazy"),UP=Symbol.iterator;function CG(e){return e===null||typeof e!="object"?null:(e=UP&&e[UP]||e["@@iterator"],typeof e=="function"?e:null)}var l4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c4=Object.assign,u4={};function cf(e,t,r){this.props=e,this.context=t,this.refs=u4,this.updater=r||l4}cf.prototype.isReactComponent={};cf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function d4(){}d4.prototype=cf.prototype;function gN(e,t,r){this.props=e,this.context=t,this.refs=u4,this.updater=r||l4}var vN=gN.prototype=new d4;vN.constructor=gN;c4(vN,cf.prototype);vN.isPureReactComponent=!0;var HP=Array.isArray,f4=Object.prototype.hasOwnProperty,yN={current:null},h4={key:!0,ref:!0,__self:!0,__source:!0};function m4(e,t,r){var n,a={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)f4.call(t,n)&&!h4.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:yp,type:e,key:s,ref:i,props:a,_owner:yN.current}}function AG(e,t){return{$$typeof:yp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bN(e){return typeof e=="object"&&e!==null&&e.$$typeof===yp}function PG(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var qP=/\/+/g;function _w(e,t){return typeof e=="object"&&e!==null&&e.key!=null?PG(""+e.key):t.toString(36)}function gv(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case yp:case yG:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+_w(i,0):n,HP(a)?(r="",e!=null&&(r=e.replace(qP,"$&/")+"/"),gv(a,t,r,"",function(u){return u})):a!=null&&(bN(a)&&(a=AG(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(qP,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",HP(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+_w(s,l);i+=gv(s,t,r,c,a)}else if(c=CG(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+_w(s,l++),i+=gv(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function og(e,t,r){if(e==null)return e;var n=[],a=0;return gv(e,n,"","",function(s){return t.call(r,s,a++)}),n}function TG(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yn={current:null},vv={transition:null},DG={ReactCurrentDispatcher:yn,ReactCurrentBatchConfig:vv,ReactCurrentOwner:yN};function p4(){throw Error("act(...) is not supported in production builds of React.")}st.Children={map:og,forEach:function(e,t,r){og(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return og(e,function(){t++}),t},toArray:function(e){return og(e,function(t){return t})||[]},only:function(e){if(!bN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};st.Component=cf;st.Fragment=bG;st.Profiler=wG;st.PureComponent=gN;st.StrictMode=xG;st.Suspense=kG;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DG;st.act=p4;st.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=c4({},e.props),a=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=yN.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)f4.call(t,c)&&!h4.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:yp,type:e.type,key:a,ref:s,props:n,_owner:i}};st.createContext=function(e){return e={$$typeof:jG,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_G,_context:e},e.Consumer=e};st.createElement=m4;st.createFactory=function(e){var t=m4.bind(null,e);return t.type=e,t};st.createRef=function(){return{current:null}};st.forwardRef=function(e){return{$$typeof:SG,render:e}};st.isValidElement=bN;st.lazy=function(e){return{$$typeof:EG,_payload:{_status:-1,_result:e},_init:TG}};st.memo=function(e,t){return{$$typeof:NG,type:e,compare:t===void 0?null:t}};st.startTransition=function(e){var t=vv.transition;vv.transition={};try{e()}finally{vv.transition=t}};st.unstable_act=p4;st.useCallback=function(e,t){return yn.current.useCallback(e,t)};st.useContext=function(e){return yn.current.useContext(e)};st.useDebugValue=function(){};st.useDeferredValue=function(e){return yn.current.useDeferredValue(e)};st.useEffect=function(e,t){return yn.current.useEffect(e,t)};st.useId=function(){return yn.current.useId()};st.useImperativeHandle=function(e,t,r){return yn.current.useImperativeHandle(e,t,r)};st.useInsertionEffect=function(e,t){return yn.current.useInsertionEffect(e,t)};st.useLayoutEffect=function(e,t){return yn.current.useLayoutEffect(e,t)};st.useMemo=function(e,t){return yn.current.useMemo(e,t)};st.useReducer=function(e,t,r){return yn.current.useReducer(e,t,r)};st.useRef=function(e){return yn.current.useRef(e)};st.useState=function(e){return yn.current.useState(e)};st.useSyncExternalStore=function(e,t,r){return yn.current.useSyncExternalStore(e,t,r)};st.useTransition=function(){return yn.current.useTransition()};st.version="18.3.1";o4.exports=st;var x=o4.exports;const L=yt(x),bp=gG({__proto__:null,default:L},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MG=x,OG=Symbol.for("react.element"),RG=Symbol.for("react.fragment"),IG=Object.prototype.hasOwnProperty,$G=MG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LG={key:!0,ref:!0,__self:!0,__source:!0};function g4(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)IG.call(t,n)&&!LG.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:OG,type:e,key:s,ref:i,props:a,_owner:$G.current}}Yb.Fragment=RG;Yb.jsx=g4;Yb.jsxs=g4;i4.exports=Yb;var o=i4.exports,v4={exports:{}},aa={},y4={exports:{}},b4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,F){var z=D.length;D.push(F);e:for(;0<z;){var U=z-1>>>1,R=D[U];if(0<a(R,F))D[U]=F,D[z]=R,z=U;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var F=D[0],z=D.pop();if(z!==F){D[0]=z;e:for(var U=0,R=D.length,B=R>>>1;U<B;){var K=2*(U+1)-1,J=D[K],X=K+1,te=D[X];if(0>a(J,z))X<R&&0>a(te,J)?(D[U]=te,D[X]=z,U=X):(D[U]=J,D[K]=z,U=K);else if(X<R&&0>a(te,z))D[U]=te,D[X]=z,U=X;else break e}}return F}function a(D,F){var z=D.sortIndex-F.sortIndex;return z!==0?z:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,v=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=D)n(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(u)}}function _(D){if(p=!1,w(D),!v)if(r(c)!==null)v=!0,$(j);else{var F=r(u);F!==null&&M(_,F.startTime-D)}}function j(D,F){v=!1,p&&(p=!1,b(N),N=-1),m=!0;var z=h;try{for(w(F),f=r(c);f!==null&&(!(f.expirationTime>F)||D&&!A());){var U=f.callback;if(typeof U=="function"){f.callback=null,h=f.priorityLevel;var R=U(f.expirationTime<=F);F=e.unstable_now(),typeof R=="function"?f.callback=R:f===r(c)&&n(c),w(F)}else n(c);f=r(c)}if(f!==null)var B=!0;else{var K=r(u);K!==null&&M(_,K.startTime-F),B=!1}return B}finally{f=null,h=z,m=!1}}var S=!1,k=null,N=-1,E=5,P=-1;function A(){return!(e.unstable_now()-P<E)}function O(){if(k!==null){var D=e.unstable_now();P=D;var F=!0;try{F=k(!0,D)}finally{F?T():(S=!1,k=null)}}else S=!1}var T;if(typeof y=="function")T=function(){y(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,I=C.port2;C.port1.onmessage=O,T=function(){I.postMessage(null)}}else T=function(){g(O,0)};function $(D){k=D,S||(S=!0,T())}function M(D,F){N=g(function(){D(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,$(j))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var z=h;h=F;try{return D()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var z=h;h=D;try{return F()}finally{h=z}},e.unstable_scheduleCallback=function(D,F,z){var U=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?U+z:U):z=U,D){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=z+R,D={id:d++,callback:F,priorityLevel:D,startTime:z,expirationTime:R,sortIndex:-1},z>U?(D.sortIndex=z,t(u,D),r(c)===null&&D===r(u)&&(p?(b(N),N=-1):p=!0,M(_,z-U))):(D.sortIndex=R,t(c,D),v||m||(v=!0,$(j))),D},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(D){var F=h;return function(){var z=h;h=F;try{return D.apply(this,arguments)}finally{h=z}}}})(b4);y4.exports=b4;var FG=y4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BG=x,na=FG;function ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x4=new Set,Yh={};function wc(e,t){hd(e,t),hd(e+"Capture",t)}function hd(e,t){for(Yh[e]=t,e=0;e<t.length;e++)x4.add(t[e])}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cj=Object.prototype.hasOwnProperty,zG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,WP={},KP={};function UG(e){return Cj.call(KP,e)?!0:Cj.call(WP,e)?!1:zG.test(e)?KP[e]=!0:(WP[e]=!0,!1)}function HG(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qG(e,t,r,n){if(t===null||typeof t>"u"||HG(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bn(e,t,r,n,a,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Rr[e]=new bn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Rr[t]=new bn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Rr[e]=new bn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Rr[e]=new bn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Rr[e]=new bn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Rr[e]=new bn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Rr[e]=new bn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Rr[e]=new bn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Rr[e]=new bn(e,5,!1,e.toLowerCase(),null,!1,!1)});var xN=/[\-:]([a-z])/g;function wN(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xN,wN);Rr[t]=new bn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xN,wN);Rr[t]=new bn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xN,wN);Rr[t]=new bn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Rr[e]=new bn(e,1,!1,e.toLowerCase(),null,!1,!1)});Rr.xlinkHref=new bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Rr[e]=new bn(e,1,!1,e.toLowerCase(),null,!0,!0)});function _N(e,t,r,n){var a=Rr.hasOwnProperty(t)?Rr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qG(t,r,a,n)&&(r=null),n||a===null?UG(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var yi=BG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lg=Symbol.for("react.element"),cu=Symbol.for("react.portal"),uu=Symbol.for("react.fragment"),jN=Symbol.for("react.strict_mode"),Aj=Symbol.for("react.profiler"),w4=Symbol.for("react.provider"),_4=Symbol.for("react.context"),SN=Symbol.for("react.forward_ref"),Pj=Symbol.for("react.suspense"),Tj=Symbol.for("react.suspense_list"),kN=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),j4=Symbol.for("react.offscreen"),GP=Symbol.iterator;function Uf(e){return e===null||typeof e!="object"?null:(e=GP&&e[GP]||e["@@iterator"],typeof e=="function"?e:null)}var tr=Object.assign,jw;function hh(e){if(jw===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);jw=t&&t[1]||""}return`
`+jw+e}var Sw=!1;function kw(e,t){if(!e||Sw)return"";Sw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==s[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Sw=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?hh(e):""}function WG(e){switch(e.tag){case 5:return hh(e.type);case 16:return hh("Lazy");case 13:return hh("Suspense");case 19:return hh("SuspenseList");case 0:case 2:case 15:return e=kw(e.type,!1),e;case 11:return e=kw(e.type.render,!1),e;case 1:return e=kw(e.type,!0),e;default:return""}}function Dj(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case uu:return"Fragment";case cu:return"Portal";case Aj:return"Profiler";case jN:return"StrictMode";case Pj:return"Suspense";case Tj:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _4:return(e.displayName||"Context")+".Consumer";case w4:return(e._context.displayName||"Context")+".Provider";case SN:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kN:return t=e.displayName||null,t!==null?t:Dj(e.type)||"Memo";case Fi:t=e._payload,e=e._init;try{return Dj(e(t))}catch{}}return null}function KG(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dj(t);case 8:return t===jN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ko(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function S4(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function GG(e){var t=S4(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cg(e){e._valueTracker||(e._valueTracker=GG(e))}function k4(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=S4(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Hv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mj(e,t){var r=t.checked;return tr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function VP(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ko(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function N4(e,t){t=t.checked,t!=null&&_N(e,"checked",t,!1)}function Oj(e,t){N4(e,t);var r=ko(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Rj(e,t.type,r):t.hasOwnProperty("defaultValue")&&Rj(e,t.type,ko(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function QP(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Rj(e,t,r){(t!=="number"||Hv(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var mh=Array.isArray;function Au(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ko(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ij(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ue(91));return tr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function YP(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ue(92));if(mh(r)){if(1<r.length)throw Error(ue(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ko(r)}}function E4(e,t){var r=ko(t.value),n=ko(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function JP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function C4(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $j(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?C4(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ug,A4=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ug=ug||document.createElement("div"),ug.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ug.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Jh(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Eh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VG=["Webkit","ms","Moz","O"];Object.keys(Eh).forEach(function(e){VG.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Eh[t]=Eh[e]})});function P4(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Eh.hasOwnProperty(e)&&Eh[e]?(""+t).trim():t+"px"}function T4(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=P4(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var QG=tr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lj(e,t){if(t){if(QG[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ue(62))}}function Fj(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bj=null;function NN(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zj=null,Pu=null,Tu=null;function XP(e){if(e=_p(e)){if(typeof zj!="function")throw Error(ue(280));var t=e.stateNode;t&&(t=t0(t),zj(e.stateNode,e.type,t))}}function D4(e){Pu?Tu?Tu.push(e):Tu=[e]:Pu=e}function M4(){if(Pu){var e=Pu,t=Tu;if(Tu=Pu=null,XP(e),t)for(e=0;e<t.length;e++)XP(t[e])}}function O4(e,t){return e(t)}function R4(){}var Nw=!1;function I4(e,t,r){if(Nw)return e(t,r);Nw=!0;try{return O4(e,t,r)}finally{Nw=!1,(Pu!==null||Tu!==null)&&(R4(),M4())}}function Xh(e,t){var r=e.stateNode;if(r===null)return null;var n=t0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ue(231,t,typeof r));return r}var Uj=!1;if(si)try{var Hf={};Object.defineProperty(Hf,"passive",{get:function(){Uj=!0}}),window.addEventListener("test",Hf,Hf),window.removeEventListener("test",Hf,Hf)}catch{Uj=!1}function YG(e,t,r,n,a,s,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ch=!1,qv=null,Wv=!1,Hj=null,JG={onError:function(e){Ch=!0,qv=e}};function XG(e,t,r,n,a,s,i,l,c){Ch=!1,qv=null,YG.apply(JG,arguments)}function ZG(e,t,r,n,a,s,i,l,c){if(XG.apply(this,arguments),Ch){if(Ch){var u=qv;Ch=!1,qv=null}else throw Error(ue(198));Wv||(Wv=!0,Hj=u)}}function _c(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function $4(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ZP(e){if(_c(e)!==e)throw Error(ue(188))}function eV(e){var t=e.alternate;if(!t){if(t=_c(e),t===null)throw Error(ue(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return ZP(a),e;if(s===n)return ZP(a),t;s=s.sibling}throw Error(ue(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i)throw Error(ue(189))}}if(r.alternate!==n)throw Error(ue(190))}if(r.tag!==3)throw Error(ue(188));return r.stateNode.current===r?e:t}function L4(e){return e=eV(e),e!==null?F4(e):null}function F4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=F4(e);if(t!==null)return t;e=e.sibling}return null}var B4=na.unstable_scheduleCallback,eT=na.unstable_cancelCallback,tV=na.unstable_shouldYield,rV=na.unstable_requestPaint,or=na.unstable_now,nV=na.unstable_getCurrentPriorityLevel,EN=na.unstable_ImmediatePriority,z4=na.unstable_UserBlockingPriority,Kv=na.unstable_NormalPriority,aV=na.unstable_LowPriority,U4=na.unstable_IdlePriority,Jb=null,_s=null;function sV(e){if(_s&&typeof _s.onCommitFiberRoot=="function")try{_s.onCommitFiberRoot(Jb,e,void 0,(e.current.flags&128)===128)}catch{}}var Ka=Math.clz32?Math.clz32:lV,iV=Math.log,oV=Math.LN2;function lV(e){return e>>>=0,e===0?32:31-(iV(e)/oV|0)|0}var dg=64,fg=4194304;function ph(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=ph(l):(s&=i,s!==0&&(n=ph(s)))}else i=r&~a,i!==0?n=ph(i):s!==0&&(n=ph(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ka(t),a=1<<r,n|=e[r],t&=~a;return n}function cV(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uV(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Ka(s),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=cV(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function qj(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function H4(){var e=dg;return dg<<=1,!(dg&4194240)&&(dg=64),e}function Ew(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ka(t),e[t]=r}function dV(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ka(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function CN(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ka(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var _t=0;function q4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var W4,AN,K4,G4,V4,Wj=!1,hg=[],fo=null,ho=null,mo=null,Zh=new Map,em=new Map,qi=[],fV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tT(e,t){switch(e){case"focusin":case"focusout":fo=null;break;case"dragenter":case"dragleave":ho=null;break;case"mouseover":case"mouseout":mo=null;break;case"pointerover":case"pointerout":Zh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":em.delete(t.pointerId)}}function qf(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=_p(t),t!==null&&AN(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function hV(e,t,r,n,a){switch(t){case"focusin":return fo=qf(fo,e,t,r,n,a),!0;case"dragenter":return ho=qf(ho,e,t,r,n,a),!0;case"mouseover":return mo=qf(mo,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Zh.set(s,qf(Zh.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,em.set(s,qf(em.get(s)||null,e,t,r,n,a)),!0}return!1}function Q4(e){var t=xl(e.target);if(t!==null){var r=_c(t);if(r!==null){if(t=r.tag,t===13){if(t=$4(r),t!==null){e.blockedOn=t,V4(e.priority,function(){K4(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Kj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Bj=n,r.target.dispatchEvent(n),Bj=null}else return t=_p(r),t!==null&&AN(t),e.blockedOn=r,!1;t.shift()}return!0}function rT(e,t,r){yv(e)&&r.delete(t)}function mV(){Wj=!1,fo!==null&&yv(fo)&&(fo=null),ho!==null&&yv(ho)&&(ho=null),mo!==null&&yv(mo)&&(mo=null),Zh.forEach(rT),em.forEach(rT)}function Wf(e,t){e.blockedOn===t&&(e.blockedOn=null,Wj||(Wj=!0,na.unstable_scheduleCallback(na.unstable_NormalPriority,mV)))}function tm(e){function t(a){return Wf(a,e)}if(0<hg.length){Wf(hg[0],e);for(var r=1;r<hg.length;r++){var n=hg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(fo!==null&&Wf(fo,e),ho!==null&&Wf(ho,e),mo!==null&&Wf(mo,e),Zh.forEach(t),em.forEach(t),r=0;r<qi.length;r++)n=qi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<qi.length&&(r=qi[0],r.blockedOn===null);)Q4(r),r.blockedOn===null&&qi.shift()}var Du=yi.ReactCurrentBatchConfig,Vv=!0;function pV(e,t,r,n){var a=_t,s=Du.transition;Du.transition=null;try{_t=1,PN(e,t,r,n)}finally{_t=a,Du.transition=s}}function gV(e,t,r,n){var a=_t,s=Du.transition;Du.transition=null;try{_t=4,PN(e,t,r,n)}finally{_t=a,Du.transition=s}}function PN(e,t,r,n){if(Vv){var a=Kj(e,t,r,n);if(a===null)$w(e,t,n,Qv,r),tT(e,n);else if(hV(a,e,t,r,n))n.stopPropagation();else if(tT(e,n),t&4&&-1<fV.indexOf(e)){for(;a!==null;){var s=_p(a);if(s!==null&&W4(s),s=Kj(e,t,r,n),s===null&&$w(e,t,n,Qv,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else $w(e,t,n,null,r)}}var Qv=null;function Kj(e,t,r,n){if(Qv=null,e=NN(n),e=xl(e),e!==null)if(t=_c(e),t===null)e=null;else if(r=t.tag,r===13){if(e=$4(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qv=e,null}function Y4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nV()){case EN:return 1;case z4:return 4;case Kv:case aV:return 16;case U4:return 536870912;default:return 16}default:return 16}}var ao=null,TN=null,bv=null;function J4(){if(bv)return bv;var e,t=TN,r=t.length,n,a="value"in ao?ao.value:ao.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return bv=a.slice(e,1<n?1-n:void 0)}function xv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function mg(){return!0}function nT(){return!1}function sa(e){function t(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?mg:nT,this.isPropagationStopped=nT,this}return tr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=mg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=mg)},persist:function(){},isPersistent:mg}),t}var uf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},DN=sa(uf),wp=tr({},uf,{view:0,detail:0}),vV=sa(wp),Cw,Aw,Kf,Xb=tr({},wp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:MN,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kf&&(Kf&&e.type==="mousemove"?(Cw=e.screenX-Kf.screenX,Aw=e.screenY-Kf.screenY):Aw=Cw=0,Kf=e),Cw)},movementY:function(e){return"movementY"in e?e.movementY:Aw}}),aT=sa(Xb),yV=tr({},Xb,{dataTransfer:0}),bV=sa(yV),xV=tr({},wp,{relatedTarget:0}),Pw=sa(xV),wV=tr({},uf,{animationName:0,elapsedTime:0,pseudoElement:0}),_V=sa(wV),jV=tr({},uf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SV=sa(jV),kV=tr({},uf,{data:0}),sT=sa(kV),NV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AV(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=CV[e])?!!t[e]:!1}function MN(){return AV}var PV=tr({},wp,{key:function(e){if(e.key){var t=NV[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?EV[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:MN,charCode:function(e){return e.type==="keypress"?xv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),TV=sa(PV),DV=tr({},Xb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iT=sa(DV),MV=tr({},wp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:MN}),OV=sa(MV),RV=tr({},uf,{propertyName:0,elapsedTime:0,pseudoElement:0}),IV=sa(RV),$V=tr({},Xb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),LV=sa($V),FV=[9,13,27,32],ON=si&&"CompositionEvent"in window,Ah=null;si&&"documentMode"in document&&(Ah=document.documentMode);var BV=si&&"TextEvent"in window&&!Ah,X4=si&&(!ON||Ah&&8<Ah&&11>=Ah),oT=" ",lT=!1;function Z4(e,t){switch(e){case"keyup":return FV.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var du=!1;function zV(e,t){switch(e){case"compositionend":return e3(t);case"keypress":return t.which!==32?null:(lT=!0,oT);case"textInput":return e=t.data,e===oT&&lT?null:e;default:return null}}function UV(e,t){if(du)return e==="compositionend"||!ON&&Z4(e,t)?(e=J4(),bv=TN=ao=null,du=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return X4&&t.locale!=="ko"?null:t.data;default:return null}}var HV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!HV[e.type]:t==="textarea"}function t3(e,t,r,n){D4(n),t=Yv(t,"onChange"),0<t.length&&(r=new DN("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ph=null,rm=null;function qV(e){f3(e,0)}function Zb(e){var t=mu(e);if(k4(t))return e}function WV(e,t){if(e==="change")return t}var r3=!1;if(si){var Tw;if(si){var Dw="oninput"in document;if(!Dw){var uT=document.createElement("div");uT.setAttribute("oninput","return;"),Dw=typeof uT.oninput=="function"}Tw=Dw}else Tw=!1;r3=Tw&&(!document.documentMode||9<document.documentMode)}function dT(){Ph&&(Ph.detachEvent("onpropertychange",n3),rm=Ph=null)}function n3(e){if(e.propertyName==="value"&&Zb(rm)){var t=[];t3(t,rm,e,NN(e)),I4(qV,t)}}function KV(e,t,r){e==="focusin"?(dT(),Ph=t,rm=r,Ph.attachEvent("onpropertychange",n3)):e==="focusout"&&dT()}function GV(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zb(rm)}function VV(e,t){if(e==="click")return Zb(t)}function QV(e,t){if(e==="input"||e==="change")return Zb(t)}function YV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xa=typeof Object.is=="function"?Object.is:YV;function nm(e,t){if(Xa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Cj.call(t,a)||!Xa(e[a],t[a]))return!1}return!0}function fT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hT(e,t){var r=fT(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fT(r)}}function a3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?a3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function s3(){for(var e=window,t=Hv();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hv(e.document)}return t}function RN(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function JV(e){var t=s3(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&a3(r.ownerDocument.documentElement,r)){if(n!==null&&RN(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=hT(r,s);var i=hT(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XV=si&&"documentMode"in document&&11>=document.documentMode,fu=null,Gj=null,Th=null,Vj=!1;function mT(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vj||fu==null||fu!==Hv(n)||(n=fu,"selectionStart"in n&&RN(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Th&&nm(Th,n)||(Th=n,n=Yv(Gj,"onSelect"),0<n.length&&(t=new DN("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=fu)))}function pg(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var hu={animationend:pg("Animation","AnimationEnd"),animationiteration:pg("Animation","AnimationIteration"),animationstart:pg("Animation","AnimationStart"),transitionend:pg("Transition","TransitionEnd")},Mw={},i3={};si&&(i3=document.createElement("div").style,"AnimationEvent"in window||(delete hu.animationend.animation,delete hu.animationiteration.animation,delete hu.animationstart.animation),"TransitionEvent"in window||delete hu.transitionend.transition);function e0(e){if(Mw[e])return Mw[e];if(!hu[e])return e;var t=hu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in i3)return Mw[e]=t[r];return e}var o3=e0("animationend"),l3=e0("animationiteration"),c3=e0("animationstart"),u3=e0("transitionend"),d3=new Map,pT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lo(e,t){d3.set(e,t),wc(t,[e])}for(var Ow=0;Ow<pT.length;Ow++){var Rw=pT[Ow],ZV=Rw.toLowerCase(),eQ=Rw[0].toUpperCase()+Rw.slice(1);Lo(ZV,"on"+eQ)}Lo(o3,"onAnimationEnd");Lo(l3,"onAnimationIteration");Lo(c3,"onAnimationStart");Lo("dblclick","onDoubleClick");Lo("focusin","onFocus");Lo("focusout","onBlur");Lo(u3,"onTransitionEnd");hd("onMouseEnter",["mouseout","mouseover"]);hd("onMouseLeave",["mouseout","mouseover"]);hd("onPointerEnter",["pointerout","pointerover"]);hd("onPointerLeave",["pointerout","pointerover"]);wc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wc("onBeforeInput",["compositionend","keypress","textInput","paste"]);wc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(gh));function gT(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ZG(n,t,void 0,e),e.currentTarget=null}function f3(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;gT(a,l,u),s=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;gT(a,l,u),s=c}}}if(Wv)throw e=Hj,Wv=!1,Hj=null,e}function qt(e,t){var r=t[Zj];r===void 0&&(r=t[Zj]=new Set);var n=e+"__bubble";r.has(n)||(h3(t,e,2,!1),r.add(n))}function Iw(e,t,r){var n=0;t&&(n|=4),h3(r,e,n,t)}var gg="_reactListening"+Math.random().toString(36).slice(2);function am(e){if(!e[gg]){e[gg]=!0,x4.forEach(function(r){r!=="selectionchange"&&(tQ.has(r)||Iw(r,!1,e),Iw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gg]||(t[gg]=!0,Iw("selectionchange",!1,t))}}function h3(e,t,r,n){switch(Y4(t)){case 1:var a=pV;break;case 4:a=gV;break;default:a=PN}r=a.bind(null,t,r,e),a=void 0,!Uj||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function $w(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=xl(l),i===null)return;if(c=i.tag,c===5||c===6){n=s=i;continue e}l=l.parentNode}}n=n.return}I4(function(){var u=s,d=NN(r),f=[];e:{var h=d3.get(e);if(h!==void 0){var m=DN,v=e;switch(e){case"keypress":if(xv(r)===0)break e;case"keydown":case"keyup":m=TV;break;case"focusin":v="focus",m=Pw;break;case"focusout":v="blur",m=Pw;break;case"beforeblur":case"afterblur":m=Pw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=aT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=bV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=OV;break;case o3:case l3:case c3:m=_V;break;case u3:m=IV;break;case"scroll":m=vV;break;case"wheel":m=LV;break;case"copy":case"cut":case"paste":m=SV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=iT}var p=(t&4)!==0,g=!p&&e==="scroll",b=p?h!==null?h+"Capture":null:h;p=[];for(var y=u,w;y!==null;){w=y;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,b!==null&&(_=Xh(y,b),_!=null&&p.push(sm(y,_,w)))),g)break;y=y.return}0<p.length&&(h=new m(h,v,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Bj&&(v=r.relatedTarget||r.fromElement)&&(xl(v)||v[ii]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?xl(v):null,v!==null&&(g=_c(v),v!==g||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(p=aT,_="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=iT,_="onPointerLeave",b="onPointerEnter",y="pointer"),g=m==null?h:mu(m),w=v==null?h:mu(v),h=new p(_,y+"leave",m,r,d),h.target=g,h.relatedTarget=w,_=null,xl(d)===u&&(p=new p(b,y+"enter",v,r,d),p.target=w,p.relatedTarget=g,_=p),g=_,m&&v)t:{for(p=m,b=v,y=0,w=p;w;w=zc(w))y++;for(w=0,_=b;_;_=zc(_))w++;for(;0<y-w;)p=zc(p),y--;for(;0<w-y;)b=zc(b),w--;for(;y--;){if(p===b||b!==null&&p===b.alternate)break t;p=zc(p),b=zc(b)}p=null}else p=null;m!==null&&vT(f,h,m,p,!1),v!==null&&g!==null&&vT(f,g,v,p,!0)}}e:{if(h=u?mu(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=WV;else if(cT(h))if(r3)j=QV;else{j=GV;var S=KV}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=VV);if(j&&(j=j(e,u))){t3(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Rj(h,"number",h.value)}switch(S=u?mu(u):window,e){case"focusin":(cT(S)||S.contentEditable==="true")&&(fu=S,Gj=u,Th=null);break;case"focusout":Th=Gj=fu=null;break;case"mousedown":Vj=!0;break;case"contextmenu":case"mouseup":case"dragend":Vj=!1,mT(f,r,d);break;case"selectionchange":if(XV)break;case"keydown":case"keyup":mT(f,r,d)}var k;if(ON)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else du?Z4(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(X4&&r.locale!=="ko"&&(du||N!=="onCompositionStart"?N==="onCompositionEnd"&&du&&(k=J4()):(ao=d,TN="value"in ao?ao.value:ao.textContent,du=!0)),S=Yv(u,N),0<S.length&&(N=new sT(N,e,null,r,d),f.push({event:N,listeners:S}),k?N.data=k:(k=e3(r),k!==null&&(N.data=k)))),(k=BV?zV(e,r):UV(e,r))&&(u=Yv(u,"onBeforeInput"),0<u.length&&(d=new sT("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}f3(f,t)})}function sm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Yv(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Xh(e,r),s!=null&&n.unshift(sm(e,s,a)),s=Xh(e,t),s!=null&&n.push(sm(e,s,a))),e=e.return}return n}function zc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vT(e,t,r,n,a){for(var s=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Xh(r,s),c!=null&&i.unshift(sm(r,c,l))):a||(c=Xh(r,s),c!=null&&i.push(sm(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var rQ=/\r\n?/g,nQ=/\u0000|\uFFFD/g;function yT(e){return(typeof e=="string"?e:""+e).replace(rQ,`
`).replace(nQ,"")}function vg(e,t,r){if(t=yT(t),yT(e)!==t&&r)throw Error(ue(425))}function Jv(){}var Qj=null,Yj=null;function Jj(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xj=typeof setTimeout=="function"?setTimeout:void 0,aQ=typeof clearTimeout=="function"?clearTimeout:void 0,bT=typeof Promise=="function"?Promise:void 0,sQ=typeof queueMicrotask=="function"?queueMicrotask:typeof bT<"u"?function(e){return bT.resolve(null).then(e).catch(iQ)}:Xj;function iQ(e){setTimeout(function(){throw e})}function Lw(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),tm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);tm(t)}function po(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var df=Math.random().toString(36).slice(2),vs="__reactFiber$"+df,im="__reactProps$"+df,ii="__reactContainer$"+df,Zj="__reactEvents$"+df,oQ="__reactListeners$"+df,lQ="__reactHandles$"+df;function xl(e){var t=e[vs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ii]||r[vs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=xT(e);e!==null;){if(r=e[vs])return r;e=xT(e)}return t}e=r,r=e.parentNode}return null}function _p(e){return e=e[vs]||e[ii],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ue(33))}function t0(e){return e[im]||null}var e1=[],pu=-1;function Fo(e){return{current:e}}function Gt(e){0>pu||(e.current=e1[pu],e1[pu]=null,pu--)}function Rt(e,t){pu++,e1[pu]=e.current,e.current=t}var No={},en=Fo(No),Mn=Fo(!1),Vl=No;function md(e,t){var r=e.type.contextTypes;if(!r)return No;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function On(e){return e=e.childContextTypes,e!=null}function Xv(){Gt(Mn),Gt(en)}function wT(e,t,r){if(en.current!==No)throw Error(ue(168));Rt(en,t),Rt(Mn,r)}function m3(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ue(108,KG(e)||"Unknown",a));return tr({},r,n)}function Zv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||No,Vl=en.current,Rt(en,e),Rt(Mn,Mn.current),!0}function _T(e,t,r){var n=e.stateNode;if(!n)throw Error(ue(169));r?(e=m3(e,t,Vl),n.__reactInternalMemoizedMergedChildContext=e,Gt(Mn),Gt(en),Rt(en,e)):Gt(Mn),Rt(Mn,r)}var Hs=null,r0=!1,Fw=!1;function p3(e){Hs===null?Hs=[e]:Hs.push(e)}function cQ(e){r0=!0,p3(e)}function Bo(){if(!Fw&&Hs!==null){Fw=!0;var e=0,t=_t;try{var r=Hs;for(_t=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Hs=null,r0=!1}catch(a){throw Hs!==null&&(Hs=Hs.slice(e+1)),B4(EN,Bo),a}finally{_t=t,Fw=!1}}return null}var gu=[],vu=0,ey=null,ty=0,ga=[],va=0,Ql=null,Ks=1,Gs="";function sl(e,t){gu[vu++]=ty,gu[vu++]=ey,ey=e,ty=t}function g3(e,t,r){ga[va++]=Ks,ga[va++]=Gs,ga[va++]=Ql,Ql=e;var n=Ks;e=Gs;var a=32-Ka(n)-1;n&=~(1<<a),r+=1;var s=32-Ka(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Ks=1<<32-Ka(t)+a|r<<a|n,Gs=s+e}else Ks=1<<s|r<<a|n,Gs=e}function IN(e){e.return!==null&&(sl(e,1),g3(e,1,0))}function $N(e){for(;e===ey;)ey=gu[--vu],gu[vu]=null,ty=gu[--vu],gu[vu]=null;for(;e===Ql;)Ql=ga[--va],ga[va]=null,Gs=ga[--va],ga[va]=null,Ks=ga[--va],ga[va]=null}var Xn=null,Jn=null,Qt=!1,Ua=null;function v3(e,t){var r=ba(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function jT(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xn=e,Jn=po(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xn=e,Jn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ql!==null?{id:Ks,overflow:Gs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ba(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Xn=e,Jn=null,!0):!1;default:return!1}}function t1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function r1(e){if(Qt){var t=Jn;if(t){var r=t;if(!jT(e,t)){if(t1(e))throw Error(ue(418));t=po(r.nextSibling);var n=Xn;t&&jT(e,t)?v3(n,r):(e.flags=e.flags&-4097|2,Qt=!1,Xn=e)}}else{if(t1(e))throw Error(ue(418));e.flags=e.flags&-4097|2,Qt=!1,Xn=e}}}function ST(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xn=e}function yg(e){if(e!==Xn)return!1;if(!Qt)return ST(e),Qt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jj(e.type,e.memoizedProps)),t&&(t=Jn)){if(t1(e))throw y3(),Error(ue(418));for(;t;)v3(e,t),t=po(t.nextSibling)}if(ST(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Jn=po(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Jn=null}}else Jn=Xn?po(e.stateNode.nextSibling):null;return!0}function y3(){for(var e=Jn;e;)e=po(e.nextSibling)}function pd(){Jn=Xn=null,Qt=!1}function LN(e){Ua===null?Ua=[e]:Ua.push(e)}var uQ=yi.ReactCurrentBatchConfig;function Gf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ue(309));var n=r.stateNode}if(!n)throw Error(ue(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var l=a.refs;i===null?delete l[s]:l[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(ue(284));if(!r._owner)throw Error(ue(290,e))}return e}function bg(e,t){throw e=Object.prototype.toString.call(t),Error(ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kT(e){var t=e._init;return t(e._payload)}function b3(e){function t(b,y){if(e){var w=b.deletions;w===null?(b.deletions=[y],b.flags|=16):w.push(y)}}function r(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function n(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function a(b,y){return b=bo(b,y),b.index=0,b.sibling=null,b}function s(b,y,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<y?(b.flags|=2,y):w):(b.flags|=2,y)):(b.flags|=1048576,y)}function i(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,y,w,_){return y===null||y.tag!==6?(y=Kw(w,b.mode,_),y.return=b,y):(y=a(y,w),y.return=b,y)}function c(b,y,w,_){var j=w.type;return j===uu?d(b,y,w.props.children,_,w.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Fi&&kT(j)===y.type)?(_=a(y,w.props),_.ref=Gf(b,y,w),_.return=b,_):(_=Ev(w.type,w.key,w.props,null,b.mode,_),_.ref=Gf(b,y,w),_.return=b,_)}function u(b,y,w,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Gw(w,b.mode,_),y.return=b,y):(y=a(y,w.children||[]),y.return=b,y)}function d(b,y,w,_,j){return y===null||y.tag!==7?(y=Il(w,b.mode,_,j),y.return=b,y):(y=a(y,w),y.return=b,y)}function f(b,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Kw(""+y,b.mode,w),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case lg:return w=Ev(y.type,y.key,y.props,null,b.mode,w),w.ref=Gf(b,null,y),w.return=b,w;case cu:return y=Gw(y,b.mode,w),y.return=b,y;case Fi:var _=y._init;return f(b,_(y._payload),w)}if(mh(y)||Uf(y))return y=Il(y,b.mode,w,null),y.return=b,y;bg(b,y)}return null}function h(b,y,w,_){var j=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(b,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case lg:return w.key===j?c(b,y,w,_):null;case cu:return w.key===j?u(b,y,w,_):null;case Fi:return j=w._init,h(b,y,j(w._payload),_)}if(mh(w)||Uf(w))return j!==null?null:d(b,y,w,_,null);bg(b,w)}return null}function m(b,y,w,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(w)||null,l(y,b,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case lg:return b=b.get(_.key===null?w:_.key)||null,c(y,b,_,j);case cu:return b=b.get(_.key===null?w:_.key)||null,u(y,b,_,j);case Fi:var S=_._init;return m(b,y,w,S(_._payload),j)}if(mh(_)||Uf(_))return b=b.get(w)||null,d(y,b,_,j,null);bg(y,_)}return null}function v(b,y,w,_){for(var j=null,S=null,k=y,N=y=0,E=null;k!==null&&N<w.length;N++){k.index>N?(E=k,k=null):E=k.sibling;var P=h(b,k,w[N],_);if(P===null){k===null&&(k=E);break}e&&k&&P.alternate===null&&t(b,k),y=s(P,y,N),S===null?j=P:S.sibling=P,S=P,k=E}if(N===w.length)return r(b,k),Qt&&sl(b,N),j;if(k===null){for(;N<w.length;N++)k=f(b,w[N],_),k!==null&&(y=s(k,y,N),S===null?j=k:S.sibling=k,S=k);return Qt&&sl(b,N),j}for(k=n(b,k);N<w.length;N++)E=m(k,b,N,w[N],_),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?N:E.key),y=s(E,y,N),S===null?j=E:S.sibling=E,S=E);return e&&k.forEach(function(A){return t(b,A)}),Qt&&sl(b,N),j}function p(b,y,w,_){var j=Uf(w);if(typeof j!="function")throw Error(ue(150));if(w=j.call(w),w==null)throw Error(ue(151));for(var S=j=null,k=y,N=y=0,E=null,P=w.next();k!==null&&!P.done;N++,P=w.next()){k.index>N?(E=k,k=null):E=k.sibling;var A=h(b,k,P.value,_);if(A===null){k===null&&(k=E);break}e&&k&&A.alternate===null&&t(b,k),y=s(A,y,N),S===null?j=A:S.sibling=A,S=A,k=E}if(P.done)return r(b,k),Qt&&sl(b,N),j;if(k===null){for(;!P.done;N++,P=w.next())P=f(b,P.value,_),P!==null&&(y=s(P,y,N),S===null?j=P:S.sibling=P,S=P);return Qt&&sl(b,N),j}for(k=n(b,k);!P.done;N++,P=w.next())P=m(k,b,N,P.value,_),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?N:P.key),y=s(P,y,N),S===null?j=P:S.sibling=P,S=P);return e&&k.forEach(function(O){return t(b,O)}),Qt&&sl(b,N),j}function g(b,y,w,_){if(typeof w=="object"&&w!==null&&w.type===uu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case lg:e:{for(var j=w.key,S=y;S!==null;){if(S.key===j){if(j=w.type,j===uu){if(S.tag===7){r(b,S.sibling),y=a(S,w.props.children),y.return=b,b=y;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Fi&&kT(j)===S.type){r(b,S.sibling),y=a(S,w.props),y.ref=Gf(b,S,w),y.return=b,b=y;break e}r(b,S);break}else t(b,S);S=S.sibling}w.type===uu?(y=Il(w.props.children,b.mode,_,w.key),y.return=b,b=y):(_=Ev(w.type,w.key,w.props,null,b.mode,_),_.ref=Gf(b,y,w),_.return=b,b=_)}return i(b);case cu:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(b,y.sibling),y=a(y,w.children||[]),y.return=b,b=y;break e}else{r(b,y);break}else t(b,y);y=y.sibling}y=Gw(w,b.mode,_),y.return=b,b=y}return i(b);case Fi:return S=w._init,g(b,y,S(w._payload),_)}if(mh(w))return v(b,y,w,_);if(Uf(w))return p(b,y,w,_);bg(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(b,y.sibling),y=a(y,w),y.return=b,b=y):(r(b,y),y=Kw(w,b.mode,_),y.return=b,b=y),i(b)):r(b,y)}return g}var gd=b3(!0),x3=b3(!1),ry=Fo(null),ny=null,yu=null,FN=null;function BN(){FN=yu=ny=null}function zN(e){var t=ry.current;Gt(ry),e._currentValue=t}function n1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Mu(e,t){ny=e,FN=yu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pn=!0),e.firstContext=null)}function ka(e){var t=e._currentValue;if(FN!==e)if(e={context:e,memoizedValue:t,next:null},yu===null){if(ny===null)throw Error(ue(308));yu=e,ny.dependencies={lanes:0,firstContext:e}}else yu=yu.next=e;return t}var wl=null;function UN(e){wl===null?wl=[e]:wl.push(e)}function w3(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,UN(t)):(r.next=a.next,a.next=r),t.interleaved=r,oi(e,n)}function oi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bi=!1;function HN(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function go(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ut&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,oi(e,r)}return a=n.interleaved,a===null?(t.next=t,UN(n)):(t.next=a.next,a.next=t),n.interleaved=t,oi(e,r)}function wv(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,CN(e,r)}}function NT(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ay(e,t,r,n){var a=e.updateQueue;Bi=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?s=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;i=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,p=l;switch(h=t,m=r,p.tag){case 1:if(v=p.payload,typeof v=="function"){f=v.call(m,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=p.payload,h=typeof v=="function"?v.call(m,f,h):v,h==null)break e;f=tr({},f,h);break e;case 2:Bi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Jl|=i,e.lanes=i,e.memoizedState=f}}function ET(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ue(191,a));a.call(n)}}}var jp={},js=Fo(jp),om=Fo(jp),lm=Fo(jp);function _l(e){if(e===jp)throw Error(ue(174));return e}function qN(e,t){switch(Rt(lm,t),Rt(om,e),Rt(js,jp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$j(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$j(t,e)}Gt(js),Rt(js,t)}function vd(){Gt(js),Gt(om),Gt(lm)}function j3(e){_l(lm.current);var t=_l(js.current),r=$j(t,e.type);t!==r&&(Rt(om,e),Rt(js,r))}function WN(e){om.current===e&&(Gt(js),Gt(om))}var Jt=Fo(0);function sy(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bw=[];function KN(){for(var e=0;e<Bw.length;e++)Bw[e]._workInProgressVersionPrimary=null;Bw.length=0}var _v=yi.ReactCurrentDispatcher,zw=yi.ReactCurrentBatchConfig,Yl=0,Zt=null,pr=null,Nr=null,iy=!1,Dh=!1,cm=0,dQ=0;function Fr(){throw Error(ue(321))}function GN(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Xa(e[r],t[r]))return!1;return!0}function VN(e,t,r,n,a,s){if(Yl=s,Zt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_v.current=e===null||e.memoizedState===null?pQ:gQ,e=r(n,a),Dh){s=0;do{if(Dh=!1,cm=0,25<=s)throw Error(ue(301));s+=1,Nr=pr=null,t.updateQueue=null,_v.current=vQ,e=r(n,a)}while(Dh)}if(_v.current=oy,t=pr!==null&&pr.next!==null,Yl=0,Nr=pr=Zt=null,iy=!1,t)throw Error(ue(300));return e}function QN(){var e=cm!==0;return cm=0,e}function ds(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nr===null?Zt.memoizedState=Nr=e:Nr=Nr.next=e,Nr}function Na(){if(pr===null){var e=Zt.alternate;e=e!==null?e.memoizedState:null}else e=pr.next;var t=Nr===null?Zt.memoizedState:Nr.next;if(t!==null)Nr=t,pr=e;else{if(e===null)throw Error(ue(310));pr=e,e={memoizedState:pr.memoizedState,baseState:pr.baseState,baseQueue:pr.baseQueue,queue:pr.queue,next:null},Nr===null?Zt.memoizedState=Nr=e:Nr=Nr.next=e}return Nr}function um(e,t){return typeof t=="function"?t(e):t}function Uw(e){var t=Na(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=pr,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((Yl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Zt.lanes|=d,Jl|=d}u=u.next}while(u!==null&&u!==s);c===null?i=n:c.next=l,Xa(n,t.memoizedState)||(Pn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Zt.lanes|=s,Jl|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Hw(e){var t=Na(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);Xa(s,t.memoizedState)||(Pn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function S3(){}function k3(e,t){var r=Zt,n=Na(),a=t(),s=!Xa(n.memoizedState,a);if(s&&(n.memoizedState=a,Pn=!0),n=n.queue,YN(C3.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Nr!==null&&Nr.memoizedState.tag&1){if(r.flags|=2048,dm(9,E3.bind(null,r,n,a,t),void 0,null),Ar===null)throw Error(ue(349));Yl&30||N3(r,t,a)}return a}function N3(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Zt.updateQueue,t===null?(t={lastEffect:null,stores:null},Zt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function E3(e,t,r,n){t.value=r,t.getSnapshot=n,A3(t)&&P3(e)}function C3(e,t,r){return r(function(){A3(t)&&P3(e)})}function A3(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Xa(e,r)}catch{return!0}}function P3(e){var t=oi(e,1);t!==null&&Ga(t,e,1,-1)}function CT(e){var t=ds();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:um,lastRenderedState:e},t.queue=e,e=e.dispatch=mQ.bind(null,Zt,e),[t.memoizedState,e]}function dm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Zt.updateQueue,t===null?(t={lastEffect:null,stores:null},Zt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function T3(){return Na().memoizedState}function jv(e,t,r,n){var a=ds();Zt.flags|=e,a.memoizedState=dm(1|t,r,void 0,n===void 0?null:n)}function n0(e,t,r,n){var a=Na();n=n===void 0?null:n;var s=void 0;if(pr!==null){var i=pr.memoizedState;if(s=i.destroy,n!==null&&GN(n,i.deps)){a.memoizedState=dm(t,r,s,n);return}}Zt.flags|=e,a.memoizedState=dm(1|t,r,s,n)}function AT(e,t){return jv(8390656,8,e,t)}function YN(e,t){return n0(2048,8,e,t)}function D3(e,t){return n0(4,2,e,t)}function M3(e,t){return n0(4,4,e,t)}function O3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function R3(e,t,r){return r=r!=null?r.concat([e]):null,n0(4,4,O3.bind(null,t,e),r)}function JN(){}function I3(e,t){var r=Na();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&GN(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function $3(e,t){var r=Na();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&GN(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function L3(e,t,r){return Yl&21?(Xa(r,t)||(r=H4(),Zt.lanes|=r,Jl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pn=!0),e.memoizedState=r)}function fQ(e,t){var r=_t;_t=r!==0&&4>r?r:4,e(!0);var n=zw.transition;zw.transition={};try{e(!1),t()}finally{_t=r,zw.transition=n}}function F3(){return Na().memoizedState}function hQ(e,t,r){var n=yo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},B3(e))z3(t,r);else if(r=w3(e,t,r,n),r!==null){var a=hn();Ga(r,e,n,a),U3(r,t,n)}}function mQ(e,t,r){var n=yo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(B3(e))z3(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,l=s(i,r);if(a.hasEagerState=!0,a.eagerState=l,Xa(l,i)){var c=t.interleaved;c===null?(a.next=a,UN(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=w3(e,t,a,n),r!==null&&(a=hn(),Ga(r,e,n,a),U3(r,t,n))}}function B3(e){var t=e.alternate;return e===Zt||t!==null&&t===Zt}function z3(e,t){Dh=iy=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function U3(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,CN(e,r)}}var oy={readContext:ka,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useInsertionEffect:Fr,useLayoutEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useDeferredValue:Fr,useTransition:Fr,useMutableSource:Fr,useSyncExternalStore:Fr,useId:Fr,unstable_isNewReconciler:!1},pQ={readContext:ka,useCallback:function(e,t){return ds().memoizedState=[e,t===void 0?null:t],e},useContext:ka,useEffect:AT,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,jv(4194308,4,O3.bind(null,t,e),r)},useLayoutEffect:function(e,t){return jv(4194308,4,e,t)},useInsertionEffect:function(e,t){return jv(4,2,e,t)},useMemo:function(e,t){var r=ds();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ds();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=hQ.bind(null,Zt,e),[n.memoizedState,e]},useRef:function(e){var t=ds();return e={current:e},t.memoizedState=e},useState:CT,useDebugValue:JN,useDeferredValue:function(e){return ds().memoizedState=e},useTransition:function(){var e=CT(!1),t=e[0];return e=fQ.bind(null,e[1]),ds().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Zt,a=ds();if(Qt){if(r===void 0)throw Error(ue(407));r=r()}else{if(r=t(),Ar===null)throw Error(ue(349));Yl&30||N3(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,AT(C3.bind(null,n,s,e),[e]),n.flags|=2048,dm(9,E3.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=ds(),t=Ar.identifierPrefix;if(Qt){var r=Gs,n=Ks;r=(n&~(1<<32-Ka(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=cm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=dQ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gQ={readContext:ka,useCallback:I3,useContext:ka,useEffect:YN,useImperativeHandle:R3,useInsertionEffect:D3,useLayoutEffect:M3,useMemo:$3,useReducer:Uw,useRef:T3,useState:function(){return Uw(um)},useDebugValue:JN,useDeferredValue:function(e){var t=Na();return L3(t,pr.memoizedState,e)},useTransition:function(){var e=Uw(um)[0],t=Na().memoizedState;return[e,t]},useMutableSource:S3,useSyncExternalStore:k3,useId:F3,unstable_isNewReconciler:!1},vQ={readContext:ka,useCallback:I3,useContext:ka,useEffect:YN,useImperativeHandle:R3,useInsertionEffect:D3,useLayoutEffect:M3,useMemo:$3,useReducer:Hw,useRef:T3,useState:function(){return Hw(um)},useDebugValue:JN,useDeferredValue:function(e){var t=Na();return pr===null?t.memoizedState=e:L3(t,pr.memoizedState,e)},useTransition:function(){var e=Hw(um)[0],t=Na().memoizedState;return[e,t]},useMutableSource:S3,useSyncExternalStore:k3,useId:F3,unstable_isNewReconciler:!1};function $a(e,t){if(e&&e.defaultProps){t=tr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function a1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:tr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var a0={isMounted:function(e){return(e=e._reactInternals)?_c(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=hn(),a=yo(e),s=Xs(n,a);s.payload=t,r!=null&&(s.callback=r),t=go(e,s,a),t!==null&&(Ga(t,e,a,n),wv(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=hn(),a=yo(e),s=Xs(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=go(e,s,a),t!==null&&(Ga(t,e,a,n),wv(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hn(),n=yo(e),a=Xs(r,n);a.tag=2,t!=null&&(a.callback=t),t=go(e,a,n),t!==null&&(Ga(t,e,n,r),wv(t,e,n))}};function PT(e,t,r,n,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!nm(r,n)||!nm(a,s):!0}function H3(e,t,r){var n=!1,a=No,s=t.contextType;return typeof s=="object"&&s!==null?s=ka(s):(a=On(t)?Vl:en.current,n=t.contextTypes,s=(n=n!=null)?md(e,a):No),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=a0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function TT(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&a0.enqueueReplaceState(t,t.state,null)}function s1(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},HN(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=ka(s):(s=On(t)?Vl:en.current,a.context=md(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(a1(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&a0.enqueueReplaceState(a,a.state,null),ay(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function yd(e,t){try{var r="",n=t;do r+=WG(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function qw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function i1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var yQ=typeof WeakMap=="function"?WeakMap:Map;function q3(e,t,r){r=Xs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){cy||(cy=!0,g1=n),i1(e,t)},r}function W3(e,t,r){r=Xs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){i1(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){i1(e,t),typeof n!="function"&&(vo===null?vo=new Set([this]):vo.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function DT(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new yQ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=DQ.bind(null,e,t,r),t.then(e,e))}function MT(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function OT(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Xs(-1,1),t.tag=2,go(r,t,1))),r.lanes|=1),e)}var bQ=yi.ReactCurrentOwner,Pn=!1;function cn(e,t,r,n){t.child=e===null?x3(t,null,r,n):gd(t,e.child,r,n)}function RT(e,t,r,n,a){r=r.render;var s=t.ref;return Mu(t,a),n=VN(e,t,r,n,s,a),r=QN(),e!==null&&!Pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,li(e,t,a)):(Qt&&r&&IN(t),t.flags|=1,cn(e,t,n,a),t.child)}function IT(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!sE(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,K3(e,t,s,n,a)):(e=Ev(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:nm,r(i,n)&&e.ref===t.ref)return li(e,t,a)}return t.flags|=1,e=bo(s,n),e.ref=t.ref,e.return=t,t.child=e}function K3(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(nm(s,n)&&e.ref===t.ref)if(Pn=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(Pn=!0);else return t.lanes=e.lanes,li(e,t,a)}return o1(e,t,r,n,a)}function G3(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(xu,Kn),Kn|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rt(xu,Kn),Kn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Rt(xu,Kn),Kn|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Rt(xu,Kn),Kn|=n;return cn(e,t,a,r),t.child}function V3(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function o1(e,t,r,n,a){var s=On(r)?Vl:en.current;return s=md(t,s),Mu(t,a),r=VN(e,t,r,n,s,a),n=QN(),e!==null&&!Pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,li(e,t,a)):(Qt&&n&&IN(t),t.flags|=1,cn(e,t,r,a),t.child)}function $T(e,t,r,n,a){if(On(r)){var s=!0;Zv(t)}else s=!1;if(Mu(t,a),t.stateNode===null)Sv(e,t),H3(t,r,n),s1(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=ka(u):(u=On(r)?Vl:en.current,u=md(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&TT(t,i,n,u),Bi=!1;var h=t.memoizedState;i.state=h,ay(t,n,i,a),c=t.memoizedState,l!==n||h!==c||Mn.current||Bi?(typeof d=="function"&&(a1(t,r,d,n),c=t.memoizedState),(l=Bi||PT(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,_3(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:$a(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=ka(c):(c=On(r)?Vl:en.current,c=md(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&TT(t,i,n,c),Bi=!1,h=t.memoizedState,i.state=h,ay(t,n,i,a);var v=t.memoizedState;l!==f||h!==v||Mn.current||Bi?(typeof m=="function"&&(a1(t,r,m,n),v=t.memoizedState),(u=Bi||PT(t,r,u,n,h,v,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,v,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),i.props=n,i.state=v,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return l1(e,t,r,n,s,a)}function l1(e,t,r,n,a,s){V3(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&_T(t,r,!1),li(e,t,s);n=t.stateNode,bQ.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=gd(t,e.child,null,s),t.child=gd(t,null,l,s)):cn(e,t,l,s),t.memoizedState=n.state,a&&_T(t,r,!0),t.child}function Q3(e){var t=e.stateNode;t.pendingContext?wT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wT(e,t.context,!1),qN(e,t.containerInfo)}function LT(e,t,r,n,a){return pd(),LN(a),t.flags|=256,cn(e,t,r,n),t.child}var c1={dehydrated:null,treeContext:null,retryLane:0};function u1(e){return{baseLanes:e,cachePool:null,transitions:null}}function Y3(e,t,r){var n=t.pendingProps,a=Jt.current,s=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Rt(Jt,a&1),e===null)return r1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=o0(i,n,0,null),e=Il(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=u1(r),t.memoizedState=c1,e):XN(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return xQ(e,t,i,n,l,a,r);if(s){s=n.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=bo(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=bo(l,s):(s=Il(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?u1(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=c1,n}return s=e.child,e=s.sibling,n=bo(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function XN(e,t){return t=o0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xg(e,t,r,n){return n!==null&&LN(n),gd(t,e.child,null,r),e=XN(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xQ(e,t,r,n,a,s,i){if(r)return t.flags&256?(t.flags&=-257,n=qw(Error(ue(422))),xg(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=o0({mode:"visible",children:n.children},a,0,null),s=Il(s,a,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&gd(t,e.child,null,i),t.child.memoizedState=u1(i),t.memoizedState=c1,s);if(!(t.mode&1))return xg(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(ue(419)),n=qw(s,n,void 0),xg(e,t,i,n)}if(l=(i&e.childLanes)!==0,Pn||l){if(n=Ar,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,oi(e,a),Ga(n,e,a,-1))}return aE(),n=qw(Error(ue(421))),xg(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=MQ.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Jn=po(a.nextSibling),Xn=t,Qt=!0,Ua=null,e!==null&&(ga[va++]=Ks,ga[va++]=Gs,ga[va++]=Ql,Ks=e.id,Gs=e.overflow,Ql=t),t=XN(t,n.children),t.flags|=4096,t)}function FT(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),n1(e.return,t,r)}function Ww(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function J3(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(cn(e,t,n.children,r),n=Jt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&FT(e,r,t);else if(e.tag===19)FT(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Rt(Jt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&sy(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ww(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&sy(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ww(t,!0,r,null,s);break;case"together":Ww(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function li(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Jl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ue(153));if(t.child!==null){for(e=t.child,r=bo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=bo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function wQ(e,t,r){switch(t.tag){case 3:Q3(t),pd();break;case 5:j3(t);break;case 1:On(t.type)&&Zv(t);break;case 4:qN(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Rt(ry,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Rt(Jt,Jt.current&1),t.flags|=128,null):r&t.child.childLanes?Y3(e,t,r):(Rt(Jt,Jt.current&1),e=li(e,t,r),e!==null?e.sibling:null);Rt(Jt,Jt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return J3(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Rt(Jt,Jt.current),n)break;return null;case 22:case 23:return t.lanes=0,G3(e,t,r)}return li(e,t,r)}var X3,d1,Z3,e5;X3=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};d1=function(){};Z3=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,_l(js.current);var s=null;switch(r){case"input":a=Mj(e,a),n=Mj(e,n),s=[];break;case"select":a=tr({},a,{value:void 0}),n=tr({},n,{value:void 0}),s=[];break;case"textarea":a=Ij(e,a),n=Ij(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Jv)}Lj(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&qt("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};e5=function(e,t,r,n){r!==n&&(t.flags|=4)};function Vf(e,t){if(!Qt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Br(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function _Q(e,t,r){var n=t.pendingProps;switch($N(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Br(t),null;case 1:return On(t.type)&&Xv(),Br(t),null;case 3:return n=t.stateNode,vd(),Gt(Mn),Gt(en),KN(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(yg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ua!==null&&(b1(Ua),Ua=null))),d1(e,t),Br(t),null;case 5:WN(t);var a=_l(lm.current);if(r=t.type,e!==null&&t.stateNode!=null)Z3(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ue(166));return Br(t),null}if(e=_l(js.current),yg(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[vs]=t,n[im]=s,e=(t.mode&1)!==0,r){case"dialog":qt("cancel",n),qt("close",n);break;case"iframe":case"object":case"embed":qt("load",n);break;case"video":case"audio":for(a=0;a<gh.length;a++)qt(gh[a],n);break;case"source":qt("error",n);break;case"img":case"image":case"link":qt("error",n),qt("load",n);break;case"details":qt("toggle",n);break;case"input":VP(n,s),qt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},qt("invalid",n);break;case"textarea":YP(n,s),qt("invalid",n)}Lj(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&vg(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&vg(n.textContent,l,e),a=["children",""+l]):Yh.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&qt("scroll",n)}switch(r){case"input":cg(n),QP(n,s,!0);break;case"textarea":cg(n),JP(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Jv)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=C4(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[vs]=t,e[im]=n,X3(e,t,!1,!1),t.stateNode=e;e:{switch(i=Fj(r,n),r){case"dialog":qt("cancel",e),qt("close",e),a=n;break;case"iframe":case"object":case"embed":qt("load",e),a=n;break;case"video":case"audio":for(a=0;a<gh.length;a++)qt(gh[a],e);a=n;break;case"source":qt("error",e),a=n;break;case"img":case"image":case"link":qt("error",e),qt("load",e),a=n;break;case"details":qt("toggle",e),a=n;break;case"input":VP(e,n),a=Mj(e,n),qt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=tr({},n,{value:void 0}),qt("invalid",e);break;case"textarea":YP(e,n),a=Ij(e,n),qt("invalid",e);break;default:a=n}Lj(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?T4(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&A4(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Jh(e,c):typeof c=="number"&&Jh(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Yh.hasOwnProperty(s)?c!=null&&s==="onScroll"&&qt("scroll",e):c!=null&&_N(e,s,c,i))}switch(r){case"input":cg(e),QP(e,n,!1);break;case"textarea":cg(e),JP(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ko(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Au(e,!!n.multiple,s,!1):n.defaultValue!=null&&Au(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Jv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Br(t),null;case 6:if(e&&t.stateNode!=null)e5(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ue(166));if(r=_l(lm.current),_l(js.current),yg(t)){if(n=t.stateNode,r=t.memoizedProps,n[vs]=t,(s=n.nodeValue!==r)&&(e=Xn,e!==null))switch(e.tag){case 3:vg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vg(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[vs]=t,t.stateNode=n}return Br(t),null;case 13:if(Gt(Jt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qt&&Jn!==null&&t.mode&1&&!(t.flags&128))y3(),pd(),t.flags|=98560,s=!1;else if(s=yg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(ue(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ue(317));s[vs]=t}else pd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Br(t),s=!1}else Ua!==null&&(b1(Ua),Ua=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Jt.current&1?yr===0&&(yr=3):aE())),t.updateQueue!==null&&(t.flags|=4),Br(t),null);case 4:return vd(),d1(e,t),e===null&&am(t.stateNode.containerInfo),Br(t),null;case 10:return zN(t.type._context),Br(t),null;case 17:return On(t.type)&&Xv(),Br(t),null;case 19:if(Gt(Jt),s=t.memoizedState,s===null)return Br(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)Vf(s,!1);else{if(yr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=sy(e),i!==null){for(t.flags|=128,Vf(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Rt(Jt,Jt.current&1|2),t.child}e=e.sibling}s.tail!==null&&or()>bd&&(t.flags|=128,n=!0,Vf(s,!1),t.lanes=4194304)}else{if(!n)if(e=sy(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Vf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Qt)return Br(t),null}else 2*or()-s.renderingStartTime>bd&&r!==1073741824&&(t.flags|=128,n=!0,Vf(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=or(),t.sibling=null,r=Jt.current,Rt(Jt,n?r&1|2:r&1),t):(Br(t),null);case 22:case 23:return nE(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Kn&1073741824&&(Br(t),t.subtreeFlags&6&&(t.flags|=8192)):Br(t),null;case 24:return null;case 25:return null}throw Error(ue(156,t.tag))}function jQ(e,t){switch($N(t),t.tag){case 1:return On(t.type)&&Xv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return vd(),Gt(Mn),Gt(en),KN(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return WN(t),null;case 13:if(Gt(Jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ue(340));pd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Gt(Jt),null;case 4:return vd(),null;case 10:return zN(t.type._context),null;case 22:case 23:return nE(),null;case 24:return null;default:return null}}var wg=!1,qr=!1,SQ=typeof WeakSet=="function"?WeakSet:Set,we=null;function bu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ar(e,t,n)}else r.current=null}function f1(e,t,r){try{r()}catch(n){ar(e,t,n)}}var BT=!1;function kQ(e,t){if(Qj=Vv,e=s3(),RN(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=i+a),f!==s||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=i),h===s&&++d===n&&(c=i),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yj={focusedElem:e,selectionRange:r},Vv=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var p=v.memoizedProps,g=v.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:$a(t.type,p),g);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(_){ar(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return v=BT,BT=!1,v}function Mh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&f1(t,r,s)}a=a.next}while(a!==n)}}function s0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function h1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function t5(e){var t=e.alternate;t!==null&&(e.alternate=null,t5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vs],delete t[im],delete t[Zj],delete t[oQ],delete t[lQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function r5(e){return e.tag===5||e.tag===3||e.tag===4}function zT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||r5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function m1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Jv));else if(n!==4&&(e=e.child,e!==null))for(m1(e,t,r),e=e.sibling;e!==null;)m1(e,t,r),e=e.sibling}function p1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(p1(e,t,r),e=e.sibling;e!==null;)p1(e,t,r),e=e.sibling}var Dr=null,Fa=!1;function Pi(e,t,r){for(r=r.child;r!==null;)n5(e,t,r),r=r.sibling}function n5(e,t,r){if(_s&&typeof _s.onCommitFiberUnmount=="function")try{_s.onCommitFiberUnmount(Jb,r)}catch{}switch(r.tag){case 5:qr||bu(r,t);case 6:var n=Dr,a=Fa;Dr=null,Pi(e,t,r),Dr=n,Fa=a,Dr!==null&&(Fa?(e=Dr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Dr.removeChild(r.stateNode));break;case 18:Dr!==null&&(Fa?(e=Dr,r=r.stateNode,e.nodeType===8?Lw(e.parentNode,r):e.nodeType===1&&Lw(e,r),tm(e)):Lw(Dr,r.stateNode));break;case 4:n=Dr,a=Fa,Dr=r.stateNode.containerInfo,Fa=!0,Pi(e,t,r),Dr=n,Fa=a;break;case 0:case 11:case 14:case 15:if(!qr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&f1(r,t,i),a=a.next}while(a!==n)}Pi(e,t,r);break;case 1:if(!qr&&(bu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ar(r,t,l)}Pi(e,t,r);break;case 21:Pi(e,t,r);break;case 22:r.mode&1?(qr=(n=qr)||r.memoizedState!==null,Pi(e,t,r),qr=n):Pi(e,t,r);break;default:Pi(e,t,r)}}function UT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new SQ),t.forEach(function(n){var a=OQ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Oa(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Dr=l.stateNode,Fa=!1;break e;case 3:Dr=l.stateNode.containerInfo,Fa=!0;break e;case 4:Dr=l.stateNode.containerInfo,Fa=!0;break e}l=l.return}if(Dr===null)throw Error(ue(160));n5(s,i,a),Dr=null,Fa=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){ar(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)a5(t,e),t=t.sibling}function a5(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Oa(t,e),cs(e),n&4){try{Mh(3,e,e.return),s0(3,e)}catch(p){ar(e,e.return,p)}try{Mh(5,e,e.return)}catch(p){ar(e,e.return,p)}}break;case 1:Oa(t,e),cs(e),n&512&&r!==null&&bu(r,r.return);break;case 5:if(Oa(t,e),cs(e),n&512&&r!==null&&bu(r,r.return),e.flags&32){var a=e.stateNode;try{Jh(a,"")}catch(p){ar(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&N4(a,s),Fj(l,i);var u=Fj(l,s);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?T4(a,f):d==="dangerouslySetInnerHTML"?A4(a,f):d==="children"?Jh(a,f):_N(a,d,f,u)}switch(l){case"input":Oj(a,s);break;case"textarea":E4(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Au(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Au(a,!!s.multiple,s.defaultValue,!0):Au(a,!!s.multiple,s.multiple?[]:"",!1))}a[im]=s}catch(p){ar(e,e.return,p)}}break;case 6:if(Oa(t,e),cs(e),n&4){if(e.stateNode===null)throw Error(ue(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(p){ar(e,e.return,p)}}break;case 3:if(Oa(t,e),cs(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{tm(t.containerInfo)}catch(p){ar(e,e.return,p)}break;case 4:Oa(t,e),cs(e);break;case 13:Oa(t,e),cs(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(tE=or())),n&4&&UT(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(qr=(u=qr)||d,Oa(t,e),qr=u):Oa(t,e),cs(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(we=e,d=e.child;d!==null;){for(f=we=d;we!==null;){switch(h=we,m=h.child,h.tag){case 0:case 11:case 14:case 15:Mh(4,h,h.return);break;case 1:bu(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(p){ar(n,r,p)}}break;case 5:bu(h,h.return);break;case 22:if(h.memoizedState!==null){qT(f);continue}}m!==null?(m.return=h,we=m):qT(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=P4("display",i))}catch(p){ar(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){ar(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Oa(t,e),cs(e),n&4&&UT(e);break;case 21:break;default:Oa(t,e),cs(e)}}function cs(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(r5(r)){var n=r;break e}r=r.return}throw Error(ue(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Jh(a,""),n.flags&=-33);var s=zT(e);p1(e,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=zT(e);m1(e,l,i);break;default:throw Error(ue(161))}}catch(c){ar(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function NQ(e,t,r){we=e,s5(e)}function s5(e,t,r){for(var n=(e.mode&1)!==0;we!==null;){var a=we,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||wg;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||qr;l=wg;var u=qr;if(wg=i,(qr=c)&&!u)for(we=a;we!==null;)i=we,c=i.child,i.tag===22&&i.memoizedState!==null?WT(a):c!==null?(c.return=i,we=c):WT(a);for(;s!==null;)we=s,s5(s),s=s.sibling;we=a,wg=l,qr=u}HT(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,we=s):HT(e)}}function HT(e){for(;we!==null;){var t=we;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qr||s0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!qr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:$a(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&ET(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ET(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&tm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}qr||t.flags&512&&h1(t)}catch(h){ar(t,t.return,h)}}if(t===e){we=null;break}if(r=t.sibling,r!==null){r.return=t.return,we=r;break}we=t.return}}function qT(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var r=t.sibling;if(r!==null){r.return=t.return,we=r;break}we=t.return}}function WT(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{s0(4,t)}catch(c){ar(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){ar(t,a,c)}}var s=t.return;try{h1(t)}catch(c){ar(t,s,c)}break;case 5:var i=t.return;try{h1(t)}catch(c){ar(t,i,c)}}}catch(c){ar(t,t.return,c)}if(t===e){we=null;break}var l=t.sibling;if(l!==null){l.return=t.return,we=l;break}we=t.return}}var EQ=Math.ceil,ly=yi.ReactCurrentDispatcher,ZN=yi.ReactCurrentOwner,wa=yi.ReactCurrentBatchConfig,ut=0,Ar=null,ur=null,Or=0,Kn=0,xu=Fo(0),yr=0,fm=null,Jl=0,i0=0,eE=0,Oh=null,Cn=null,tE=0,bd=1/0,Bs=null,cy=!1,g1=null,vo=null,_g=!1,so=null,uy=0,Rh=0,v1=null,kv=-1,Nv=0;function hn(){return ut&6?or():kv!==-1?kv:kv=or()}function yo(e){return e.mode&1?ut&2&&Or!==0?Or&-Or:uQ.transition!==null?(Nv===0&&(Nv=H4()),Nv):(e=_t,e!==0||(e=window.event,e=e===void 0?16:Y4(e.type)),e):1}function Ga(e,t,r,n){if(50<Rh)throw Rh=0,v1=null,Error(ue(185));xp(e,r,n),(!(ut&2)||e!==Ar)&&(e===Ar&&(!(ut&2)&&(i0|=r),yr===4&&Wi(e,Or)),Rn(e,n),r===1&&ut===0&&!(t.mode&1)&&(bd=or()+500,r0&&Bo()))}function Rn(e,t){var r=e.callbackNode;uV(e,t);var n=Gv(e,e===Ar?Or:0);if(n===0)r!==null&&eT(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&eT(r),t===1)e.tag===0?cQ(KT.bind(null,e)):p3(KT.bind(null,e)),sQ(function(){!(ut&6)&&Bo()}),r=null;else{switch(q4(n)){case 1:r=EN;break;case 4:r=z4;break;case 16:r=Kv;break;case 536870912:r=U4;break;default:r=Kv}r=h5(r,i5.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function i5(e,t){if(kv=-1,Nv=0,ut&6)throw Error(ue(327));var r=e.callbackNode;if(Ou()&&e.callbackNode!==r)return null;var n=Gv(e,e===Ar?Or:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=dy(e,n);else{t=n;var a=ut;ut|=2;var s=l5();(Ar!==e||Or!==t)&&(Bs=null,bd=or()+500,Rl(e,t));do try{PQ();break}catch(l){o5(e,l)}while(!0);BN(),ly.current=s,ut=a,ur!==null?t=0:(Ar=null,Or=0,t=yr)}if(t!==0){if(t===2&&(a=qj(e),a!==0&&(n=a,t=y1(e,a))),t===1)throw r=fm,Rl(e,0),Wi(e,n),Rn(e,or()),r;if(t===6)Wi(e,n);else{if(a=e.current.alternate,!(n&30)&&!CQ(a)&&(t=dy(e,n),t===2&&(s=qj(e),s!==0&&(n=s,t=y1(e,s))),t===1))throw r=fm,Rl(e,0),Wi(e,n),Rn(e,or()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ue(345));case 2:il(e,Cn,Bs);break;case 3:if(Wi(e,n),(n&130023424)===n&&(t=tE+500-or(),10<t)){if(Gv(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){hn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Xj(il.bind(null,e,Cn,Bs),t);break}il(e,Cn,Bs);break;case 4:if(Wi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Ka(n);s=1<<i,i=t[i],i>a&&(a=i),n&=~s}if(n=a,n=or()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*EQ(n/1960))-n,10<n){e.timeoutHandle=Xj(il.bind(null,e,Cn,Bs),n);break}il(e,Cn,Bs);break;case 5:il(e,Cn,Bs);break;default:throw Error(ue(329))}}}return Rn(e,or()),e.callbackNode===r?i5.bind(null,e):null}function y1(e,t){var r=Oh;return e.current.memoizedState.isDehydrated&&(Rl(e,t).flags|=256),e=dy(e,t),e!==2&&(t=Cn,Cn=r,t!==null&&b1(t)),e}function b1(e){Cn===null?Cn=e:Cn.push.apply(Cn,e)}function CQ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Xa(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wi(e,t){for(t&=~eE,t&=~i0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ka(t),n=1<<r;e[r]=-1,t&=~n}}function KT(e){if(ut&6)throw Error(ue(327));Ou();var t=Gv(e,0);if(!(t&1))return Rn(e,or()),null;var r=dy(e,t);if(e.tag!==0&&r===2){var n=qj(e);n!==0&&(t=n,r=y1(e,n))}if(r===1)throw r=fm,Rl(e,0),Wi(e,t),Rn(e,or()),r;if(r===6)throw Error(ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,il(e,Cn,Bs),Rn(e,or()),null}function rE(e,t){var r=ut;ut|=1;try{return e(t)}finally{ut=r,ut===0&&(bd=or()+500,r0&&Bo())}}function Xl(e){so!==null&&so.tag===0&&!(ut&6)&&Ou();var t=ut;ut|=1;var r=wa.transition,n=_t;try{if(wa.transition=null,_t=1,e)return e()}finally{_t=n,wa.transition=r,ut=t,!(ut&6)&&Bo()}}function nE(){Kn=xu.current,Gt(xu)}function Rl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,aQ(r)),ur!==null)for(r=ur.return;r!==null;){var n=r;switch($N(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xv();break;case 3:vd(),Gt(Mn),Gt(en),KN();break;case 5:WN(n);break;case 4:vd();break;case 13:Gt(Jt);break;case 19:Gt(Jt);break;case 10:zN(n.type._context);break;case 22:case 23:nE()}r=r.return}if(Ar=e,ur=e=bo(e.current,null),Or=Kn=t,yr=0,fm=null,eE=i0=Jl=0,Cn=Oh=null,wl!==null){for(t=0;t<wl.length;t++)if(r=wl[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}wl=null}return e}function o5(e,t){do{var r=ur;try{if(BN(),_v.current=oy,iy){for(var n=Zt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}iy=!1}if(Yl=0,Nr=pr=Zt=null,Dh=!1,cm=0,ZN.current=null,r===null||r.return===null){yr=1,fm=t,ur=null;break}e:{var s=e,i=r.return,l=r,c=t;if(t=Or,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=MT(i);if(m!==null){m.flags&=-257,OT(m,i,l,s,t),m.mode&1&&DT(s,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var p=new Set;p.add(c),t.updateQueue=p}else v.add(c);break e}else{if(!(t&1)){DT(s,u,t),aE();break e}c=Error(ue(426))}}else if(Qt&&l.mode&1){var g=MT(i);if(g!==null){!(g.flags&65536)&&(g.flags|=256),OT(g,i,l,s,t),LN(yd(c,l));break e}}s=c=yd(c,l),yr!==4&&(yr=2),Oh===null?Oh=[s]:Oh.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var b=q3(s,c,t);NT(s,b);break e;case 1:l=c;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(vo===null||!vo.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=W3(s,l,t);NT(s,_);break e}}s=s.return}while(s!==null)}u5(r)}catch(j){t=j,ur===r&&r!==null&&(ur=r=r.return);continue}break}while(!0)}function l5(){var e=ly.current;return ly.current=oy,e===null?oy:e}function aE(){(yr===0||yr===3||yr===2)&&(yr=4),Ar===null||!(Jl&268435455)&&!(i0&268435455)||Wi(Ar,Or)}function dy(e,t){var r=ut;ut|=2;var n=l5();(Ar!==e||Or!==t)&&(Bs=null,Rl(e,t));do try{AQ();break}catch(a){o5(e,a)}while(!0);if(BN(),ut=r,ly.current=n,ur!==null)throw Error(ue(261));return Ar=null,Or=0,yr}function AQ(){for(;ur!==null;)c5(ur)}function PQ(){for(;ur!==null&&!tV();)c5(ur)}function c5(e){var t=f5(e.alternate,e,Kn);e.memoizedProps=e.pendingProps,t===null?u5(e):ur=t,ZN.current=null}function u5(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=jQ(r,t),r!==null){r.flags&=32767,ur=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{yr=6,ur=null;return}}else if(r=_Q(r,t,Kn),r!==null){ur=r;return}if(t=t.sibling,t!==null){ur=t;return}ur=t=e}while(t!==null);yr===0&&(yr=5)}function il(e,t,r){var n=_t,a=wa.transition;try{wa.transition=null,_t=1,TQ(e,t,r,n)}finally{wa.transition=a,_t=n}return null}function TQ(e,t,r,n){do Ou();while(so!==null);if(ut&6)throw Error(ue(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ue(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(dV(e,s),e===Ar&&(ur=Ar=null,Or=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_g||(_g=!0,h5(Kv,function(){return Ou(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=wa.transition,wa.transition=null;var i=_t;_t=1;var l=ut;ut|=4,ZN.current=null,kQ(e,r),a5(r,e),JV(Yj),Vv=!!Qj,Yj=Qj=null,e.current=r,NQ(r),rV(),ut=l,_t=i,wa.transition=s}else e.current=r;if(_g&&(_g=!1,so=e,uy=a),s=e.pendingLanes,s===0&&(vo=null),sV(r.stateNode),Rn(e,or()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(cy)throw cy=!1,e=g1,g1=null,e;return uy&1&&e.tag!==0&&Ou(),s=e.pendingLanes,s&1?e===v1?Rh++:(Rh=0,v1=e):Rh=0,Bo(),null}function Ou(){if(so!==null){var e=q4(uy),t=wa.transition,r=_t;try{if(wa.transition=null,_t=16>e?16:e,so===null)var n=!1;else{if(e=so,so=null,uy=0,ut&6)throw Error(ue(331));var a=ut;for(ut|=4,we=e.current;we!==null;){var s=we,i=s.child;if(we.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(we=u;we!==null;){var d=we;switch(d.tag){case 0:case 11:case 15:Mh(8,d,s)}var f=d.child;if(f!==null)f.return=d,we=f;else for(;we!==null;){d=we;var h=d.sibling,m=d.return;if(t5(d),d===u){we=null;break}if(h!==null){h.return=m,we=h;break}we=m}}}var v=s.alternate;if(v!==null){var p=v.child;if(p!==null){v.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}we=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,we=i;else e:for(;we!==null;){if(s=we,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Mh(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,we=b;break e}we=s.return}}var y=e.current;for(we=y;we!==null;){i=we;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,we=w;else e:for(i=y;we!==null;){if(l=we,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:s0(9,l)}}catch(j){ar(l,l.return,j)}if(l===i){we=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,we=_;break e}we=l.return}}if(ut=a,Bo(),_s&&typeof _s.onPostCommitFiberRoot=="function")try{_s.onPostCommitFiberRoot(Jb,e)}catch{}n=!0}return n}finally{_t=r,wa.transition=t}}return!1}function GT(e,t,r){t=yd(r,t),t=q3(e,t,1),e=go(e,t,1),t=hn(),e!==null&&(xp(e,1,t),Rn(e,t))}function ar(e,t,r){if(e.tag===3)GT(e,e,r);else for(;t!==null;){if(t.tag===3){GT(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vo===null||!vo.has(n))){e=yd(r,e),e=W3(t,e,1),t=go(t,e,1),e=hn(),t!==null&&(xp(t,1,e),Rn(t,e));break}}t=t.return}}function DQ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=hn(),e.pingedLanes|=e.suspendedLanes&r,Ar===e&&(Or&r)===r&&(yr===4||yr===3&&(Or&130023424)===Or&&500>or()-tE?Rl(e,0):eE|=r),Rn(e,t)}function d5(e,t){t===0&&(e.mode&1?(t=fg,fg<<=1,!(fg&130023424)&&(fg=4194304)):t=1);var r=hn();e=oi(e,t),e!==null&&(xp(e,t,r),Rn(e,r))}function MQ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),d5(e,r)}function OQ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ue(314))}n!==null&&n.delete(t),d5(e,r)}var f5;f5=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mn.current)Pn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Pn=!1,wQ(e,t,r);Pn=!!(e.flags&131072)}else Pn=!1,Qt&&t.flags&1048576&&g3(t,ty,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Sv(e,t),e=t.pendingProps;var a=md(t,en.current);Mu(t,r),a=VN(null,t,n,e,a,r);var s=QN();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,On(n)?(s=!0,Zv(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,HN(t),a.updater=a0,t.stateNode=a,a._reactInternals=t,s1(t,n,e,r),t=l1(null,t,n,!0,s,r)):(t.tag=0,Qt&&s&&IN(t),cn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Sv(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=IQ(n),e=$a(n,e),a){case 0:t=o1(null,t,n,e,r);break e;case 1:t=$T(null,t,n,e,r);break e;case 11:t=RT(null,t,n,e,r);break e;case 14:t=IT(null,t,n,$a(n.type,e),r);break e}throw Error(ue(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:$a(n,a),o1(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:$a(n,a),$T(e,t,n,a,r);case 3:e:{if(Q3(t),e===null)throw Error(ue(387));n=t.pendingProps,s=t.memoizedState,a=s.element,_3(e,t),ay(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=yd(Error(ue(423)),t),t=LT(e,t,n,r,a);break e}else if(n!==a){a=yd(Error(ue(424)),t),t=LT(e,t,n,r,a);break e}else for(Jn=po(t.stateNode.containerInfo.firstChild),Xn=t,Qt=!0,Ua=null,r=x3(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(pd(),n===a){t=li(e,t,r);break e}cn(e,t,n,r)}t=t.child}return t;case 5:return j3(t),e===null&&r1(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,Jj(n,a)?i=null:s!==null&&Jj(n,s)&&(t.flags|=32),V3(e,t),cn(e,t,i,r),t.child;case 6:return e===null&&r1(t),null;case 13:return Y3(e,t,r);case 4:return qN(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=gd(t,null,n,r):cn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:$a(n,a),RT(e,t,n,a,r);case 7:return cn(e,t,t.pendingProps,r),t.child;case 8:return cn(e,t,t.pendingProps.children,r),t.child;case 12:return cn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,Rt(ry,n._currentValue),n._currentValue=i,s!==null)if(Xa(s.value,i)){if(s.children===a.children&&!Mn.current){t=li(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Xs(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),n1(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(ue(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),n1(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}cn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Mu(t,r),a=ka(a),n=n(a),t.flags|=1,cn(e,t,n,r),t.child;case 14:return n=t.type,a=$a(n,t.pendingProps),a=$a(n.type,a),IT(e,t,n,a,r);case 15:return K3(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:$a(n,a),Sv(e,t),t.tag=1,On(n)?(e=!0,Zv(t)):e=!1,Mu(t,r),H3(t,n,a),s1(t,n,a,r),l1(null,t,n,!0,e,r);case 19:return J3(e,t,r);case 22:return G3(e,t,r)}throw Error(ue(156,t.tag))};function h5(e,t){return B4(e,t)}function RQ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ba(e,t,r,n){return new RQ(e,t,r,n)}function sE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IQ(e){if(typeof e=="function")return sE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===SN)return 11;if(e===kN)return 14}return 2}function bo(e,t){var r=e.alternate;return r===null?(r=ba(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ev(e,t,r,n,a,s){var i=2;if(n=e,typeof e=="function")sE(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case uu:return Il(r.children,a,s,t);case jN:i=8,a|=8;break;case Aj:return e=ba(12,r,t,a|2),e.elementType=Aj,e.lanes=s,e;case Pj:return e=ba(13,r,t,a),e.elementType=Pj,e.lanes=s,e;case Tj:return e=ba(19,r,t,a),e.elementType=Tj,e.lanes=s,e;case j4:return o0(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case w4:i=10;break e;case _4:i=9;break e;case SN:i=11;break e;case kN:i=14;break e;case Fi:i=16,n=null;break e}throw Error(ue(130,e==null?e:typeof e,""))}return t=ba(i,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Il(e,t,r,n){return e=ba(7,e,n,t),e.lanes=r,e}function o0(e,t,r,n){return e=ba(22,e,n,t),e.elementType=j4,e.lanes=r,e.stateNode={isHidden:!1},e}function Kw(e,t,r){return e=ba(6,e,null,t),e.lanes=r,e}function Gw(e,t,r){return t=ba(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $Q(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ew(0),this.expirationTimes=Ew(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ew(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function iE(e,t,r,n,a,s,i,l,c){return e=new $Q(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ba(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},HN(s),e}function LQ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function m5(e){if(!e)return No;e=e._reactInternals;e:{if(_c(e)!==e||e.tag!==1)throw Error(ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(On(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ue(171))}if(e.tag===1){var r=e.type;if(On(r))return m3(e,r,t)}return t}function p5(e,t,r,n,a,s,i,l,c){return e=iE(r,n,!0,e,a,s,i,l,c),e.context=m5(null),r=e.current,n=hn(),a=yo(r),s=Xs(n,a),s.callback=t??null,go(r,s,a),e.current.lanes=a,xp(e,a,n),Rn(e,n),e}function l0(e,t,r,n){var a=t.current,s=hn(),i=yo(a);return r=m5(r),t.context===null?t.context=r:t.pendingContext=r,t=Xs(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=go(a,t,i),e!==null&&(Ga(e,a,i,s),wv(e,a,i)),i}function fy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function VT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function oE(e,t){VT(e,t),(e=e.alternate)&&VT(e,t)}function FQ(){return null}var g5=typeof reportError=="function"?reportError:function(e){console.error(e)};function lE(e){this._internalRoot=e}c0.prototype.render=lE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ue(409));l0(e,t,null,null)};c0.prototype.unmount=lE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xl(function(){l0(null,e,null,null)}),t[ii]=null}};function c0(e){this._internalRoot=e}c0.prototype.unstable_scheduleHydration=function(e){if(e){var t=G4();e={blockedOn:null,target:e,priority:t};for(var r=0;r<qi.length&&t!==0&&t<qi[r].priority;r++);qi.splice(r,0,e),r===0&&Q4(e)}};function cE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function QT(){}function BQ(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=fy(i);s.call(u)}}var i=p5(t,n,e,0,null,!1,!1,"",QT);return e._reactRootContainer=i,e[ii]=i.current,am(e.nodeType===8?e.parentNode:e),Xl(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=fy(c);l.call(u)}}var c=iE(e,0,!1,null,null,!1,!1,"",QT);return e._reactRootContainer=c,e[ii]=c.current,am(e.nodeType===8?e.parentNode:e),Xl(function(){l0(t,c,r,n)}),c}function d0(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var l=a;a=function(){var c=fy(i);l.call(c)}}l0(t,i,e,a)}else i=BQ(r,t,e,a,n);return fy(i)}W4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ph(t.pendingLanes);r!==0&&(CN(t,r|1),Rn(t,or()),!(ut&6)&&(bd=or()+500,Bo()))}break;case 13:Xl(function(){var n=oi(e,1);if(n!==null){var a=hn();Ga(n,e,1,a)}}),oE(e,1)}};AN=function(e){if(e.tag===13){var t=oi(e,134217728);if(t!==null){var r=hn();Ga(t,e,134217728,r)}oE(e,134217728)}};K4=function(e){if(e.tag===13){var t=yo(e),r=oi(e,t);if(r!==null){var n=hn();Ga(r,e,t,n)}oE(e,t)}};G4=function(){return _t};V4=function(e,t){var r=_t;try{return _t=e,t()}finally{_t=r}};zj=function(e,t,r){switch(t){case"input":if(Oj(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=t0(n);if(!a)throw Error(ue(90));k4(n),Oj(n,a)}}}break;case"textarea":E4(e,r);break;case"select":t=r.value,t!=null&&Au(e,!!r.multiple,t,!1)}};O4=rE;R4=Xl;var zQ={usingClientEntryPoint:!1,Events:[_p,mu,t0,D4,M4,rE]},Qf={findFiberByHostInstance:xl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UQ={bundleType:Qf.bundleType,version:Qf.version,rendererPackageName:Qf.rendererPackageName,rendererConfig:Qf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=L4(e),e===null?null:e.stateNode},findFiberByHostInstance:Qf.findFiberByHostInstance||FQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jg.isDisabled&&jg.supportsFiber)try{Jb=jg.inject(UQ),_s=jg}catch{}}aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zQ;aa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cE(t))throw Error(ue(200));return LQ(e,t,null,r)};aa.createRoot=function(e,t){if(!cE(e))throw Error(ue(299));var r=!1,n="",a=g5;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=iE(e,1,!1,null,null,r,!1,n,a),e[ii]=t.current,am(e.nodeType===8?e.parentNode:e),new lE(t)};aa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ue(188)):(e=Object.keys(e).join(","),Error(ue(268,e)));return e=L4(t),e=e===null?null:e.stateNode,e};aa.flushSync=function(e){return Xl(e)};aa.hydrate=function(e,t,r){if(!u0(t))throw Error(ue(200));return d0(null,e,t,!0,r)};aa.hydrateRoot=function(e,t,r){if(!cE(e))throw Error(ue(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=g5;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=p5(t,null,e,1,r??null,a,!1,s,i),e[ii]=t.current,am(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new c0(t)};aa.render=function(e,t,r){if(!u0(t))throw Error(ue(200));return d0(null,e,t,!1,r)};aa.unmountComponentAtNode=function(e){if(!u0(e))throw Error(ue(40));return e._reactRootContainer?(Xl(function(){d0(null,null,e,!1,function(){e._reactRootContainer=null,e[ii]=null})}),!0):!1};aa.unstable_batchedUpdates=rE;aa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!u0(r))throw Error(ue(200));if(e==null||e._reactInternals===void 0)throw Error(ue(38));return d0(e,t,r,!1,n)};aa.version="18.3.1-next-f1338f8080-20240426";function v5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v5)}catch(e){console.error(e)}}v5(),v4.exports=aa;var Ea=v4.exports;const uE=yt(Ea);var dE,YT=Ea;dE=YT.createRoot,YT.hydrateRoot;const HQ=1,qQ=1e6;let Vw=0;function WQ(){return Vw=(Vw+1)%Number.MAX_SAFE_INTEGER,Vw.toString()}const Qw=new Map,JT=e=>{if(Qw.has(e))return;const t=setTimeout(()=>{Qw.delete(e),Ih({type:"REMOVE_TOAST",toastId:e})},qQ);Qw.set(e,t)},KQ=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,HQ)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?JT(r):e.toasts.forEach(n=>{JT(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Cv=[];let Av={toasts:[]};function Ih(e){Av=KQ(Av,e),Cv.forEach(t=>{t(Av)})}function ot({...e}){const t=WQ(),r=a=>Ih({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Ih({type:"DISMISS_TOAST",toastId:t});return Ih({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Te(){const[e,t]=x.useState(Av);return x.useEffect(()=>(Cv.push(t),()=>{const r=Cv.indexOf(t);r>-1&&Cv.splice(r,1)}),[e]),{...e,toast:ot,dismiss:r=>Ih({type:"DISMISS_TOAST",toastId:r})}}function me(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function GQ(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function f0(...e){return t=>e.forEach(r=>GQ(r,t))}function tt(...e){return x.useCallback(f0(...e),e)}function VQ(e,t=[]){let r=[];function n(s,i){const l=x.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:m,...v}=f,p=(h==null?void 0:h[e][c])||l,g=x.useMemo(()=>v,Object.values(v));return o.jsx(p.Provider,{value:g,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,v=x.useContext(m);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const a=()=>{const s=r.map(i=>x.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,QQ(a,...t)]}function QQ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var In=x.forwardRef((e,t)=>{const{children:r,...n}=e,a=x.Children.toArray(r),s=a.find(YQ);if(s){const i=s.props.children,l=a.map(c=>c===s?x.Children.count(i)>1?x.Children.only(null):x.isValidElement(i)?i.props.children:null:c);return o.jsx(x1,{...n,ref:t,children:x.isValidElement(i)?x.cloneElement(i,void 0,l):null})}return o.jsx(x1,{...n,ref:t,children:r})});In.displayName="Slot";var x1=x.forwardRef((e,t)=>{const{children:r,...n}=e;if(x.isValidElement(r)){const a=XQ(r);return x.cloneElement(r,{...JQ(n,r.props),ref:t?f0(t,a):a})}return x.Children.count(r)>1?x.Children.only(null):null});x1.displayName="SlotClone";var fE=({children:e})=>o.jsx(o.Fragment,{children:e});function YQ(e){return x.isValidElement(e)&&e.type===fE}function JQ(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{s(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}function XQ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function h0(e){const t=e+"CollectionProvider",[r,n]=VQ(t),[a,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=m=>{const{scope:v,children:p}=m,g=L.useRef(null),b=L.useRef(new Map).current;return o.jsx(a,{scope:v,itemMap:b,collectionRef:g,children:p})};i.displayName=t;const l=e+"CollectionSlot",c=L.forwardRef((m,v)=>{const{scope:p,children:g}=m,b=s(l,p),y=tt(v,b.collectionRef);return o.jsx(In,{ref:y,children:g})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=L.forwardRef((m,v)=>{const{scope:p,children:g,...b}=m,y=L.useRef(null),w=tt(v,y),_=s(u,p);return L.useEffect(()=>(_.itemMap.set(y,{ref:y,...b}),()=>void _.itemMap.delete(y))),o.jsx(In,{[d]:"",ref:w,children:g})});f.displayName=u;function h(m){const v=s(e+"CollectionConsumer",m);return L.useCallback(()=>{const g=v.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((_,j)=>b.indexOf(_.ref.current)-b.indexOf(j.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},h,n]}function ZQ(e,t){const r=x.createContext(t),n=s=>{const{children:i,...l}=s,c=x.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function a(s){const i=x.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,a]}function ia(e,t=[]){let r=[];function n(s,i){const l=x.createContext(i),c=r.length;r=[...r,i];const u=f=>{var b;const{scope:h,children:m,...v}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,g=x.useMemo(()=>v,Object.values(v));return o.jsx(p.Provider,{value:g,children:m})};u.displayName=s+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,v=x.useContext(m);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=r.map(i=>x.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,eY(a,...t)]}function eY(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var tY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ae=tY.reduce((e,t)=>{const r=x.forwardRef((n,a)=>{const{asChild:s,...i}=n,l=s?In:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...i,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function hE(e,t){e&&Ea.flushSync(()=>e.dispatchEvent(t))}function gn(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function rY(e,t=globalThis==null?void 0:globalThis.document){const r=gn(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var nY="DismissableLayer",w1="dismissableLayer.update",aY="dismissableLayer.pointerDownOutside",sY="dismissableLayer.focusOutside",XT,y5=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jc=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:i,onDismiss:l,...c}=e,u=x.useContext(y5),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),v=tt(t,k=>f(k)),p=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(g),y=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=b,j=oY(k=>{const N=k.target,E=[...u.branches].some(P=>P.contains(N));!_||E||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},h),S=lY(k=>{const N=k.target;[...u.branches].some(P=>P.contains(N))||(s==null||s(k),i==null||i(k),k.defaultPrevented||l==null||l())},h);return rY(k=>{y===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(XT=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),ZT(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=XT)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),ZT())},[d,u]),x.useEffect(()=>{const k=()=>m({});return document.addEventListener(w1,k),()=>document.removeEventListener(w1,k)},[]),o.jsx(Ae.div,{...c,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:me(e.onFocusCapture,S.onFocusCapture),onBlurCapture:me(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:me(e.onPointerDownCapture,j.onPointerDownCapture)})});jc.displayName=nY;var iY="DismissableLayerBranch",b5=x.forwardRef((e,t)=>{const r=x.useContext(y5),n=x.useRef(null),a=tt(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),o.jsx(Ae.div,{...e,ref:a})});b5.displayName=iY;function oY(e,t=globalThis==null?void 0:globalThis.document){const r=gn(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){x5(aY,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function lY(e,t=globalThis==null?void 0:globalThis.document){const r=gn(e),n=x.useRef(!1);return x.useEffect(()=>{const a=s=>{s.target&&!n.current&&x5(sY,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ZT(){const e=new CustomEvent(w1);document.dispatchEvent(e)}function x5(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?hE(a,s):a.dispatchEvent(s)}var cY=jc,uY=b5,Ir=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},dY="Portal",ff=x.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,s]=x.useState(!1);Ir(()=>s(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?uE.createPortal(o.jsx(Ae.div,{...n,ref:t}),i):null});ff.displayName=dY;function fY(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var rn=e=>{const{present:t,children:r}=e,n=hY(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=tt(n.ref,mY(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:s}):null};rn.displayName="Presence";function hY(e){const[t,r]=x.useState(),n=x.useRef({}),a=x.useRef(e),s=x.useRef("none"),i=e?"mounted":"unmounted",[l,c]=fY(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Sg(n.current);s.current=l==="mounted"?u:"none"},[l]),Ir(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,m=Sg(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Ir(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Sg(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=m=>{m.target===t&&(s.current=Sg(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Sg(e){return(e==null?void 0:e.animationName)||"none"}function mY(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Za({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=pY({defaultProp:t,onChange:r}),s=e!==void 0,i=s?e:n,l=gn(r),c=x.useCallback(u=>{if(s){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[s,e,a,l]);return[i,c]}function pY({defaultProp:e,onChange:t}){const r=x.useState(e),[n]=r,a=x.useRef(n),s=gn(t);return x.useEffect(()=>{a.current!==n&&(s(n),a.current=n)},[n,a,s]),r}var gY="VisuallyHidden",Sp=x.forwardRef((e,t)=>o.jsx(Ae.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Sp.displayName=gY;var vY=Sp,mE="ToastProvider",[pE,yY,bY]=h0("Toast"),[w5,xHe]=ia("Toast",[bY]),[xY,m0]=w5(mE),_5=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:s=50,children:i}=e,[l,c]=x.useState(null),[u,d]=x.useState(0),f=x.useRef(!1),h=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${mE}\`. Expected non-empty \`string\`.`),o.jsx(pE.Provider,{scope:t,children:o.jsx(xY,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:x.useCallback(()=>d(m=>m+1),[]),onToastRemove:x.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};_5.displayName=mE;var j5="ToastViewport",wY=["F8"],_1="toast.viewportPause",j1="toast.viewportResume",S5=x.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=wY,label:a="Notifications ({hotkey})",...s}=e,i=m0(j5,r),l=yY(r),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=x.useRef(null),h=tt(t,f,i.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;x.useEffect(()=>{const g=b=>{var w;n.length!==0&&n.every(_=>b[_]||b.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),x.useEffect(()=>{const g=c.current,b=f.current;if(v&&g&&b){const y=()=>{if(!i.isClosePausedRef.current){const S=new CustomEvent(_1);b.dispatchEvent(S),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const S=new CustomEvent(j1);b.dispatchEvent(S),i.isClosePausedRef.current=!1}},_=S=>{!g.contains(S.relatedTarget)&&w()},j=()=>{g.contains(document.activeElement)||w()};return g.addEventListener("focusin",y),g.addEventListener("focusout",_),g.addEventListener("pointermove",y),g.addEventListener("pointerleave",j),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{g.removeEventListener("focusin",y),g.removeEventListener("focusout",_),g.removeEventListener("pointermove",y),g.removeEventListener("pointerleave",j),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[v,i.isClosePausedRef]);const p=x.useCallback(({tabbingDirection:g})=>{const y=l().map(w=>{const _=w.ref.current,j=[_,...OY(_)];return g==="forwards"?j:j.reverse()});return(g==="forwards"?y.reverse():y).flat()},[l]);return x.useEffect(()=>{const g=f.current;if(g){const b=y=>{var j,S,k;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const N=document.activeElement,E=y.shiftKey;if(y.target===g&&E){(j=u.current)==null||j.focus();return}const O=p({tabbingDirection:E?"backwards":"forwards"}),T=O.findIndex(C=>C===N);Yw(O.slice(T+1))?y.preventDefault():E?(S=u.current)==null||S.focus():(k=d.current)==null||k.focus()}};return g.addEventListener("keydown",b),()=>g.removeEventListener("keydown",b)}},[l,p]),o.jsxs(uY,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&o.jsx(S1,{ref:u,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"forwards"});Yw(g)}}),o.jsx(pE.Slot,{scope:r,children:o.jsx(Ae.ol,{tabIndex:-1,...s,ref:h})}),v&&o.jsx(S1,{ref:d,onFocusFromOutsideViewport:()=>{const g=p({tabbingDirection:"backwards"});Yw(g)}})]})});S5.displayName=j5;var k5="ToastFocusProxy",S1=x.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,s=m0(k5,r);return o.jsx(Sp,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&n()}})});S1.displayName=k5;var p0="Toast",_Y="toast.swipeStart",jY="toast.swipeMove",SY="toast.swipeCancel",kY="toast.swipeEnd",N5=x.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:s,...i}=e,[l=!0,c]=Za({prop:n,defaultProp:a,onChange:s});return o.jsx(rn,{present:r||l,children:o.jsx(CY,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:gn(e.onPause),onResume:gn(e.onResume),onSwipeStart:me(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:me(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:me(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:me(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});N5.displayName=p0;var[NY,EY]=w5(p0,{onClose(){}}),CY=x.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:s,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...v}=e,p=m0(p0,r),[g,b]=x.useState(null),y=tt(t,C=>b(C)),w=x.useRef(null),_=x.useRef(null),j=a||p.duration,S=x.useRef(0),k=x.useRef(j),N=x.useRef(0),{onToastAdd:E,onToastRemove:P}=p,A=gn(()=>{var I;(g==null?void 0:g.contains(document.activeElement))&&((I=p.viewport)==null||I.focus()),i()}),O=x.useCallback(C=>{!C||C===1/0||(window.clearTimeout(N.current),S.current=new Date().getTime(),N.current=window.setTimeout(A,C))},[A]);x.useEffect(()=>{const C=p.viewport;if(C){const I=()=>{O(k.current),u==null||u()},$=()=>{const M=new Date().getTime()-S.current;k.current=k.current-M,window.clearTimeout(N.current),c==null||c()};return C.addEventListener(_1,$),C.addEventListener(j1,I),()=>{C.removeEventListener(_1,$),C.removeEventListener(j1,I)}}},[p.viewport,j,c,u,O]),x.useEffect(()=>{s&&!p.isClosePausedRef.current&&O(j)},[s,j,p.isClosePausedRef,O]),x.useEffect(()=>(E(),()=>P()),[E,P]);const T=x.useMemo(()=>g?M5(g):null,[g]);return p.viewport?o.jsxs(o.Fragment,{children:[T&&o.jsx(AY,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:T}),o.jsx(NY,{scope:r,onClose:A,children:Ea.createPortal(o.jsx(pE.ItemSlot,{scope:r,children:o.jsx(cY,{asChild:!0,onEscapeKeyDown:me(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||A(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Ae.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":p.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:me(e.onKeyDown,C=>{C.key==="Escape"&&(l==null||l(C.nativeEvent),C.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:me(e.onPointerDown,C=>{C.button===0&&(w.current={x:C.clientX,y:C.clientY})}),onPointerMove:me(e.onPointerMove,C=>{if(!w.current)return;const I=C.clientX-w.current.x,$=C.clientY-w.current.y,M=!!_.current,D=["left","right"].includes(p.swipeDirection),F=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,z=D?F(0,I):0,U=D?0:F(0,$),R=C.pointerType==="touch"?10:2,B={x:z,y:U},K={originalEvent:C,delta:B};M?(_.current=B,kg(jY,f,K,{discrete:!1})):e2(B,p.swipeDirection,R)?(_.current=B,kg(_Y,d,K,{discrete:!1}),C.target.setPointerCapture(C.pointerId)):(Math.abs(I)>R||Math.abs($)>R)&&(w.current=null)}),onPointerUp:me(e.onPointerUp,C=>{const I=_.current,$=C.target;if($.hasPointerCapture(C.pointerId)&&$.releasePointerCapture(C.pointerId),_.current=null,w.current=null,I){const M=C.currentTarget,D={originalEvent:C,delta:I};e2(I,p.swipeDirection,p.swipeThreshold)?kg(kY,m,D,{discrete:!0}):kg(SY,h,D,{discrete:!0}),M.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),AY=e=>{const{__scopeToast:t,children:r,...n}=e,a=m0(p0,t),[s,i]=x.useState(!1),[l,c]=x.useState(!1);return DY(()=>i(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(ff,{asChild:!0,children:o.jsx(Sp,{...n,children:s&&o.jsxs(o.Fragment,{children:[a.label," ",r]})})})},PY="ToastTitle",E5=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Ae.div,{...n,ref:t})});E5.displayName=PY;var TY="ToastDescription",C5=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Ae.div,{...n,ref:t})});C5.displayName=TY;var A5="ToastAction",P5=x.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(D5,{altText:r,asChild:!0,children:o.jsx(gE,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${A5}\`. Expected non-empty \`string\`.`),null)});P5.displayName=A5;var T5="ToastClose",gE=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=EY(T5,r);return o.jsx(D5,{asChild:!0,children:o.jsx(Ae.button,{type:"button",...n,ref:t,onClick:me(e.onClick,a.onClose)})})});gE.displayName=T5;var D5=x.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return o.jsx(Ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function M5(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),MY(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!a)if(s){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...M5(n))}}),t}function kg(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?hE(a,s):a.dispatchEvent(s)}var e2=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),s=n>a;return t==="left"||t==="right"?s&&n>r:!s&&a>r};function DY(e=()=>{}){const t=gn(e);Ir(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function MY(e){return e.nodeType===e.ELEMENT_NODE}function OY(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Yw(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var RY=_5,O5=S5,R5=N5,I5=E5,$5=C5,L5=P5,F5=gE;function B5(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=B5(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ye(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=B5(e))&&(n&&(n+=" "),n+=t);return n}const t2=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,r2=Ye,Sc=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return r2(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:s}=t,i=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=s==null?void 0:s[u];if(d===null)return null;const h=t2(d)||t2(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(v=>{let[p,g]=v;return Array.isArray(g)?g.includes({...s,...l}[p]):{...s,...l}[p]===g})?[...u,f,h]:u},[]);return r2(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),z5=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $Y={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LY=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...l},c)=>x.createElement("svg",{ref:c,...$Y,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:z5("lucide",a),...l},[...i.map(([u,d])=>x.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const r=x.forwardRef(({className:n,...a},s)=>x.createElement(LY,{ref:s,iconNode:t,className:z5(`lucide-${IY(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=ge("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=ge("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=ge("BookUser",[["path",{d:"M15 13a3 3 0 1 0-6 0",key:"10j68g"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=ge("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=ge("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=ge("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=ge("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=ge("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=ge("CalendarX",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=ge("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=ge("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=ge("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=ge("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=ge("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WY=ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=ge("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=ge("DoorOpen",[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=ge("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=ge("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VY=ge("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=ge("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=ge("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=ge("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=ge("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=ge("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=ge("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=ge("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=ge("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=ge("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=ge("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=ge("Merge",[["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M12 2v10.3a4 4 0 0 1-1.172 2.872L4 22",key:"1hyw0i"}],["path",{d:"m20 22-5-5",key:"1m27yz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eJ=ge("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tJ=ge("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=ge("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=ge("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=ge("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=ge("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rJ=ge("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=ge("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=ge("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=ge("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nJ=ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=ge("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=ge("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=ge("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=ge("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oJ=ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),jE="-",lJ=e=>{const t=uJ(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(jE);return l[0]===""&&l.length!==1&&l.shift(),X5(l,t)||cJ(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},X5=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?X5(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(jE);return(i=t.validators.find(({validator:l})=>l(s)))==null?void 0:i.classGroupId},o2=/^\[(.+)\]$/,cJ=e=>{if(o2.test(e)){const t=o2.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},uJ=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return fJ(Object.entries(e.classGroups),r).forEach(([s,i])=>{C1(i,n,s,t)}),n},C1=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:l2(t,a);s.classGroupId=r;return}if(typeof a=="function"){if(dJ(a)){C1(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([s,i])=>{C1(i,l2(t,s),r,n)})})},l2=(e,t)=>{let r=e;return t.split(jE).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},dJ=e=>e.isThemeGetter,fJ=(e,t)=>t?e.map(([r,n])=>{const a=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,l])=>[t+i,l])):s);return[r,a]}):e,hJ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(s,i)=>{r.set(s,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let i=r.get(s);if(i!==void 0)return i;if((i=n.get(s))!==void 0)return a(s,i),i},set(s,i){r.has(s)?r.set(s,i):a(s,i)}}},Z5="!",mJ=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],s=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let g=0;g<l.length;g++){let b=l[g];if(u===0){if(b===a&&(n||l.slice(g,g+s)===t)){c.push(l.slice(d,g)),d=g+s;continue}if(b==="/"){f=g;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(Z5),v=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:i}):i},pJ=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},gJ=e=>({cache:hJ(e.cacheSize),parseClassName:mJ(e),...lJ(e)}),vJ=/\s+/,yJ=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],i=e.trim().split(vJ);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let v=!!m,p=n(v?h.substring(0,m):h);if(!p){if(!v){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}v=!1}const g=pJ(d).join(":"),b=f?g+Z5:g,y=b+p;if(s.includes(y))continue;s.push(y);const w=a(p,v);for(let _=0;_<w.length;++_){const j=w[_];s.push(b+j)}l=u+(l.length>0?" "+l:l)}return l};function bJ(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=eL(t))&&(n&&(n+=" "),n+=r);return n}const eL=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=eL(e[n]))&&(r&&(r+=" "),r+=t);return r};function xJ(e,...t){let r,n,a,s=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=gJ(u),n=r.cache.get,a=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=yJ(c,r);return a(c,d),d}return function(){return s(bJ.apply(null,arguments))}}const Ht=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},tL=/^\[(?:([a-z-]+):)?(.+)\]$/i,wJ=/^\d+\/\d+$/,_J=new Set(["px","full","screen"]),jJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,NJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,EJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Is=e=>$u(e)||_J.has(e)||wJ.test(e),Ti=e=>mf(e,"length",RJ),$u=e=>!!e&&!Number.isNaN(Number(e)),Jw=e=>mf(e,"number",$u),Yf=e=>!!e&&Number.isInteger(Number(e)),CJ=e=>e.endsWith("%")&&$u(e.slice(0,-1)),Ve=e=>tL.test(e),Di=e=>jJ.test(e),AJ=new Set(["length","size","percentage"]),PJ=e=>mf(e,AJ,rL),TJ=e=>mf(e,"position",rL),DJ=new Set(["image","url"]),MJ=e=>mf(e,DJ,$J),OJ=e=>mf(e,"",IJ),Jf=()=>!0,mf=(e,t,r)=>{const n=tL.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},RJ=e=>SJ.test(e)&&!kJ.test(e),rL=()=>!1,IJ=e=>NJ.test(e),$J=e=>EJ.test(e),LJ=()=>{const e=Ht("colors"),t=Ht("spacing"),r=Ht("blur"),n=Ht("brightness"),a=Ht("borderColor"),s=Ht("borderRadius"),i=Ht("borderSpacing"),l=Ht("borderWidth"),c=Ht("contrast"),u=Ht("grayscale"),d=Ht("hueRotate"),f=Ht("invert"),h=Ht("gap"),m=Ht("gradientColorStops"),v=Ht("gradientColorStopPositions"),p=Ht("inset"),g=Ht("margin"),b=Ht("opacity"),y=Ht("padding"),w=Ht("saturate"),_=Ht("scale"),j=Ht("sepia"),S=Ht("skew"),k=Ht("space"),N=Ht("translate"),E=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Ve,t],O=()=>[Ve,t],T=()=>["",Is,Ti],C=()=>["auto",$u,Ve],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Ve],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[$u,Ve];return{cacheSize:500,separator:":",theme:{colors:[Jf],spacing:[Is,Ti],blur:["none","",Di,Ve],brightness:U(),borderColor:[e],borderRadius:["none","","full",Di,Ve],borderSpacing:O(),borderWidth:T(),contrast:U(),grayscale:F(),hueRotate:U(),invert:F(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[CJ,Ti],inset:A(),margin:A(),opacity:U(),padding:O(),saturate:U(),scale:U(),sepia:F(),skew:U(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[Di]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),Ve]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yf,Ve]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Yf,Ve]}],"grid-cols":[{"grid-cols":[Jf]}],"col-start-end":[{col:["auto",{span:["full",Yf,Ve]},Ve]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[Jf]}],"row-start-end":[{row:["auto",{span:[Yf,Ve]},Ve]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,t]}],"min-w":[{"min-w":[Ve,t,"min","max","fit"]}],"max-w":[{"max-w":[Ve,t,"none","full","min","max","fit","prose",{screen:[Di]},Di]}],h:[{h:[Ve,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Di,Ti]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jw]}],"font-family":[{font:[Jf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",$u,Jw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Is,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Is,Ti]}],"underline-offset":[{"underline-offset":["auto",Is,Ve]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),TJ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",PJ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},MJ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:$()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Is,Ve]}],"outline-w":[{outline:[Is,Ti]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Is,Ti]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Di,OJ]}],"shadow-color":[{shadow:[Jf]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Di,Ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Yf,Ve]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Is,Ti,Jw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},FJ=xJ(LJ);function se(...e){return FJ(Ye(e))}const BJ=RY,nL=x.forwardRef(({className:e,...t},r)=>o.jsx(O5,{ref:r,className:se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));nL.displayName=O5.displayName;const zJ=Sc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),aL=x.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(R5,{ref:n,className:se(zJ({variant:t}),e),...r}));aL.displayName=R5.displayName;const UJ=x.forwardRef(({className:e,...t},r)=>o.jsx(L5,{ref:r,className:se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));UJ.displayName=L5.displayName;const sL=x.forwardRef(({className:e,...t},r)=>o.jsx(F5,{ref:r,className:se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(Co,{className:"h-4 w-4"})}));sL.displayName=F5.displayName;const iL=x.forwardRef(({className:e,...t},r)=>o.jsx(I5,{ref:r,className:se("text-sm font-semibold",e),...t}));iL.displayName=I5.displayName;const oL=x.forwardRef(({className:e,...t},r)=>o.jsx($5,{ref:r,className:se("text-sm opacity-90",e),...t}));oL.displayName=$5.displayName;function SE(){const{toasts:e}=Te();return o.jsxs(BJ,{children:[e.map(function({id:t,title:r,description:n,action:a,...s}){return o.jsxs(aL,{...s,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(iL,{children:r}),n&&o.jsx(oL,{children:n})]}),a,o.jsx(sL,{})]},t)}),o.jsx(nL,{})]})}var py=["light","dark"],kE="(prefers-color-scheme: dark)",HJ=typeof window>"u",NE=x.createContext(void 0),qJ={setTheme:e=>{},themes:[]},lL=()=>{var e;return(e=x.useContext(NE))!=null?e:qJ},WJ=e=>x.useContext(NE)?e.children:x.createElement(GJ,{...e}),KJ=["light","dark"],GJ=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:s=KJ,defaultTheme:i=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d})=>{let[f,h]=x.useState(()=>c2(a,i)),[m,v]=x.useState(()=>c2(a)),p=c?Object.values(c):s,g=x.useCallback(_=>{let j=_;if(!j)return;_==="system"&&r&&(j=u2());let S=c?c[j]:j,k=t?QJ():null,N=document.documentElement;if(l==="class"?(N.classList.remove(...p),S&&N.classList.add(S)):S?N.setAttribute(l,S):N.removeAttribute(l),n){let E=py.includes(i)?i:null,P=py.includes(j)?j:E;N.style.colorScheme=P}k==null||k()},[]),b=x.useCallback(_=>{let j=typeof _=="function"?_(_):_;h(j);try{localStorage.setItem(a,j)}catch{}},[e]),y=x.useCallback(_=>{let j=u2(_);v(j),f==="system"&&r&&!e&&g("system")},[f,e]);x.useEffect(()=>{let _=window.matchMedia(kE);return _.addListener(y),y(_),()=>_.removeListener(y)},[y]),x.useEffect(()=>{let _=j=>{if(j.key!==a)return;let S=j.newValue||i;b(S)};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[b]),x.useEffect(()=>{g(e??f)},[e,f]);let w=x.useMemo(()=>({theme:f,setTheme:b,forcedTheme:e,resolvedTheme:f==="system"?m:f,themes:r?[...s,"system"]:s,systemTheme:r?m:void 0}),[f,b,e,m,r,s]);return x.createElement(NE.Provider,{value:w},x.createElement(VJ,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:a,themes:s,defaultTheme:i,attribute:l,value:c,children:u,attrs:p,nonce:d}),u)},VJ=x.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:i,attrs:l,nonce:c})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?py.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,p=!1,g=!0)=>{let b=i?i[v]:v,y=p?v+"|| ''":`'${b}'`,w="";return a&&g&&!p&&py.includes(v)&&(w+=`d.style.colorScheme = '${v}';`),r==="class"?p||b?w+=`c.add(${y})`:w+="null":b&&(w+=`d[s](n,${y})`),w},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${kE}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${f}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})}),c2=(e,t)=>{if(HJ)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},QJ=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},u2=e=>(e||(e=window.matchMedia(kE)),e.matches?"dark":"light"),YJ=e=>{switch(e){case"success":return ZJ;case"info":return tX;case"warning":return eX;case"error":return rX;default:return null}},JJ=Array(12).fill(0),XJ=({visible:e})=>L.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},L.createElement("div",{className:"sonner-spinner"},JJ.map((t,r)=>L.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),ZJ=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),eX=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),tX=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),rX=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),nX=()=>{let[e,t]=L.useState(document.hidden);return L.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},A1=1,aX=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:A1++,s=this.toasts.find(l=>l.id===a),i=e.dismissible===void 0?!0:e.dismissible;return s?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0;return n.then(async s=>{if(iX(s)&&!s.ok){a=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${s.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${s.status}`):t.description;this.create({id:r,type:"error",message:i,description:l})}else if(t.success!==void 0){a=!1;let i=typeof t.success=="function"?await t.success(s):t.success,l=typeof t.description=="function"?await t.description(s):t.description;this.create({id:r,type:"success",message:i,description:l})}}).catch(async s=>{if(t.error!==void 0){a=!1;let i=typeof t.error=="function"?await t.error(s):t.error,l=typeof t.description=="function"?await t.description(s):t.description;this.create({id:r,type:"error",message:i,description:l})}}).finally(()=>{var s;a&&(this.dismiss(r),r=void 0),(s=t.finally)==null||s.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||A1++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Wn=new aX,sX=(e,t)=>{let r=(t==null?void 0:t.id)||A1++;return Wn.addToast({title:e,...t,id:r}),r},iX=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",oX=sX,lX=()=>Wn.toasts,ha=Object.assign(oX,{success:Wn.success,info:Wn.info,warning:Wn.warning,error:Wn.error,custom:Wn.custom,message:Wn.message,promise:Wn.promise,dismiss:Wn.dismiss,loading:Wn.loading},{getHistory:lX});function cX(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}cX(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ng(e){return e.label!==void 0}var uX=3,dX="32px",fX=4e3,hX=356,mX=14,pX=20,gX=200;function vX(...e){return e.filter(Boolean).join(" ")}var yX=e=>{var t,r,n,a,s,i,l,c,u,d;let{invert:f,toast:h,unstyled:m,interacting:v,setHeights:p,visibleToasts:g,heights:b,index:y,toasts:w,expanded:_,removeToast:j,defaultRichColors:S,closeButton:k,style:N,cancelButtonStyle:E,actionButtonStyle:P,className:A="",descriptionClassName:O="",duration:T,position:C,gap:I,loadingIcon:$,expandByDefault:M,classNames:D,icons:F,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:U,cn:R}=e,[B,K]=L.useState(!1),[J,X]=L.useState(!1),[te,q]=L.useState(!1),[Q,ie]=L.useState(!1),[de,ee]=L.useState(0),[Z,Y]=L.useState(0),ne=L.useRef(null),fe=L.useRef(null),ve=y===0,be=y+1<=g,je=h.type,dt=h.dismissible!==!1,pt=h.className||"",Se=h.descriptionClassName||"",We=L.useMemo(()=>b.findIndex(Ge=>Ge.toastId===h.id)||0,[b,h.id]),Ie=L.useMemo(()=>{var Ge;return(Ge=h.closeButton)!=null?Ge:k},[h.closeButton,k]),Lr=L.useMemo(()=>h.duration||T||fX,[h.duration,T]),Da=L.useRef(0),la=L.useRef(0),Ci=L.useRef(0),Ma=L.useRef(null),[rr,zt]=C.split("-"),sn=L.useMemo(()=>b.reduce((Ge,Ut,Tt)=>Tt>=We?Ge:Ge+Ut.height,0),[b,We]),wn=nX(),zf=h.invert||f,Bc=je==="loading";la.current=L.useMemo(()=>We*I+sn,[We,sn]),L.useEffect(()=>{K(!0)},[]),L.useLayoutEffect(()=>{if(!B)return;let Ge=fe.current,Ut=Ge.style.height;Ge.style.height="auto";let Tt=Ge.getBoundingClientRect().height;Ge.style.height=Ut,Y(Tt),p(os=>os.find(ls=>ls.toastId===h.id)?os.map(ls=>ls.toastId===h.id?{...ls,height:Tt}:ls):[{toastId:h.id,height:Tt,position:h.position},...os])},[B,h.title,h.description,p,h.id]);let Ai=L.useCallback(()=>{X(!0),ee(la.current),p(Ge=>Ge.filter(Ut=>Ut.toastId!==h.id)),setTimeout(()=>{j(h)},gX)},[h,j,p,la]);L.useEffect(()=>{if(h.promise&&je==="loading"||h.duration===1/0||h.type==="loading")return;let Ge,Ut=Lr;return _||v||U&&wn?(()=>{if(Ci.current<Da.current){let Tt=new Date().getTime()-Da.current;Ut=Ut-Tt}Ci.current=new Date().getTime()})():Ut!==1/0&&(Da.current=new Date().getTime(),Ge=setTimeout(()=>{var Tt;(Tt=h.onAutoClose)==null||Tt.call(h,h),Ai()},Ut)),()=>clearTimeout(Ge)},[_,v,M,h,Lr,Ai,h.promise,je,U,wn]),L.useEffect(()=>{let Ge=fe.current;if(Ge){let Ut=Ge.getBoundingClientRect().height;return Y(Ut),p(Tt=>[{toastId:h.id,height:Ut,position:h.position},...Tt]),()=>p(Tt=>Tt.filter(os=>os.toastId!==h.id))}},[p,h.id]),L.useEffect(()=>{h.delete&&Ai()},[Ai,h.delete]);function mG(){return F!=null&&F.loading?L.createElement("div",{className:"sonner-loader","data-visible":je==="loading"},F.loading):$?L.createElement("div",{className:"sonner-loader","data-visible":je==="loading"},$):L.createElement(XJ,{visible:je==="loading"})}return L.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:fe,className:R(A,pt,D==null?void 0:D.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,D==null?void 0:D.default,D==null?void 0:D[je],(r=h==null?void 0:h.classNames)==null?void 0:r[je]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:S,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":B,"data-promise":!!h.promise,"data-removed":J,"data-visible":be,"data-y-position":rr,"data-x-position":zt,"data-index":y,"data-front":ve,"data-swiping":te,"data-dismissible":dt,"data-type":je,"data-invert":zf,"data-swipe-out":Q,"data-expanded":!!(_||M&&B),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":`${J?de:la.current}px`,"--initial-height":M?"auto":`${Z}px`,...N,...h.style},onPointerDown:Ge=>{Bc||!dt||(ne.current=new Date,ee(la.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(q(!0),Ma.current={x:Ge.clientX,y:Ge.clientY}))},onPointerUp:()=>{var Ge,Ut,Tt,os;if(Q||!dt)return;Ma.current=null;let ls=Number(((Ge=fe.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount").replace("px",""))||0),sg=new Date().getTime()-((Ut=ne.current)==null?void 0:Ut.getTime()),pG=Math.abs(ls)/sg;if(Math.abs(ls)>=pX||pG>.11){ee(la.current),(Tt=h.onDismiss)==null||Tt.call(h,h),Ai(),ie(!0);return}(os=fe.current)==null||os.style.setProperty("--swipe-amount","0px"),q(!1)},onPointerMove:Ge=>{var Ut;if(!Ma.current||!dt)return;let Tt=Ge.clientY-Ma.current.y,os=Ge.clientX-Ma.current.x,ls=(rr==="top"?Math.min:Math.max)(0,Tt),sg=Ge.pointerType==="touch"?10:2;Math.abs(ls)>sg?(Ut=fe.current)==null||Ut.style.setProperty("--swipe-amount",`${Tt}px`):Math.abs(os)>sg&&(Ma.current=null)}},Ie&&!h.jsx?L.createElement("button",{"aria-label":z,"data-disabled":Bc,"data-close-button":!0,onClick:Bc||!dt?()=>{}:()=>{var Ge;Ai(),(Ge=h.onDismiss)==null||Ge.call(h,h)},className:R(D==null?void 0:D.closeButton,(a=h==null?void 0:h.classNames)==null?void 0:a.closeButton)},L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},L.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),L.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||L.isValidElement(h.title)?h.jsx||h.title:L.createElement(L.Fragment,null,je||h.icon||h.promise?L.createElement("div",{"data-icon":"",className:R(D==null?void 0:D.icon,(s=h==null?void 0:h.classNames)==null?void 0:s.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||mG():null,h.type!=="loading"?h.icon||(F==null?void 0:F[je])||YJ(je):null):null,L.createElement("div",{"data-content":"",className:R(D==null?void 0:D.content,(i=h==null?void 0:h.classNames)==null?void 0:i.content)},L.createElement("div",{"data-title":"",className:R(D==null?void 0:D.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?L.createElement("div",{"data-description":"",className:R(O,Se,D==null?void 0:D.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),L.isValidElement(h.cancel)?h.cancel:h.cancel&&Ng(h.cancel)?L.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||E,onClick:Ge=>{var Ut,Tt;Ng(h.cancel)&&dt&&((Tt=(Ut=h.cancel).onClick)==null||Tt.call(Ut,Ge),Ai())},className:R(D==null?void 0:D.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,L.isValidElement(h.action)?h.action:h.action&&Ng(h.action)?L.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||P,onClick:Ge=>{var Ut,Tt;Ng(h.action)&&(Ge.defaultPrevented||((Tt=(Ut=h.action).onClick)==null||Tt.call(Ut,Ge),Ai()))},className:R(D==null?void 0:D.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function d2(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var bX=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:a,closeButton:s,className:i,offset:l,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=uX,toastOptions:m,dir:v=d2(),gap:p=mX,loadingIcon:g,icons:b,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:w,cn:_=vX}=e,[j,S]=L.useState([]),k=L.useMemo(()=>Array.from(new Set([r].concat(j.filter(U=>U.position).map(U=>U.position)))),[j,r]),[N,E]=L.useState([]),[P,A]=L.useState(!1),[O,T]=L.useState(!1),[C,I]=L.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=L.useRef(null),M=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=L.useRef(null),F=L.useRef(!1),z=L.useCallback(U=>{var R;(R=j.find(B=>B.id===U.id))!=null&&R.delete||Wn.dismiss(U.id),S(B=>B.filter(({id:K})=>K!==U.id))},[j]);return L.useEffect(()=>Wn.subscribe(U=>{if(U.dismiss){S(R=>R.map(B=>B.id===U.id?{...B,delete:!0}:B));return}setTimeout(()=>{uE.flushSync(()=>{S(R=>{let B=R.findIndex(K=>K.id===U.id);return B!==-1?[...R.slice(0,B),{...R[B],...U},...R.slice(B+1)]:[U,...R]})})})}),[]),L.useEffect(()=>{if(c!=="system"){I(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:U})=>{I(U?"dark":"light")})},[c]),L.useEffect(()=>{j.length<=1&&A(!1)},[j]),L.useEffect(()=>{let U=R=>{var B,K;n.every(J=>R[J]||R.code===J)&&(A(!0),(B=$.current)==null||B.focus()),R.code==="Escape"&&(document.activeElement===$.current||(K=$.current)!=null&&K.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[n]),L.useEffect(()=>{if($.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,F.current=!1)}},[$.current]),j.length?L.createElement("section",{"aria-label":`${y} ${M}`,tabIndex:-1},k.map((U,R)=>{var B;let[K,J]=U.split("-");return L.createElement("ol",{key:U,dir:v==="auto"?d2():v,tabIndex:-1,ref:$,className:i,"data-sonner-toaster":!0,"data-theme":C,"data-y-position":K,"data-x-position":J,style:{"--front-toast-height":`${((B=N[0])==null?void 0:B.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||dX,"--width":`${hX}px`,"--gap":`${p}px`,...f},onBlur:X=>{F.current&&!X.currentTarget.contains(X.relatedTarget)&&(F.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||F.current||(F.current=!0,D.current=X.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{O||A(!1)},onPointerDown:X=>{X.target instanceof HTMLElement&&X.target.dataset.dismissible==="false"||T(!0)},onPointerUp:()=>T(!1)},j.filter(X=>!X.position&&R===0||X.position===U).map((X,te)=>{var q,Q;return L.createElement(yX,{key:X.id,icons:b,index:te,toast:X,defaultRichColors:u,duration:(q=m==null?void 0:m.duration)!=null?q:d,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:t,visibleToasts:h,closeButton:(Q=m==null?void 0:m.closeButton)!=null?Q:s,interacting:O,position:U,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:z,toasts:j.filter(ie=>ie.position==X.position),heights:N.filter(ie=>ie.position==X.position),setHeights:E,expandByDefault:a,gap:p,loadingIcon:g,expanded:P,pauseWhenPageIsHidden:w,cn:_})}))})):null};const xX=({...e})=>{const{theme:t="system"}=lL();return o.jsx(bX,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var wX=bp.useId||(()=>{}),_X=0;function Qa(e){const[t,r]=x.useState(wX());return Ir(()=>{r(n=>n??String(_X++))},[e]),t?`radix-${t}`:""}const jX=["top","right","bottom","left"],Ao=Math.min,Qn=Math.max,gy=Math.round,Eg=Math.floor,Po=e=>({x:e,y:e}),SX={left:"right",right:"left",bottom:"top",top:"bottom"},kX={start:"end",end:"start"};function P1(e,t,r){return Qn(e,Ao(t,r))}function ui(e,t){return typeof e=="function"?e(t):e}function di(e){return e.split("-")[0]}function pf(e){return e.split("-")[1]}function EE(e){return e==="x"?"y":"x"}function CE(e){return e==="y"?"height":"width"}function To(e){return["top","bottom"].includes(di(e))?"y":"x"}function AE(e){return EE(To(e))}function NX(e,t,r){r===void 0&&(r=!1);const n=pf(e),a=AE(e),s=CE(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=vy(i)),[i,vy(i)]}function EX(e){const t=vy(e);return[T1(e),t,T1(t)]}function T1(e){return e.replace(/start|end/g,t=>kX[t])}function CX(e,t,r){const n=["left","right"],a=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?s:i;default:return[]}}function AX(e,t,r,n){const a=pf(e);let s=CX(di(e),r==="start",n);return a&&(s=s.map(i=>i+"-"+a),t&&(s=s.concat(s.map(T1)))),s}function vy(e){return e.replace(/left|right|bottom|top/g,t=>SX[t])}function PX(e){return{top:0,right:0,bottom:0,left:0,...e}}function cL(e){return typeof e!="number"?PX(e):{top:e,right:e,bottom:e,left:e}}function yy(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function f2(e,t,r){let{reference:n,floating:a}=e;const s=To(t),i=AE(t),l=CE(i),c=di(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(pf(t)){case"start":m[i]-=h*(r&&u?-1:1);break;case"end":m[i]+=h*(r&&u?-1:1);break}return m}const TX=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:i}=r,l=s.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=f2(u,n,c),h=n,m={},v=0;for(let p=0;p<l.length;p++){const{name:g,fn:b}=l[p],{x:y,y:w,data:_,reset:j}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});d=y??d,f=w??f,m={...m,[g]:{...m[g],..._}},j&&v<=50&&(v++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:d,y:f}=f2(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function hm(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=ui(t,e),v=cL(m),g=l[h?f==="floating"?"reference":"floating":f],b=yy(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(g)))==null||r?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),_=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},j=yy(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(b.top-j.top+v.top)/_.y,bottom:(j.bottom-b.bottom+v.bottom)/_.y,left:(b.left-j.left+v.left)/_.x,right:(j.right-b.right+v.right)/_.x}}const DX=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=ui(e,t)||{};if(u==null)return{};const f=cL(d),h={x:r,y:n},m=AE(a),v=CE(m),p=await i.getDimensions(u),g=m==="y",b=g?"top":"left",y=g?"bottom":"right",w=g?"clientHeight":"clientWidth",_=s.reference[v]+s.reference[m]-h[m]-s.floating[v],j=h[m]-s.reference[m],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let k=S?S[w]:0;(!k||!await(i.isElement==null?void 0:i.isElement(S)))&&(k=l.floating[w]||s.floating[v]);const N=_/2-j/2,E=k/2-p[v]/2-1,P=Ao(f[b],E),A=Ao(f[y],E),O=P,T=k-p[v]-A,C=k/2-p[v]/2+N,I=P1(O,C,T),$=!c.arrow&&pf(a)!=null&&C!==I&&s.reference[v]/2-(C<O?P:A)-p[v]/2<0,M=$?C<O?C-O:C-T:0;return{[m]:h[m]+M,data:{[m]:I,centerOffset:C-I-M,...$&&{alignmentOffset:M}},reset:$}}}),MX=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...g}=ui(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const b=di(a),y=To(l),w=di(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!p?[vy(l)]:EX(l)),S=v!=="none";!h&&S&&j.push(...AX(l,p,v,_));const k=[l,...j],N=await hm(t,g),E=[];let P=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&E.push(N[b]),f){const C=NX(a,i,_);E.push(N[C[0]],N[C[1]])}if(P=[...P,{placement:a,overflows:E}],!E.every(C=>C<=0)){var A,O;const C=(((A=s.flip)==null?void 0:A.index)||0)+1,I=k[C];if(I)return{data:{index:C,overflows:P},reset:{placement:I}};let $=(O=P.filter(M=>M.overflows[0]<=0).sort((M,D)=>M.overflows[1]-D.overflows[1])[0])==null?void 0:O.placement;if(!$)switch(m){case"bestFit":{var T;const M=(T=P.filter(D=>{if(S){const F=To(D.placement);return F===y||F==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(F=>F>0).reduce((F,z)=>F+z,0)]).sort((D,F)=>D[1]-F[1])[0])==null?void 0:T[0];M&&($=M);break}case"initialPlacement":$=l;break}if(a!==$)return{reset:{placement:$}}}return{}}}};function h2(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function m2(e){return jX.some(t=>e[t]>=0)}const OX=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=ui(e,t);switch(n){case"referenceHidden":{const s=await hm(t,{...a,elementContext:"reference"}),i=h2(s,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:m2(i)}}}case"escaped":{const s=await hm(t,{...a,altBoundary:!0}),i=h2(s,r.floating);return{data:{escapedOffsets:i,escaped:m2(i)}}}default:return{}}}}};async function RX(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=di(r),l=pf(r),c=To(r)==="y",u=["left","top"].includes(i)?-1:1,d=s&&c?-1:1,f=ui(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(m=l==="end"?v*-1:v),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const IX=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:i,middlewareData:l}=t,c=await RX(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:i}}}}},$X=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:l={fn:g=>{let{x:b,y}=g;return{x:b,y}}},...c}=ui(e,t),u={x:r,y:n},d=await hm(t,c),f=To(di(a)),h=EE(f);let m=u[h],v=u[f];if(s){const g=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=m+d[g],w=m-d[b];m=P1(y,m,w)}if(i){const g=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=v+d[g],w=v-d[b];v=P1(y,v,w)}const p=l.fn({...t,[h]:m,[f]:v});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:s,[f]:i}}}}}},LX=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:s,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ui(e,t),d={x:r,y:n},f=To(a),h=EE(f);let m=d[h],v=d[f];const p=ui(l,t),g=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",_=s.reference[h]-s.floating[w]+g.mainAxis,j=s.reference[h]+s.reference[w]-g.mainAxis;m<_?m=_:m>j&&(m=j)}if(u){var b,y;const w=h==="y"?"width":"height",_=["top","left"].includes(di(a)),j=s.reference[f]-s.floating[w]+(_&&((b=i.offset)==null?void 0:b[f])||0)+(_?0:g.crossAxis),S=s.reference[f]+s.reference[w]+(_?0:((y=i.offset)==null?void 0:y[f])||0)-(_?g.crossAxis:0);v<j?v=j:v>S&&(v=S)}return{[h]:m,[f]:v}}}},FX=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:s,platform:i,elements:l}=t,{apply:c=()=>{},...u}=ui(e,t),d=await hm(t,u),f=di(a),h=pf(a),m=To(a)==="y",{width:v,height:p}=s.floating;let g,b;f==="top"||f==="bottom"?(g=f,b=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,g=h==="end"?"top":"bottom");const y=p-d.top-d.bottom,w=v-d.left-d.right,_=Ao(p-d[g],y),j=Ao(v-d[b],w),S=!t.middlewareData.shift;let k=_,N=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=y),S&&!h){const P=Qn(d.left,0),A=Qn(d.right,0),O=Qn(d.top,0),T=Qn(d.bottom,0);m?N=v-2*(P!==0||A!==0?P+A:Qn(d.left,d.right)):k=p-2*(O!==0||T!==0?O+T:Qn(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:k});const E=await i.getDimensions(l.floating);return v!==E.width||p!==E.height?{reset:{rects:!0}}:{}}}};function w0(){return typeof window<"u"}function gf(e){return uL(e)?(e.nodeName||"").toLowerCase():"#document"}function ea(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ds(e){var t;return(t=(uL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function uL(e){return w0()?e instanceof Node||e instanceof ea(e).Node:!1}function es(e){return w0()?e instanceof Element||e instanceof ea(e).Element:!1}function Es(e){return w0()?e instanceof HTMLElement||e instanceof ea(e).HTMLElement:!1}function p2(e){return!w0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ea(e).ShadowRoot}function kp(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ts(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function BX(e){return["table","td","th"].includes(gf(e))}function _0(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function PE(e){const t=TE(),r=es(e)?ts(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function zX(e){let t=Do(e);for(;Es(t)&&!Sd(t);){if(PE(t))return t;if(_0(t))return null;t=Do(t)}return null}function TE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Sd(e){return["html","body","#document"].includes(gf(e))}function ts(e){return ea(e).getComputedStyle(e)}function j0(e){return es(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Do(e){if(gf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||p2(e)&&e.host||Ds(e);return p2(t)?t.host:t}function dL(e){const t=Do(e);return Sd(t)?e.ownerDocument?e.ownerDocument.body:e.body:Es(t)&&kp(t)?t:dL(t)}function mm(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=dL(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),i=ea(a);if(s){const l=D1(i);return t.concat(i,i.visualViewport||[],kp(a)?a:[],l&&r?mm(l):[])}return t.concat(a,mm(a,[],r))}function D1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function fL(e){const t=ts(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Es(e),s=a?e.offsetWidth:r,i=a?e.offsetHeight:n,l=gy(r)!==s||gy(n)!==i;return l&&(r=s,n=i),{width:r,height:n,$:l}}function DE(e){return es(e)?e:e.contextElement}function Lu(e){const t=DE(e);if(!Es(t))return Po(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=fL(t);let i=(s?gy(r.width):r.width)/n,l=(s?gy(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const UX=Po(0);function hL(e){const t=ea(e);return!TE()||!t.visualViewport?UX:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function HX(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ea(e)?!1:t}function Zl(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=DE(e);let i=Po(1);t&&(n?es(n)&&(i=Lu(n)):i=Lu(e));const l=HX(s,r,n)?hL(s):Po(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const h=ea(s),m=n&&es(n)?ea(n):n;let v=h,p=D1(v);for(;p&&n&&m!==v;){const g=Lu(p),b=p.getBoundingClientRect(),y=ts(p),w=b.left+(p.clientLeft+parseFloat(y.paddingLeft))*g.x,_=b.top+(p.clientTop+parseFloat(y.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,f*=g.y,c+=w,u+=_,v=ea(p),p=D1(v)}}return yy({width:d,height:f,x:c,y:u})}function qX(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",i=Ds(n),l=t?_0(t.floating):!1;if(n===i||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=Po(1);const d=Po(0),f=Es(n);if((f||!f&&!s)&&((gf(n)!=="body"||kp(i))&&(c=j0(n)),Es(n))){const h=Zl(n);u=Lu(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function WX(e){return Array.from(e.getClientRects())}function M1(e,t){const r=j0(e).scrollLeft;return t?t.left+r:Zl(Ds(e)).left+r}function KX(e){const t=Ds(e),r=j0(e),n=e.ownerDocument.body,a=Qn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Qn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+M1(e);const l=-r.scrollTop;return ts(n).direction==="rtl"&&(i+=Qn(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:i,y:l}}function GX(e,t){const r=ea(e),n=Ds(e),a=r.visualViewport;let s=n.clientWidth,i=n.clientHeight,l=0,c=0;if(a){s=a.width,i=a.height;const u=TE();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:i,x:l,y:c}}function VX(e,t){const r=Zl(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=Es(e)?Lu(e):Po(1),i=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:i,height:l,x:c,y:u}}function g2(e,t,r){let n;if(t==="viewport")n=GX(e,r);else if(t==="document")n=KX(Ds(e));else if(es(t))n=VX(t,r);else{const a=hL(e);n={...t,x:t.x-a.x,y:t.y-a.y}}return yy(n)}function mL(e,t){const r=Do(e);return r===t||!es(r)||Sd(r)?!1:ts(r).position==="fixed"||mL(r,t)}function QX(e,t){const r=t.get(e);if(r)return r;let n=mm(e,[],!1).filter(l=>es(l)&&gf(l)!=="body"),a=null;const s=ts(e).position==="fixed";let i=s?Do(e):e;for(;es(i)&&!Sd(i);){const l=ts(i),c=PE(i);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||kp(i)&&!c&&mL(e,i))?n=n.filter(d=>d!==i):a=l,i=Do(i)}return t.set(e,n),n}function YX(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?_0(t)?[]:QX(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=g2(t,d,a);return u.top=Qn(f.top,u.top),u.right=Ao(f.right,u.right),u.bottom=Ao(f.bottom,u.bottom),u.left=Qn(f.left,u.left),u},g2(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function JX(e){const{width:t,height:r}=fL(e);return{width:t,height:r}}function XX(e,t,r){const n=Es(t),a=Ds(t),s=r==="fixed",i=Zl(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=Po(0);if(n||!n&&!s)if((gf(t)!=="body"||kp(a))&&(l=j0(t)),n){const m=Zl(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&(c.x=M1(a));let u=0,d=0;if(a&&!n&&!s){const m=a.getBoundingClientRect();d=m.top+l.scrollTop,u=m.left+l.scrollLeft-M1(a,m)}const f=i.left+l.scrollLeft-c.x-u,h=i.top+l.scrollTop-c.y-d;return{x:f,y:h,width:i.width,height:i.height}}function Xw(e){return ts(e).position==="static"}function v2(e,t){if(!Es(e)||ts(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ds(e)===r&&(r=r.ownerDocument.body),r}function pL(e,t){const r=ea(e);if(_0(e))return r;if(!Es(e)){let a=Do(e);for(;a&&!Sd(a);){if(es(a)&&!Xw(a))return a;a=Do(a)}return r}let n=v2(e,t);for(;n&&BX(n)&&Xw(n);)n=v2(n,t);return n&&Sd(n)&&Xw(n)&&!PE(n)?r:n||zX(e)||r}const ZX=async function(e){const t=this.getOffsetParent||pL,r=this.getDimensions,n=await r(e.floating);return{reference:XX(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function eZ(e){return ts(e).direction==="rtl"}const tZ={convertOffsetParentRelativeRectToViewportRelativeRect:qX,getDocumentElement:Ds,getClippingRect:YX,getOffsetParent:pL,getElementRects:ZX,getClientRects:WX,getDimensions:JX,getScale:Lu,isElement:es,isRTL:eZ};function rZ(e,t){let r=null,n;const a=Ds(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(l||t(),!f||!h)return;const m=Eg(d),v=Eg(a.clientWidth-(u+f)),p=Eg(a.clientHeight-(d+h)),g=Eg(u),y={rootMargin:-m+"px "+-v+"px "+-p+"px "+-g+"px",threshold:Qn(0,Ao(1,c))||1};let w=!0;function _(j){const S=j[0].intersectionRatio;if(S!==c){if(!w)return i();S?i(!1,S):n=setTimeout(()=>{i(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(_,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(_,y)}r.observe(e)}return i(!0),s}function nZ(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=DE(e),d=a||s?[...u?mm(u):[],...mm(t)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),s&&b.addEventListener("resize",r)});const f=u&&l?rZ(u,r):null;let h=-1,m=null;i&&(m=new ResizeObserver(b=>{let[y]=b;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let v,p=c?Zl(e):null;c&&g();function g(){const b=Zl(e);p&&(b.x!==p.x||b.y!==p.y||b.width!==p.width||b.height!==p.height)&&r(),p=b,v=requestAnimationFrame(g)}return r(),()=>{var b;d.forEach(y=>{a&&y.removeEventListener("scroll",r),s&&y.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const aZ=IX,sZ=$X,iZ=MX,oZ=FX,lZ=OX,y2=DX,cZ=LX,uZ=(e,t,r)=>{const n=new Map,a={platform:tZ,...r},s={...a.platform,_c:n};return TX(e,t,{...a,platform:s})};var Tv=typeof document<"u"?x.useLayoutEffect:x.useEffect;function by(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!by(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!by(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function gL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function b2(e,t){const r=gL(e);return Math.round(t*r)/r}function Zw(e){const t=x.useRef(e);return Tv(()=>{t.current=e}),t}function dZ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=x.useState(n);by(h,n)||m(n);const[v,p]=x.useState(null),[g,b]=x.useState(null),y=x.useCallback(D=>{D!==S.current&&(S.current=D,p(D))},[]),w=x.useCallback(D=>{D!==k.current&&(k.current=D,b(D))},[]),_=s||v,j=i||g,S=x.useRef(null),k=x.useRef(null),N=x.useRef(d),E=c!=null,P=Zw(c),A=Zw(a),O=Zw(u),T=x.useCallback(()=>{if(!S.current||!k.current)return;const D={placement:t,strategy:r,middleware:h};A.current&&(D.platform=A.current),uZ(S.current,k.current,D).then(F=>{const z={...F,isPositioned:O.current!==!1};C.current&&!by(N.current,z)&&(N.current=z,Ea.flushSync(()=>{f(z)}))})},[h,t,r,A,O]);Tv(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[u]);const C=x.useRef(!1);Tv(()=>(C.current=!0,()=>{C.current=!1}),[]),Tv(()=>{if(_&&(S.current=_),j&&(k.current=j),_&&j){if(P.current)return P.current(_,j,T);T()}},[_,j,T,P,E]);const I=x.useMemo(()=>({reference:S,floating:k,setReference:y,setFloating:w}),[y,w]),$=x.useMemo(()=>({reference:_,floating:j}),[_,j]),M=x.useMemo(()=>{const D={position:r,left:0,top:0};if(!$.floating)return D;const F=b2($.floating,d.x),z=b2($.floating,d.y);return l?{...D,transform:"translate("+F+"px, "+z+"px)",...gL($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:z}},[r,l,$.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:T,refs:I,elements:$,floatingStyles:M}),[d,T,I,$,M])}const fZ=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?y2({element:n.current,padding:a}).fn(r):{}:n?y2({element:n,padding:a}).fn(r):{}}}},hZ=(e,t)=>({...aZ(e),options:[e,t]}),mZ=(e,t)=>({...sZ(e),options:[e,t]}),pZ=(e,t)=>({...cZ(e),options:[e,t]}),gZ=(e,t)=>({...iZ(e),options:[e,t]}),vZ=(e,t)=>({...oZ(e),options:[e,t]}),yZ=(e,t)=>({...lZ(e),options:[e,t]}),bZ=(e,t)=>({...fZ(e),options:[e,t]});var xZ="Arrow",vL=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...s}=e;return o.jsx(Ae.svg,{...s,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});vL.displayName=xZ;var wZ=vL;function _Z(e,t=[]){let r=[];function n(s,i){const l=x.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:m,...v}=f,p=(h==null?void 0:h[e][c])||l,g=x.useMemo(()=>v,Object.values(v));return o.jsx(p.Provider,{value:g,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,v=x.useContext(m);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const a=()=>{const s=r.map(i=>x.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,jZ(a,...t)]}function jZ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function ME(e){const[t,r]=x.useState(void 0);return Ir(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let i,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var OE="Popper",[yL,zo]=_Z(OE),[SZ,bL]=yL(OE),xL=e=>{const{__scopePopper:t,children:r}=e,[n,a]=x.useState(null);return o.jsx(SZ,{scope:t,anchor:n,onAnchorChange:a,children:r})};xL.displayName=OE;var wL="PopperAnchor",_L=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,s=bL(wL,r),i=x.useRef(null),l=tt(t,i);return x.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:o.jsx(Ae.div,{...a,ref:l})});_L.displayName=wL;var RE="PopperContent",[kZ,NZ]=yL(RE),jL=x.forwardRef((e,t)=>{var te,q,Q,ie,de,ee;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:s="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:v,...p}=e,g=bL(RE,r),[b,y]=x.useState(null),w=tt(t,Z=>y(Z)),[_,j]=x.useState(null),S=ME(_),k=(S==null?void 0:S.width)??0,N=(S==null?void 0:S.height)??0,E=n+(s!=="center"?"-"+s:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],O=A.length>0,T={padding:P,boundary:A.filter(CZ),altBoundary:O},{refs:C,floatingStyles:I,placement:$,isPositioned:M,middlewareData:D}=dZ({strategy:"fixed",placement:E,whileElementsMounted:(...Z)=>nZ(...Z,{animationFrame:m==="always"}),elements:{reference:g.anchor},middleware:[hZ({mainAxis:a+N,alignmentAxis:i}),c&&mZ({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?pZ():void 0,...T}),c&&gZ({...T}),vZ({...T,apply:({elements:Z,rects:Y,availableWidth:ne,availableHeight:fe})=>{const{width:ve,height:be}=Y.reference,je=Z.floating.style;je.setProperty("--radix-popper-available-width",`${ne}px`),je.setProperty("--radix-popper-available-height",`${fe}px`),je.setProperty("--radix-popper-anchor-width",`${ve}px`),je.setProperty("--radix-popper-anchor-height",`${be}px`)}}),_&&bZ({element:_,padding:l}),AZ({arrowWidth:k,arrowHeight:N}),h&&yZ({strategy:"referenceHidden",...T})]}),[F,z]=NL($),U=gn(v);Ir(()=>{M&&(U==null||U())},[M,U]);const R=(te=D.arrow)==null?void 0:te.x,B=(q=D.arrow)==null?void 0:q.y,K=((Q=D.arrow)==null?void 0:Q.centerOffset)!==0,[J,X]=x.useState();return Ir(()=>{b&&X(window.getComputedStyle(b).zIndex)},[b]),o.jsx("div",{ref:C.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:M?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(ie=D.transformOrigin)==null?void 0:ie.x,(de=D.transformOrigin)==null?void 0:de.y].join(" "),...((ee=D.hide)==null?void 0:ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(kZ,{scope:r,placedSide:F,onArrowChange:j,arrowX:R,arrowY:B,shouldHideArrow:K,children:o.jsx(Ae.div,{"data-side":F,"data-align":z,...p,ref:w,style:{...p.style,animation:M?void 0:"none"}})})})});jL.displayName=RE;var SL="PopperArrow",EZ={top:"bottom",right:"left",bottom:"top",left:"right"},kL=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,s=NZ(SL,n),i=EZ[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(wZ,{...a,ref:r,style:{...a.style,display:"block"}})})});kL.displayName=SL;function CZ(e){return e!==null}var AZ=e=>({name:"transformOrigin",options:e,fn(t){var g,b,y;const{placement:r,rects:n,middlewareData:a}=t,i=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=NL(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,m=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let v="",p="";return u==="bottom"?(v=i?f:`${h}px`,p=`${-c}px`):u==="top"?(v=i?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,p=i?f:`${m}px`):u==="left"&&(v=`${n.floating.width+c}px`,p=i?f:`${m}px`),{data:{x:v,y:p}}}});function NL(e){const[t,r="center"]=e.split("-");return[t,r]}var IE=xL,Np=_L,S0=jL,k0=kL,[N0,wHe]=ia("Tooltip",[zo]),E0=zo(),EL="TooltipProvider",PZ=700,O1="tooltip.open",[TZ,$E]=N0(EL),CL=e=>{const{__scopeTooltip:t,delayDuration:r=PZ,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:s}=e,[i,l]=x.useState(!0),c=x.useRef(!1),u=x.useRef(0);return x.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),o.jsx(TZ,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:x.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:x.useCallback(d=>{c.current=d},[]),disableHoverableContent:a,children:s})};CL.displayName=EL;var C0="Tooltip",[DZ,A0]=N0(C0),AL=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a=!1,onOpenChange:s,disableHoverableContent:i,delayDuration:l}=e,c=$E(C0,e.__scopeTooltip),u=E0(t),[d,f]=x.useState(null),h=Qa(),m=x.useRef(0),v=i??c.disableHoverableContent,p=l??c.delayDuration,g=x.useRef(!1),[b=!1,y]=Za({prop:n,defaultProp:a,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(O1))):c.onClose(),s==null||s(k)}}),w=x.useMemo(()=>b?g.current?"delayed-open":"instant-open":"closed",[b]),_=x.useCallback(()=>{window.clearTimeout(m.current),m.current=0,g.current=!1,y(!0)},[y]),j=x.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y(!1)},[y]),S=x.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{g.current=!0,y(!0),m.current=0},p)},[p,y]);return x.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),o.jsx(IE,{...u,children:o.jsx(DZ,{scope:t,contentId:h,open:b,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:x.useCallback(()=>{c.isOpenDelayed?S():_()},[c.isOpenDelayed,S,_]),onTriggerLeave:x.useCallback(()=>{v?j():(window.clearTimeout(m.current),m.current=0)},[j,v]),onOpen:_,onClose:j,disableHoverableContent:v,children:r})})};AL.displayName=C0;var R1="TooltipTrigger",PL=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=A0(R1,r),s=$E(R1,r),i=E0(r),l=x.useRef(null),c=tt(t,l,a.onTriggerChange),u=x.useRef(!1),d=x.useRef(!1),f=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(Np,{asChild:!0,...i,children:o.jsx(Ae.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:me(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:me(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:me(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:me(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:me(e.onBlur,a.onClose),onClick:me(e.onClick,a.onClose)})})});PL.displayName=R1;var MZ="TooltipPortal",[_He,OZ]=N0(MZ,{forceMount:void 0}),kd="TooltipContent",TL=x.forwardRef((e,t)=>{const r=OZ(kd,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...s}=e,i=A0(kd,e.__scopeTooltip);return o.jsx(rn,{present:n||i.open,children:i.disableHoverableContent?o.jsx(DL,{side:a,...s,ref:t}):o.jsx(RZ,{side:a,...s,ref:t})})}),RZ=x.forwardRef((e,t)=>{const r=A0(kd,e.__scopeTooltip),n=$E(kd,e.__scopeTooltip),a=x.useRef(null),s=tt(t,a),[i,l]=x.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=x.useCallback(()=>{l(null),f(!1)},[f]),m=x.useCallback((v,p)=>{const g=v.currentTarget,b={x:v.clientX,y:v.clientY},y=FZ(b,g.getBoundingClientRect()),w=BZ(b,y),_=zZ(p.getBoundingClientRect()),j=HZ([...w,..._]);l(j),f(!0)},[f]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(c&&d){const v=g=>m(g,d),p=g=>m(g,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),x.useEffect(()=>{if(i){const v=p=>{const g=p.target,b={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(g))||(d==null?void 0:d.contains(g)),w=!UZ(b,i);y?h():w&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,i,u,h]),o.jsx(DL,{...e,ref:s})}),[IZ,$Z]=N0(C0,{isInside:!1}),DL=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:i,...l}=e,c=A0(kd,r),u=E0(r),{onClose:d}=c;return x.useEffect(()=>(document.addEventListener(O1,d),()=>document.removeEventListener(O1,d)),[d]),x.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(jc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(S0,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(fE,{children:n}),o.jsx(IZ,{scope:r,isInside:!0,children:o.jsx(vY,{id:c.contentId,role:"tooltip",children:a||n})})]})})});TL.displayName=kd;var ML="TooltipArrow",LZ=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=E0(r);return $Z(ML,r).isInside?null:o.jsx(k0,{...a,...n,ref:t})});LZ.displayName=ML;function FZ(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,a,s)){case s:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function BZ(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function zZ(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function UZ(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const l=t[s].x,c=t[s].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(a=!a)}return a}function HZ(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),qZ(t)}function qZ(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const s=r[r.length-1],i=r[r.length-2];if((s.x-i.x)*(a.y-i.y)>=(s.y-i.y)*(a.x-i.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var WZ=CL,KZ=AL,GZ=PL,OL=TL;const RL=WZ,VZ=KZ,QZ=GZ,IL=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(OL,{ref:n,sideOffset:t,className:se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));IL.displayName=OL.displayName;var vf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ec=typeof window>"u"||"Deno"in globalThis;function ma(){}function YZ(e,t){return typeof e=="function"?e(t):e}function I1(e){return typeof e=="number"&&e>=0&&e!==1/0}function $L(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Fu(e,t){return typeof e=="function"?e(t):e}function Ha(e,t){return typeof e=="function"?e(t):e}function x2(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:s,queryKey:i,stale:l}=e;if(i){if(n){if(t.queryHash!==LE(i,t.options))return!1}else if(!pm(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function w2(e,t){const{exact:r,status:n,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(tc(t.options.mutationKey)!==tc(s))return!1}else if(!pm(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function LE(e,t){return((t==null?void 0:t.queryKeyHashFn)||tc)(e)}function tc(e){return JSON.stringify(e,(t,r)=>$1(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function pm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!pm(e[r],t[r])):!1}function LL(e,t){if(e===t)return e;const r=_2(e)&&_2(t);if(r||$1(e)&&$1(t)){const n=r?e:Object.keys(e),a=n.length,s=r?t:Object.keys(t),i=s.length,l=r?[]:{};let c=0;for(let u=0;u<i;u++){const d=r?u:s[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=LL(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return a===i&&c===a?e:l}return t}function xy(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function _2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function $1(e){if(!j2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!j2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function j2(e){return Object.prototype.toString.call(e)==="[object Object]"}function JZ(e){return new Promise(t=>{setTimeout(t,e)})}function L1(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?LL(e,t):t}function XZ(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function ZZ(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var FE=Symbol();function FL(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===FE?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Cl,Qi,ed,Y$,eee=(Y$=class extends vf{constructor(){super();Me(this,Cl);Me(this,Qi);Me(this,ed);ye(this,ed,t=>{if(!ec&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){W(this,Qi)||this.setEventListener(W(this,ed))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,Qi))==null||t.call(this),ye(this,Qi,void 0))}setEventListener(t){var r;ye(this,ed,t),(r=W(this,Qi))==null||r.call(this),ye(this,Qi,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){W(this,Cl)!==t&&(ye(this,Cl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof W(this,Cl)=="boolean"?W(this,Cl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Cl=new WeakMap,Qi=new WeakMap,ed=new WeakMap,Y$),BE=new eee,td,Yi,rd,J$,tee=(J$=class extends vf{constructor(){super();Me(this,td,!0);Me(this,Yi);Me(this,rd);ye(this,rd,t=>{if(!ec&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){W(this,Yi)||this.setEventListener(W(this,rd))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,Yi))==null||t.call(this),ye(this,Yi,void 0))}setEventListener(t){var r;ye(this,rd,t),(r=W(this,Yi))==null||r.call(this),ye(this,Yi,t(this.setOnline.bind(this)))}setOnline(t){W(this,td)!==t&&(ye(this,td,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return W(this,td)}},td=new WeakMap,Yi=new WeakMap,rd=new WeakMap,J$),wy=new tee;function F1(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function ree(e){return Math.min(1e3*2**e,3e4)}function BL(e){return(e??"online")==="online"?wy.isOnline():!0}var zL=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function e_(e){return e instanceof zL}function UL(e){let t=!1,r=0,n=!1,a;const s=F1(),i=p=>{var g;n||(h(new zL(p)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>BE.isFocused()&&(e.networkMode==="always"||wy.isOnline())&&e.canRun(),d=()=>BL(e.networkMode)&&e.canRun(),f=p=>{var g;n||(n=!0,(g=e.onSuccess)==null||g.call(e,p),a==null||a(),s.resolve(p))},h=p=>{var g;n||(n=!0,(g=e.onError)==null||g.call(e,p),a==null||a(),s.reject(p))},m=()=>new Promise(p=>{var g;a=b=>{(n||u())&&p(b)},(g=e.onPause)==null||g.call(e)}).then(()=>{var p;a=void 0,n||(p=e.onContinue)==null||p.call(e)}),v=()=>{if(n)return;let p;const g=r===0?e.initialPromise:void 0;try{p=g??e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(f).catch(b=>{var S;if(n)return;const y=e.retry??(ec?0:3),w=e.retryDelay??ree,_=typeof w=="function"?w(r,b):w,j=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,b);if(t||!j){h(b);return}r++,(S=e.onFail)==null||S.call(e,r,b),JZ(_).then(()=>u()?void 0:m()).then(()=>{t?h(b):v()})})};return{promise:s,cancel:i,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():m().then(v),s)}}function nee(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=l=>setTimeout(l,0);const s=l=>{t?e.push(l):a(()=>{r(l)})},i=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var gr=nee(),Al,X$,HL=(X$=class{constructor(){Me(this,Al)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),I1(this.gcTime)&&ye(this,Al,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ec?1/0:5*60*1e3))}clearGcTimeout(){W(this,Al)&&(clearTimeout(W(this,Al)),ye(this,Al,void 0))}},Al=new WeakMap,X$),nd,ad,fa,zr,mp,Pl,La,Fs,Z$,aee=(Z$=class extends HL{constructor(t){super();Me(this,La);Me(this,nd);Me(this,ad);Me(this,fa);Me(this,zr);Me(this,mp);Me(this,Pl);ye(this,Pl,!1),ye(this,mp,t.defaultOptions),this.setOptions(t.options),this.observers=[],ye(this,fa,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ye(this,nd,see(this.options)),this.state=t.state??W(this,nd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=W(this,zr))==null?void 0:t.promise}setOptions(t){this.options={...W(this,mp),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,fa).remove(this)}setData(t,r){const n=L1(this.state.data,t,this.options);return Je(this,La,Fs).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Je(this,La,Fs).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=W(this,zr))==null?void 0:n.promise;return(a=W(this,zr))==null||a.cancel(t),r?r.then(ma).catch(ma):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,nd))}isActive(){return this.observers.some(t=>Ha(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===FE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!$L(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=W(this,zr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=W(this,zr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),W(this,fa).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(W(this,zr)&&(W(this,Pl)?W(this,zr).cancel({revert:!0}):W(this,zr).cancelRetry()),this.scheduleGc()),W(this,fa).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Je(this,La,Fs).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(W(this,zr))return W(this,zr).continueRetry(),W(this,zr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ye(this,Pl,!0),n.signal)})},s=()=>{const f=FL(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return a(h),ye(this,Pl,!1),this.options.persister?this.options.persister(f,h,this):f(h)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};a(i),(c=this.options.behavior)==null||c.onFetch(i,this),ye(this,ad,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&Je(this,La,Fs).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,m,v,p;e_(f)&&f.silent||Je(this,La,Fs).call(this,{type:"error",error:f}),e_(f)||((m=(h=W(this,fa).config).onError)==null||m.call(h,f,this),(p=(v=W(this,fa).config).onSettled)==null||p.call(v,this.state.data,f,this)),this.scheduleGc()};return ye(this,zr,UL({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,m,v,p;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(g){l(g);return}(m=(h=W(this,fa).config).onSuccess)==null||m.call(h,f,this),(p=(v=W(this,fa).config).onSettled)==null||p.call(v,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Je(this,La,Fs).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Je(this,La,Fs).call(this,{type:"pause"})},onContinue:()=>{Je(this,La,Fs).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),W(this,zr).start()}},nd=new WeakMap,ad=new WeakMap,fa=new WeakMap,zr=new WeakMap,mp=new WeakMap,Pl=new WeakMap,La=new WeakSet,Fs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...qL(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return e_(a)&&a.revert&&W(this,ad)?{...W(this,ad),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),gr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),W(this,fa).notify({query:this,type:"updated",action:t})})},Z$);function qL(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:BL(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function see(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var fs,e4,iee=(e4=class extends vf{constructor(t={}){super();Me(this,fs);this.config=t,ye(this,fs,new Map)}build(t,r,n){const a=r.queryKey,s=r.queryHash??LE(a,r);let i=this.get(s);return i||(i=new aee({cache:this,queryKey:a,queryHash:s,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){W(this,fs).has(t.queryHash)||(W(this,fs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=W(this,fs).get(t.queryHash);r&&(t.destroy(),r===t&&W(this,fs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){gr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return W(this,fs).get(t)}getAll(){return[...W(this,fs).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>x2(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>x2(t,n)):r}notify(t){gr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){gr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){gr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},fs=new WeakMap,e4),hs,on,Tl,ms,Oi,t4,oee=(t4=class extends HL{constructor(t){super();Me(this,ms);Me(this,hs);Me(this,on);Me(this,Tl);this.mutationId=t.mutationId,ye(this,on,t.mutationCache),ye(this,hs,[]),this.state=t.state||WL(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){W(this,hs).includes(t)||(W(this,hs).push(t),this.clearGcTimeout(),W(this,on).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ye(this,hs,W(this,hs).filter(r=>r!==t)),this.scheduleGc(),W(this,on).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){W(this,hs).length||(this.state.status==="pending"?this.scheduleGc():W(this,on).remove(this))}continue(){var t;return((t=W(this,Tl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,s,i,l,c,u,d,f,h,m,v,p,g,b,y,w,_,j,S,k;ye(this,Tl,UL({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(N,E)=>{Je(this,ms,Oi).call(this,{type:"failed",failureCount:N,error:E})},onPause:()=>{Je(this,ms,Oi).call(this,{type:"pause"})},onContinue:()=>{Je(this,ms,Oi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,on).canRun(this)}));const r=this.state.status==="pending",n=!W(this,Tl).canStart();try{if(!r){Je(this,ms,Oi).call(this,{type:"pending",variables:t,isPaused:n}),await((s=(a=W(this,on).config).onMutate)==null?void 0:s.call(a,t,this));const E=await((l=(i=this.options).onMutate)==null?void 0:l.call(i,t));E!==this.state.context&&Je(this,ms,Oi).call(this,{type:"pending",context:E,variables:t,isPaused:n})}const N=await W(this,Tl).start();return await((u=(c=W(this,on).config).onSuccess)==null?void 0:u.call(c,N,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,N,t,this.state.context)),await((m=(h=W(this,on).config).onSettled)==null?void 0:m.call(h,N,null,this.state.variables,this.state.context,this)),await((p=(v=this.options).onSettled)==null?void 0:p.call(v,N,null,t,this.state.context)),Je(this,ms,Oi).call(this,{type:"success",data:N}),N}catch(N){try{throw await((b=(g=W(this,on).config).onError)==null?void 0:b.call(g,N,t,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,N,t,this.state.context)),await((j=(_=W(this,on).config).onSettled)==null?void 0:j.call(_,void 0,N,this.state.variables,this.state.context,this)),await((k=(S=this.options).onSettled)==null?void 0:k.call(S,void 0,N,t,this.state.context)),N}finally{Je(this,ms,Oi).call(this,{type:"error",error:N})}}finally{W(this,on).runNext(this)}}},hs=new WeakMap,on=new WeakMap,Tl=new WeakMap,ms=new WeakSet,Oi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),gr.batch(()=>{W(this,hs).forEach(n=>{n.onMutationUpdate(t)}),W(this,on).notify({mutation:this,type:"updated",action:t})})},t4);function WL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qn,pp,r4,lee=(r4=class extends vf{constructor(t={}){super();Me(this,qn);Me(this,pp);this.config=t,ye(this,qn,new Map),ye(this,pp,Date.now())}build(t,r,n){const a=new oee({mutationCache:this,mutationId:++ig(this,pp)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){const r=Cg(t),n=W(this,qn).get(r)??[];n.push(t),W(this,qn).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Cg(t);if(W(this,qn).has(r)){const a=(n=W(this,qn).get(r))==null?void 0:n.filter(s=>s!==t);a&&(a.length===0?W(this,qn).delete(r):W(this,qn).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=W(this,qn).get(Cg(t)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=W(this,qn).get(Cg(t)))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){gr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...W(this,qn).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>w2(r,n))}findAll(t={}){return this.getAll().filter(r=>w2(t,r))}notify(t){gr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return gr.batch(()=>Promise.all(t.map(r=>r.continue().catch(ma))))}},qn=new WeakMap,pp=new WeakMap,r4);function Cg(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function S2(e){return{onFetch:(t,r)=>{var d,f,h,m,v;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,s=((m=t.state.data)==null?void 0:m.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},b=FL(t.options,t.fetchOptions),y=async(w,_,j)=>{if(p)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const S={queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};g(S);const k=await b(S),{maxPages:N}=t.options,E=j?ZZ:XZ;return{pages:E(w.pages,k,N),pageParams:E(w.pageParams,_,N)}};if(a&&s.length){const w=a==="backward",_=w?cee:k2,j={pages:s,pageParams:i},S=_(n,j);l=await y(j,S,w)}else{const w=e??s.length;do{const _=c===0?i[0]??n.initialPageParam:k2(n,l);if(c>0&&_==null)break;l=await y(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,g;return(g=(p=t.options).persister)==null?void 0:g.call(p,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function k2(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function cee(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var nr,Ji,Xi,sd,id,Zi,od,ld,n4,uee=(n4=class{constructor(e={}){Me(this,nr);Me(this,Ji);Me(this,Xi);Me(this,sd);Me(this,id);Me(this,Zi);Me(this,od);Me(this,ld);ye(this,nr,e.queryCache||new iee),ye(this,Ji,e.mutationCache||new lee),ye(this,Xi,e.defaultOptions||{}),ye(this,sd,new Map),ye(this,id,new Map),ye(this,Zi,0)}mount(){ig(this,Zi)._++,W(this,Zi)===1&&(ye(this,od,BE.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,nr).onFocus())})),ye(this,ld,wy.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,nr).onOnline())})))}unmount(){var e,t;ig(this,Zi)._--,W(this,Zi)===0&&((e=W(this,od))==null||e.call(this),ye(this,od,void 0),(t=W(this,ld))==null||t.call(this),ye(this,ld,void 0))}isFetching(e){return W(this,nr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return W(this,Ji).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=W(this,nr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=W(this,nr).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Fu(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return W(this,nr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=W(this,nr).get(n.queryHash),s=a==null?void 0:a.state.data,i=YZ(t,s);if(i!==void 0)return W(this,nr).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return gr.batch(()=>W(this,nr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=W(this,nr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=W(this,nr);gr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=W(this,nr),n={type:"active",...e};return gr.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=gr.batch(()=>W(this,nr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(ma).catch(ma)}invalidateQueries(e={},t={}){return gr.batch(()=>{if(W(this,nr).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=gr.batch(()=>W(this,nr).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(ma)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(ma)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=W(this,nr).build(this,t);return r.isStaleByTime(Fu(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ma).catch(ma)}fetchInfiniteQuery(e){return e.behavior=S2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ma).catch(ma)}ensureInfiniteQueryData(e){return e.behavior=S2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return wy.isOnline()?W(this,Ji).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,nr)}getMutationCache(){return W(this,Ji)}getDefaultOptions(){return W(this,Xi)}setDefaultOptions(e){ye(this,Xi,e)}setQueryDefaults(e,t){W(this,sd).set(tc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...W(this,sd).values()];let r={};return t.forEach(n=>{pm(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){W(this,id).set(tc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...W(this,id).values()];let r={};return t.forEach(n=>{pm(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...W(this,Xi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=LE(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===FE&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...W(this,Xi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){W(this,nr).clear(),W(this,Ji).clear()}},nr=new WeakMap,Ji=new WeakMap,Xi=new WeakMap,sd=new WeakMap,id=new WeakMap,Zi=new WeakMap,od=new WeakMap,ld=new WeakMap,n4),Sn,lt,gp,ln,Dl,cd,eo,ps,vp,ud,dd,Ml,Ol,to,fd,vt,vh,B1,z1,U1,H1,q1,W1,K1,KL,a4,dee=(a4=class extends vf{constructor(t,r){super();Me(this,vt);Me(this,Sn);Me(this,lt);Me(this,gp);Me(this,ln);Me(this,Dl);Me(this,cd);Me(this,eo);Me(this,ps);Me(this,vp);Me(this,ud);Me(this,dd);Me(this,Ml);Me(this,Ol);Me(this,to);Me(this,fd,new Set);this.options=r,ye(this,Sn,t),ye(this,ps,null),ye(this,eo,F1()),this.options.experimental_prefetchInRender||W(this,eo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(W(this,lt).addObserver(this),N2(W(this,lt),this.options)?Je(this,vt,vh).call(this):this.updateResult(),Je(this,vt,H1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return G1(W(this,lt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return G1(W(this,lt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Je(this,vt,q1).call(this),Je(this,vt,W1).call(this),W(this,lt).removeObserver(this)}setOptions(t,r){const n=this.options,a=W(this,lt);if(this.options=W(this,Sn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ha(this.options.enabled,W(this,lt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Je(this,vt,K1).call(this),W(this,lt).setOptions(this.options),n._defaulted&&!xy(this.options,n)&&W(this,Sn).getQueryCache().notify({type:"observerOptionsUpdated",query:W(this,lt),observer:this});const s=this.hasListeners();s&&E2(W(this,lt),a,this.options,n)&&Je(this,vt,vh).call(this),this.updateResult(r),s&&(W(this,lt)!==a||Ha(this.options.enabled,W(this,lt))!==Ha(n.enabled,W(this,lt))||Fu(this.options.staleTime,W(this,lt))!==Fu(n.staleTime,W(this,lt)))&&Je(this,vt,B1).call(this);const i=Je(this,vt,z1).call(this);s&&(W(this,lt)!==a||Ha(this.options.enabled,W(this,lt))!==Ha(n.enabled,W(this,lt))||i!==W(this,to))&&Je(this,vt,U1).call(this,i)}getOptimisticResult(t){const r=W(this,Sn).getQueryCache().build(W(this,Sn),t),n=this.createResult(r,t);return hee(this,n)&&(ye(this,ln,n),ye(this,cd,this.options),ye(this,Dl,W(this,lt).state)),n}getCurrentResult(){return W(this,ln)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){W(this,fd).add(t)}getCurrentQuery(){return W(this,lt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=W(this,Sn).defaultQueryOptions(t),n=W(this,Sn).getQueryCache().build(W(this,Sn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Je(this,vt,vh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),W(this,ln)))}createResult(t,r){var N;const n=W(this,lt),a=this.options,s=W(this,ln),i=W(this,Dl),l=W(this,cd),u=t!==n?t.state:W(this,gp),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const E=this.hasListeners(),P=!E&&N2(t,r),A=E&&E2(t,n,r,a);(P||A)&&(f={...f,...qL(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:p,status:g}=f;if(r.select&&f.data!==void 0)if(s&&f.data===(i==null?void 0:i.data)&&r.select===W(this,vp))m=W(this,ud);else try{ye(this,vp,r.select),m=r.select(f.data),m=L1(s==null?void 0:s.data,m,r),ye(this,ud,m),ye(this,ps,null)}catch(E){ye(this,ps,E)}else m=f.data;if(r.placeholderData!==void 0&&m===void 0&&g==="pending"){let E;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))E=s.data;else if(E=typeof r.placeholderData=="function"?r.placeholderData((N=W(this,dd))==null?void 0:N.state.data,W(this,dd)):r.placeholderData,r.select&&E!==void 0)try{E=r.select(E),ye(this,ps,null)}catch(P){ye(this,ps,P)}E!==void 0&&(g="success",m=L1(s==null?void 0:s.data,E,r),h=!0)}W(this,ps)&&(v=W(this,ps),m=W(this,ud),p=Date.now(),g="error");const b=f.fetchStatus==="fetching",y=g==="pending",w=g==="error",_=y&&b,j=m!==void 0,k={status:g,fetchStatus:f.fetchStatus,isPending:y,isSuccess:g==="success",isError:w,isInitialLoading:_,isLoading:_,data:m,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!y,isLoadingError:w&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:w&&j,isStale:zE(t,r),refetch:this.refetch,promise:W(this,eo)};if(this.options.experimental_prefetchInRender){const E=O=>{k.status==="error"?O.reject(k.error):k.data!==void 0&&O.resolve(k.data)},P=()=>{const O=ye(this,eo,k.promise=F1());E(O)},A=W(this,eo);switch(A.status){case"pending":t.queryHash===n.queryHash&&E(A);break;case"fulfilled":(k.status==="error"||k.data!==A.value)&&P();break;case"rejected":(k.status!=="error"||k.error!==A.reason)&&P();break}}return k}updateResult(t){const r=W(this,ln),n=this.createResult(W(this,lt),this.options);if(ye(this,Dl,W(this,lt).state),ye(this,cd,this.options),W(this,Dl).data!==void 0&&ye(this,dd,W(this,lt)),xy(n,r))return;ye(this,ln,n);const a={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,l=typeof i=="function"?i():i;if(l==="all"||!l&&!W(this,fd).size)return!0;const c=new Set(l??W(this,fd));return this.options.throwOnError&&c.add("error"),Object.keys(W(this,ln)).some(u=>{const d=u;return W(this,ln)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&s()&&(a.listeners=!0),Je(this,vt,KL).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Je(this,vt,H1).call(this)}},Sn=new WeakMap,lt=new WeakMap,gp=new WeakMap,ln=new WeakMap,Dl=new WeakMap,cd=new WeakMap,eo=new WeakMap,ps=new WeakMap,vp=new WeakMap,ud=new WeakMap,dd=new WeakMap,Ml=new WeakMap,Ol=new WeakMap,to=new WeakMap,fd=new WeakMap,vt=new WeakSet,vh=function(t){Je(this,vt,K1).call(this);let r=W(this,lt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ma)),r},B1=function(){Je(this,vt,q1).call(this);const t=Fu(this.options.staleTime,W(this,lt));if(ec||W(this,ln).isStale||!I1(t))return;const n=$L(W(this,ln).dataUpdatedAt,t)+1;ye(this,Ml,setTimeout(()=>{W(this,ln).isStale||this.updateResult()},n))},z1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(W(this,lt)):this.options.refetchInterval)??!1},U1=function(t){Je(this,vt,W1).call(this),ye(this,to,t),!(ec||Ha(this.options.enabled,W(this,lt))===!1||!I1(W(this,to))||W(this,to)===0)&&ye(this,Ol,setInterval(()=>{(this.options.refetchIntervalInBackground||BE.isFocused())&&Je(this,vt,vh).call(this)},W(this,to)))},H1=function(){Je(this,vt,B1).call(this),Je(this,vt,U1).call(this,Je(this,vt,z1).call(this))},q1=function(){W(this,Ml)&&(clearTimeout(W(this,Ml)),ye(this,Ml,void 0))},W1=function(){W(this,Ol)&&(clearInterval(W(this,Ol)),ye(this,Ol,void 0))},K1=function(){const t=W(this,Sn).getQueryCache().build(W(this,Sn),this.options);if(t===W(this,lt))return;const r=W(this,lt);ye(this,lt,t),ye(this,gp,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},KL=function(t){gr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(W(this,ln))}),W(this,Sn).getQueryCache().notify({query:W(this,lt),type:"observerResultsUpdated"})})},a4);function fee(e,t){return Ha(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function N2(e,t){return fee(e,t)||e.state.data!==void 0&&G1(e,t,t.refetchOnMount)}function G1(e,t,r){if(Ha(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&zE(e,t)}return!1}function E2(e,t,r,n){return(e!==t||Ha(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&zE(e,r)}function zE(e,t){return Ha(t.enabled,e)!==!1&&e.isStaleByTime(Fu(t.staleTime,e))}function hee(e,t){return!xy(e.getCurrentResult(),t)}var ro,no,kn,qs,ai,Dv,V1,s4,mee=(s4=class extends vf{constructor(r,n){super();Me(this,ai);Me(this,ro);Me(this,no);Me(this,kn);Me(this,qs);ye(this,ro,r),this.setOptions(n),this.bindMethods(),Je(this,ai,Dv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=W(this,ro).defaultMutationOptions(r),xy(this.options,n)||W(this,ro).getMutationCache().notify({type:"observerOptionsUpdated",mutation:W(this,kn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&tc(n.mutationKey)!==tc(this.options.mutationKey)?this.reset():((a=W(this,kn))==null?void 0:a.state.status)==="pending"&&W(this,kn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=W(this,kn))==null||r.removeObserver(this)}onMutationUpdate(r){Je(this,ai,Dv).call(this),Je(this,ai,V1).call(this,r)}getCurrentResult(){return W(this,no)}reset(){var r;(r=W(this,kn))==null||r.removeObserver(this),ye(this,kn,void 0),Je(this,ai,Dv).call(this),Je(this,ai,V1).call(this)}mutate(r,n){var a;return ye(this,qs,n),(a=W(this,kn))==null||a.removeObserver(this),ye(this,kn,W(this,ro).getMutationCache().build(W(this,ro),this.options)),W(this,kn).addObserver(this),W(this,kn).execute(r)}},ro=new WeakMap,no=new WeakMap,kn=new WeakMap,qs=new WeakMap,ai=new WeakSet,Dv=function(){var n;const r=((n=W(this,kn))==null?void 0:n.state)??WL();ye(this,no,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},V1=function(r){gr.batch(()=>{var n,a,s,i,l,c,u,d;if(W(this,qs)&&this.hasListeners()){const f=W(this,no).variables,h=W(this,no).context;(r==null?void 0:r.type)==="success"?((a=(n=W(this,qs)).onSuccess)==null||a.call(n,r.data,f,h),(i=(s=W(this,qs)).onSettled)==null||i.call(s,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=W(this,qs)).onError)==null||c.call(l,r.error,f,h),(d=(u=W(this,qs)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(W(this,no))})})},s4),GL=x.createContext(void 0),Ce=e=>{const t=x.useContext(GL);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},pee=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(GL.Provider,{value:e,children:t})),VL=x.createContext(!1),gee=()=>x.useContext(VL);VL.Provider;function vee(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var yee=x.createContext(vee()),bee=()=>x.useContext(yee);function QL(e,t){return typeof e=="function"?e(...t):!!e}function YL(){}var xee=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},wee=e=>{x.useEffect(()=>{e.clearReset()},[e])},_ee=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&QL(r,[e.error,n]),jee=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},See=(e,t)=>e.isLoading&&e.isFetching&&!t,kee=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,C2=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Nee(e,t,r){var d,f,h,m,v;const n=Ce(),a=gee(),s=bee(),i=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,i),i._optimisticResults=a?"isRestoring":"optimistic",jee(i),xee(i,s),wee(s);const l=!n.getQueryCache().get(i.queryHash),[c]=x.useState(()=>new t(n,i)),u=c.getOptimisticResult(i);if(x.useSyncExternalStore(x.useCallback(p=>{const g=a?()=>{}:c.subscribe(gr.batchCalls(p));return c.updateResult(),g},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),kee(i,u))throw C2(i,c,s);if(_ee({result:u,errorResetBoundary:s,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash)}))throw u.error;if((m=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||m.call(h,i,u),i.experimental_prefetchInRender&&!ec&&See(u,a)){const p=l?C2(i,c,s):(v=n.getQueryCache().get(i.queryHash))==null?void 0:v.promise;p==null||p.catch(YL).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function Ze(e,t){return Nee(e,dee)}function Ee(e,t){const r=Ce(),[n]=x.useState(()=>new mee(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const a=x.useSyncExternalStore(x.useCallback(i=>n.subscribe(gr.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=x.useCallback((i,l)=>{n.mutate(i,l).catch(YL)},[n]);if(a.error&&QL(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gm(){return gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gm.apply(this,arguments)}var io;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(io||(io={}));const A2="popstate";function Eee(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:i,hash:l}=n.location;return Q1("",{pathname:s,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:XL(a)}return Aee(t,r,null,e)}function wr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function JL(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Cee(){return Math.random().toString(36).substr(2,8)}function P2(e,t){return{usr:e.state,key:e.key,idx:t}}function Q1(e,t,r,n){return r===void 0&&(r=null),gm({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?yf(t):t,{state:r,key:t&&t.key||n||Cee()})}function XL(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function yf(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Aee(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,i=a.history,l=io.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(gm({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=io.Pop;let g=d(),b=g==null?null:g-u;u=g,c&&c({action:l,location:p.location,delta:b})}function h(g,b){l=io.Push;let y=Q1(p.location,g,b);u=d()+1;let w=P2(y,u),_=p.createHref(y);try{i.pushState(w,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(_)}s&&c&&c({action:l,location:p.location,delta:1})}function m(g,b){l=io.Replace;let y=Q1(p.location,g,b);u=d();let w=P2(y,u),_=p.createHref(y);i.replaceState(w,"",_),s&&c&&c({action:l,location:p.location,delta:0})}function v(g){let b=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof g=="string"?g:XL(g);return y=y.replace(/ $/,"%20"),wr(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let p={get action(){return l},get location(){return e(a,i)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(A2,f),c=g,()=>{a.removeEventListener(A2,f),c=null}},createHref(g){return t(a,g)},createURL:v,encodeLocation(g){let b=v(g);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(g){return i.go(g)}};return p}var T2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(T2||(T2={}));function Pee(e,t,r){return r===void 0&&(r="/"),Tee(e,t,r,!1)}function Tee(e,t,r,n){let a=typeof t=="string"?yf(t):t,s=tF(a.pathname||"/",r);if(s==null)return null;let i=ZL(e);Dee(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=Hee(s);l=zee(i[c],u,n)}return l}function ZL(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,i,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};c.relativePath.startsWith("/")&&(wr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Fl([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(wr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ZL(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:Fee(u,s.index),routesMeta:d})};return e.forEach((s,i)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,i);else for(let c of eF(s.path))a(s,i,c)}),t}function eF(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let i=eF(n.join("/")),l=[];return l.push(...i.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Dee(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Bee(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Mee=/^:[\w-]+$/,Oee=3,Ree=2,Iee=1,$ee=10,Lee=-2,D2=e=>e==="*";function Fee(e,t){let r=e.split("/"),n=r.length;return r.some(D2)&&(n+=Lee),t&&(n+=Ree),r.filter(a=>!D2(a)).reduce((a,s)=>a+(Mee.test(s)?Oee:s===""?Iee:$ee),n)}function Bee(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function zee(e,t,r){let{routesMeta:n}=e,a={},s="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=M2({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=M2({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:Fl([s,f.pathname]),pathnameBase:Qee(Fl([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Fl([s,f.pathnameBase]))}return i}function M2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Uee(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";i=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const v=l[f];return m&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:e}}function Uee(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),JL(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Hee(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return JL(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function tF(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function qee(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?yf(e):e;return{pathname:r?r.startsWith("/")?r:Wee(r,t):t,search:Yee(n),hash:Jee(a)}}function Wee(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function t_(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kee(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Gee(e,t){let r=Kee(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Vee(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=yf(e):(a=gm({},e),wr(!a.pathname||!a.pathname.includes("?"),t_("?","pathname","search",a)),wr(!a.pathname||!a.pathname.includes("#"),t_("#","pathname","hash",a)),wr(!a.search||!a.search.includes("#"),t_("#","search","hash",a)));let s=e===""||a.pathname==="",i=s?"/":a.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=qee(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Fl=e=>e.join("/").replace(/\/\/+/g,"/"),Qee=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Yee=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Jee=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Xee(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const rF=["post","put","patch","delete"];new Set(rF);const Zee=["get",...rF];new Set(Zee);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vm.apply(this,arguments)}const UE=x.createContext(null),ete=x.createContext(null),P0=x.createContext(null),T0=x.createContext(null),Uo=x.createContext({outlet:null,matches:[],isDataRoute:!1}),nF=x.createContext(null);function D0(){return x.useContext(T0)!=null}function Ep(){return D0()||wr(!1),x.useContext(T0).location}function aF(e){x.useContext(P0).static||x.useLayoutEffect(e)}function kc(){let{isDataRoute:e}=x.useContext(Uo);return e?pte():tte()}function tte(){D0()||wr(!1);let e=x.useContext(UE),{basename:t,future:r,navigator:n}=x.useContext(P0),{matches:a}=x.useContext(Uo),{pathname:s}=Ep(),i=JSON.stringify(Gee(a,r.v7_relativeSplatPath)),l=x.useRef(!1);return aF(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=Vee(u,JSON.parse(i),s,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Fl([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,s,e])}const rte=x.createContext(null);function nte(e){let t=x.useContext(Uo).outlet;return t&&x.createElement(rte.Provider,{value:e},t)}function M0(){let{matches:e}=x.useContext(Uo),t=e[e.length-1];return t?t.params:{}}function ate(e,t){return ste(e,t)}function ste(e,t,r,n){D0()||wr(!1);let{navigator:a}=x.useContext(P0),{matches:s}=x.useContext(Uo),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Ep(),d;if(t){var f;let g=typeof t=="string"?yf(t):t;c==="/"||(f=g.pathname)!=null&&f.startsWith(c)||wr(!1),d=g}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let g=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=Pee(e,{pathname:m}),p=ute(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:Fl([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:Fl([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,r,n);return t&&p?x.createElement(T0.Provider,{value:{location:vm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:io.Pop}},p):p}function ite(){let e=mte(),t=Xee(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const ote=x.createElement(ite,null);class lte extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Uo.Provider,{value:this.props.routeContext},x.createElement(nF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cte(e){let{routeContext:t,match:r,children:n}=e,a=x.useContext(UE);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Uo.Provider,{value:t},n)}function ute(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||wr(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let m,v=!1,p=null,g=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||ote,c&&(u<0&&h===0?(v=!0,g=null):u===h&&(v=!0,g=f.route.hydrateFallbackElement||null)));let b=t.concat(i.slice(0,h+1)),y=()=>{let w;return m?w=p:v?w=g:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(cte,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(lte,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var sF=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(sF||{}),_y=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_y||{});function dte(e){let t=x.useContext(UE);return t||wr(!1),t}function fte(e){let t=x.useContext(ete);return t||wr(!1),t}function hte(e){let t=x.useContext(Uo);return t||wr(!1),t}function iF(e){let t=hte(),r=t.matches[t.matches.length-1];return r.route.id||wr(!1),r.route.id}function mte(){var e;let t=x.useContext(nF),r=fte(_y.UseRouteError),n=iF(_y.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function pte(){let{router:e}=dte(sF.UseNavigateStable),t=iF(_y.UseNavigateStable),r=x.useRef(!1);return aF(()=>{r.current=!0}),x.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,vm({fromRouteId:t},s)))},[e,t])}function gte(e){return nte(e.context)}function St(e){wr(!1)}function vte(e){let{basename:t="/",children:r=null,location:n,navigationType:a=io.Pop,navigator:s,static:i=!1,future:l}=e;D0()&&wr(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:s,static:i,future:vm({v7_relativeSplatPath:!1},l)}),[c,l,s,i]);typeof n=="string"&&(n=yf(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:v="default"}=n,p=x.useMemo(()=>{let g=tF(d,c);return g==null?null:{location:{pathname:g,search:f,hash:h,state:m,key:v},navigationType:a}},[c,d,f,h,m,v,a]);return p==null?null:x.createElement(P0.Provider,{value:u},x.createElement(T0.Provider,{children:r,value:p}))}function HE(e){let{children:t,location:r}=e;return ate(Y1(t),r)}new Promise(()=>{});function Y1(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let s=[...t,a];if(n.type===x.Fragment){r.push.apply(r,Y1(n.props.children,s));return}n.type!==St&&wr(!1),!n.props.index||!n.props.children||wr(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Y1(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const yte="6";try{window.__reactRouterVersion=yte}catch{}const bte="startTransition",O2=bp[bte];function xte(e){let{basename:t,children:r,future:n,window:a}=e,s=x.useRef();s.current==null&&(s.current=Eee({window:a,v5Compat:!0}));let i=s.current,[l,c]=x.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&O2?O2(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>i.listen(d),[i,d]),x.createElement(vte,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}var R2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(R2||(R2={}));var I2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(I2||(I2={}));const wte="modulepreload",_te=function(e){return"/"+e},$2={},rc=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=_te(c),c in $2)return;$2[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":wte,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},jte=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>rc(async()=>{const{default:n}=await Promise.resolve().then(()=>bf);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class qE extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Ste extends qE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class kte extends qE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Nte extends qE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var J1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(J1||(J1={}));var Ete=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Cte{constructor(t,{headers:r={},customFetch:n,region:a=J1.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=jte(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Ete(this,void 0,void 0,function*(){try{const{headers:a,method:s,body:i}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(v=>{throw new Ste(v)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new kte(d);if(!d.ok)throw new Nte(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(a){return{data:null,error:a}}})}}var An={},WE={},O0={},Cp={},R0={},I0={},Ate=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Nd=Ate();const Pte=Nd.fetch,oF=Nd.fetch.bind(Nd),lF=Nd.Headers,Tte=Nd.Request,Dte=Nd.Response,bf=Object.freeze(Object.defineProperty({__proto__:null,Headers:lF,Request:Tte,Response:Dte,default:oF,fetch:Pte},Symbol.toStringTag,{value:"Module"})),Mte=vG(bf);var $0={};Object.defineProperty($0,"__esModule",{value:!0});let Ote=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};$0.default=Ote;var cF=Qr&&Qr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(I0,"__esModule",{value:!0});const Rte=cF(Mte),Ite=cF($0);let $te=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Rte.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var i,l,c;let u=null,d=null,f=null,h=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const b=await s.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=b:d=JSON.parse(b))}const p=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),g=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const p=await s.text();try{u=JSON.parse(p),Array.isArray(u)&&s.status===404&&(d=[],u=null,h=200,m="OK")}catch{s.status===404&&p===""?(h=204,m="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new Ite.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(a=a.catch(s=>{var i,l,c;return{error:{message:`${(i=s==null?void 0:s.name)!==null&&i!==void 0?i:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};I0.default=$te;var Lte=Qr&&Qr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(R0,"__esModule",{value:!0});const Fte=Lte(I0);let Bte=class extends Fte.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:s=a}={}){const i=s?`${s}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const s=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:s=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};R0.default=Bte;var zte=Qr&&Qr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cp,"__esModule",{value:!0});const Ute=zte(R0);let Hte=class extends Ute.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let s="";a==="plain"?s="pl":a==="phrase"?s="ph":a==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Cp.default=Hte;var qte=Qr&&Qr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(O0,"__esModule",{value:!0});const Xf=qte(Cp);let Wte=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let s=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Xf.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Xf.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:s=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Xf.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Xf.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Xf.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};O0.default=Wte;var L0={},F0={};Object.defineProperty(F0,"__esModule",{value:!0});F0.version=void 0;F0.version="0.0.0-automated";Object.defineProperty(L0,"__esModule",{value:!0});L0.DEFAULT_HEADERS=void 0;const Kte=F0;L0.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Kte.version}`};var uF=Qr&&Qr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(WE,"__esModule",{value:!0});const Gte=uF(O0),Vte=uF(Cp),Qte=L0;let Yte=class dF{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},Qte.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new Gte.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new dF(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(i="POST",c=r);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new Vte.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};WE.default=Yte;var xf=Qr&&Qr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(An,"__esModule",{value:!0});An.PostgrestError=An.PostgrestBuilder=An.PostgrestTransformBuilder=An.PostgrestFilterBuilder=An.PostgrestQueryBuilder=An.PostgrestClient=void 0;const fF=xf(WE);An.PostgrestClient=fF.default;const hF=xf(O0);An.PostgrestQueryBuilder=hF.default;const mF=xf(Cp);An.PostgrestFilterBuilder=mF.default;const pF=xf(R0);An.PostgrestTransformBuilder=pF.default;const gF=xf(I0);An.PostgrestBuilder=gF.default;const vF=xf($0);An.PostgrestError=vF.default;var Jte=An.default={PostgrestClient:fF.default,PostgrestQueryBuilder:hF.default,PostgrestFilterBuilder:mF.default,PostgrestTransformBuilder:pF.default,PostgrestBuilder:gF.default,PostgrestError:vF.default};const{PostgrestClient:Xte,PostgrestQueryBuilder:AHe,PostgrestFilterBuilder:PHe,PostgrestTransformBuilder:THe,PostgrestBuilder:DHe,PostgrestError:MHe}=Jte,Zte="2.11.2",ere={"X-Client-Info":`realtime-js/${Zte}`},tre="1.0.0",yF=1e4,rre=1e3;var Bu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Bu||(Bu={}));var Un;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Un||(Un={}));var Ba;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ba||(Ba={}));var X1;(function(e){e.websocket="websocket"})(X1||(X1={}));var ml;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ml||(ml={}));class nre{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+a));i=i+a;const c=n.decode(t.slice(i,i+s));i=i+s;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class bF{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Dt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Dt||(Dt={}));const L2=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,i)=>(s[i]=are(i,e,t,a),s),{})},are=(e,t,r,n)=>{const a=t.find(l=>l.name===e),s=a==null?void 0:a.type,i=r[e];return s&&!n.includes(s)?xF(s,i):Z1(i)},xF=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return lre(t,r)}switch(e){case Dt.bool:return sre(t);case Dt.float4:case Dt.float8:case Dt.int2:case Dt.int4:case Dt.int8:case Dt.numeric:case Dt.oid:return ire(t);case Dt.json:case Dt.jsonb:return ore(t);case Dt.timestamp:return cre(t);case Dt.abstime:case Dt.date:case Dt.daterange:case Dt.int4range:case Dt.int8range:case Dt.money:case Dt.reltime:case Dt.text:case Dt.time:case Dt.timestamptz:case Dt.timetz:case Dt.tsrange:case Dt.tstzrange:return Z1(t);default:return Z1(t)}},Z1=e=>e,sre=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ire=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ore=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},lre=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const i=e.slice(1,r);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(l=>xF(t,l))}return e},cre=e=>typeof e=="string"?e.replace(" ","T"):e,wF=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class r_{constructor(t,r,n={},a=yF){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var F2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(F2||(F2={}));class $h{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$h.syncState(this.state,a,s,i),this.pendingDiffs.forEach(c=>{this.state=$h.syncDiff(this.state,c,s,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=$h.syncDiff(this.state,a,s,i),l())}),this.onJoin((a,s,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:i})}),this.onLeave((a,s,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=s[u];if(f){const h=d.map(g=>g.presence_ref),m=f.map(g=>g.presence_ref),v=d.filter(g=>m.indexOf(g.presence_ref)<0),p=f.filter(g=>h.indexOf(g.presence_ref)<0);v.length>0&&(l[u]=v),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var B2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(B2||(B2={}));var z2;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(z2||(z2={}));var zs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(zs||(zs={}));class KE{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Un.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new r_(this,Ba.join,this.params,this.timeout),this.rejoinTimer=new bF(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Un.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Un.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ba.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new $h(this),this.broadcastEndpointURL=wF(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:i,private:l}}=this.params;this._onError(d=>t==null?void 0:t(zs.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(zs.CLOSED));const c={},u={broadcast:s,presence:i,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(zs.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let p=0;p<m;p++){const g=h[p],{filter:{event:b,schema:y,table:w,filter:_}}=g,j=d&&d[p];if(j&&j.event===b&&j.schema===y&&j.table===w&&j.filter===_)v.push(Object.assign(Object.assign({},g),{id:j.id}));else{this.unsubscribe(),t==null||t(zs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(zs.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(zs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(zs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Un.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ba.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new r_(this,Ba.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new r_(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ba;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var v,p,g;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(p=m.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===i}).map(m=>m.callback(h,n)):(s=this.bindings[i])===null||s===void 0||s.filter(m=>{var v,p,g,b,y,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const _=m.id,j=(v=m.filter)===null||v===void 0?void 0:v.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(y=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:p,table:g,commit_timestamp:b,type:y,errors:w}=v;h=Object.assign(Object.assign({},{schema:p,table:g,commit_timestamp:b,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(v))}m.callback(h,n)})}_isClosed(){return this.state===Un.closed}_isJoined(){return this.state===Un.joined}_isJoining(){return this.state===Un.joining}_isLeaving(){return this.state===Un.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&KE.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ba.close,{},t)}_onError(t){this._on(Ba.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Un.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=L2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=L2(t.columns,t.old_record)),r}}const ure=()=>{},dre=typeof WebSocket<"u",fre=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hre{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=ere,this.params={},this.timeout=yF,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ure,this.conn=null,this.sendBuffer=[],this.serializer=new nre,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...l)=>rc(async()=>{const{default:c}=await Promise.resolve().then(()=>bf);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${X1.websocket}`,this.httpEndpoint=wF(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,i)=>i(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new bF(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(dre){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new mre(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),rc(async()=>{const{default:t}=await import("./browser-Bkd6c1yH.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tre}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Bu.connecting:return ml.Connecting;case Bu.open:return ml.Open;case Bu.closing:return ml.Closing;default:return ml.Closed}}isConnected(){return this.connectionState()===ml.Open}channel(t,r={config:{}}){const n=new KE(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:a,ref:s}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(Ba.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(rre,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:s,ref:i}=r;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${a} ${i&&"("+i+")"||""}`,s),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,s,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ba.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([fre],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class mre{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Bu.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class GE extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Sr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class pre extends GE{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class eS extends GE{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var gre=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const _F=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>rc(async()=>{const{default:n}=await Promise.resolve().then(()=>bf);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},vre=()=>gre(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield rc(()=>Promise.resolve().then(()=>bf),void 0)).Response:Response}),tS=e=>{if(Array.isArray(e))return e.map(r=>tS(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=tS(n)}),t};var Nc=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const n_=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yre=(e,t,r)=>Nc(void 0,void 0,void 0,function*(){const n=yield vre();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new pre(n_(a),e.status||500))}).catch(a=>{t(new eS(n_(a),a))}):t(new eS(n_(e),e))}),bre=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Ap(e,t,r,n,a,s){return Nc(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,bre(t,n,a,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>yre(c,l,n))})})}function jy(e,t,r,n){return Nc(this,void 0,void 0,function*(){return Ap(e,"GET",t,r,n)})}function zi(e,t,r,n,a){return Nc(this,void 0,void 0,function*(){return Ap(e,"POST",t,n,a,r)})}function xre(e,t,r,n,a){return Nc(this,void 0,void 0,function*(){return Ap(e,"PUT",t,n,a,r)})}function wre(e,t,r,n){return Nc(this,void 0,void 0,function*(){return Ap(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function jF(e,t,r,n,a){return Nc(this,void 0,void 0,function*(){return Ap(e,"DELETE",t,n,a,r)})}var _n=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const _re={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},U2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jre{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=_F(a)}uploadOrUpdate(t,r,n,a){return _n(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},U2),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",i.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:s,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(Sr(s))return{data:null,error:s};throw s}})}upload(t,r,n){return _n(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return _n(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),i=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:U2.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Sr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return _n(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const s=yield zi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+s.url),l=i.searchParams.get("token");if(!l)throw new GE("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(Sr(n))return{data:null,error:n};throw n}})}update(t,r,n){return _n(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return _n(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Sr(a))return{data:null,error:a};throw a}})}copy(t,r,n){return _n(this,void 0,void 0,function*(){try{return{data:{path:(yield zi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Sr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return _n(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield zi(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(a){if(Sr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return _n(this,void 0,void 0,function*(){try{const a=yield zi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(a){if(Sr(a))return{data:null,error:a};throw a}})}download(t,r){return _n(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield jy(this.fetch,`${this.url}/${a}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Sr(l))return{data:null,error:l};throw l}})}info(t){return _n(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield jy(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:tS(n),error:null}}catch(n){if(Sr(n))return{data:null,error:n};throw n}})}exists(t){return _n(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield wre(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Sr(n)&&n instanceof eS){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&a.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return _n(this,void 0,void 0,function*(){try{return{data:yield jF(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Sr(r))return{data:null,error:r};throw r}})}list(t,r,n){return _n(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},_re),r),{prefix:t||""});return{data:yield zi(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Sr(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Sre="2.7.1",kre={"X-Client-Info":`storage-js/${Sre}`};var Uc=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Nre{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},kre),r),this.fetch=_F(n)}listBuckets(){return Uc(this,void 0,void 0,function*(){try{return{data:yield jy(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Sr(t))return{data:null,error:t};throw t}})}getBucket(t){return Uc(this,void 0,void 0,function*(){try{return{data:yield jy(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Sr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Uc(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Sr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Uc(this,void 0,void 0,function*(){try{return{data:yield xre(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Sr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Uc(this,void 0,void 0,function*(){try{return{data:yield zi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Sr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Uc(this,void 0,void 0,function*(){try{return{data:yield jF(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Sr(r))return{data:null,error:r};throw r}})}}class Ere extends Nre{constructor(t,r={},n){super(t,r,n)}from(t){return new jre(this.url,this.headers,t,this.fetch)}}const Cre="2.49.8";let yh="";typeof Deno<"u"?yh="deno":typeof document<"u"?yh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yh="react-native":yh="node";const Are={"X-Client-Info":`supabase-js-${yh}/${Cre}`},Pre={headers:Are},Tre={schema:"public"},Dre={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Mre={};var Ore=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Rre=e=>{let t;return e?t=e:typeof fetch>"u"?t=oF:t=fetch,(...r)=>t(...r)},Ire=()=>typeof Headers>"u"?lF:Headers,$re=(e,t,r)=>{const n=Rre(r),a=Ire();return(s,i)=>Ore(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},i),{headers:u}))})};var Lre=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function Fre(e){return e.endsWith("/")?e:e+"/"}function Bre(e,t){var r,n;const{db:a,auth:s,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Lre(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const SF="2.69.1",nu=30*1e3,rS=3,a_=rS*nu,zre="http://localhost:9999",Ure="supabase.auth.token",Hre={"X-Client-Info":`gotrue-js/${SF}`},nS="X-Supabase-Api-Version",kF={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qre=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Wre=6e5;class VE extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Qe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Kre extends VE{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Gre(e){return Qe(e)&&e.name==="AuthApiError"}class NF extends VE{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ho extends VE{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Ri extends Ho{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Vre(e){return Qe(e)&&e.name==="AuthSessionMissingError"}class s_ extends Ho{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ag extends Ho{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Pg extends Ho{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Qre(e){return Qe(e)&&e.name==="AuthImplicitGrantRedirectError"}class H2 extends Ho{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class aS extends Ho{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function i_(e){return Qe(e)&&e.name==="AuthRetryableFetchError"}class q2 extends Ho{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Lh extends Ho{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const W2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),K2=` 	
\r=`.split(""),Yre=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<K2.length;t+=1)e[K2[t].charCodeAt(0)]=-2;for(let t=0;t<W2.length;t+=1)e[W2[t].charCodeAt(0)]=t;return e})();function EF(e,t,r){const n=Yre[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function G2(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=i=>{Zre(i,n,r)};for(let i=0;i<e.length;i+=1)EF(e.charCodeAt(i),a,s);return t.join("")}function Jre(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Xre(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Jre(n,t)}}function Zre(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ene(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)EF(e.charCodeAt(a),r,n);return new Uint8Array(t)}function tne(e){const t=[];return Xre(e,r=>t.push(r)),new Uint8Array(t)}function rne(e){return Math.round(Date.now()/1e3)+e}function nne(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const us=()=>typeof window<"u"&&typeof document<"u",el={tested:!1,writable:!1},Fh=()=>{if(!us())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(el.tested)return el.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),el.tested=!0,el.writable=!0}catch{el.tested=!0,el.writable=!1}return el.writable};function ane(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const CF=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>rc(async()=>{const{default:n}=await Promise.resolve().then(()=>bf);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},sne=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",AF=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Tg=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Dg=async(e,t)=>{await e.removeItem(t)};class B0{constructor(){this.promise=new B0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}B0.promiseConstructor=Promise;function o_(e){const t=e.split(".");if(t.length!==3)throw new Lh("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!qre.test(t[n]))throw new Lh("JWT not in base64url format");return{header:JSON.parse(G2(t[0])),payload:JSON.parse(G2(t[1])),signature:ene(t[2]),raw:{header:t[0],payload:t[1]}}}async function ine(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function one(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await e(s);if(!t(s,null,i)){n(i);return}}catch(i){if(!t(s,i)){a(i);return}}})()})}function lne(e){return("0"+e.toString(16)).substr(-2)}function cne(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,lne).join("")}async function une(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function dne(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await une(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hc(e,t,r=!1){const n=cne();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await AF(e,`${t}-code-verifier`,a);const s=await dne(n);return[s,n===s?"plain":"s256"]}const fne=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hne(e){const t=e.headers.get(nS);if(!t||!t.match(fne))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function mne(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function pne(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var gne=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const ol=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vne=[502,503,504];async function V2(e){var t;if(!sne(e))throw new aS(ol(e),0);if(vne.includes(e.status))throw new aS(ol(e),e.status);let r;try{r=await e.json()}catch(s){throw new NF(ol(s),s)}let n;const a=hne(e);if(a&&a.getTime()>=kF["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new q2(ol(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ri}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new q2(ol(r),e.status,r.weak_password.reasons);throw new Kre(ol(r),e.status||500,n)}const yne=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function it(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[nS]||(s[nS]=kF["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await bne(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function bne(e,t,r,n,a,s){const i=yne(t,n,a,s);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new aS(ol(c),0)}if(l.ok||await V2(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await V2(c)}}function Ii(e){var t;let r=null;jne(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=rne(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Q2(e){const t=Ii(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ki(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function xne(e){return{data:e,error:null}}function wne(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,i=gne(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function _ne(e){return e}function jne(e){return e.access_token&&e.refresh_token&&e.expires_in}var Sne=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class kne{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=CF(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await it(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await it(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ki})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Sne(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await it(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:wne,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Qe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await it(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ki})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await it(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:_ne});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const p=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);u[`${g}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Qe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await it(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ki})}catch(r){if(Qe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await it(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ki})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await it(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ki})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await it(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await it(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}}const Nne={getItem:e=>Fh()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Fh()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Fh()&&globalThis.localStorage.removeItem(e)}};function Y2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Ene(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const qc={debug:!!(globalThis&&Fh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class PF extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Cne extends PF{}async function Ane(e,t,r){qc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),qc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){qc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{qc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw qc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Cne(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(qc.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Ene();const Pne={url:zre,storageKey:Ure,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hre,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function J2(e,t,r){return await r()}class ym{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ym.nextInstanceID,ym.nextInstanceID+=1,this.instanceID>0&&us()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Pne),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new kne({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=CF(a.fetch),this.lock=a.lock||J2,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:us()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Ane:this.lock=J2,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Fh()?this.storage=Nne:(this.memoryStorage={},this.storage=Y2(this.memoryStorage)):(this.memoryStorage={},this.storage=Y2(this.memoryStorage)),us()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${SF}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=ane(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),us()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Qre(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Qe(r)?{error:r}:{error:new NF("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ii}),{data:i,error:l}=s;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Qe(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Hc(this.storage,this.storageKey)),s=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:Ii})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ii})}else throw new Ag("You must provide either an email or phone number and a password");const{data:i,error:l}=s;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Qe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:i,options:l}=t;r=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Q2})}else if("phone"in t){const{phone:s,password:i,options:l}=t;r=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Q2})}else throw new Ag("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new s_}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Qe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Tg(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:s,error:i}=await it(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ii});if(await Dg(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new s_}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:i})}catch(s){if(Qe(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:i}=t,l=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ii}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new s_}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Qe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,s,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Hc(this.storage,this.storageKey));const{error:f}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ag("You must provide either an email or phone number.")}catch(l){if(Qe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await it(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Ii});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Qe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let s=null,i=null;return this.flowType==="pkce"&&([s,i]=await Hc(this.storage,this.storageKey)),await it(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:xne})}catch(s){if(Qe(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ri;const{error:a}=await it(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Qe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:i}=await it(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:i,error:l}=await it(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Ag("You must provide either an email or phone number and a type")}catch(r){if(Qe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Tg(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<a_:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ki}):await this._useSession(async r=>{var n,a,s;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ri}:await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Ki})})}catch(r){if(Qe(r))return Vre(r)&&(await this._removeSession(),await Dg(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Ri;const i=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Hc(this.storage,this.storageKey));const{data:u,error:d}=await it(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Ki});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ri;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:i}=o_(t.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Qe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ri;const{session:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Qe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!us())throw new Pg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Pg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new H2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new H2("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!i||!u)throw new Pg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=nu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:p,error:g}=await this._getUser(s);if(g)throw g;const b={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(Qe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Tg(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{error:s};const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(Gre(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Dg(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=nne(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Hc(this.storage,this.storageKey,!0));try{return await it(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Qe(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var i,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await it(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return us()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Qe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)throw i;return await it(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await one(async a=>(a>0&&await ine(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await it(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ii})),(a,s)=>{const i=200*Math.pow(2,a);return s&&i_(s)&&Date.now()+i-n<nu})}catch(n){if(this._debug(r,"error",n),Qe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),us()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Tg(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<a_;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${a_}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),i_(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ri;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new B0;const{data:s,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!s.session)throw new Ri;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(a,"error",s),Qe(s)){const i={session:null,error:s};return i_(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(i),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await AF(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Dg(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&us()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),nu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/nu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${nu}ms, refresh threshold is ${rS} ticks`),a<=rS&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof PF)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!us()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await Hc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await it(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await it(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return{data:null,error:s};const{data:i,error:l}=await it(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?{data:null,error:s}:await it(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Qe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),s=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:a,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:s}=t;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=o_(a.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(i=>i.kid===t);if(n||(n=this.jwks.keys.find(i=>i.kid===t),n&&this.jwks_cached_at+Wre>Date.now()))return n;const{data:a,error:s}=await it(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!a.keys||a.keys.length===0)throw new Lh("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(i=>i.kid===t),!n)throw new Lh("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};n=m.session.access_token}const{header:a,payload:s,signature:i,raw:{header:l,payload:c}}=o_(n);if(mne(s.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:a,signature:i},error:null}}const u=pne(a.alg),d=await this.fetchJwk(a.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,tne(`${l}.${c}`)))throw new Lh("Invalid JWT signature");return{data:{claims:s,header:a,signature:i},error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}}ym.nextInstanceID=0;const Tne=ym;class Dne extends Tne{constructor(t){super(t)}}var Mne=function(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class One{constructor(t,r,n){var a,s,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Fre(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Tre,realtime:Mre,auth:Object.assign(Object.assign({},Dre),{storageKey:u}),global:Pre},f=Bre(n??{},d);this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=$re(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Xte(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new Cte(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ere(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Mne(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:s,flowType:i,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Dne({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new hre(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Rne=(e,t,r)=>new One(e,t,r),Ine="https://tksnfarlivfrulbdkrid.supabase.co",$ne="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRrc25mYXJsaXZmcnVsYmRrcmlkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgzMTk1ODMsImV4cCI6MjA2Mzg5NTU4M30._LvaFvjYLVEk-omqPi0z3N2MogtFsvmerVxtFwRE6vE",G=Rne(Ine,$ne,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),TF=x.createContext(void 0),ct=()=>{const e=x.useContext(TF);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},Lne=({children:e})=>{const[t,r]=x.useState(null),[n,a]=x.useState(null),[s,i]=x.useState(null),[l,c]=x.useState(!0);x.useEffect(()=>{const{data:{subscription:f}}=G.auth.onAuthStateChange(async(h,m)=>{a(m),r((m==null?void 0:m.user)??null),m!=null&&m.user?setTimeout(async()=>{try{const{data:v}=await G.from("profiles").select("*").eq("id",m.user.id).single();i(v)}catch(v){console.error("Error fetching profile:",v)}finally{c(!1)}},0):(i(null),c(!1))});return G.auth.getSession().then(({data:{session:h}})=>{a(h),r((h==null?void 0:h.user)??null),h!=null&&h.user?setTimeout(async()=>{try{const{data:m}=await G.from("profiles").select("*").eq("id",h.user.id).single();i(m)}catch(m){console.error("Error fetching profile:",m)}finally{c(!1)}},0):c(!1)}),()=>f.unsubscribe()},[]);const d={user:t,session:n,profile:s,loading:l,signOut:async()=>{await G.auth.signOut()}};return o.jsx(TF.Provider,{value:d,children:e})},l_=768;function Fne(){const[e,t]=x.useState(void 0);return x.useEffect(()=>{const r=window.matchMedia(`(max-width: ${l_-1}px)`),n=()=>{t(window.innerWidth<l_)};return r.addEventListener("change",n),t(window.innerWidth<l_),()=>r.removeEventListener("change",n)},[]),!!e}const bm=Sc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),V=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},s)=>{const i=n?In:"button";return o.jsx(i,{className:se(bm({variant:t,size:r,className:e})),ref:s,...a})});V.displayName="Button";const xe=x.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));xe.displayName="Input";var Bne="Separator",X2="horizontal",zne=["horizontal","vertical"],DF=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=X2,...a}=e,s=Une(n)?n:X2,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return o.jsx(Ae.div,{"data-orientation":s,...l,...a,ref:t})});DF.displayName=Bne;function Une(e){return zne.includes(e)}var MF=DF;const OF=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>o.jsx(MF,{ref:a,decorative:r,orientation:t,className:se("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));OF.displayName=MF.displayName;var c_="focusScope.autoFocusOnMount",u_="focusScope.autoFocusOnUnmount",Z2={bubbles:!1,cancelable:!0},Hne="FocusScope",Pp=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...i}=e,[l,c]=x.useState(null),u=gn(a),d=gn(s),f=x.useRef(null),h=tt(t,p=>c(p)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:$i(f.current,{select:!0})},g=function(w){if(m.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||$i(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&$i(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const y=new MutationObserver(b);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),y.disconnect()}}},[n,l,m.paused]),x.useEffect(()=>{if(l){tD.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(c_,Z2);l.addEventListener(c_,u),l.dispatchEvent(b),b.defaultPrevented||(qne(Qne(RF(l)),{select:!0}),document.activeElement===p&&$i(l))}return()=>{l.removeEventListener(c_,u),setTimeout(()=>{const b=new CustomEvent(u_,Z2);l.addEventListener(u_,d),l.dispatchEvent(b),b.defaultPrevented||$i(p??document.body,{select:!0}),l.removeEventListener(u_,d),tD.remove(m)},0)}}},[l,u,d,m]);const v=x.useCallback(p=>{if(!r&&!n||m.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(g&&b){const y=p.currentTarget,[w,_]=Wne(y);w&&_?!p.shiftKey&&b===_?(p.preventDefault(),r&&$i(w,{select:!0})):p.shiftKey&&b===w&&(p.preventDefault(),r&&$i(_,{select:!0})):b===y&&p.preventDefault()}},[r,n,m.paused]);return o.jsx(Ae.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});Pp.displayName=Hne;function qne(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if($i(n,{select:t}),document.activeElement!==r)return}function Wne(e){const t=RF(e),r=eD(t,e),n=eD(t.reverse(),e);return[r,n]}function RF(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function eD(e,t){for(const r of e)if(!Kne(r,{upTo:t}))return r}function Kne(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Gne(e){return e instanceof HTMLInputElement&&"select"in e}function $i(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Gne(e)&&t&&e.select()}}var tD=Vne();function Vne(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=rD(e,t),e.unshift(t)},remove(t){var r;e=rD(e,t),(r=e[0])==null||r.resume()}}}function rD(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Qne(e){return e.filter(t=>t.tagName!=="A")}var d_=0;function z0(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??nD()),document.body.insertAdjacentElement("beforeend",e[1]??nD()),d_++,()=>{d_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),d_--}},[])}function nD(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Kr=function(){return Kr=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Kr.apply(this,arguments)};function QE(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function IF(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Bh="right-scroll-bar-position",zh="width-before-scroll-bar",Yne="with-scroll-bars-hidden",Jne="--removed-body-scroll-bar-size";function f_(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Xne(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Zne=typeof window<"u"?x.useLayoutEffect:x.useEffect,aD=new WeakMap;function $F(e,t){var r=Xne(null,function(n){return e.forEach(function(a){return f_(a,n)})});return Zne(function(){var n=aD.get(r);if(n){var a=new Set(n),s=new Set(e),i=r.current;a.forEach(function(l){s.has(l)||f_(l,null)}),s.forEach(function(l){a.has(l)||f_(l,i)})}aD.set(r,e)},[e]),r}function eae(e){return e}function tae(e,t){t===void 0&&(t=eae);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var i=t(s,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(s){for(n=!0;r.length;){var i=r;r=[],i.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(s),i=r}var c=function(){var d=i;i=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return a}function LF(e){e===void 0&&(e={});var t=tae(null);return t.options=Kr({async:!0,ssr:!1},e),t}var FF=function(e){var t=e.sideCar,r=QE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,Kr({},r))};FF.isSideCarExport=!0;function BF(e,t){return e.useMedium(t),FF}var zF=LF(),h_=function(){},U0=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:h_,onWheelCapture:h_,onTouchMoveCapture:h_}),a=n[0],s=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,v=e.inert,p=e.allowPinchZoom,g=e.as,b=g===void 0?"div":g,y=e.gapMode,w=QE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,j=$F([r,t]),S=Kr(Kr({},w),a);return x.createElement(x.Fragment,null,d&&x.createElement(_,{sideCar:zF,removeScrollBar:u,shards:f,noIsolation:m,inert:v,setCallbacks:s,allowPinchZoom:!!p,lockRef:r,gapMode:y}),i?x.cloneElement(x.Children.only(l),Kr(Kr({},S),{ref:j})):x.createElement(b,Kr({},S,{className:c,ref:j}),l))});U0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};U0.classNames={fullWidth:zh,zeroRight:Bh};var rae=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nae(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=rae();return t&&e.setAttribute("nonce",t),e}function aae(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function sae(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var iae=function(){var e=0,t=null;return{add:function(r){e==0&&(t=nae())&&(aae(t,r),sae(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},oae=function(){var e=iae();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},YE=function(){var e=oae(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},lae={left:0,top:0,right:0,gap:0},m_=function(e){return parseInt(e||"",10)||0},cae=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[m_(r),m_(n),m_(a)]},uae=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return lae;var t=cae(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},dae=YE(),zu="data-scroll-locked",fae=function(e,t,r,n){var a=e.left,s=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Yne,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(zu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bh,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(zh,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Bh," .").concat(Bh,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(zh," .").concat(zh,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(zu,`] {
    `).concat(Jne,": ").concat(l,`px;
  }
`)},sD=function(){var e=parseInt(document.body.getAttribute(zu)||"0",10);return isFinite(e)?e:0},hae=function(){x.useEffect(function(){return document.body.setAttribute(zu,(sD()+1).toString()),function(){var e=sD()-1;e<=0?document.body.removeAttribute(zu):document.body.setAttribute(zu,e.toString())}},[])},UF=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;hae();var s=x.useMemo(function(){return uae(a)},[a]);return x.createElement(dae,{styles:fae(s,!t,a,r?"":"!important")})},sS=!1;if(typeof window<"u")try{var Mg=Object.defineProperty({},"passive",{get:function(){return sS=!0,!0}});window.addEventListener("test",Mg,Mg),window.removeEventListener("test",Mg,Mg)}catch{sS=!1}var Wc=sS?{passive:!1}:!1,mae=function(e){return e.tagName==="TEXTAREA"},HF=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!mae(e)&&r[t]==="visible")},pae=function(e){return HF(e,"overflowY")},gae=function(e){return HF(e,"overflowX")},iD=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=qF(e,n);if(a){var s=WF(e,n),i=s[1],l=s[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},vae=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},yae=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},qF=function(e,t){return e==="v"?pae(t):gae(t)},WF=function(e,t){return e==="v"?vae(t):yae(t)},bae=function(e,t){return e==="h"&&t==="rtl"?-1:1},xae=function(e,t,r,n,a){var s=bae(e,window.getComputedStyle(t).direction),i=s*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var m=WF(e,l),v=m[0],p=m[1],g=m[2],b=p-g-s*v;(v||b)&&qF(e,l)&&(f+=b,h+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},Og=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},oD=function(e){return[e.deltaX,e.deltaY]},lD=function(e){return e&&"current"in e?e.current:e},wae=function(e,t){return e[0]===t[0]&&e[1]===t[1]},_ae=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},jae=0,Kc=[];function Sae(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(jae++)[0],s=x.useState(YE)[0],i=x.useRef(e);x.useEffect(function(){i.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=IF([e.lockRef.current],(e.shards||[]).map(lD),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var b=Og(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-b[0],_="deltaY"in p?p.deltaY:y[1]-b[1],j,S=p.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&k==="h"&&S.type==="range")return!1;var N=iD(k,S);if(!N)return!0;if(N?j=k:(j=k==="v"?"h":"v",N=iD(k,S)),!N)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=j),!j)return!0;var E=n.current||j;return xae(E,g,p,E==="h"?w:_,!0)},[]),c=x.useCallback(function(p){var g=p;if(!(!Kc.length||Kc[Kc.length-1]!==s)){var b="deltaY"in g?oD(g):Og(g),y=t.current.filter(function(j){return j.name===g.type&&(j.target===g.target||g.target===j.shadowParent)&&wae(j.delta,b)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(i.current.shards||[]).map(lD).filter(Boolean).filter(function(j){return j.contains(g.target)}),_=w.length>0?l(g,w[0]):!i.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),u=x.useCallback(function(p,g,b,y){var w={name:p,delta:g,target:b,should:y,shadowParent:kae(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=x.useCallback(function(p){r.current=Og(p),n.current=void 0},[]),f=x.useCallback(function(p){u(p.type,oD(p),p.target,l(p,e.lockRef.current))},[]),h=x.useCallback(function(p){u(p.type,Og(p),p.target,l(p,e.lockRef.current))},[]);x.useEffect(function(){return Kc.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Wc),document.addEventListener("touchmove",c,Wc),document.addEventListener("touchstart",d,Wc),function(){Kc=Kc.filter(function(p){return p!==s}),document.removeEventListener("wheel",c,Wc),document.removeEventListener("touchmove",c,Wc),document.removeEventListener("touchstart",d,Wc)}},[]);var m=e.removeScrollBar,v=e.inert;return x.createElement(x.Fragment,null,v?x.createElement(s,{styles:_ae(a)}):null,m?x.createElement(UF,{gapMode:e.gapMode}):null)}function kae(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Nae=BF(zF,Sae);var Tp=x.forwardRef(function(e,t){return x.createElement(U0,Kr({},e,{ref:t,sideCar:Nae}))});Tp.classNames=U0.classNames;var Eae=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Gc=new WeakMap,Rg=new WeakMap,Ig={},p_=0,KF=function(e){return e&&(e.host||KF(e.parentNode))},Cae=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=KF(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Aae=function(e,t,r,n){var a=Cae(t,Array.isArray(e)?e:[e]);Ig[r]||(Ig[r]=new WeakMap);var s=Ig[r],i=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),v=m!==null&&m!=="false",p=(Gc.get(h)||0)+1,g=(s.get(h)||0)+1;Gc.set(h,p),s.set(h,g),i.push(h),p===1&&v&&Rg.set(h,!0),g===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),p_++,function(){i.forEach(function(f){var h=Gc.get(f)-1,m=s.get(f)-1;Gc.set(f,h),s.set(f,m),h||(Rg.has(f)||f.removeAttribute(n),Rg.delete(f)),m||f.removeAttribute(r)}),p_--,p_||(Gc=new WeakMap,Gc=new WeakMap,Rg=new WeakMap,Ig={})}},Dp=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Eae(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Aae(n,a,r,"aria-hidden")):function(){return null}},JE="Dialog",[GF,VF]=ia(JE),[Pae,ss]=GF(JE),QF=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!0}=e,l=x.useRef(null),c=x.useRef(null),[u=!1,d]=Za({prop:n,defaultProp:a,onChange:s});return o.jsx(Pae,{scope:t,triggerRef:l,contentRef:c,contentId:Qa(),titleId:Qa(),descriptionId:Qa(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};QF.displayName=JE;var YF="DialogTrigger",JF=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ss(YF,r),s=tt(t,a.triggerRef);return o.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":eC(a.open),...n,ref:s,onClick:me(e.onClick,a.onOpenToggle)})});JF.displayName=YF;var XE="DialogPortal",[Tae,XF]=GF(XE,{forceMount:void 0}),ZF=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=ss(XE,t);return o.jsx(Tae,{scope:t,forceMount:r,children:x.Children.map(n,i=>o.jsx(rn,{present:r||s.open,children:o.jsx(ff,{asChild:!0,container:a,children:i})}))})};ZF.displayName=XE;var Sy="DialogOverlay",e6=x.forwardRef((e,t)=>{const r=XF(Sy,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=ss(Sy,e.__scopeDialog);return s.modal?o.jsx(rn,{present:n||s.open,children:o.jsx(Dae,{...a,ref:t})}):null});e6.displayName=Sy;var Dae=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ss(Sy,r);return o.jsx(Tp,{as:In,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(Ae.div,{"data-state":eC(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),nc="DialogContent",t6=x.forwardRef((e,t)=>{const r=XF(nc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=ss(nc,e.__scopeDialog);return o.jsx(rn,{present:n||s.open,children:s.modal?o.jsx(Mae,{...a,ref:t}):o.jsx(Oae,{...a,ref:t})})});t6.displayName=nc;var Mae=x.forwardRef((e,t)=>{const r=ss(nc,e.__scopeDialog),n=x.useRef(null),a=tt(t,r.contentRef,n);return x.useEffect(()=>{const s=n.current;if(s)return Dp(s)},[]),o.jsx(r6,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:me(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&s.preventDefault()}),onFocusOutside:me(e.onFocusOutside,s=>s.preventDefault())})}),Oae=x.forwardRef((e,t)=>{const r=ss(nc,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return o.jsx(r6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),r6=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...i}=e,l=ss(nc,r),c=x.useRef(null),u=tt(t,c);return z0(),o.jsxs(o.Fragment,{children:[o.jsx(Pp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:o.jsx(jc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":eC(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Iae,{titleId:l.titleId}),o.jsx(Lae,{contentRef:c,descriptionId:l.descriptionId})]})]})}),ZE="DialogTitle",n6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ss(ZE,r);return o.jsx(Ae.h2,{id:a.titleId,...n,ref:t})});n6.displayName=ZE;var a6="DialogDescription",s6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ss(a6,r);return o.jsx(Ae.p,{id:a.descriptionId,...n,ref:t})});s6.displayName=a6;var i6="DialogClose",o6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ss(i6,r);return o.jsx(Ae.button,{type:"button",...n,ref:t,onClick:me(e.onClick,()=>a.onOpenChange(!1))})});o6.displayName=i6;function eC(e){return e?"open":"closed"}var l6="DialogTitleWarning",[Rae,c6]=ZQ(l6,{contentName:nc,titleName:ZE,docsSlug:"dialog"}),Iae=({titleId:e})=>{const t=c6(l6),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},$ae="DialogDescriptionWarning",Lae=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${c6($ae).contentName}}.`;return x.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},tC=QF,Fae=JF,rC=ZF,Mp=e6,Op=t6,Rp=n6,Ip=s6,H0=o6;const Bae=tC,zae=rC,u6=x.forwardRef(({className:e,...t},r)=>o.jsx(Mp,{className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));u6.displayName=Mp.displayName;const Uae=Sc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),d6=x.forwardRef(({side:e="right",className:t,children:r,...n},a)=>o.jsxs(zae,{children:[o.jsx(u6,{}),o.jsxs(Op,{ref:a,className:se(Uae({side:e}),t),...n,children:[r,o.jsxs(H0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(Co,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));d6.displayName=Op.displayName;const Hae=x.forwardRef(({className:e,...t},r)=>o.jsx(Rp,{ref:r,className:se("text-lg font-semibold text-foreground",e),...t}));Hae.displayName=Rp.displayName;const qae=x.forwardRef(({className:e,...t},r)=>o.jsx(Ip,{ref:r,className:se("text-sm text-muted-foreground",e),...t}));qae.displayName=Ip.displayName;function cD({className:e,...t}){return o.jsx("div",{className:se("animate-pulse rounded-md bg-muted",e),...t})}const Wae="sidebar:state",Kae=60*60*24*7,Gae="16rem",Vae="18rem",Qae="3rem",Yae="b",f6=x.createContext(null);function q0(){const e=x.useContext(f6);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const W0=x.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:a,children:s,...i},l)=>{const c=Fne(),[u,d]=x.useState(!1),[f,h]=x.useState(e),m=t??f,v=x.useCallback(y=>{const w=typeof y=="function"?y(m):y;r?r(w):h(w),document.cookie=`${Wae}=${w}; path=/; max-age=${Kae}`},[r,m]),p=x.useCallback(()=>c?d(y=>!y):v(y=>!y),[c,v,d]);x.useEffect(()=>{const y=w=>{w.key===Yae&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),p())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[p]);const g=m?"expanded":"collapsed",b=x.useMemo(()=>({state:g,open:m,setOpen:v,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:p}),[g,m,v,c,u,d,p]);return o.jsx(f6.Provider,{value:b,children:o.jsx(RL,{delayDuration:0,children:o.jsx("div",{style:{"--sidebar-width":Gae,"--sidebar-width-icon":Qae,...a},className:se("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:l,...i,children:s})})})});W0.displayName="SidebarProvider";const h6=x.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:a,...s},i)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:d}=q0();return r==="none"?o.jsx("div",{className:se("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:i,...s,children:a}):l?o.jsx(Bae,{open:u,onOpenChange:d,...s,children:o.jsx(d6,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Vae},side:e,children:o.jsx("div",{className:"flex h-full w-full flex-col",children:a})})}):o.jsxs("div",{ref:i,className:"group peer hidden md:block text-sidebar-foreground","data-state":c,"data-collapsible":c==="collapsed"?r:"","data-variant":t,"data-side":e,children:[o.jsx("div",{className:se("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),o.jsx("div",{className:se("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...s,children:o.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:a})})]})});h6.displayName="Sidebar";const K0=x.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:a}=q0();return o.jsxs(V,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:se("h-7 w-7",e),onClick:s=>{t==null||t(s),a()},...r,children:[o.jsx(tJ,{}),o.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});K0.displayName="SidebarTrigger";const Jae=x.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=q0();return o.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:se("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});Jae.displayName="SidebarRail";const G0=x.forwardRef(({className:e,...t},r)=>o.jsx("main",{ref:r,className:se("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));G0.displayName="SidebarInset";const Xae=x.forwardRef(({className:e,...t},r)=>o.jsx(xe,{ref:r,"data-sidebar":"input",className:se("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));Xae.displayName="SidebarInput";const m6=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,"data-sidebar":"header",className:se("flex flex-col gap-2 p-2",e),...t}));m6.displayName="SidebarHeader";const p6=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,"data-sidebar":"footer",className:se("flex flex-col gap-2 p-2",e),...t}));p6.displayName="SidebarFooter";const Zae=x.forwardRef(({className:e,...t},r)=>o.jsx(OF,{ref:r,"data-sidebar":"separator",className:se("mx-2 w-auto bg-sidebar-border",e),...t}));Zae.displayName="SidebarSeparator";const g6=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,"data-sidebar":"content",className:se("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));g6.displayName="SidebarContent";const bh=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,"data-sidebar":"group",className:se("relative flex w-full min-w-0 flex-col p-2",e),...t}));bh.displayName="SidebarGroup";const Mv=x.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?In:"div";return o.jsx(a,{ref:n,"data-sidebar":"group-label",className:se("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});Mv.displayName="SidebarGroupLabel";const ese=x.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const a=t?In:"button";return o.jsx(a,{ref:n,"data-sidebar":"group-action",className:se("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});ese.displayName="SidebarGroupAction";const xh=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,"data-sidebar":"group-content",className:se("w-full text-sm",e),...t}));xh.displayName="SidebarGroupContent";const wh=x.forwardRef(({className:e,...t},r)=>o.jsx("ul",{ref:r,"data-sidebar":"menu",className:se("flex w-full min-w-0 flex-col gap-1",e),...t}));wh.displayName="SidebarMenu";const au=x.forwardRef(({className:e,...t},r)=>o.jsx("li",{ref:r,"data-sidebar":"menu-item",className:se("group/menu-item relative",e),...t}));au.displayName="SidebarMenuItem";const tse=Sc("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),su=x.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:a,className:s,...i},l)=>{const c=e?In:"button",{isMobile:u,state:d}=q0(),f=o.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:se(tse({variant:r,size:n}),s),...i});return a?(typeof a=="string"&&(a={children:a}),o.jsxs(VZ,{children:[o.jsx(QZ,{asChild:!0,children:f}),o.jsx(IL,{side:"right",align:"center",hidden:d!=="collapsed"||u,...a})]})):f});su.displayName="SidebarMenuButton";const rse=x.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},a)=>{const s=t?In:"button";return o.jsx(s,{ref:a,"data-sidebar":"menu-action",className:se("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});rse.displayName="SidebarMenuAction";const nse=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:se("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));nse.displayName="SidebarMenuBadge";const ase=x.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const a=x.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return o.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:se("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&o.jsx(cD,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),o.jsx(cD,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":a}})]})});ase.displayName="SidebarMenuSkeleton";const sse=x.forwardRef(({className:e,...t},r)=>o.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:se("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));sse.displayName="SidebarMenuSub";const ise=x.forwardRef(({...e},t)=>o.jsx("li",{ref:t,...e}));ise.displayName="SidebarMenuSubItem";const ose=x.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...a},s)=>{const i=e?In:"a";return o.jsx(i,{ref:s,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:se("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...a})});ose.displayName="SidebarMenuSubButton";var nC="Collapsible",[lse,OHe]=ia(nC),[cse,aC]=lse(nC),v6=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:s,onOpenChange:i,...l}=e,[c=!1,u]=Za({prop:n,defaultProp:a,onChange:i});return o.jsx(cse,{scope:r,disabled:s,contentId:Qa(),open:c,onOpenToggle:x.useCallback(()=>u(d=>!d),[u]),children:o.jsx(Ae.div,{"data-state":iC(c),"data-disabled":s?"":void 0,...l,ref:t})})});v6.displayName=nC;var y6="CollapsibleTrigger",b6=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=aC(y6,r);return o.jsx(Ae.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":iC(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:me(e.onClick,a.onOpenToggle)})});b6.displayName=y6;var sC="CollapsibleContent",x6=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=aC(sC,e.__scopeCollapsible);return o.jsx(rn,{present:r||a.open,children:({present:s})=>o.jsx(use,{...n,ref:t,present:s})})});x6.displayName=sC;var use=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...s}=e,i=aC(sC,r),[l,c]=x.useState(n),u=x.useRef(null),d=tt(t,u),f=x.useRef(0),h=f.current,m=x.useRef(0),v=m.current,p=i.open||l,g=x.useRef(p),b=x.useRef();return x.useEffect(()=>{const y=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(y)},[]),Ir(()=>{const y=u.current;if(y){b.current=b.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();f.current=w.height,m.current=w.width,g.current||(y.style.transitionDuration=b.current.transitionDuration,y.style.animationName=b.current.animationName),c(n)}},[i.open,n]),o.jsx(Ae.div,{"data-state":iC(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!p,...s,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:p&&a})});function iC(e){return e?"open":"closed"}var dse=v6;const ac=dse,Ed=b6,sc=x6,oC=({activeItem:e,onItemChange:t})=>{var _;const{profile:r}=ct(),n=e.startsWith("schedules"),[a,s]=x.useState(n),i=e.startsWith("events"),[l,c]=x.useState(i);x.useEffect(()=>{console.log(" AppSidebar useEffect - activeItem:",e,"isScheduleActive:",n),n&&s(!0),i&&c(!0)},[n,i,e]);const u=j=>(r==null?void 0:r.role)==="superadmin"?!0:(r==null?void 0:r.role)&&j.includes(r.role),d=[{id:"dashboard",title:"Dashboard",icon:yE,onClick:()=>t("dashboard")}],f=[{id:"classes",title:"Kelas",icon:v0,onClick:()=>t("classes"),permissions:["superadmin","kepsek","kesiswaan"]},{id:"teachers",title:"Guru",icon:vr,onClick:()=>t("teachers"),permissions:["superadmin","kepsek"]},{id:"subjects",title:"Mata Pelajaran",icon:ir,onClick:()=>t("subjects"),permissions:["superadmin","kepsek","kesiswaan"]},{id:"time-sessions",title:"Sesi dan Waktu",icon:lr,onClick:()=>t("time-sessions"),permissions:["superadmin","kepsek","kesiswaan"]}],h=[{id:"schedules",title:"Jadwal",icon:rt,onClick:()=>t("schedules"),permissions:["superadmin","kepsek","kesiswaan"]},{id:"schedules-overview",title:"Overview",icon:$l,onClick:()=>t("schedules-overview"),permissions:["superadmin","kepsek","kesiswaan"]},{id:"schedules-sync",title:"Sinkronisasi Kalender",icon:JY,onClick:()=>t("schedules-sync"),permissions:["superadmin","kepsek","kesiswaan"]},{id:"schedules-print",title:"Print",icon:_d,onClick:()=>t("schedules-print"),permissions:["superadmin","kepsek","kesiswaan"]}],m=[{id:"events",title:"Kalender Event",icon:Zn,onClick:()=>t("events"),permissions:["superadmin","kepsek","kesiswaan"]},{id:"events-print",title:"Print Kaldik",icon:_d,onClick:()=>t("events-print"),permissions:["superadmin","kepsek","kesiswaan"]},{id:"events-share",title:"Share Event",icon:wE,onClick:()=>t("events-share"),permissions:["superadmin","kepsek","kesiswaan"]}],v=[{id:"general-settings",title:"Pengaturan Umum",icon:x0,onClick:()=>t("general-settings"),permissions:["superadmin","kepsek"]},{id:"school-info",title:"Info Sekolah",icon:xo,onClick:()=>t("school-info"),permissions:["superadmin","kepsek"]}],p=f.filter(j=>u(j.permissions)),g=h.filter(j=>u(j.permissions)),b=m.filter(j=>u(j.permissions)),y=v.filter(j=>u(j.permissions)),w=g.length>0||b.length>0;return o.jsxs(h6,{className:"bg-sidebar border-sidebar-border",children:[o.jsxs(m6,{className:"p-6 bg-sidebar-accent",children:[o.jsxs("div",{className:"text-2xl font-bold text-sidebar-foreground tracking-tight",children:["Indo",o.jsx("span",{className:"text-lime-400",children:"Jadwal"})]}),o.jsxs("div",{className:"text-sm text-sidebar-accent-foreground mt-2",children:[r==null?void 0:r.full_name,"  ",o.jsx("span",{className:"text-lime-400 font-semibold",children:(_=r==null?void 0:r.role)==null?void 0:_.toUpperCase()})]}),(r==null?void 0:r.school_id)&&o.jsx("div",{className:"text-xs text-lime-400 mt-1",children:"Sekolah Demo IndoJadwal"})]}),o.jsxs(g6,{className:"bg-sidebar-accent",children:[o.jsx(bh,{children:o.jsx(xh,{children:o.jsx(wh,{children:d.map(j=>o.jsx(au,{children:o.jsxs(su,{onClick:j.onClick,isActive:e===j.id,className:"text-sidebar-foreground hover:text-sidebar-foreground hover:bg-sidebar-accent data-[active=true]:bg-lime-400 data-[active=true]:text-gray-900",children:[o.jsx(j.icon,{className:"h-5 w-5"}),o.jsx("span",{children:j.title})]})},j.id))})})}),p.length>0&&o.jsxs(bh,{children:[o.jsx(Mv,{className:"text-sidebar-accent-foreground text-xs uppercase tracking-wider",children:"Master Data"}),o.jsx(xh,{children:o.jsx(wh,{children:p.map(j=>o.jsx(au,{children:o.jsxs(su,{onClick:j.onClick,isActive:e===j.id,className:"text-sidebar-foreground hover:text-sidebar-foreground hover:bg-sidebar-accent data-[active=true]:bg-lime-400 data-[active=true]:text-gray-900",children:[o.jsx(j.icon,{className:"h-5 w-5"}),o.jsx("span",{children:j.title})]})},j.id))})})]}),w&&o.jsxs(bh,{children:[o.jsx(Mv,{className:"text-sidebar-accent-foreground text-xs uppercase tracking-wider",children:"Manajemen Jadwal"}),o.jsx(xh,{children:o.jsxs(wh,{children:[o.jsx(ac,{open:a||n,onOpenChange:s,children:o.jsxs(au,{children:[o.jsx(Ed,{asChild:!0,children:o.jsxs(su,{isActive:e.startsWith("schedules"),className:"text-sidebar-foreground hover:text-sidebar-foreground hover:bg-sidebar-accent data-[active=true]:bg-lime-400 data-[active=true]:text-gray-900",children:[o.jsx(rt,{className:"h-5 w-5"}),o.jsx("span",{children:"Jadwal"}),o.jsx(Va,{className:`h-4 w-4 ml-auto transition-transform duration-200 ${a?"rotate-180":""}`})]})}),o.jsx(sc,{children:o.jsx("div",{className:"ml-4 space-y-1",children:g.map(j=>o.jsxs("div",{onClick:()=>{console.log(" Schedule submenu clicked:",{itemId:j.id,itemTitle:j.title,currentActiveItem:e,currentPath:window.location.pathname,isScheduleExpanded:a}),t(j.id)},className:`flex h-7 items-center gap-2 rounded-md px-2 cursor-pointer transition-all duration-200 ${e===j.id?"bg-lime-400 text-gray-900":"text-sidebar-foreground hover:text-sidebar-foreground hover:bg-sidebar-accent"}`,children:[o.jsx(j.icon,{className:`h-4 w-4 ${e===j.id?"text-gray-900":"text-sidebar-foreground"}`}),o.jsx("span",{children:j.title})]},j.id))})})]})}),o.jsx(ac,{open:l,onOpenChange:c,children:o.jsxs(au,{children:[o.jsx(Ed,{asChild:!0,children:o.jsxs(su,{isActive:i,className:"w-full text-sidebar-foreground hover:text-sidebar-foreground hover:bg-sidebar-accent data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-foreground",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Zn,{className:"h-5 w-5"}),o.jsx("span",{children:"Event"})]}),o.jsx(Va,{className:`h-4 w-4 transition-transform ${l?"rotate-180":""}`})]})}),o.jsx(sc,{children:o.jsx("div",{className:"ml-4 space-y-1",children:b.map(j=>o.jsxs("div",{onClick:()=>t(j.id),className:`flex h-7 items-center gap-2 rounded-md px-2 cursor-pointer transition-all duration-200 ${e===j.id?"bg-lime-400 text-gray-900":"text-sidebar-foreground hover:text-sidebar-foreground hover:bg-sidebar-accent"}`,children:[o.jsx(j.icon,{className:`h-4 w-4 ${e===j.id?"text-gray-900":"text-sidebar-foreground"}`}),o.jsx("span",{children:j.title})]},j.id))})})]})})]})})]}),y.length>0&&o.jsxs(bh,{children:[o.jsx(Mv,{className:"text-sidebar-accent-foreground text-xs uppercase tracking-wider",children:"Pengaturan"}),o.jsx(xh,{children:o.jsx(wh,{children:y.map(j=>o.jsx(au,{children:o.jsxs(su,{onClick:j.onClick,isActive:e===j.id,className:"text-sidebar-foreground hover:text-sidebar-foreground hover:bg-sidebar-accent data-[active=true]:bg-lime-400 data-[active=true]:text-gray-900",children:[o.jsx(j.icon,{className:"h-5 w-5"}),o.jsx("span",{children:j.title})]})},j.id))})})]})]}),o.jsx(p6,{className:"p-4 bg-sidebar-accent",children:o.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-sidebar/50 rounded-lg",children:[o.jsx("div",{className:"w-8 h-8 bg-lime-400 rounded-full flex items-center justify-center",children:o.jsx(Iu,{className:"h-4 w-4 text-gray-900"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm font-medium text-sidebar-foreground truncate",children:r==null?void 0:r.full_name}),o.jsx("div",{className:"text-xs text-lime-400 capitalize font-semibold",children:r==null?void 0:r.role})]})]})})]})};var fse=x.createContext(void 0);function V0(e){const t=x.useContext(fse);return e||t||"ltr"}function hse(e,t=[]){let r=[];function n(s,i){const l=x.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:m,...v}=f,p=(h==null?void 0:h[e][c])||l,g=x.useMemo(()=>v,Object.values(v));return o.jsx(p.Provider,{value:g,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,v=x.useContext(m);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const a=()=>{const s=r.map(i=>x.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,mse(a,...t)]}function mse(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var g_="rovingFocusGroup.onEntryFocus",pse={bubbles:!1,cancelable:!0},Q0="RovingFocusGroup",[iS,w6,gse]=h0(Q0),[vse,wf]=hse(Q0,[gse]),[yse,bse]=vse(Q0),_6=x.forwardRef((e,t)=>o.jsx(iS.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(iS.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(xse,{...e,ref:t})})}));_6.displayName=Q0;var xse=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:s,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),m=tt(t,h),v=V0(s),[p=null,g]=Za({prop:i,defaultProp:l,onChange:c}),[b,y]=x.useState(!1),w=gn(u),_=w6(r),j=x.useRef(!1),[S,k]=x.useState(0);return x.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(g_,w),()=>N.removeEventListener(g_,w)},[w]),o.jsx(yse,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:p,onItemFocus:x.useCallback(N=>g(N),[g]),onItemShiftTab:x.useCallback(()=>y(!0),[]),onFocusableItemAdd:x.useCallback(()=>k(N=>N+1),[]),onFocusableItemRemove:x.useCallback(()=>k(N=>N-1),[]),children:o.jsx(Ae.div,{tabIndex:b||S===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:me(e.onMouseDown,()=>{j.current=!0}),onFocus:me(e.onFocus,N=>{const E=!j.current;if(N.target===N.currentTarget&&E&&!b){const P=new CustomEvent(g_,pse);if(N.currentTarget.dispatchEvent(P),!P.defaultPrevented){const A=_().filter($=>$.focusable),O=A.find($=>$.active),T=A.find($=>$.id===p),I=[O,T,...A].filter(Boolean).map($=>$.ref.current);k6(I,d)}}j.current=!1}),onBlur:me(e.onBlur,()=>y(!1))})})}),j6="RovingFocusGroupItem",S6=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:s,...i}=e,l=Qa(),c=s||l,u=bse(j6,r),d=u.currentTabStopId===c,f=w6(r),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return x.useEffect(()=>{if(n)return h(),()=>m()},[n,h,m]),o.jsx(iS.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:o.jsx(Ae.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:me(e.onMouseDown,v=>{n?u.onItemFocus(c):v.preventDefault()}),onFocus:me(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:me(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const p=jse(v,u.orientation,u.dir);if(p!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=f().filter(y=>y.focusable).map(y=>y.ref.current);if(p==="last")b.reverse();else if(p==="prev"||p==="next"){p==="prev"&&b.reverse();const y=b.indexOf(v.currentTarget);b=u.loop?Sse(b,y+1):b.slice(y+1)}setTimeout(()=>k6(b))}})})})});S6.displayName=j6;var wse={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _se(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function jse(e,t,r){const n=_se(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return wse[n]}function k6(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Sse(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var lC=_6,cC=S6,oS=["Enter"," "],kse=["ArrowDown","PageUp","Home"],N6=["ArrowUp","PageDown","End"],Nse=[...kse,...N6],Ese={ltr:[...oS,"ArrowRight"],rtl:[...oS,"ArrowLeft"]},Cse={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Y0="Menu",[xm,Ase,Pse]=h0(Y0),[Ec,E6]=ia(Y0,[Pse,zo,wf]),uC=zo(),C6=wf(),[RHe,Cc]=Ec(Y0),[IHe,$p]=Ec(Y0),Tse="MenuAnchor",dC=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=uC(r);return o.jsx(Np,{...a,...n,ref:t})});dC.displayName=Tse;var fC="MenuPortal",[Dse,A6]=Ec(fC,{forceMount:void 0}),P6=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,s=Cc(fC,t);return o.jsx(Dse,{scope:t,forceMount:r,children:o.jsx(rn,{present:r||s.open,children:o.jsx(ff,{asChild:!0,container:a,children:n})})})};P6.displayName=fC;var ja="MenuContent",[Mse,hC]=Ec(ja),T6=x.forwardRef((e,t)=>{const r=A6(ja,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Cc(ja,e.__scopeMenu),i=$p(ja,e.__scopeMenu);return o.jsx(xm.Provider,{scope:e.__scopeMenu,children:o.jsx(rn,{present:n||s.open,children:o.jsx(xm.Slot,{scope:e.__scopeMenu,children:i.modal?o.jsx(Ose,{...a,ref:t}):o.jsx(Rse,{...a,ref:t})})})})}),Ose=x.forwardRef((e,t)=>{const r=Cc(ja,e.__scopeMenu),n=x.useRef(null),a=tt(t,n);return x.useEffect(()=>{const s=n.current;if(s)return Dp(s)},[]),o.jsx(mC,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:me(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Rse=x.forwardRef((e,t)=>{const r=Cc(ja,e.__scopeMenu);return o.jsx(mC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),mC=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:v,...p}=e,g=Cc(ja,r),b=$p(ja,r),y=uC(r),w=C6(r),_=Ase(r),[j,S]=x.useState(null),k=x.useRef(null),N=tt(t,k,g.onContentChange),E=x.useRef(0),P=x.useRef(""),A=x.useRef(0),O=x.useRef(null),T=x.useRef("right"),C=x.useRef(0),I=v?Tp:x.Fragment,$=v?{as:In,allowPinchZoom:!0}:void 0,M=F=>{var te,q;const z=P.current+F,U=_().filter(Q=>!Q.disabled),R=document.activeElement,B=(te=U.find(Q=>Q.ref.current===R))==null?void 0:te.textValue,K=U.map(Q=>Q.textValue),J=Gse(K,z,B),X=(q=U.find(Q=>Q.textValue===J))==null?void 0:q.ref.current;(function Q(ie){P.current=ie,window.clearTimeout(E.current),ie!==""&&(E.current=window.setTimeout(()=>Q(""),1e3))})(z),X&&setTimeout(()=>X.focus())};x.useEffect(()=>()=>window.clearTimeout(E.current),[]),z0();const D=x.useCallback(F=>{var U,R;return T.current===((U=O.current)==null?void 0:U.side)&&Qse(F,(R=O.current)==null?void 0:R.area)},[]);return o.jsx(Mse,{scope:r,searchRef:P,onItemEnter:x.useCallback(F=>{D(F)&&F.preventDefault()},[D]),onItemLeave:x.useCallback(F=>{var z;D(F)||((z=k.current)==null||z.focus(),S(null))},[D]),onTriggerLeave:x.useCallback(F=>{D(F)&&F.preventDefault()},[D]),pointerGraceTimerRef:A,onPointerGraceIntentChange:x.useCallback(F=>{O.current=F},[]),children:o.jsx(I,{...$,children:o.jsx(Pp,{asChild:!0,trapped:a,onMountAutoFocus:me(s,F=>{var z;F.preventDefault(),(z=k.current)==null||z.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:o.jsx(jc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:o.jsx(lC,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:S,onEntryFocus:me(c,F=>{b.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(S0,{role:"menu","aria-orientation":"vertical","data-state":G6(g.open),"data-radix-menu-content":"",dir:b.dir,...y,...p,ref:N,style:{outline:"none",...p.style},onKeyDown:me(p.onKeyDown,F=>{const U=F.target.closest("[data-radix-menu-content]")===F.currentTarget,R=F.ctrlKey||F.altKey||F.metaKey,B=F.key.length===1;U&&(F.key==="Tab"&&F.preventDefault(),!R&&B&&M(F.key));const K=k.current;if(F.target!==K||!Nse.includes(F.key))return;F.preventDefault();const X=_().filter(te=>!te.disabled).map(te=>te.ref.current);N6.includes(F.key)&&X.reverse(),Wse(X)}),onBlur:me(e.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(E.current),P.current="")}),onPointerMove:me(e.onPointerMove,wm(F=>{const z=F.target,U=C.current!==F.clientX;if(F.currentTarget.contains(z)&&U){const R=F.clientX>C.current?"right":"left";T.current=R,C.current=F.clientX}}))})})})})})})});T6.displayName=ja;var Ise="MenuGroup",pC=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Ae.div,{role:"group",...n,ref:t})});pC.displayName=Ise;var $se="MenuLabel",D6=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Ae.div,{...n,ref:t})});D6.displayName=$se;var ky="MenuItem",uD="menu.itemSelect",J0=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,s=x.useRef(null),i=$p(ky,e.__scopeMenu),l=hC(ky,e.__scopeMenu),c=tt(t,s),u=x.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const h=new CustomEvent(uD,{bubbles:!0,cancelable:!0});f.addEventListener(uD,m=>n==null?void 0:n(m),{once:!0}),hE(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return o.jsx(M6,{...a,ref:c,disabled:r,onClick:me(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:me(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:me(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||oS.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});J0.displayName=ky;var M6=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...s}=e,i=hC(ky,r),l=C6(r),c=x.useRef(null),u=tt(t,c),[d,f]=x.useState(!1),[h,m]=x.useState("");return x.useEffect(()=>{const v=c.current;v&&m((v.textContent??"").trim())},[s.children]),o.jsx(xm.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:o.jsx(cC,{asChild:!0,...l,focusable:!n,children:o.jsx(Ae.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:me(e.onPointerMove,wm(v=>{n?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:me(e.onPointerLeave,wm(v=>i.onItemLeave(v))),onFocus:me(e.onFocus,()=>f(!0)),onBlur:me(e.onBlur,()=>f(!1))})})})}),Lse="MenuCheckboxItem",O6=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return o.jsx(F6,{scope:e.__scopeMenu,checked:r,children:o.jsx(J0,{role:"menuitemcheckbox","aria-checked":Ny(r)?"mixed":r,...a,ref:t,"data-state":vC(r),onSelect:me(a.onSelect,()=>n==null?void 0:n(Ny(r)?!0:!r),{checkForDefaultPrevented:!1})})})});O6.displayName=Lse;var R6="MenuRadioGroup",[Fse,Bse]=Ec(R6,{value:void 0,onValueChange:()=>{}}),I6=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,s=gn(n);return o.jsx(Fse,{scope:e.__scopeMenu,value:r,onValueChange:s,children:o.jsx(pC,{...a,ref:t})})});I6.displayName=R6;var $6="MenuRadioItem",L6=x.forwardRef((e,t)=>{const{value:r,...n}=e,a=Bse($6,e.__scopeMenu),s=r===a.value;return o.jsx(F6,{scope:e.__scopeMenu,checked:s,children:o.jsx(J0,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":vC(s),onSelect:me(n.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,r)},{checkForDefaultPrevented:!1})})})});L6.displayName=$6;var gC="MenuItemIndicator",[F6,zse]=Ec(gC,{checked:!1}),B6=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,s=zse(gC,r);return o.jsx(rn,{present:n||Ny(s.checked)||s.checked===!0,children:o.jsx(Ae.span,{...a,ref:t,"data-state":vC(s.checked)})})});B6.displayName=gC;var Use="MenuSeparator",z6=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Ae.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});z6.displayName=Use;var Hse="MenuArrow",U6=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=uC(r);return o.jsx(k0,{...a,...n,ref:t})});U6.displayName=Hse;var qse="MenuSub",[$He,H6]=Ec(qse),_h="MenuSubTrigger",q6=x.forwardRef((e,t)=>{const r=Cc(_h,e.__scopeMenu),n=$p(_h,e.__scopeMenu),a=H6(_h,e.__scopeMenu),s=hC(_h,e.__scopeMenu),i=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(dC,{asChild:!0,...u,children:o.jsx(M6,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":G6(r.open),...e,ref:f0(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:me(e.onPointerMove,wm(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(s.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:me(e.onPointerLeave,wm(f=>{var m,v;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(v=r.content)==null?void 0:v.dataset.side,g=p==="right",b=g?-5:5,y=h[g?"left":"right"],w=h[g?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:y,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:y,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:me(e.onKeyDown,f=>{var m;const h=s.searchRef.current!=="";e.disabled||h&&f.key===" "||Ese[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});q6.displayName=_h;var W6="MenuSubContent",K6=x.forwardRef((e,t)=>{const r=A6(ja,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,s=Cc(ja,e.__scopeMenu),i=$p(ja,e.__scopeMenu),l=H6(W6,e.__scopeMenu),c=x.useRef(null),u=tt(t,c);return o.jsx(xm.Provider,{scope:e.__scopeMenu,children:o.jsx(rn,{present:n||s.open,children:o.jsx(xm.Slot,{scope:e.__scopeMenu,children:o.jsx(mC,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:me(e.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:me(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:me(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=Cse[i.dir].includes(d.key);f&&h&&(s.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});K6.displayName=W6;function G6(e){return e?"open":"closed"}function Ny(e){return e==="indeterminate"}function vC(e){return Ny(e)?"indeterminate":e?"checked":"unchecked"}function Wse(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Kse(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Gse(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=Kse(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Vse(e,t){const{x:r,y:n}=e;let a=!1;for(let s=0,i=t.length-1;s<t.length;i=s++){const l=t[s].x,c=t[s].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(a=!a)}return a}function Qse(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Vse(r,t)}function wm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Yse=dC,Jse=P6,Xse=T6,Zse=pC,eie=D6,tie=J0,rie=O6,nie=I6,aie=L6,sie=B6,iie=z6,oie=U6,lie=q6,cie=K6,V6="DropdownMenu",[uie,LHe]=ia(V6,[E6]),Ln=E6(),[FHe,Q6]=uie(V6),Y6="DropdownMenuTrigger",die=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,s=Q6(Y6,r),i=Ln(r);return o.jsx(Yse,{asChild:!0,...i,children:o.jsx(Ae.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:f0(t,s.triggerRef),onPointerDown:me(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:me(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});die.displayName=Y6;var fie="DropdownMenuPortal",J6=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ln(t);return o.jsx(Jse,{...n,...r})};J6.displayName=fie;var X6="DropdownMenuContent",Z6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Q6(X6,r),s=Ln(r),i=x.useRef(!1);return o.jsx(Xse,{id:a.contentId,"aria-labelledby":a.triggerId,...s,...n,ref:t,onCloseAutoFocus:me(e.onCloseAutoFocus,l=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:me(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Z6.displayName=X6;var hie="DropdownMenuGroup",mie=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ln(r);return o.jsx(Zse,{...a,...n,ref:t})});mie.displayName=hie;var pie="DropdownMenuLabel",eB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ln(r);return o.jsx(eie,{...a,...n,ref:t})});eB.displayName=pie;var gie="DropdownMenuItem",tB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ln(r);return o.jsx(tie,{...a,...n,ref:t})});tB.displayName=gie;var vie="DropdownMenuCheckboxItem",rB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ln(r);return o.jsx(rie,{...a,...n,ref:t})});rB.displayName=vie;var yie="DropdownMenuRadioGroup",bie=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ln(r);return o.jsx(nie,{...a,...n,ref:t})});bie.displayName=yie;var xie="DropdownMenuRadioItem",nB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ln(r);return o.jsx(aie,{...a,...n,ref:t})});nB.displayName=xie;var wie="DropdownMenuItemIndicator",aB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ln(r);return o.jsx(sie,{...a,...n,ref:t})});aB.displayName=wie;var _ie="DropdownMenuSeparator",sB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ln(r);return o.jsx(iie,{...a,...n,ref:t})});sB.displayName=_ie;var jie="DropdownMenuArrow",Sie=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ln(r);return o.jsx(oie,{...a,...n,ref:t})});Sie.displayName=jie;var kie="DropdownMenuSubTrigger",iB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ln(r);return o.jsx(lie,{...a,...n,ref:t})});iB.displayName=kie;var Nie="DropdownMenuSubContent",oB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ln(r);return o.jsx(cie,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});oB.displayName=Nie;var Eie=J6,lB=Z6,cB=eB,uB=tB,dB=rB,fB=nB,hB=aB,mB=sB,pB=iB,gB=oB;const Cie=x.forwardRef(({className:e,inset:t,children:r,...n},a)=>o.jsxs(pB,{ref:a,className:se("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(ci,{className:"ml-auto h-4 w-4"})]}));Cie.displayName=pB.displayName;const Aie=x.forwardRef(({className:e,...t},r)=>o.jsx(gB,{ref:r,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Aie.displayName=gB.displayName;const Pie=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(Eie,{children:o.jsx(lB,{ref:n,sideOffset:t,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Pie.displayName=lB.displayName;const Tie=x.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(uB,{ref:n,className:se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Tie.displayName=uB.displayName;const Die=x.forwardRef(({className:e,children:t,checked:r,...n},a)=>o.jsxs(dB,{ref:a,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(hB,{children:o.jsx(g0,{className:"h-4 w-4"})})}),t]}));Die.displayName=dB.displayName;const Mie=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(fB,{ref:n,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(hB,{children:o.jsx(W5,{className:"h-2 w-2 fill-current"})})}),t]}));Mie.displayName=fB.displayName;const Oie=x.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(cB,{ref:n,className:se("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Oie.displayName=cB.displayName;const Rie=x.forwardRef(({className:e,...t},r)=>o.jsx(mB,{ref:r,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));Rie.displayName=mB.displayName;function vB(){const{setTheme:e,theme:t}=lL(),r=()=>{e(t==="dark"?"light":"dark")};return o.jsxs(V,{variant:"outline",size:"icon",onClick:r,className:"relative h-9 w-9 border-border bg-background hover:bg-accent hover:text-accent-foreground transition-all duration-200",children:[o.jsx(aJ,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),o.jsx(eJ,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),o.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const Iie=e=>e.startsWith("/schedules")?{title:"Jadwal",Icon:rt}:e.startsWith("/events")?{title:"Event",Icon:Zn}:e.startsWith("/classes")?{title:"Kelas",Icon:BY}:e.startsWith("/teachers")?{title:"Guru",Icon:vr}:e.startsWith("/subjects")?{title:"Mata Pelajaran",Icon:UY}:e.startsWith("/time-sessions")?{title:"Sesi Waktu",Icon:lr}:e.startsWith("/settings")?{title:"Pengaturan Umum",Icon:x0}:e.startsWith("/school-info")?{title:"Info Sekolah",Icon:V5}:{title:"Dashboard",Icon:q5},$ie=e=>e.startsWith("/schedules")?"schedules":e.startsWith("/events")?"events":e.startsWith("/classes")?"classes":e.startsWith("/teachers")?"teachers":e.startsWith("/subjects")?"subjects":e.startsWith("/time-sessions")?"time-sessions":e.startsWith("/settings")?"general-settings":e.startsWith("/school-info")?"school-info":"dashboard",Lie=()=>{const e=Ep(),t=kc(),r=i=>{t({dashboard:"/",classes:"/classes",teachers:"/teachers",subjects:"/subjects","time-sessions":"/time-sessions",schedules:"/schedules",events:"/events","events-print":"/events/print","events-share":"/events/share","general-settings":"/settings","school-info":"/school-info"}[i]||"/")},{title:n,Icon:a}=Iie(e.pathname),s=$ie(e.pathname);return o.jsx(W0,{children:o.jsxs("div",{className:"flex h-screen w-full bg-background",children:[o.jsx(oC,{activeItem:s,onItemChange:r}),o.jsxs(G0,{className:"flex-1 min-w-0",children:[o.jsxs("header",{className:"flex h-16 shrink-0 items-center gap-2 bg-background border-b border-border px-4",children:[o.jsx(K0,{className:"text-foreground hover:text-foreground/80"}),o.jsxs("div",{className:"flex items-center space-x-2 text-xl font-semibold text-foreground ml-4 flex-1",children:[o.jsx(a,{className:"h-6 w-6 text-primary"}),o.jsx("span",{children:n})]}),o.jsx(vB,{})]}),o.jsx("main",{className:"flex-1 overflow-auto bg-background w-full",children:o.jsx("div",{className:"w-full h-full",children:o.jsx(gte,{})})})]})]})})},le=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));le.displayName="Card";const ke=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:se("flex flex-col space-y-1.5 p-6",e),...t}));ke.displayName="CardHeader";const Pe=x.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:se("text-2xl font-semibold leading-none tracking-tight",e),...t}));Pe.displayName="CardTitle";const Nn=x.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:se("text-sm text-muted-foreground",e),...t}));Nn.displayName="CardDescription";const ce=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:se("p-6 pt-0",e),...t}));ce.displayName="CardContent";const Fie=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:se("flex items-center p-6 pt-0",e),...t}));Fie.displayName="CardFooter";function Bie(e,t=[]){let r=[];function n(s,i){const l=x.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:m,...v}=f,p=(h==null?void 0:h[e][c])||l,g=x.useMemo(()=>v,Object.values(v));return o.jsx(p.Provider,{value:g,children:m})}function d(f,h){const m=(h==null?void 0:h[e][c])||l,v=x.useContext(m);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const a=()=>{const s=r.map(i=>x.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,zie(a,...t)]}function zie(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var yC="Progress",bC=100,[Uie,BHe]=Bie(yC),[Hie,qie]=Uie(yC),yB=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:s=Wie,...i}=e;(a||a===0)&&!dD(a)&&console.error(Kie(`${a}`,"Progress"));const l=dD(a)?a:bC;n!==null&&!fD(n,l)&&console.error(Gie(`${n}`,"Progress"));const c=fD(n,l)?n:null,u=Ey(c)?s(c,l):void 0;return o.jsx(Hie,{scope:r,value:c,max:l,children:o.jsx(Ae.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ey(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":wB(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});yB.displayName=yC;var bB="ProgressIndicator",xB=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=qie(bB,r);return o.jsx(Ae.div,{"data-state":wB(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});xB.displayName=bB;function Wie(e,t){return`${Math.round(e/t*100)}%`}function wB(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ey(e){return typeof e=="number"}function dD(e){return Ey(e)&&!isNaN(e)&&e>0}function fD(e,t){return Ey(e)&&!isNaN(e)&&e<=t&&e>=0}function Kie(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${bC}\`.`}function Gie(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${bC} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var _B=yB,Vie=xB;const xC=x.forwardRef(({className:e,value:t,indicatorClassName:r,...n},a)=>o.jsx(_B,{ref:a,className:se("relative h-4 w-full overflow-hidden rounded-full bg-gray-700/50",e),...n,children:o.jsx(Vie,{className:se("h-full w-full flex-1 bg-green-500 transition-all",r),style:{transform:`translateX(-${100-(t||0)}%)`}})}));xC.displayName=_B.displayName;const Qie=Sc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ht({className:e,variant:t,...r}){return o.jsx("div",{className:se(Qie({variant:t}),e),...r})}function hD(e,[t,r]){return Math.min(r,Math.max(t,e))}function wC(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Yie=[" ","Enter","ArrowUp","ArrowDown"],Jie=[" ","Enter"],Lp="Select",[X0,Z0,Xie]=h0(Lp),[_f,zHe]=ia(Lp,[Xie,zo]),ex=zo(),[Zie,qo]=_f(Lp),[eoe,toe]=_f(Lp),jB=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:s,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:v}=e,p=ex(t),[g,b]=x.useState(null),[y,w]=x.useState(null),[_,j]=x.useState(!1),S=V0(u),[k=!1,N]=Za({prop:n,defaultProp:a,onChange:s}),[E,P]=Za({prop:i,defaultProp:l,onChange:c}),A=x.useRef(null),O=g?v||!!g.closest("form"):!0,[T,C]=x.useState(new Set),I=Array.from(T).map($=>$.props.value).join(";");return o.jsx(IE,{...p,children:o.jsxs(Zie,{required:m,scope:t,trigger:g,onTriggerChange:b,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:Qa(),value:E,onValueChange:P,open:k,onOpenChange:N,dir:S,triggerPointerDownPosRef:A,disabled:h,children:[o.jsx(X0.Provider,{scope:t,children:o.jsx(eoe,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback($=>{C(M=>new Set(M).add($))},[]),onNativeOptionRemove:x.useCallback($=>{C(M=>{const D=new Set(M);return D.delete($),D})},[]),children:r})}),O?o.jsxs(VB,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:$=>P($.target.value),disabled:h,form:v,children:[E===void 0?o.jsx("option",{value:""}):null,Array.from(T)]},I):null]})})};jB.displayName=Lp;var SB="SelectTrigger",kB=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,s=ex(r),i=qo(SB,r),l=i.disabled||n,c=tt(t,i.onTriggerChange),u=Z0(r),d=x.useRef("touch"),[f,h,m]=QB(p=>{const g=u().filter(w=>!w.disabled),b=g.find(w=>w.value===i.value),y=YB(g,p,b);y!==void 0&&i.onValueChange(y.value)}),v=p=>{l||(i.onOpenChange(!0),m()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return o.jsx(Np,{asChild:!0,...s,children:o.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":GB(i.value)?"":void 0,...a,ref:c,onClick:me(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&v(p)}),onPointerDown:me(a.onPointerDown,p=>{d.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:me(a.onKeyDown,p=>{const g=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(g&&p.key===" ")&&Yie.includes(p.key)&&(v(),p.preventDefault())})})})});kB.displayName=SB;var NB="SelectValue",EB=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:s,placeholder:i="",...l}=e,c=qo(NB,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=tt(t,c.onValueNodeChange);return Ir(()=>{u(d)},[u,d]),o.jsx(Ae.span,{...l,ref:f,style:{pointerEvents:"none"},children:GB(c.value)?o.jsx(o.Fragment,{children:i}):s})});EB.displayName=NB;var roe="SelectIcon",CB=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return o.jsx(Ae.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});CB.displayName=roe;var noe="SelectPortal",AB=e=>o.jsx(ff,{asChild:!0,...e});AB.displayName=noe;var ic="SelectContent",PB=x.forwardRef((e,t)=>{const r=qo(ic,e.__scopeSelect),[n,a]=x.useState();if(Ir(()=>{a(new DocumentFragment)},[]),!r.open){const s=n;return s?Ea.createPortal(o.jsx(TB,{scope:e.__scopeSelect,children:o.jsx(X0.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),s):null}return o.jsx(DB,{...e,ref:t})});PB.displayName=ic;var Ia=10,[TB,Wo]=_f(ic),aoe="SelectContentImpl",DB=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:g,...b}=e,y=qo(ic,r),[w,_]=x.useState(null),[j,S]=x.useState(null),k=tt(t,te=>_(te)),[N,E]=x.useState(null),[P,A]=x.useState(null),O=Z0(r),[T,C]=x.useState(!1),I=x.useRef(!1);x.useEffect(()=>{if(w)return Dp(w)},[w]),z0();const $=x.useCallback(te=>{const[q,...Q]=O().map(ee=>ee.ref.current),[ie]=Q.slice(-1),de=document.activeElement;for(const ee of te)if(ee===de||(ee==null||ee.scrollIntoView({block:"nearest"}),ee===q&&j&&(j.scrollTop=0),ee===ie&&j&&(j.scrollTop=j.scrollHeight),ee==null||ee.focus(),document.activeElement!==de))return},[O,j]),M=x.useCallback(()=>$([N,w]),[$,N,w]);x.useEffect(()=>{T&&M()},[T,M]);const{onOpenChange:D,triggerPointerDownPosRef:F}=y;x.useEffect(()=>{if(w){let te={x:0,y:0};const q=ie=>{var de,ee;te={x:Math.abs(Math.round(ie.pageX)-(((de=F.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((ee=F.current)==null?void 0:ee.y)??0))}},Q=ie=>{te.x<=10&&te.y<=10?ie.preventDefault():w.contains(ie.target)||D(!1),document.removeEventListener("pointermove",q),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",q),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",Q,{capture:!0})}}},[w,D,F]),x.useEffect(()=>{const te=()=>D(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[D]);const[z,U]=QB(te=>{const q=O().filter(de=>!de.disabled),Q=q.find(de=>de.ref.current===document.activeElement),ie=YB(q,te,Q);ie&&setTimeout(()=>ie.ref.current.focus())}),R=x.useCallback((te,q,Q)=>{const ie=!I.current&&!Q;(y.value!==void 0&&y.value===q||ie)&&(E(te),ie&&(I.current=!0))},[y.value]),B=x.useCallback(()=>w==null?void 0:w.focus(),[w]),K=x.useCallback((te,q,Q)=>{const ie=!I.current&&!Q;(y.value!==void 0&&y.value===q||ie)&&A(te)},[y.value]),J=n==="popper"?lS:MB,X=J===lS?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:v,hideWhenDetached:p,avoidCollisions:g}:{};return o.jsx(TB,{scope:r,content:w,viewport:j,onViewportChange:S,itemRefCallback:R,selectedItem:N,onItemLeave:B,itemTextRefCallback:K,focusSelectedItem:M,selectedItemText:P,position:n,isPositioned:T,searchRef:z,children:o.jsx(Tp,{as:In,allowPinchZoom:!0,children:o.jsx(Pp,{asChild:!0,trapped:y.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:me(a,te=>{var q;(q=y.trigger)==null||q.focus({preventScroll:!0}),te.preventDefault()}),children:o.jsx(jc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:o.jsx(J,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:te=>te.preventDefault(),...b,...X,onPlaced:()=>C(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:me(b.onKeyDown,te=>{const q=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!q&&te.key.length===1&&U(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let ie=O().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(te.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const de=te.target,ee=ie.indexOf(de);ie=ie.slice(ee+1)}setTimeout(()=>$(ie)),te.preventDefault()}})})})})})})});DB.displayName=aoe;var soe="SelectItemAlignedPosition",MB=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,s=qo(ic,r),i=Wo(ic,r),[l,c]=x.useState(null),[u,d]=x.useState(null),f=tt(t,k=>d(k)),h=Z0(r),m=x.useRef(!1),v=x.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:b,focusSelectedItem:y}=i,w=x.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&p&&g&&b){const k=s.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),E=s.valueNode.getBoundingClientRect(),P=b.getBoundingClientRect();if(s.dir!=="rtl"){const de=P.left-N.left,ee=E.left-de,Z=k.left-ee,Y=k.width+Z,ne=Math.max(Y,N.width),fe=window.innerWidth-Ia,ve=hD(ee,[Ia,Math.max(Ia,fe-ne)]);l.style.minWidth=Y+"px",l.style.left=ve+"px"}else{const de=N.right-P.right,ee=window.innerWidth-E.right-de,Z=window.innerWidth-k.right-ee,Y=k.width+Z,ne=Math.max(Y,N.width),fe=window.innerWidth-Ia,ve=hD(ee,[Ia,Math.max(Ia,fe-ne)]);l.style.minWidth=Y+"px",l.style.right=ve+"px"}const A=h(),O=window.innerHeight-Ia*2,T=p.scrollHeight,C=window.getComputedStyle(u),I=parseInt(C.borderTopWidth,10),$=parseInt(C.paddingTop,10),M=parseInt(C.borderBottomWidth,10),D=parseInt(C.paddingBottom,10),F=I+$+T+D+M,z=Math.min(g.offsetHeight*5,F),U=window.getComputedStyle(p),R=parseInt(U.paddingTop,10),B=parseInt(U.paddingBottom,10),K=k.top+k.height/2-Ia,J=O-K,X=g.offsetHeight/2,te=g.offsetTop+X,q=I+$+te,Q=F-q;if(q<=K){const de=A.length>0&&g===A[A.length-1].ref.current;l.style.bottom="0px";const ee=u.clientHeight-p.offsetTop-p.offsetHeight,Z=Math.max(J,X+(de?B:0)+ee+M),Y=q+Z;l.style.height=Y+"px"}else{const de=A.length>0&&g===A[0].ref.current;l.style.top="0px";const Z=Math.max(K,I+p.offsetTop+(de?R:0)+X)+Q;l.style.height=Z+"px",p.scrollTop=q-K+p.offsetTop}l.style.margin=`${Ia}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,s.trigger,s.valueNode,l,u,p,g,b,s.dir,n]);Ir(()=>w(),[w]);const[_,j]=x.useState();Ir(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=x.useCallback(k=>{k&&v.current===!0&&(w(),y==null||y(),v.current=!1)},[w,y]);return o.jsx(ooe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(Ae.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});MB.displayName=soe;var ioe="SelectPopperPosition",lS=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ia,...s}=e,i=ex(r);return o.jsx(S0,{...i,...s,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lS.displayName=ioe;var[ooe,_C]=_f(ic,{}),cS="SelectViewport",OB=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,s=Wo(cS,r),i=_C(cS,r),l=tt(t,s.onViewportChange),c=x.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(X0.Slot,{scope:r,children:o.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:me(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const v=window.innerHeight-Ia*2,p=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),b=Math.max(p,g);if(b<v){const y=b+m,w=Math.min(v,y),_=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});OB.displayName=cS;var RB="SelectGroup",[loe,coe]=_f(RB),uoe=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Qa();return o.jsx(loe,{scope:r,id:a,children:o.jsx(Ae.div,{role:"group","aria-labelledby":a,...n,ref:t})})});uoe.displayName=RB;var IB="SelectLabel",$B=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=coe(IB,r);return o.jsx(Ae.div,{id:a.id,...n,ref:t})});$B.displayName=IB;var Cy="SelectItem",[doe,LB]=_f(Cy),FB=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:s,...i}=e,l=qo(Cy,r),c=Wo(Cy,r),u=l.value===n,[d,f]=x.useState(s??""),[h,m]=x.useState(!1),v=tt(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,a)}),p=Qa(),g=x.useRef("touch"),b=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(doe,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:x.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:o.jsx(X0.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:o.jsx(Ae.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:v,onFocus:me(i.onFocus,()=>m(!0)),onBlur:me(i.onBlur,()=>m(!1)),onClick:me(i.onClick,()=>{g.current!=="mouse"&&b()}),onPointerUp:me(i.onPointerUp,()=>{g.current==="mouse"&&b()}),onPointerDown:me(i.onPointerDown,y=>{g.current=y.pointerType}),onPointerMove:me(i.onPointerMove,y=>{var w;g.current=y.pointerType,a?(w=c.onItemLeave)==null||w.call(c):g.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:me(i.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:me(i.onKeyDown,y=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&y.key===" "||(Jie.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});FB.displayName=Cy;var jh="SelectItemText",BB=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...s}=e,i=qo(jh,r),l=Wo(jh,r),c=LB(jh,r),u=toe(jh,r),[d,f]=x.useState(null),h=tt(t,b=>f(b),c.onItemTextChange,b=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,v=x.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=u;return Ir(()=>(p(v),()=>g(v)),[p,g,v]),o.jsxs(o.Fragment,{children:[o.jsx(Ae.span,{id:c.textId,...s,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ea.createPortal(s.children,i.valueNode):null]})});BB.displayName=jh;var zB="SelectItemIndicator",UB=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return LB(zB,r).isSelected?o.jsx(Ae.span,{"aria-hidden":!0,...n,ref:t}):null});UB.displayName=zB;var uS="SelectScrollUpButton",HB=x.forwardRef((e,t)=>{const r=Wo(uS,e.__scopeSelect),n=_C(uS,e.__scopeSelect),[a,s]=x.useState(!1),i=tt(t,n.onScrollButtonChange);return Ir(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(WB,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});HB.displayName=uS;var dS="SelectScrollDownButton",qB=x.forwardRef((e,t)=>{const r=Wo(dS,e.__scopeSelect),n=_C(dS,e.__scopeSelect),[a,s]=x.useState(!1),i=tt(t,n.onScrollButtonChange);return Ir(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(WB,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});qB.displayName=dS;var WB=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,s=Wo("SelectScrollButton",r),i=x.useRef(null),l=Z0(r),c=x.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),Ir(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(Ae.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:me(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:me(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:me(a.onPointerLeave,()=>{c()})})}),foe="SelectSeparator",KB=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(Ae.div,{"aria-hidden":!0,...n,ref:t})});KB.displayName=foe;var fS="SelectArrow",hoe=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=ex(r),s=qo(fS,r),i=Wo(fS,r);return s.open&&i.position==="popper"?o.jsx(k0,{...a,...n,ref:t}):null});hoe.displayName=fS;function GB(e){return e===""||e===void 0}var VB=x.forwardRef((e,t)=>{const{value:r,...n}=e,a=x.useRef(null),s=tt(t,a),i=wC(r);return x.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[i,r]),o.jsx(Sp,{asChild:!0,children:o.jsx("select",{...n,ref:s,defaultValue:r})})});VB.displayName="BubbleSelect";function QB(e){const t=gn(e),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,s]}function YB(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let i=moe(e,Math.max(s,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function moe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var poe=jB,JB=kB,goe=EB,voe=CB,yoe=AB,XB=PB,boe=OB,ZB=$B,e8=FB,xoe=BB,woe=UB,t8=HB,r8=qB,n8=KB;const ze=poe,Ue=goe,$e=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(JB,{ref:n,className:se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(voe,{asChild:!0,children:o.jsx(Va,{className:"h-4 w-4 opacity-50"})})]}));$e.displayName=JB.displayName;const a8=x.forwardRef(({className:e,...t},r)=>o.jsx(t8,{ref:r,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Ll,{className:"h-4 w-4"})}));a8.displayName=t8.displayName;const s8=x.forwardRef(({className:e,...t},r)=>o.jsx(r8,{ref:r,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Va,{className:"h-4 w-4"})}));s8.displayName=r8.displayName;const Le=x.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>o.jsx(yoe,{children:o.jsxs(XB,{ref:a,className:se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(a8,{}),o.jsx(boe,{className:se("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(s8,{})]})}));Le.displayName=XB.displayName;const _oe=x.forwardRef(({className:e,...t},r)=>o.jsx(ZB,{ref:r,className:se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));_oe.displayName=ZB.displayName;const pe=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(e8,{ref:n,className:se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(woe,{children:o.jsx(g0,{className:"h-4 w-4"})})}),o.jsx(xoe,{children:t})]}));pe.displayName=e8.displayName;const joe=x.forwardRef(({className:e,...t},r)=>o.jsx(n8,{ref:r,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));joe.displayName=n8.displayName;function et(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function $n(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Hr(e,t){const r=et(e);return isNaN(t)?$n(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function rs(e,t){const r=et(e);if(isNaN(t))return $n(e,NaN);if(!t)return r;const n=r.getDate(),a=$n(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const s=a.getDate();return n>=s?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const jC=6048e5,Soe=864e5,i8=6e4,o8=36e5;let koe={};function Fp(){return koe}function tn(e,t){var l,c,u,d;const r=Fp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=et(e),s=a.getDay(),i=(s<n?7:0)+s-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function oc(e){return tn(e,{weekStartsOn:1})}function l8(e){const t=et(e),r=t.getFullYear(),n=$n(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=oc(n),s=$n(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const i=oc(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Cs(e){const t=et(e);return t.setHours(0,0,0,0),t}function Ay(e){const t=et(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function xs(e,t){const r=Cs(e),n=Cs(t),a=+r-Ay(r),s=+n-Ay(n);return Math.round((a-s)/Soe)}function Noe(e){const t=l8(e),r=$n(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),oc(r)}function Cd(e,t){const r=t*7;return Hr(e,r)}function Eoe(e,t){return rs(e,t*12)}function Coe(e){let t;return e.forEach(function(r){const n=et(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Aoe(e){let t;return e.forEach(r=>{const n=et(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Poe(e){return $n(e,Date.now())}function br(e,t){const r=Cs(e),n=Cs(t);return+r==+n}function SC(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Toe(e){if(!SC(e)&&typeof e!="number")return!1;const t=et(e);return!isNaN(Number(t))}function _m(e,t){const r=et(e),n=et(t),a=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return a*12+s}function Doe(e,t,r){const n=tn(e,r),a=tn(t,r),s=+n-Ay(n),i=+a-Ay(a);return Math.round((s-i)/jC)}function xi(e){const t=et(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function ns(e,t){const r=et(e.start),n=et(e.end);let a=+r>+n;const s=a?+r:+n,i=a?n:r;i.setHours(0,0,0,0);let l=1;const c=[];for(;+i<=s;)c.push(et(i)),i.setDate(i.getDate()+l),i.setHours(0,0,0,0);return a?c.reverse():c}function dr(e){const t=et(e);return t.setDate(1),t.setHours(0,0,0,0),t}function c8(e){const t=et(e),r=$n(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Ac(e,t){var l,c,u,d;const r=Fp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=et(e),s=a.getDay(),i=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}function u8(e){return Ac(e,{weekStartsOn:1})}const Moe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ooe=(e,t,r)=>{let n;const a=Moe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Uu(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Roe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ioe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$oe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Loe={date:Uu({formats:Roe,defaultWidth:"full"}),time:Uu({formats:Ioe,defaultWidth:"full"}),dateTime:Uu({formats:$oe,defaultWidth:"full"})},Foe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Boe=(e,t,r,n)=>Foe[e];function ys(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[i]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const zoe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Uoe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Hoe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qoe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Woe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Koe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Goe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Voe={ordinalNumber:Goe,era:ys({values:zoe,defaultWidth:"wide"}),quarter:ys({values:Uoe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ys({values:Hoe,defaultWidth:"wide"}),day:ys({values:qoe,defaultWidth:"wide"}),dayPeriod:ys({values:Woe,defaultWidth:"wide",formattingValues:Koe,defaultFormattingWidth:"wide"})};function bs(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const i=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Yoe(l,f=>f.test(i)):Qoe(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function Qoe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Yoe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function d8(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const Joe=/^(\d+)(th|st|nd|rd)?/i,Xoe=/\d+/i,Zoe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ele={any:[/^b/i,/^(a|c)/i]},tle={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rle={any:[/1/i,/2/i,/3/i,/4/i]},nle={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ale={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sle={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ile={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ole={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lle={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cle={ordinalNumber:d8({matchPattern:Joe,parsePattern:Xoe,valueCallback:e=>parseInt(e,10)}),era:bs({matchPatterns:Zoe,defaultMatchWidth:"wide",parsePatterns:ele,defaultParseWidth:"any"}),quarter:bs({matchPatterns:tle,defaultMatchWidth:"wide",parsePatterns:rle,defaultParseWidth:"any",valueCallback:e=>e+1}),month:bs({matchPatterns:nle,defaultMatchWidth:"wide",parsePatterns:ale,defaultParseWidth:"any"}),day:bs({matchPatterns:sle,defaultMatchWidth:"wide",parsePatterns:ile,defaultParseWidth:"any"}),dayPeriod:bs({matchPatterns:ole,defaultMatchWidth:"any",parsePatterns:lle,defaultParseWidth:"any"})},f8={code:"en-US",formatDistance:Ooe,formatLong:Loe,formatRelative:Boe,localize:Voe,match:cle,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ule(e){const t=et(e);return xs(t,c8(t))+1}function h8(e){const t=et(e),r=+oc(t)-+Noe(t);return Math.round(r/jC)+1}function m8(e,t){var d,f,h,m;const r=et(e),n=r.getFullYear(),a=Fp(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=$n(e,0);i.setFullYear(n+1,0,s),i.setHours(0,0,0,0);const l=tn(i,t),c=$n(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=tn(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function dle(e,t){var l,c,u,d;const r=Fp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=m8(e,t),s=$n(e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),tn(s,t)}function p8(e,t){const r=et(e),n=+tn(r,t)-+dle(r,t);return Math.round(n/jC)+1}function xt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Mi={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return xt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):xt(r+1,2)},d(e,t){return xt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return xt(e.getHours()%12||12,t.length)},H(e,t){return xt(e.getHours(),t.length)},m(e,t){return xt(e.getMinutes(),t.length)},s(e,t){return xt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return xt(a,t.length)}},Vc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mD={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Mi.y(e,t)},Y:function(e,t,r,n){const a=m8(e,n),s=a>0?a:1-a;if(t==="YY"){const i=s%100;return xt(i,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):xt(s,t.length)},R:function(e,t){const r=l8(e);return xt(r,t.length)},u:function(e,t){const r=e.getFullYear();return xt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return xt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return xt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Mi.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return xt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=p8(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):xt(a,t.length)},I:function(e,t,r){const n=h8(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):xt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Mi.d(e,t)},D:function(e,t,r){const n=ule(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):xt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return xt(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return xt(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return xt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Vc.noon:n===0?a=Vc.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Vc.evening:n>=12?a=Vc.afternoon:n>=4?a=Vc.morning:a=Vc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Mi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Mi.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):xt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):xt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Mi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Mi.s(e,t)},S:function(e,t){return Mi.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return gD(n);case"XXXX":case"XX":return ll(n);case"XXXXX":case"XXX":default:return ll(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return gD(n);case"xxxx":case"xx":return ll(n);case"xxxxx":case"xxx":default:return ll(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+pD(n,":");case"OOOO":default:return"GMT"+ll(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+pD(n,":");case"zzzz":default:return"GMT"+ll(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return xt(n,t.length)},T:function(e,t,r){const n=e.getTime();return xt(n,t.length)}};function pD(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+xt(s,2)}function gD(e,t){return e%60===0?(e>0?"-":"+")+xt(Math.abs(e)/60,2):ll(e,t)}function ll(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=xt(Math.trunc(n/60),2),s=xt(n%60,2);return r+a+t+s}const vD=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},g8=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},fle=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return vD(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",vD(n,t)).replace("{{time}}",g8(a,t))},hle={p:g8,P:fle},mle=/^D+$/,ple=/^Y+$/,gle=["D","DD","YY","YYYY"];function vle(e){return mle.test(e)}function yle(e){return ple.test(e)}function ble(e,t,r){const n=xle(e,t,r);if(console.warn(n),gle.includes(e))throw new RangeError(n)}function xle(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wle=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_le=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jle=/^'([^]*?)'?$/,Sle=/''/g,kle=/[a-zA-Z]/;function Ne(e,t,r){var d,f,h,m,v,p,g,b;const n=Fp(),a=(r==null?void 0:r.locale)??n.locale??f8,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((p=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((b=(g=n.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)??0,l=et(e);if(!Toe(l))throw new RangeError("Invalid time value");let c=t.match(_le).map(y=>{const w=y[0];if(w==="p"||w==="P"){const _=hle[w];return _(y,a.formatLong)}return y}).join("").match(wle).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:Nle(y)};if(mD[w])return{isToken:!0,value:y};if(w.match(kle))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:i,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&yle(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&vle(w))&&ble(w,t,String(e));const _=mD[w[0]];return _(l,w,a.localize,u)}).join("")}function Nle(e){const t=e.match(jle);return t?t[1].replace(Sle,"'"):e}function Bl(e){return et(e).getDay()}function Ele(e){const t=et(e),r=t.getFullYear(),n=t.getMonth(),a=$n(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Cle(e){return Math.trunc(+et(e)/1e3)}function Ale(e){const t=et(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Ple(e,t){return Doe(Ale(e),dr(e),t)+1}function hS(e,t){const r=et(e),n=et(t);return r.getTime()>n.getTime()}function v8(e,t){const r=et(e),n=et(t);return+r<+n}function Zs(e,t){const r=et(e),n=et(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Tle(e,t){const r=et(e),n=et(t);return r.getFullYear()===n.getFullYear()}function Dle(e){return br(e,Poe(e))}function tx(e,t){const r=+et(e),[n,a]=[+et(t.start),+et(t.end)].sort((s,i)=>s-i);return r>=n&&r<=a}function v_(e,t){return Hr(e,-t)}function Mr(e,t){const n=Ile(e);let a;if(n.date){const c=$le(n.date,2);a=Lle(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const s=a.getTime();let i=0,l;if(n.time&&(i=Fle(n.time),isNaN(i)))return new Date(NaN);if(n.timezone){if(l=Ble(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(s+i),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(s+i+l)}const $g={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Mle=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ole=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Rle=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Ile(e){const t={},r=e.split($g.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],$g.timeZoneDelimiter.test(t.date)&&(t.date=e.split($g.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=$g.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function $le(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:e.slice((n[1]||n[2]).length)}}function Lle(e,t){if(t===null)return new Date(NaN);const r=e.match(Mle);if(!r)return new Date(NaN);const n=!!r[4],a=Zf(r[1]),s=Zf(r[2])-1,i=Zf(r[3]),l=Zf(r[4]),c=Zf(r[5])-1;if(n)return Wle(t,l,c)?zle(t,l,c):new Date(NaN);{const u=new Date(0);return!Hle(t,s,i)||!qle(t,a)?new Date(NaN):(u.setUTCFullYear(t,s,Math.max(a,i)),u)}}function Zf(e){return e?parseInt(e):1}function Fle(e){const t=e.match(Ole);if(!t)return NaN;const r=y_(t[1]),n=y_(t[2]),a=y_(t[3]);return Kle(r,n,a)?r*o8+n*i8+a*1e3:NaN}function y_(e){return e&&parseFloat(e.replace(",","."))||0}function Ble(e){if(e==="Z")return 0;const t=e.match(Rle);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Gle(n,a)?r*(n*o8+a*i8):NaN}function zle(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,s=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}const Ule=[31,null,31,30,31,30,31,31,30,31,30,31];function y8(e){return e%400===0||e%4===0&&e%100!==0}function Hle(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Ule[t]||(y8(e)?29:28))}function qle(e,t){return t>=1&&t<=(y8(e)?366:365)}function Wle(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Kle(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Gle(e,t){return t>=0&&t<=59}function b_(e,t){const r=et(e),n=r.getFullYear(),a=r.getDate(),s=$n(e,0);s.setFullYear(n,t,15),s.setHours(0,0,0,0);const i=Ele(s);return r.setMonth(t,Math.min(a,i)),r}function yD(e,t){const r=et(e);return isNaN(+r)?$n(e,NaN):(r.setFullYear(t),r)}const Vle={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},Qle=(e,t,r)=>{let n;const a=Vle[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dalam waktu "+n:n+" yang lalu":n},Yle={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},Jle={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},Xle={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Zle={date:Uu({formats:Yle,defaultWidth:"full"}),time:Uu({formats:Jle,defaultWidth:"full"}),dateTime:Uu({formats:Xle,defaultWidth:"full"})},ece={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},tce=(e,t,r,n)=>ece[e],rce={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},nce={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},ace={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},sce={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},ice={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},oce={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},lce=(e,t)=>"ke-"+Number(e),cce={ordinalNumber:lce,era:ys({values:rce,defaultWidth:"wide"}),quarter:ys({values:nce,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ys({values:ace,defaultWidth:"wide"}),day:ys({values:sce,defaultWidth:"wide"}),dayPeriod:ys({values:ice,defaultWidth:"wide",formattingValues:oce,defaultFormattingWidth:"wide"})},uce=/^ke-(\d+)?/i,dce=/\d+/i,fce={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},hce={any:[/^s/i,/^(m|e)/i]},mce={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},pce={any:[/1/i,/2/i,/3/i,/4/i]},gce={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},vce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},yce={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},bce={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},xce={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},wce={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},_ce={ordinalNumber:d8({matchPattern:uce,parsePattern:dce,valueCallback:e=>parseInt(e,10)}),era:bs({matchPatterns:fce,defaultMatchWidth:"wide",parsePatterns:hce,defaultParseWidth:"any"}),quarter:bs({matchPatterns:mce,defaultMatchWidth:"wide",parsePatterns:pce,defaultParseWidth:"any",valueCallback:e=>e+1}),month:bs({matchPatterns:gce,defaultMatchWidth:"wide",parsePatterns:vce,defaultParseWidth:"any"}),day:bs({matchPatterns:yce,defaultMatchWidth:"wide",parsePatterns:bce,defaultParseWidth:"any"}),dayPeriod:bs({matchPatterns:xce,defaultMatchWidth:"any",parsePatterns:wce,defaultParseWidth:"any"})},Nt={code:"id",formatDistance:Qle,formatLong:Zle,formatRelative:tce,localize:cce,match:_ce,options:{weekStartsOn:1,firstWeekContainsDate:1}};var jce=Array.isArray,Fn=jce,Sce=typeof Qr=="object"&&Qr&&Qr.Object===Object&&Qr,b8=Sce,kce=b8,Nce=typeof self=="object"&&self&&self.Object===Object&&self,Ece=kce||Nce||Function("return this")(),Ms=Ece,Cce=Ms,Ace=Cce.Symbol,Bp=Ace,bD=Bp,x8=Object.prototype,Pce=x8.hasOwnProperty,Tce=x8.toString,eh=bD?bD.toStringTag:void 0;function Dce(e){var t=Pce.call(e,eh),r=e[eh];try{e[eh]=void 0;var n=!0}catch{}var a=Tce.call(e);return n&&(t?e[eh]=r:delete e[eh]),a}var Mce=Dce,Oce=Object.prototype,Rce=Oce.toString;function Ice(e){return Rce.call(e)}var $ce=Ice,xD=Bp,Lce=Mce,Fce=$ce,Bce="[object Null]",zce="[object Undefined]",wD=xD?xD.toStringTag:void 0;function Uce(e){return e==null?e===void 0?zce:Bce:wD&&wD in Object(e)?Lce(e):Fce(e)}var wi=Uce;function Hce(e){return e!=null&&typeof e=="object"}var _i=Hce,qce=wi,Wce=_i,Kce="[object Symbol]";function Gce(e){return typeof e=="symbol"||Wce(e)&&qce(e)==Kce}var jf=Gce,Vce=Fn,Qce=jf,Yce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jce=/^\w*$/;function Xce(e,t){if(Vce(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Qce(e)?!0:Jce.test(e)||!Yce.test(e)||t!=null&&e in Object(t)}var kC=Xce;function Zce(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ko=Zce;const Sf=yt(Ko);var eue=wi,tue=Ko,rue="[object AsyncFunction]",nue="[object Function]",aue="[object GeneratorFunction]",sue="[object Proxy]";function iue(e){if(!tue(e))return!1;var t=eue(e);return t==nue||t==aue||t==rue||t==sue}var NC=iue;const qe=yt(NC);var oue=Ms,lue=oue["__core-js_shared__"],cue=lue,x_=cue,_D=function(){var e=/[^.]+$/.exec(x_&&x_.keys&&x_.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function uue(e){return!!_D&&_D in e}var due=uue,fue=Function.prototype,hue=fue.toString;function mue(e){if(e!=null){try{return hue.call(e)}catch{}try{return e+""}catch{}}return""}var w8=mue,pue=NC,gue=due,vue=Ko,yue=w8,bue=/[\\^$.*+?()[\]{}|]/g,xue=/^\[object .+?Constructor\]$/,wue=Function.prototype,_ue=Object.prototype,jue=wue.toString,Sue=_ue.hasOwnProperty,kue=RegExp("^"+jue.call(Sue).replace(bue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Nue(e){if(!vue(e)||gue(e))return!1;var t=pue(e)?kue:xue;return t.test(yue(e))}var Eue=Nue;function Cue(e,t){return e==null?void 0:e[t]}var Aue=Cue,Pue=Eue,Tue=Aue;function Due(e,t){var r=Tue(e,t);return Pue(r)?r:void 0}var Pc=Due,Mue=Pc,Oue=Mue(Object,"create"),rx=Oue,jD=rx;function Rue(){this.__data__=jD?jD(null):{},this.size=0}var Iue=Rue;function $ue(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Lue=$ue,Fue=rx,Bue="__lodash_hash_undefined__",zue=Object.prototype,Uue=zue.hasOwnProperty;function Hue(e){var t=this.__data__;if(Fue){var r=t[e];return r===Bue?void 0:r}return Uue.call(t,e)?t[e]:void 0}var que=Hue,Wue=rx,Kue=Object.prototype,Gue=Kue.hasOwnProperty;function Vue(e){var t=this.__data__;return Wue?t[e]!==void 0:Gue.call(t,e)}var Que=Vue,Yue=rx,Jue="__lodash_hash_undefined__";function Xue(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Yue&&t===void 0?Jue:t,this}var Zue=Xue,ede=Iue,tde=Lue,rde=que,nde=Que,ade=Zue;function kf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}kf.prototype.clear=ede;kf.prototype.delete=tde;kf.prototype.get=rde;kf.prototype.has=nde;kf.prototype.set=ade;var sde=kf;function ide(){this.__data__=[],this.size=0}var ode=ide;function lde(e,t){return e===t||e!==e&&t!==t}var EC=lde,cde=EC;function ude(e,t){for(var r=e.length;r--;)if(cde(e[r][0],t))return r;return-1}var nx=ude,dde=nx,fde=Array.prototype,hde=fde.splice;function mde(e){var t=this.__data__,r=dde(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():hde.call(t,r,1),--this.size,!0}var pde=mde,gde=nx;function vde(e){var t=this.__data__,r=gde(t,e);return r<0?void 0:t[r][1]}var yde=vde,bde=nx;function xde(e){return bde(this.__data__,e)>-1}var wde=xde,_de=nx;function jde(e,t){var r=this.__data__,n=_de(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Sde=jde,kde=ode,Nde=pde,Ede=yde,Cde=wde,Ade=Sde;function Nf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Nf.prototype.clear=kde;Nf.prototype.delete=Nde;Nf.prototype.get=Ede;Nf.prototype.has=Cde;Nf.prototype.set=Ade;var ax=Nf,Pde=Pc,Tde=Ms,Dde=Pde(Tde,"Map"),CC=Dde,SD=sde,Mde=ax,Ode=CC;function Rde(){this.size=0,this.__data__={hash:new SD,map:new(Ode||Mde),string:new SD}}var Ide=Rde;function $de(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Lde=$de,Fde=Lde;function Bde(e,t){var r=e.__data__;return Fde(t)?r[typeof t=="string"?"string":"hash"]:r.map}var sx=Bde,zde=sx;function Ude(e){var t=zde(this,e).delete(e);return this.size-=t?1:0,t}var Hde=Ude,qde=sx;function Wde(e){return qde(this,e).get(e)}var Kde=Wde,Gde=sx;function Vde(e){return Gde(this,e).has(e)}var Qde=Vde,Yde=sx;function Jde(e,t){var r=Yde(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Xde=Jde,Zde=Ide,efe=Hde,tfe=Kde,rfe=Qde,nfe=Xde;function Ef(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ef.prototype.clear=Zde;Ef.prototype.delete=efe;Ef.prototype.get=tfe;Ef.prototype.has=rfe;Ef.prototype.set=nfe;var AC=Ef,_8=AC,afe="Expected a function";function PC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(afe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var i=e.apply(this,n);return r.cache=s.set(a,i)||s,i};return r.cache=new(PC.Cache||_8),r}PC.Cache=_8;var j8=PC;const sfe=yt(j8);var ife=j8,ofe=500;function lfe(e){var t=ife(e,function(n){return r.size===ofe&&r.clear(),n}),r=t.cache;return t}var cfe=lfe,ufe=cfe,dfe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ffe=/\\(\\)?/g,hfe=ufe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(dfe,function(r,n,a,s){t.push(a?s.replace(ffe,"$1"):n||r)}),t}),mfe=hfe;function pfe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var TC=pfe,kD=Bp,gfe=TC,vfe=Fn,yfe=jf,bfe=1/0,ND=kD?kD.prototype:void 0,ED=ND?ND.toString:void 0;function S8(e){if(typeof e=="string")return e;if(vfe(e))return gfe(e,S8)+"";if(yfe(e))return ED?ED.call(e):"";var t=e+"";return t=="0"&&1/e==-bfe?"-0":t}var xfe=S8,wfe=xfe;function _fe(e){return e==null?"":wfe(e)}var k8=_fe,jfe=Fn,Sfe=kC,kfe=mfe,Nfe=k8;function Efe(e,t){return jfe(e)?e:Sfe(e,t)?[e]:kfe(Nfe(e))}var N8=Efe,Cfe=jf,Afe=1/0;function Pfe(e){if(typeof e=="string"||Cfe(e))return e;var t=e+"";return t=="0"&&1/e==-Afe?"-0":t}var ix=Pfe,Tfe=N8,Dfe=ix;function Mfe(e,t){t=Tfe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Dfe(t[r++])];return r&&r==n?e:void 0}var DC=Mfe,Ofe=DC;function Rfe(e,t,r){var n=e==null?void 0:Ofe(e,t);return n===void 0?r:n}var E8=Rfe;const ta=yt(E8);function Ife(e){return e==null}var $fe=Ife;const nt=yt($fe);var Lfe=wi,Ffe=Fn,Bfe=_i,zfe="[object String]";function Ufe(e){return typeof e=="string"||!Ffe(e)&&Bfe(e)&&Lfe(e)==zfe}var Hfe=Ufe;const lc=yt(Hfe);var C8={exports:{}},jt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MC=Symbol.for("react.element"),OC=Symbol.for("react.portal"),ox=Symbol.for("react.fragment"),lx=Symbol.for("react.strict_mode"),cx=Symbol.for("react.profiler"),ux=Symbol.for("react.provider"),dx=Symbol.for("react.context"),qfe=Symbol.for("react.server_context"),fx=Symbol.for("react.forward_ref"),hx=Symbol.for("react.suspense"),mx=Symbol.for("react.suspense_list"),px=Symbol.for("react.memo"),gx=Symbol.for("react.lazy"),Wfe=Symbol.for("react.offscreen"),A8;A8=Symbol.for("react.module.reference");function Aa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case MC:switch(e=e.type,e){case ox:case cx:case lx:case hx:case mx:return e;default:switch(e=e&&e.$$typeof,e){case qfe:case dx:case fx:case gx:case px:case ux:return e;default:return t}}case OC:return t}}}jt.ContextConsumer=dx;jt.ContextProvider=ux;jt.Element=MC;jt.ForwardRef=fx;jt.Fragment=ox;jt.Lazy=gx;jt.Memo=px;jt.Portal=OC;jt.Profiler=cx;jt.StrictMode=lx;jt.Suspense=hx;jt.SuspenseList=mx;jt.isAsyncMode=function(){return!1};jt.isConcurrentMode=function(){return!1};jt.isContextConsumer=function(e){return Aa(e)===dx};jt.isContextProvider=function(e){return Aa(e)===ux};jt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===MC};jt.isForwardRef=function(e){return Aa(e)===fx};jt.isFragment=function(e){return Aa(e)===ox};jt.isLazy=function(e){return Aa(e)===gx};jt.isMemo=function(e){return Aa(e)===px};jt.isPortal=function(e){return Aa(e)===OC};jt.isProfiler=function(e){return Aa(e)===cx};jt.isStrictMode=function(e){return Aa(e)===lx};jt.isSuspense=function(e){return Aa(e)===hx};jt.isSuspenseList=function(e){return Aa(e)===mx};jt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ox||e===cx||e===lx||e===hx||e===mx||e===Wfe||typeof e=="object"&&e!==null&&(e.$$typeof===gx||e.$$typeof===px||e.$$typeof===ux||e.$$typeof===dx||e.$$typeof===fx||e.$$typeof===A8||e.getModuleId!==void 0)};jt.typeOf=Aa;C8.exports=jt;var Kfe=C8.exports,Gfe=wi,Vfe=_i,Qfe="[object Number]";function Yfe(e){return typeof e=="number"||Vfe(e)&&Gfe(e)==Qfe}var P8=Yfe;const Jfe=yt(P8);var Xfe=P8;function Zfe(e){return Xfe(e)&&e!=+e}var ehe=Zfe;const zp=yt(ehe);var un=function(t){return t===0?0:t>0?1:-1},jl=function(t){return lc(t)&&t.indexOf("%")===t.length-1},he=function(t){return Jfe(t)&&!zp(t)},the=function(t){return nt(t)},xr=function(t){return he(t)||lc(t)},rhe=0,Up=function(t){var r=++rhe;return"".concat(t||"").concat(r)},dn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(t)&&!lc(t))return n;var s;if(jl(t)){var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return zp(s)&&(s=n),a&&s>r&&(s=r),s},Gi=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},nhe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Ui=function(t,r){return he(t)&&he(r)?function(n){return t+n*(r-t)}:function(){return r}};function mS(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):ta(n,t))===r})}var ahe=function(t,r){return he(t)&&he(r)?t-r:lc(t)&&lc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Hu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function pS(e){"@babel/helpers - typeof";return pS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pS(e)}var she=["viewBox","children"],ihe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],CD=["points","pathLength"],w_={svg:she,polygon:CD,polyline:CD},RC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Py=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!Sf(n))return null;var a={};return Object.keys(n).forEach(function(s){RC.includes(s)&&(a[s]=r||function(i){return n[s](n,i)})}),a},ohe=function(t,r,n){return function(a){return t(r,n,a),null}},cc=function(t,r,n){if(!Sf(t)||pS(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var i=t[s];RC.includes(s)&&typeof i=="function"&&(a||(a={}),a[s]=ohe(i,r,n))}),a},lhe=["children"],che=["children"];function AD(e,t){if(e==null)return{};var r=uhe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var PD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ei=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},TD=null,__=null,IC=function e(t){if(t===TD&&Array.isArray(__))return __;var r=[];return x.Children.forEach(t,function(n){nt(n)||(Kfe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),__=r,TD=t,r};function Sa(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ei(a)}):n=[ei(t)],IC(e).forEach(function(a){var s=ta(a,"type.displayName")||ta(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Gn(e,t){var r=Sa(e,t);return r&&r[0]}var DD=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!he(n)||n<=0||!he(a)||a<=0)},dhe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],fhe=function(t){return t&&t.type&&lc(t.type)&&dhe.indexOf(t.type)>=0},hhe=function(t,r,n,a){var s,i=(s=w_==null?void 0:w_[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!qe(t)&&(a&&i.includes(r)||ihe.includes(r))||n&&RC.includes(r)},Be=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!Sf(a))return null;var s={};return Object.keys(a).forEach(function(i){var l;hhe((l=a)===null||l===void 0?void 0:l[i],i,r,n)&&(s[i]=a[i])}),s},gS=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return MD(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=t[a],i=r[a];if(Array.isArray(s)||Array.isArray(i)){if(!e(s,i))return!1}else if(!MD(s,i))return!1}return!0},MD=function(t,r){if(nt(t)&&nt(r))return!0;if(!nt(t)&&!nt(r)){var n=t.props||{},a=n.children,s=AD(n,lhe),i=r.props||{},l=i.children,c=AD(i,che);return a&&l?Hu(s,c)&&gS(a,l):!a&&!l?Hu(s,c):!1}return!1},OD=function(t,r){var n=[],a={};return IC(t).forEach(function(s,i){if(fhe(s))n.push(s);else if(s){var l=ei(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,i);n.push(f),a[l]=!0}}}),n},mhe=function(t){var r=t&&t.type;return r&&PD[r]?PD[r]:null},phe=function(t,r){return IC(r).indexOf(t)},ghe=["children","width","height","viewBox","className","style","title","desc"];function vS(){return vS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vS.apply(this,arguments)}function vhe(e,t){if(e==null)return{};var r=yhe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yS(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,s=e.className,i=e.style,l=e.title,c=e.desc,u=vhe(e,ghe),d=a||{width:r,height:n,x:0,y:0},f=Ye("recharts-surface",s);return L.createElement("svg",vS({},Be(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),L.createElement("title",null,l),L.createElement("desc",null,c),t)}var bhe=["children","className"];function bS(){return bS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bS.apply(this,arguments)}function xhe(e,t){if(e==null)return{};var r=whe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function whe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wt=L.forwardRef(function(e,t){var r=e.children,n=e.className,a=xhe(e,bhe),s=Ye("recharts-layer",n);return L.createElement("g",bS({className:s},Be(a,!0),{ref:t}),r)}),Ya=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]};function _he(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var jhe=_he,She=jhe;function khe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:She(e,t,r)}var Nhe=khe,Ehe="\\ud800-\\udfff",Che="\\u0300-\\u036f",Ahe="\\ufe20-\\ufe2f",Phe="\\u20d0-\\u20ff",The=Che+Ahe+Phe,Dhe="\\ufe0e\\ufe0f",Mhe="\\u200d",Ohe=RegExp("["+Mhe+Ehe+The+Dhe+"]");function Rhe(e){return Ohe.test(e)}var T8=Rhe;function Ihe(e){return e.split("")}var $he=Ihe,D8="\\ud800-\\udfff",Lhe="\\u0300-\\u036f",Fhe="\\ufe20-\\ufe2f",Bhe="\\u20d0-\\u20ff",zhe=Lhe+Fhe+Bhe,Uhe="\\ufe0e\\ufe0f",Hhe="["+D8+"]",xS="["+zhe+"]",wS="\\ud83c[\\udffb-\\udfff]",qhe="(?:"+xS+"|"+wS+")",M8="[^"+D8+"]",O8="(?:\\ud83c[\\udde6-\\uddff]){2}",R8="[\\ud800-\\udbff][\\udc00-\\udfff]",Whe="\\u200d",I8=qhe+"?",$8="["+Uhe+"]?",Khe="(?:"+Whe+"(?:"+[M8,O8,R8].join("|")+")"+$8+I8+")*",Ghe=$8+I8+Khe,Vhe="(?:"+[M8+xS+"?",xS,O8,R8,Hhe].join("|")+")",Qhe=RegExp(wS+"(?="+wS+")|"+Vhe+Ghe,"g");function Yhe(e){return e.match(Qhe)||[]}var Jhe=Yhe,Xhe=$he,Zhe=T8,eme=Jhe;function tme(e){return Zhe(e)?eme(e):Xhe(e)}var rme=tme,nme=Nhe,ame=T8,sme=rme,ime=k8;function ome(e){return function(t){t=ime(t);var r=ame(t)?sme(t):void 0,n=r?r[0]:t.charAt(0),a=r?nme(r,1).join(""):t.slice(1);return n[e]()+a}}var lme=ome,cme=lme,ume=cme("toUpperCase"),dme=ume;const vx=yt(dme);function Ot(e){return function(){return e}}const L8=Math.cos,Ty=Math.sin,is=Math.sqrt,Dy=Math.PI,yx=2*Dy,_S=Math.PI,jS=2*_S,cl=1e-6,fme=jS-cl;function F8(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function hme(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return F8;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class mme{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?F8:hme(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,l=this._y1,c=n-t,u=a-r,d=i-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>cl)if(!(Math.abs(f*c-u*d)>cl)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-i,v=a-l,p=c*c+u*u,g=m*m+v*v,b=Math.sqrt(p),y=Math.sqrt(h),w=s*Math.tan((_S-Math.acos((p+h-g)/(2*b*y)))/2),_=w/y,j=w/b;Math.abs(_-1)>cl&&this._append`L${t+_*d},${r+_*f}`,this._append`A${s},${s},0,0,${+(f*m>d*v)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^i,h=i?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>cl||Math.abs(this._y1-d)>cl)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%jS+jS),h>fme?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>cl&&this._append`A${n},${n},0,${+(h>=_S)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function $C(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new mme(t)}function LC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function B8(e){this._context=e}B8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function bx(e){return new B8(e)}function z8(e){return e[0]}function U8(e){return e[1]}function H8(e,t){var r=Ot(!0),n=null,a=bx,s=null,i=$C(l);e=typeof e=="function"?e:e===void 0?z8:Ot(e),t=typeof t=="function"?t:t===void 0?U8:Ot(t);function l(c){var u,d=(c=LC(c)).length,f,h=!1,m;for(n==null&&(s=a(m=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ot(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ot(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ot(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function Lg(e,t,r){var n=null,a=Ot(!0),s=null,i=bx,l=null,c=$C(u);e=typeof e=="function"?e:e===void 0?z8:Ot(+e),t=typeof t=="function"?t:Ot(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?U8:Ot(+r);function u(f){var h,m,v,p=(f=LC(f)).length,g,b=!1,y,w=new Array(p),_=new Array(p);for(s==null&&(l=i(y=c())),h=0;h<=p;++h){if(!(h<p&&a(g=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=m;--v)l.point(w[v],_[v]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(g,h,f),_[h]=+t(g,h,f),l.point(n?+n(g,h,f):w[h],r?+r(g,h,f):_[h]))}if(y)return l=null,y+""||null}function d(){return H8().defined(a).curve(i).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ot(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ot(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ot(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ot(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ot(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ot(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ot(!!f),u):a},u.curve=function(f){return arguments.length?(i=f,s!=null&&(l=i(s)),u):i},u.context=function(f){return arguments.length?(f==null?s=l=null:l=i(s=f),u):s},u}class q8{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function pme(e){return new q8(e,!0)}function gme(e){return new q8(e,!1)}const FC={draw(e,t){const r=is(t/Dy);e.moveTo(r,0),e.arc(0,0,r,0,yx)}},vme={draw(e,t){const r=is(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},W8=is(1/3),yme=W8*2,bme={draw(e,t){const r=is(t/yme),n=r*W8;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},xme={draw(e,t){const r=is(t),n=-r/2;e.rect(n,n,r,r)}},wme=.8908130915292852,K8=Ty(Dy/10)/Ty(7*Dy/10),_me=Ty(yx/10)*K8,jme=-L8(yx/10)*K8,Sme={draw(e,t){const r=is(t*wme),n=_me*r,a=jme*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=yx*s/5,l=L8(i),c=Ty(i);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},j_=is(3),kme={draw(e,t){const r=-is(t/(j_*3));e.moveTo(0,r*2),e.lineTo(-j_*r,-r),e.lineTo(j_*r,-r),e.closePath()}},ca=-.5,ua=is(3)/2,SS=1/is(12),Nme=(SS/2+1)*3,Eme={draw(e,t){const r=is(t/Nme),n=r/2,a=r*SS,s=n,i=r*SS+r,l=-s,c=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(l,c),e.lineTo(ca*n-ua*a,ua*n+ca*a),e.lineTo(ca*s-ua*i,ua*s+ca*i),e.lineTo(ca*l-ua*c,ua*l+ca*c),e.lineTo(ca*n+ua*a,ca*a-ua*n),e.lineTo(ca*s+ua*i,ca*i-ua*s),e.lineTo(ca*l+ua*c,ca*c-ua*l),e.closePath()}};function Cme(e,t){let r=null,n=$C(a);e=typeof e=="function"?e:Ot(e||FC),t=typeof t=="function"?t:Ot(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ot(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ot(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function My(){}function Oy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function G8(e){this._context=e}G8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Oy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Oy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ame(e){return new G8(e)}function V8(e){this._context=e}V8.prototype={areaStart:My,areaEnd:My,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Oy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Pme(e){return new V8(e)}function Q8(e){this._context=e}Q8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Oy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Tme(e){return new Q8(e)}function Y8(e){this._context=e}Y8.prototype={areaStart:My,areaEnd:My,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Dme(e){return new Y8(e)}function RD(e){return e<0?-1:1}function ID(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),l=(s*a+i*n)/(n+a);return(RD(s)+RD(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(l))||0}function $D(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function S_(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,a+l*t,s-l,i-l*r,s,i)}function Ry(e){this._context=e}Ry.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:S_(this,this._t0,$D(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,S_(this,$D(this,r=ID(this,e,t)),r);break;default:S_(this,this._t0,r=ID(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function J8(e){this._context=new X8(e)}(J8.prototype=Object.create(Ry.prototype)).point=function(e,t){Ry.prototype.point.call(this,t,e)};function X8(e){this._context=e}X8.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function Mme(e){return new Ry(e)}function Ome(e){return new J8(e)}function Z8(e){this._context=e}Z8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=LD(e),a=LD(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function LD(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function Rme(e){return new Z8(e)}function xx(e,t){this._context=e,this._t=t}xx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Ime(e){return new xx(e,.5)}function $me(e){return new xx(e,0)}function Lme(e){return new xx(e,1)}function Ad(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,l=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function kS(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Fme(e,t){return e[t]}function Bme(e){const t=[];return t.key=e,t}function zme(){var e=Ot([]),t=kS,r=Ad,n=Fme;function a(s){var i=Array.from(e.apply(this,arguments),Bme),l,c=i.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(i[l][u]=[0,+n(f,i[l].key,u,s)]).data=f;for(l=0,d=LC(t(i));l<c;++l)i[d[l]].index=l;return r(i,d),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ot(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ot(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?kS:typeof s=="function"?s:Ot(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Ad,a):r},a}function Ume(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}Ad(e,t)}}function Hme(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,l=0;i<a;++i)l+=e[i][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ad(e,t)}}function qme(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var l=0,c=0,u=0;l<i;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,v=0;v<l;++v){var p=e[t[v]],g=p[n][1]||0,b=p[n-1][1]||0;m+=g-b}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Ad(e,t)}}function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}var Wme=["type","size","sizeType"];function NS(){return NS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NS.apply(this,arguments)}function FD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FD(Object(r),!0).forEach(function(n){Kme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kme(e,t,r){return t=Gme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gme(e){var t=Vme(e,"string");return jm(t)=="symbol"?t:t+""}function Vme(e,t){if(jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qme(e,t){if(e==null)return{};var r=Yme(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ez={symbolCircle:FC,symbolCross:vme,symbolDiamond:bme,symbolSquare:xme,symbolStar:Sme,symbolTriangle:kme,symbolWye:Eme},Jme=Math.PI/180,Xme=function(t){var r="symbol".concat(vx(t));return ez[r]||FC},Zme=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*Jme;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},epe=function(t,r){ez["symbol".concat(vx(t))]=r},BC=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,s=a===void 0?64:a,i=t.sizeType,l=i===void 0?"area":i,c=Qme(t,Wme),u=BD(BD({},c),{},{type:n,size:s,sizeType:l}),d=function(){var g=Xme(n),b=Cme().type(g).size(Zme(s,l,n));return b()},f=u.className,h=u.cx,m=u.cy,v=Be(u,!0);return h===+h&&m===+m&&s===+s?L.createElement("path",NS({},v,{className:Ye("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};BC.registerSymbol=epe;function Pd(e){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(e)}function ES(){return ES=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ES.apply(this,arguments)}function zD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tpe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zD(Object(r),!0).forEach(function(n){Sm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function npe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rz(n.key),n)}}function ape(e,t,r){return t&&npe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function spe(e,t,r){return t=Iy(t),ipe(e,tz()?Reflect.construct(t,r||[],Iy(e).constructor):t.apply(e,r))}function ipe(e,t){if(t&&(Pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ope(e)}function ope(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tz=function(){return!!e})()}function Iy(e){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iy(e)}function lpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CS(e,t)}function CS(e,t){return CS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},CS(e,t)}function Sm(e,t,r){return t=rz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rz(e){var t=cpe(e,"string");return Pd(t)=="symbol"?t:t+""}function cpe(e,t){if(Pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var da=32,zC=function(e){function t(){return rpe(this,t),spe(this,t,arguments)}return lpe(t,e),ape(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=da/2,i=da/6,l=da/3,c=n.inactive?a:n.color;if(n.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:da,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(da,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return L.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(da/8,"h").concat(da,"v").concat(da*3/4,"h").concat(-da,"z"),className:"recharts-legend-icon"});if(L.isValidElement(n.legendIcon)){var u=tpe({},n);return delete u.legendIcon,L.cloneElement(n.legendIcon,u)}return L.createElement(BC,{fill:c,cx:s,cy:s,size:da,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,i=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:da,height:da},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(m,v){var p=m.formatter||c,g=Ye(Sm(Sm({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=qe(m.value)?null:m.value;Ya(!qe(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?u:m.color;return L.createElement("li",ES({className:g,style:f,key:"legend-item-".concat(v)},cc(n.props,m,v)),L.createElement(yS,{width:i,height:i,viewBox:d,style:h},n.renderIcon(m)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(b,m,v):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,i=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?i:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);Sm(zC,"displayName","Legend");Sm(zC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var upe=ax;function dpe(){this.__data__=new upe,this.size=0}var fpe=dpe;function hpe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var mpe=hpe;function ppe(e){return this.__data__.get(e)}var gpe=ppe;function vpe(e){return this.__data__.has(e)}var ype=vpe,bpe=ax,xpe=CC,wpe=AC,_pe=200;function jpe(e,t){var r=this.__data__;if(r instanceof bpe){var n=r.__data__;if(!xpe||n.length<_pe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new wpe(n)}return r.set(e,t),this.size=r.size,this}var Spe=jpe,kpe=ax,Npe=fpe,Epe=mpe,Cpe=gpe,Ape=ype,Ppe=Spe;function Cf(e){var t=this.__data__=new kpe(e);this.size=t.size}Cf.prototype.clear=Npe;Cf.prototype.delete=Epe;Cf.prototype.get=Cpe;Cf.prototype.has=Ape;Cf.prototype.set=Ppe;var nz=Cf,Tpe="__lodash_hash_undefined__";function Dpe(e){return this.__data__.set(e,Tpe),this}var Mpe=Dpe;function Ope(e){return this.__data__.has(e)}var Rpe=Ope,Ipe=AC,$pe=Mpe,Lpe=Rpe;function $y(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Ipe;++t<r;)this.add(e[t])}$y.prototype.add=$y.prototype.push=$pe;$y.prototype.has=Lpe;var az=$y;function Fpe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var sz=Fpe;function Bpe(e,t){return e.has(t)}var iz=Bpe,zpe=az,Upe=sz,Hpe=iz,qpe=1,Wpe=2;function Kpe(e,t,r,n,a,s){var i=r&qpe,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&Wpe?new zpe:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var v=e[f],p=t[f];if(n)var g=i?n(p,v,f,t,e,s):n(v,p,f,e,t,s);if(g!==void 0){if(g)continue;h=!1;break}if(m){if(!Upe(t,function(b,y){if(!Hpe(m,y)&&(v===b||a(v,b,r,n,s)))return m.push(y)})){h=!1;break}}else if(!(v===p||a(v,p,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var oz=Kpe,Gpe=Ms,Vpe=Gpe.Uint8Array,Qpe=Vpe;function Ype(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Jpe=Ype;function Xpe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var UC=Xpe,UD=Bp,HD=Qpe,Zpe=EC,ege=oz,tge=Jpe,rge=UC,nge=1,age=2,sge="[object Boolean]",ige="[object Date]",oge="[object Error]",lge="[object Map]",cge="[object Number]",uge="[object RegExp]",dge="[object Set]",fge="[object String]",hge="[object Symbol]",mge="[object ArrayBuffer]",pge="[object DataView]",qD=UD?UD.prototype:void 0,k_=qD?qD.valueOf:void 0;function gge(e,t,r,n,a,s,i){switch(r){case pge:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case mge:return!(e.byteLength!=t.byteLength||!s(new HD(e),new HD(t)));case sge:case ige:case cge:return Zpe(+e,+t);case oge:return e.name==t.name&&e.message==t.message;case uge:case fge:return e==t+"";case lge:var l=tge;case dge:var c=n&nge;if(l||(l=rge),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=age,i.set(e,t);var d=ege(l(e),l(t),n,a,s,i);return i.delete(e),d;case hge:if(k_)return k_.call(e)==k_.call(t)}return!1}var vge=gge;function yge(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var lz=yge,bge=lz,xge=Fn;function wge(e,t,r){var n=t(e);return xge(e)?n:bge(n,r(e))}var _ge=wge;function jge(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var i=e[r];t(i,r,e)&&(s[a++]=i)}return s}var Sge=jge;function kge(){return[]}var Nge=kge,Ege=Sge,Cge=Nge,Age=Object.prototype,Pge=Age.propertyIsEnumerable,WD=Object.getOwnPropertySymbols,Tge=WD?function(e){return e==null?[]:(e=Object(e),Ege(WD(e),function(t){return Pge.call(e,t)}))}:Cge,Dge=Tge;function Mge(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Oge=Mge,Rge=wi,Ige=_i,$ge="[object Arguments]";function Lge(e){return Ige(e)&&Rge(e)==$ge}var Fge=Lge,KD=Fge,Bge=_i,cz=Object.prototype,zge=cz.hasOwnProperty,Uge=cz.propertyIsEnumerable,Hge=KD(function(){return arguments}())?KD:function(e){return Bge(e)&&zge.call(e,"callee")&&!Uge.call(e,"callee")},HC=Hge,Ly={exports:{}};function qge(){return!1}var Wge=qge;Ly.exports;(function(e,t){var r=Ms,n=Wge,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Ly,Ly.exports);var uz=Ly.exports,Kge=9007199254740991,Gge=/^(?:0|[1-9]\d*)$/;function Vge(e,t){var r=typeof e;return t=t??Kge,!!t&&(r=="number"||r!="symbol"&&Gge.test(e))&&e>-1&&e%1==0&&e<t}var qC=Vge,Qge=9007199254740991;function Yge(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Qge}var WC=Yge,Jge=wi,Xge=WC,Zge=_i,eve="[object Arguments]",tve="[object Array]",rve="[object Boolean]",nve="[object Date]",ave="[object Error]",sve="[object Function]",ive="[object Map]",ove="[object Number]",lve="[object Object]",cve="[object RegExp]",uve="[object Set]",dve="[object String]",fve="[object WeakMap]",hve="[object ArrayBuffer]",mve="[object DataView]",pve="[object Float32Array]",gve="[object Float64Array]",vve="[object Int8Array]",yve="[object Int16Array]",bve="[object Int32Array]",xve="[object Uint8Array]",wve="[object Uint8ClampedArray]",_ve="[object Uint16Array]",jve="[object Uint32Array]",Wt={};Wt[pve]=Wt[gve]=Wt[vve]=Wt[yve]=Wt[bve]=Wt[xve]=Wt[wve]=Wt[_ve]=Wt[jve]=!0;Wt[eve]=Wt[tve]=Wt[hve]=Wt[rve]=Wt[mve]=Wt[nve]=Wt[ave]=Wt[sve]=Wt[ive]=Wt[ove]=Wt[lve]=Wt[cve]=Wt[uve]=Wt[dve]=Wt[fve]=!1;function Sve(e){return Zge(e)&&Xge(e.length)&&!!Wt[Jge(e)]}var kve=Sve;function Nve(e){return function(t){return e(t)}}var dz=Nve,Fy={exports:{}};Fy.exports;(function(e,t){var r=b8,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,i=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})(Fy,Fy.exports);var Eve=Fy.exports,Cve=kve,Ave=dz,GD=Eve,VD=GD&&GD.isTypedArray,Pve=VD?Ave(VD):Cve,fz=Pve,Tve=Oge,Dve=HC,Mve=Fn,Ove=uz,Rve=qC,Ive=fz,$ve=Object.prototype,Lve=$ve.hasOwnProperty;function Fve(e,t){var r=Mve(e),n=!r&&Dve(e),a=!r&&!n&&Ove(e),s=!r&&!n&&!a&&Ive(e),i=r||n||a||s,l=i?Tve(e.length,String):[],c=l.length;for(var u in e)(t||Lve.call(e,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Rve(u,c)))&&l.push(u);return l}var Bve=Fve,zve=Object.prototype;function Uve(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||zve;return e===r}var Hve=Uve;function qve(e,t){return function(r){return e(t(r))}}var hz=qve,Wve=hz,Kve=Wve(Object.keys,Object),Gve=Kve,Vve=Hve,Qve=Gve,Yve=Object.prototype,Jve=Yve.hasOwnProperty;function Xve(e){if(!Vve(e))return Qve(e);var t=[];for(var r in Object(e))Jve.call(e,r)&&r!="constructor"&&t.push(r);return t}var Zve=Xve,eye=NC,tye=WC;function rye(e){return e!=null&&tye(e.length)&&!eye(e)}var Hp=rye,nye=Bve,aye=Zve,sye=Hp;function iye(e){return sye(e)?nye(e):aye(e)}var wx=iye,oye=_ge,lye=Dge,cye=wx;function uye(e){return oye(e,cye,lye)}var dye=uye,QD=dye,fye=1,hye=Object.prototype,mye=hye.hasOwnProperty;function pye(e,t,r,n,a,s){var i=r&fye,l=QD(e),c=l.length,u=QD(t),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var h=l[f];if(!(i?h in t:mye.call(t,h)))return!1}var m=s.get(e),v=s.get(t);if(m&&v)return m==t&&v==e;var p=!0;s.set(e,t),s.set(t,e);for(var g=i;++f<c;){h=l[f];var b=e[h],y=t[h];if(n)var w=i?n(y,b,h,t,e,s):n(b,y,h,e,t,s);if(!(w===void 0?b===y||a(b,y,r,n,s):w)){p=!1;break}g||(g=h=="constructor")}if(p&&!g){var _=e.constructor,j=t.constructor;_!=j&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof j=="function"&&j instanceof j)&&(p=!1)}return s.delete(e),s.delete(t),p}var gye=pye,vye=Pc,yye=Ms,bye=vye(yye,"DataView"),xye=bye,wye=Pc,_ye=Ms,jye=wye(_ye,"Promise"),Sye=jye,kye=Pc,Nye=Ms,Eye=kye(Nye,"Set"),mz=Eye,Cye=Pc,Aye=Ms,Pye=Cye(Aye,"WeakMap"),Tye=Pye,AS=xye,PS=CC,TS=Sye,DS=mz,MS=Tye,pz=wi,Af=w8,YD="[object Map]",Dye="[object Object]",JD="[object Promise]",XD="[object Set]",ZD="[object WeakMap]",eM="[object DataView]",Mye=Af(AS),Oye=Af(PS),Rye=Af(TS),Iye=Af(DS),$ye=Af(MS),ul=pz;(AS&&ul(new AS(new ArrayBuffer(1)))!=eM||PS&&ul(new PS)!=YD||TS&&ul(TS.resolve())!=JD||DS&&ul(new DS)!=XD||MS&&ul(new MS)!=ZD)&&(ul=function(e){var t=pz(e),r=t==Dye?e.constructor:void 0,n=r?Af(r):"";if(n)switch(n){case Mye:return eM;case Oye:return YD;case Rye:return JD;case Iye:return XD;case $ye:return ZD}return t});var Lye=ul,N_=nz,Fye=oz,Bye=vge,zye=gye,tM=Lye,rM=Fn,nM=uz,Uye=fz,Hye=1,aM="[object Arguments]",sM="[object Array]",Fg="[object Object]",qye=Object.prototype,iM=qye.hasOwnProperty;function Wye(e,t,r,n,a,s){var i=rM(e),l=rM(t),c=i?sM:tM(e),u=l?sM:tM(t);c=c==aM?Fg:c,u=u==aM?Fg:u;var d=c==Fg,f=u==Fg,h=c==u;if(h&&nM(e)){if(!nM(t))return!1;i=!0,d=!1}if(h&&!d)return s||(s=new N_),i||Uye(e)?Fye(e,t,r,n,a,s):Bye(e,t,c,r,n,a,s);if(!(r&Hye)){var m=d&&iM.call(e,"__wrapped__"),v=f&&iM.call(t,"__wrapped__");if(m||v){var p=m?e.value():e,g=v?t.value():t;return s||(s=new N_),a(p,g,r,n,s)}}return h?(s||(s=new N_),zye(e,t,r,n,a,s)):!1}var Kye=Wye,Gye=Kye,oM=_i;function gz(e,t,r,n,a){return e===t?!0:e==null||t==null||!oM(e)&&!oM(t)?e!==e&&t!==t:Gye(e,t,r,n,gz,a)}var KC=gz,Vye=nz,Qye=KC,Yye=1,Jye=2;function Xye(e,t,r,n){var a=r.length,s=a,i=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Vye;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Qye(d,u,Yye|Jye,n,f):h))return!1}}return!0}var Zye=Xye,ebe=Ko;function tbe(e){return e===e&&!ebe(e)}var vz=tbe,rbe=vz,nbe=wx;function abe(e){for(var t=nbe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,rbe(a)]}return t}var sbe=abe;function ibe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var yz=ibe,obe=Zye,lbe=sbe,cbe=yz;function ube(e){var t=lbe(e);return t.length==1&&t[0][2]?cbe(t[0][0],t[0][1]):function(r){return r===e||obe(r,e,t)}}var dbe=ube;function fbe(e,t){return e!=null&&t in Object(e)}var hbe=fbe,mbe=N8,pbe=HC,gbe=Fn,vbe=qC,ybe=WC,bbe=ix;function xbe(e,t,r){t=mbe(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var i=bbe(t[n]);if(!(s=e!=null&&r(e,i)))break;e=e[i]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&ybe(a)&&vbe(i,a)&&(gbe(e)||pbe(e)))}var wbe=xbe,_be=hbe,jbe=wbe;function Sbe(e,t){return e!=null&&jbe(e,t,_be)}var kbe=Sbe,Nbe=KC,Ebe=E8,Cbe=kbe,Abe=kC,Pbe=vz,Tbe=yz,Dbe=ix,Mbe=1,Obe=2;function Rbe(e,t){return Abe(e)&&Pbe(t)?Tbe(Dbe(e),t):function(r){var n=Ebe(r,e);return n===void 0&&n===t?Cbe(r,e):Nbe(t,n,Mbe|Obe)}}var Ibe=Rbe;function $be(e){return e}var Pf=$be;function Lbe(e){return function(t){return t==null?void 0:t[e]}}var Fbe=Lbe,Bbe=DC;function zbe(e){return function(t){return Bbe(t,e)}}var Ube=zbe,Hbe=Fbe,qbe=Ube,Wbe=kC,Kbe=ix;function Gbe(e){return Wbe(e)?Hbe(Kbe(e)):qbe(e)}var Vbe=Gbe,Qbe=dbe,Ybe=Ibe,Jbe=Pf,Xbe=Fn,Zbe=Vbe;function e0e(e){return typeof e=="function"?e:e==null?Jbe:typeof e=="object"?Xbe(e)?Ybe(e[0],e[1]):Qbe(e):Zbe(e)}var Os=e0e;function t0e(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var bz=t0e;function r0e(e){return e!==e}var n0e=r0e;function a0e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var s0e=a0e,i0e=bz,o0e=n0e,l0e=s0e;function c0e(e,t,r){return t===t?l0e(e,t,r):i0e(e,o0e,r)}var u0e=c0e,d0e=u0e;function f0e(e,t){var r=e==null?0:e.length;return!!r&&d0e(e,t,0)>-1}var h0e=f0e;function m0e(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var p0e=m0e;function g0e(){}var v0e=g0e,E_=mz,y0e=v0e,b0e=UC,x0e=1/0,w0e=E_&&1/b0e(new E_([,-0]))[1]==x0e?function(e){return new E_(e)}:y0e,_0e=w0e,j0e=az,S0e=h0e,k0e=p0e,N0e=iz,E0e=_0e,C0e=UC,A0e=200;function P0e(e,t,r){var n=-1,a=S0e,s=e.length,i=!0,l=[],c=l;if(r)i=!1,a=k0e;else if(s>=A0e){var u=t?null:E0e(e);if(u)return C0e(u);i=!1,a=N0e,c=new j0e}else c=t?[]:l;e:for(;++n<s;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var T0e=P0e,D0e=Os,M0e=T0e;function O0e(e,t){return e&&e.length?M0e(e,D0e(t)):[]}var R0e=O0e;const lM=yt(R0e);function xz(e,t,r){return t===!0?lM(e,r):qe(t)?lM(e,t):e}function Td(e){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Td(e)}var I0e=["ref"];function cM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cM(Object(r),!0).forEach(function(n){_x(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_z(n.key),n)}}function L0e(e,t,r){return t&&uM(e.prototype,t),r&&uM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function F0e(e,t,r){return t=By(t),B0e(e,wz()?Reflect.construct(t,r||[],By(e).constructor):t.apply(e,r))}function B0e(e,t){if(t&&(Td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z0e(e)}function z0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wz=function(){return!!e})()}function By(e){return By=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},By(e)}function U0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OS(e,t)}function OS(e,t){return OS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OS(e,t)}function _x(e,t,r){return t=_z(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _z(e){var t=H0e(e,"string");return Td(t)=="symbol"?t:t+""}function H0e(e,t){if(Td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q0e(e,t){if(e==null)return{};var r=W0e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function W0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function K0e(e){return e.value}function G0e(e,t){if(L.isValidElement(e))return L.cloneElement(e,t);if(typeof e=="function")return L.createElement(e,t);t.ref;var r=q0e(t,I0e);return L.createElement(zC,r)}var dM=1,qu=function(e){function t(){var r;$0e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=F0e(this,t,[].concat(a)),_x(r,"lastBoundingBox",{width:-1,height:-1}),r}return U0e(t,e),L0e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>dM||Math.abs(a.height-this.lastBoundingBox.height)>dM)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?$s({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,i=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&s==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=i==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return $s($s({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,i=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=$s($s({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return L.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},G0e(s,$s($s({},this.props),{},{payload:xz(d,u,K0e)})))}}],[{key:"getWithHeight",value:function(n,a){var s=$s($s({},this.defaultProps),n.props),i=s.layout;return i==="vertical"&&he(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||a}:null}}])}(x.PureComponent);_x(qu,"displayName","Legend");_x(qu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var fM=Bp,V0e=HC,Q0e=Fn,hM=fM?fM.isConcatSpreadable:void 0;function Y0e(e){return Q0e(e)||V0e(e)||!!(hM&&e&&e[hM])}var J0e=Y0e,X0e=lz,Z0e=J0e;function jz(e,t,r,n,a){var s=-1,i=e.length;for(r||(r=Z0e),a||(a=[]);++s<i;){var l=e[s];t>0&&r(l)?t>1?jz(l,t-1,r,n,a):X0e(a,l):n||(a[a.length]=l)}return a}var Sz=jz;function exe(e){return function(t,r,n){for(var a=-1,s=Object(t),i=n(t),l=i.length;l--;){var c=i[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var txe=exe,rxe=txe,nxe=rxe(),axe=nxe,sxe=axe,ixe=wx;function oxe(e,t){return e&&sxe(e,t,ixe)}var kz=oxe,lxe=Hp;function cxe(e,t){return function(r,n){if(r==null)return r;if(!lxe(r))return e(r,n);for(var a=r.length,s=t?a:-1,i=Object(r);(t?s--:++s<a)&&n(i[s],s,i)!==!1;);return r}}var uxe=cxe,dxe=kz,fxe=uxe,hxe=fxe(dxe),GC=hxe,mxe=GC,pxe=Hp;function gxe(e,t){var r=-1,n=pxe(e)?Array(e.length):[];return mxe(e,function(a,s,i){n[++r]=t(a,s,i)}),n}var Nz=gxe;function vxe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var yxe=vxe,mM=jf;function bxe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=mM(e),i=t!==void 0,l=t===null,c=t===t,u=mM(t);if(!l&&!u&&!s&&e>t||s&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!i&&a||!c)return-1}return 0}var xxe=bxe,wxe=xxe;function _xe(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,i=a.length,l=r.length;++n<i;){var c=wxe(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var jxe=_xe,C_=TC,Sxe=DC,kxe=Os,Nxe=Nz,Exe=yxe,Cxe=dz,Axe=jxe,Pxe=Pf,Txe=Fn;function Dxe(e,t,r){t.length?t=C_(t,function(s){return Txe(s)?function(i){return Sxe(i,s.length===1?s[0]:s)}:s}):t=[Pxe];var n=-1;t=C_(t,Cxe(kxe));var a=Nxe(e,function(s,i,l){var c=C_(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return Exe(a,function(s,i){return Axe(s,i,r)})}var Mxe=Dxe;function Oxe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Rxe=Oxe,Ixe=Rxe,pM=Math.max;function $xe(e,t,r){return t=pM(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=pM(n.length-t,0),i=Array(s);++a<s;)i[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(i),Ixe(e,this,l)}}var Lxe=$xe;function Fxe(e){return function(){return e}}var Bxe=Fxe,zxe=Pc,Uxe=function(){try{var e=zxe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ez=Uxe,Hxe=Bxe,gM=Ez,qxe=Pf,Wxe=gM?function(e,t){return gM(e,"toString",{configurable:!0,enumerable:!1,value:Hxe(t),writable:!0})}:qxe,Kxe=Wxe,Gxe=800,Vxe=16,Qxe=Date.now;function Yxe(e){var t=0,r=0;return function(){var n=Qxe(),a=Vxe-(n-r);if(r=n,a>0){if(++t>=Gxe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Jxe=Yxe,Xxe=Kxe,Zxe=Jxe,ewe=Zxe(Xxe),twe=ewe,rwe=Pf,nwe=Lxe,awe=twe;function swe(e,t){return awe(nwe(e,t,rwe),e+"")}var iwe=swe,owe=EC,lwe=Hp,cwe=qC,uwe=Ko;function dwe(e,t,r){if(!uwe(r))return!1;var n=typeof t;return(n=="number"?lwe(r)&&cwe(t,r.length):n=="string"&&t in r)?owe(r[t],e):!1}var jx=dwe,fwe=Sz,hwe=Mxe,mwe=iwe,vM=jx,pwe=mwe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&vM(e,t[0],t[1])?t=[]:r>2&&vM(t[0],t[1],t[2])&&(t=[t[0]]),hwe(e,fwe(t,1),[])}),gwe=pwe;const VC=yt(gwe);function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function RS(){return RS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RS.apply(this,arguments)}function vwe(e,t){return wwe(e)||xwe(e,t)||bwe(e,t)||ywe()}function ywe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bwe(e,t){if(e){if(typeof e=="string")return yM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yM(e,t)}}function yM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function wwe(e){if(Array.isArray(e))return e}function bM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bM(Object(r),!0).forEach(function(n){_we(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _we(e,t,r){return t=jwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jwe(e){var t=Swe(e,"string");return km(t)=="symbol"?t:t+""}function Swe(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kwe(e){return Array.isArray(e)&&xr(e[0])&&xr(e[1])?e.join(" ~ "):e}var Nwe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,s=a===void 0?{}:a,i=t.itemStyle,l=i===void 0?{}:i,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,v=t.labelClassName,p=t.label,g=t.labelFormatter,b=t.accessibilityLayer,y=b===void 0?!1:b,w=function(){if(d&&d.length){var O={padding:0,margin:0},T=(h?VC(d,h):d).map(function(C,I){if(C.type==="none")return null;var $=A_({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},l),M=C.formatter||f||kwe,D=C.value,F=C.name,z=D,U=F;if(M&&z!=null&&U!=null){var R=M(D,F,C,I,d);if(Array.isArray(R)){var B=vwe(R,2);z=B[0],U=B[1]}else z=R}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:$},xr(U)?L.createElement("span",{className:"recharts-tooltip-item-name"},U):null,xr(U)?L.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,L.createElement("span",{className:"recharts-tooltip-item-value"},z),L.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:O},T)}return null},_=A_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),j=A_({margin:0},u),S=!nt(p),k=S?p:"",N=Ye("recharts-default-tooltip",m),E=Ye("recharts-tooltip-label",v);S&&g&&d!==void 0&&d!==null&&(k=g(p,d));var P=y?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",RS({className:N,style:_},P),L.createElement("p",{className:E,style:j},L.isValidElement(k)?k:"".concat(k)),w())};function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}function Bg(e,t,r){return t=Ewe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ewe(e){var t=Cwe(e,"string");return Nm(t)=="symbol"?t:t+""}function Cwe(e,t){if(Nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var th="recharts-tooltip-wrapper",Awe={visibility:"hidden"};function Pwe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Ye(th,Bg(Bg(Bg(Bg({},"".concat(th,"-right"),he(r)&&t&&he(t.x)&&r>=t.x),"".concat(th,"-left"),he(r)&&t&&he(t.x)&&r<t.x),"".concat(th,"-bottom"),he(n)&&t&&he(t.y)&&n>=t.y),"".concat(th,"-top"),he(n)&&t&&he(t.y)&&n<t.y))}function xM(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&he(s[n]))return s[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return i[n]?d:f;if(i[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var v=f+l,p=c[n]+u;return v>p?Math.max(d,c[n]):Math.max(f,c[n])}function Twe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Dwe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,s=e.reverseDirection,i=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=xM({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=xM({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=Twe({translateX:d,translateY:f,useTranslate3d:l})):u=Awe,{cssProperties:u,cssClasses:Pwe({translateX:d,translateY:f,coordinate:r})}}function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(e)}function wM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _M(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wM(Object(r),!0).forEach(function(n){$S(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Owe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Az(n.key),n)}}function Rwe(e,t,r){return t&&Owe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iwe(e,t,r){return t=zy(t),$we(e,Cz()?Reflect.construct(t,r||[],zy(e).constructor):t.apply(e,r))}function $we(e,t){if(t&&(Dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lwe(e)}function Lwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cz=function(){return!!e})()}function zy(e){return zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zy(e)}function Fwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IS(e,t)}function IS(e,t){return IS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},IS(e,t)}function $S(e,t,r){return t=Az(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Az(e){var t=Bwe(e,"string");return Dd(t)=="symbol"?t:t+""}function Bwe(e,t){if(Dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jM=1,zwe=function(e){function t(){var r;Mwe(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Iwe(this,t,[].concat(a)),$S(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),$S(r,"handleKeyDown",function(i){if(i.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Fwe(t,e),Rwe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>jM||Math.abs(n.height-this.state.lastBoundingBox.height)>jM)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,v=a.position,p=a.reverseDirection,g=a.useTranslate3d,b=a.viewBox,y=a.wrapperStyle,w=Dwe({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:m,position:v,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:b}),_=w.cssClasses,j=w.cssProperties,S=_M(_M({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return L.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(N){n.wrapperNode=N}},u)}}])}(x.PureComponent),Uwe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ti={isSsr:Uwe(),get:function(t){return ti[t]},set:function(t,r){if(typeof t=="string")ti[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){ti[a]=t[a]})}}};function Md(e){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(e)}function SM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(r),!0).forEach(function(n){QC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tz(n.key),n)}}function Wwe(e,t,r){return t&&qwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kwe(e,t,r){return t=Uy(t),Gwe(e,Pz()?Reflect.construct(t,r||[],Uy(e).constructor):t.apply(e,r))}function Gwe(e,t){if(t&&(Md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vwe(e)}function Vwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pz=function(){return!!e})()}function Uy(e){return Uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uy(e)}function Qwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LS(e,t)}function LS(e,t){return LS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LS(e,t)}function QC(e,t,r){return t=Tz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tz(e){var t=Ywe(e,"string");return Md(t)=="symbol"?t:t+""}function Ywe(e,t){if(Md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jwe(e){return e.dataKey}function Xwe(e,t){return L.isValidElement(e)?L.cloneElement(e,t):typeof e=="function"?L.createElement(e,t):L.createElement(Nwe,t)}var pa=function(e){function t(){return Hwe(this,t),Kwe(this,t,arguments)}return Qwe(t,e),Wwe(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,i=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,v=a.payload,p=a.payloadUniqBy,g=a.position,b=a.reverseDirection,y=a.useTranslate3d,w=a.viewBox,_=a.wrapperStyle,j=v??[];f&&j.length&&(j=xz(v.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),p,Jwe));var S=j.length>0;return L.createElement(zwe,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:S,offset:m,position:g,reverseDirection:b,useTranslate3d:y,viewBox:w,wrapperStyle:_},Xwe(u,kM(kM({},this.props),{},{payload:j})))}}])}(x.PureComponent);QC(pa,"displayName","Tooltip");QC(pa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ti.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Zwe=Ms,e_e=function(){return Zwe.Date.now()},t_e=e_e,r_e=/\s/;function n_e(e){for(var t=e.length;t--&&r_e.test(e.charAt(t)););return t}var a_e=n_e,s_e=a_e,i_e=/^\s+/;function o_e(e){return e&&e.slice(0,s_e(e)+1).replace(i_e,"")}var l_e=o_e,c_e=l_e,NM=Ko,u_e=jf,EM=NaN,d_e=/^[-+]0x[0-9a-f]+$/i,f_e=/^0b[01]+$/i,h_e=/^0o[0-7]+$/i,m_e=parseInt;function p_e(e){if(typeof e=="number")return e;if(u_e(e))return EM;if(NM(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=NM(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=c_e(e);var r=f_e.test(e);return r||h_e.test(e)?m_e(e.slice(2),r?2:8):d_e.test(e)?EM:+e}var Dz=p_e,g_e=Ko,P_=t_e,CM=Dz,v_e="Expected a function",y_e=Math.max,b_e=Math.min;function x_e(e,t,r){var n,a,s,i,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(v_e);t=CM(t)||0,g_e(r)&&(d=!!r.leading,f="maxWait"in r,s=f?y_e(CM(r.maxWait)||0,t):s,h="trailing"in r?!!r.trailing:h);function m(S){var k=n,N=a;return n=a=void 0,u=S,i=e.apply(N,k),i}function v(S){return u=S,l=setTimeout(b,t),d?m(S):i}function p(S){var k=S-c,N=S-u,E=t-k;return f?b_e(E,s-N):E}function g(S){var k=S-c,N=S-u;return c===void 0||k>=t||k<0||f&&N>=s}function b(){var S=P_();if(g(S))return y(S);l=setTimeout(b,p(S))}function y(S){return l=void 0,h&&n?m(S):(n=a=void 0,i)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?i:y(P_())}function j(){var S=P_(),k=g(S);if(n=arguments,a=this,c=S,k){if(l===void 0)return v(c);if(f)return clearTimeout(l),l=setTimeout(b,t),m(c)}return l===void 0&&(l=setTimeout(b,t)),i}return j.cancel=w,j.flush=_,j}var w_e=x_e,__e=w_e,j_e=Ko,S_e="Expected a function";function k_e(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(S_e);return j_e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),__e(e,t,{leading:n,maxWait:t,trailing:a})}var N_e=k_e;const Mz=yt(N_e);function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function AM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(r),!0).forEach(function(n){E_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E_e(e,t,r){return t=C_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C_e(e){var t=A_e(e,"string");return Em(t)=="symbol"?t:t+""}function A_e(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P_e(e,t){return O_e(e)||M_e(e,t)||D_e(e,t)||T_e()}function T_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D_e(e,t){if(e){if(typeof e=="string")return PM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PM(e,t)}}function PM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function O_e(e){if(Array.isArray(e))return e}var T_=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=e.width,i=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,v=e.debounce,p=v===void 0?0:v,g=e.id,b=e.className,y=e.onResize,w=e.style,_=w===void 0?{}:w,j=x.useRef(null),S=x.useRef();S.current=y,x.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var k=x.useState({containerWidth:a.width,containerHeight:a.height}),N=P_e(k,2),E=N[0],P=N[1],A=x.useCallback(function(T,C){P(function(I){var $=Math.round(T),M=Math.round(C);return I.containerWidth===$&&I.containerHeight===M?I:{containerWidth:$,containerHeight:M}})},[]);x.useEffect(function(){var T=function(F){var z,U=F[0].contentRect,R=U.width,B=U.height;A(R,B),(z=S.current)===null||z===void 0||z.call(S,R,B)};p>0&&(T=Mz(T,p,{trailing:!0,leading:!1}));var C=new ResizeObserver(T),I=j.current.getBoundingClientRect(),$=I.width,M=I.height;return A($,M),C.observe(j.current),function(){C.disconnect()}},[A,p]);var O=x.useMemo(function(){var T=E.containerWidth,C=E.containerHeight;if(T<0||C<0)return null;Ya(jl(i)||jl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,c),Ya(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=jl(i)?T:i,$=jl(c)?C:c;r&&r>0&&(I?$=I/r:$&&(I=$*r),h&&$>h&&($=h)),Ya(I>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,$,i,c,d,f,r);var M=!Array.isArray(m)&&ei(m.type).endsWith("Chart");return L.Children.map(m,function(D){return L.isValidElement(D)?x.cloneElement(D,zg({width:I,height:$},M?{style:zg({height:"100%",width:"100%",maxHeight:$,maxWidth:I},D.props.style)}:{})):D})},[r,m,c,h,f,d,E,i]);return L.createElement("div",{id:g?"".concat(g):void 0,className:Ye("recharts-responsive-container",b),style:zg(zg({},_),{},{width:i,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},O)}),Cm=function(t){return null};Cm.displayName="Cell";function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function TM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(r),!0).forEach(function(n){R_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R_e(e,t,r){return t=I_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I_e(e){var t=$_e(e,"string");return Am(t)=="symbol"?t:t+""}function $_e(e,t){if(Am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qc={widthCache:{},cacheCount:0},L_e=2e3,F_e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DM="recharts_measurement_span";function B_e(e){var t=FS({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Uh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ti.isSsr)return{width:0,height:0};var n=B_e(r),a=JSON.stringify({text:t,copyStyle:n});if(Qc.widthCache[a])return Qc.widthCache[a];try{var s=document.getElementById(DM);s||(s=document.createElement("span"),s.setAttribute("id",DM),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var i=FS(FS({},F_e),n);Object.assign(s.style,i),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return Qc.widthCache[a]=c,++Qc.cacheCount>L_e&&(Qc.cacheCount=0,Qc.widthCache={}),c}catch{return{width:0,height:0}}},z_e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function Hy(e,t){return W_e(e)||q_e(e,t)||H_e(e,t)||U_e()}function U_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H_e(e,t){if(e){if(typeof e=="string")return MM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MM(e,t)}}function MM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function W_e(e){if(Array.isArray(e))return e}function K_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V_e(n.key),n)}}function G_e(e,t,r){return t&&OM(e.prototype,t),r&&OM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function V_e(e){var t=Q_e(e,"string");return Pm(t)=="symbol"?t:t+""}function Q_e(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var RM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Y_e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,J_e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Oz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},X_e=Object.keys(Oz),wu="NaN";function Z_e(e,t){return e*Oz[t]}var Ug=function(){function e(t,r){K_e(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Y_e.test(r)&&(this.num=NaN,this.unit=""),X_e.includes(r)&&(this.num=Z_e(t,r),this.unit="px")}return G_e(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=J_e.exec(r))!==null&&n!==void 0?n:[],s=Hy(a,3),i=s[1],l=s[2];return new e(parseFloat(i),l??"")}}])}();function Rz(e){if(e.includes(wu))return wu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=RM.exec(t))!==null&&r!==void 0?r:[],a=Hy(n,4),s=a[1],i=a[2],l=a[3],c=Ug.parse(s??""),u=Ug.parse(l??""),d=i==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return wu;t=t.replace(RM,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=IM.exec(t))!==null&&f!==void 0?f:[],m=Hy(h,4),v=m[1],p=m[2],g=m[3],b=Ug.parse(v??""),y=Ug.parse(g??""),w=p==="+"?b.add(y):b.subtract(y);if(w.isNaN())return wu;t=t.replace(IM,w.toString())}return t}var $M=/\(([^()]*)\)/;function eje(e){for(var t=e;t.includes("(");){var r=$M.exec(t),n=Hy(r,2),a=n[1];t=t.replace($M,Rz(a))}return t}function tje(e){var t=e.replace(/\s+/g,"");return t=eje(t),t=Rz(t),t}function rje(e){try{return tje(e)}catch{return wu}}function D_(e){var t=rje(e.slice(5,-1));return t===wu?"":t}var nje=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],aje=["dx","dy","angle","className","breakAll"];function BS(){return BS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BS.apply(this,arguments)}function LM(e,t){if(e==null)return{};var r=sje(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FM(e,t){return cje(e)||lje(e,t)||oje(e,t)||ije()}function ije(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oje(e,t){if(e){if(typeof e=="string")return BM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BM(e,t)}}function BM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function cje(e){if(Array.isArray(e))return e}var Iz=/[ \f\n\r\t\v\u2028\u2029]+/,$z=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var s=[];nt(r)||(n?s=r.toString().split(""):s=r.toString().split(Iz));var i=s.map(function(c){return{word:c,width:Uh(c,a).width}}),l=n?0:Uh("",a).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},uje=function(t,r,n,a,s){var i=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=he(i),f=l,h=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function($,M){var D=M.word,F=M.width,z=$[$.length-1];if(z&&(a==null||s||z.width+F+n<Number(a)))z.words.push(D),z.width+=F+n;else{var U={words:[D],width:F};$.push(U)}return $},[])},m=h(r),v=function(I){return I.reduce(function($,M){return $.width>M.width?$:M})};if(!d)return m;for(var p="",g=function(I){var $=f.slice(0,I),M=$z({breakAll:u,style:c,children:$+p}).wordsWithComputedWidth,D=h(M),F=D.length>i||v(D).width>Number(a);return[F,D]},b=0,y=f.length-1,w=0,_;b<=y&&w<=f.length-1;){var j=Math.floor((b+y)/2),S=j-1,k=g(S),N=FM(k,2),E=N[0],P=N[1],A=g(j),O=FM(A,1),T=O[0];if(!E&&!T&&(b=j+1),E&&T&&(y=j-1),!E&&T){_=P;break}w++}return _||m},zM=function(t){var r=nt(t)?[]:t.toString().split(Iz);return[{words:r}]},dje=function(t){var r=t.width,n=t.scaleToFit,a=t.children,s=t.style,i=t.breakAll,l=t.maxLines;if((r||n)&&!ti.isSsr){var c,u,d=$z({breakAll:i,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return zM(a);return uje({breakAll:i,children:a,maxLines:l,style:s},c,u,r,n)}return zM(a)},UM="#808080",uc=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,i=t.lineHeight,l=i===void 0?"1em":i,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,v=t.verticalAnchor,p=v===void 0?"end":v,g=t.fill,b=g===void 0?UM:g,y=LM(t,nje),w=x.useMemo(function(){return dje({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),_=y.dx,j=y.dy,S=y.angle,k=y.className,N=y.breakAll,E=LM(y,aje);if(!xr(n)||!xr(s))return null;var P=n+(he(_)?_:0),A=s+(he(j)?j:0),O;switch(p){case"start":O=D_("calc(".concat(u,")"));break;case"middle":O=D_("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=D_("calc(".concat(w.length-1," * -").concat(l,")"));break}var T=[];if(f){var C=w[0].width,I=y.width;T.push("scale(".concat((he(I)?I/C:1)/C,")"))}return S&&T.push("rotate(".concat(S,", ").concat(P,", ").concat(A,")")),T.length&&(E.transform=T.join(" ")),L.createElement("text",BS({},Be(E,!0),{x:P,y:A,className:Ye("recharts-text",k),textAnchor:m,fill:b.includes("url")?UM:b}),w.map(function($,M){var D=$.words.join(N?"":" ");return L.createElement("tspan",{x:P,dy:M===0?O:l,key:"".concat(D,"-").concat(M)},D)}))};function wo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fje(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function YC(e){let t,r,n;e.length!==2?(t=wo,r=(l,c)=>wo(e(l),c),n=(l,c)=>e(l)-c):(t=e===wo||e===fje?e:hje,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:i,right:s}}function hje(){return 0}function Lz(e){return e===null?NaN:+e}function*mje(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const pje=YC(wo),qp=pje.right;YC(Lz).center;class HM extends Map{constructor(t,r=yje){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(qM(this,t))}has(t){return super.has(qM(this,t))}set(t,r){return super.set(gje(this,t),r)}delete(t){return super.delete(vje(this,t))}}function qM({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function gje({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function vje({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function yje(e){return e!==null&&typeof e=="object"?e.valueOf():e}function bje(e=wo){if(e===wo)return Fz;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Fz(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const xje=Math.sqrt(50),wje=Math.sqrt(10),_je=Math.sqrt(2);function qy(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=xje?10:s>=wje?5:s>=_je?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/i,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*i,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?qy(e,t,r*2):[l,c,u]}function zS(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?qy(t,e,r):qy(e,t,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(i<0)for(let u=0;u<l;++u)c[u]=(s-u)/-i;else for(let u=0;u<l;++u)c[u]=(s-u)*i;else if(i<0)for(let u=0;u<l;++u)c[u]=(a+u)/-i;else for(let u=0;u<l;++u)c[u]=(a+u)*i;return c}function US(e,t,r){return t=+t,e=+e,r=+r,qy(e,t,r)[2]}function HS(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?US(t,e,r):US(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function WM(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function KM(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Bz(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Fz:bje(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));Bz(e,t,m,v,a)}const s=e[t];let i=r,l=n;for(rh(e,r,t),a(e[n],s)>0&&rh(e,r,n);i<l;){for(rh(e,i,l),++i,--l;a(e[i],s)<0;)++i;for(;a(e[l],s)>0;)--l}a(e[r],s)===0?rh(e,r,l):(++l,rh(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function rh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function jje(e,t,r){if(e=Float64Array.from(mje(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return KM(e);if(t>=1)return WM(e);var n,a=(n-1)*t,s=Math.floor(a),i=WM(Bz(e,s).subarray(0,s+1)),l=KM(e.subarray(s+1));return i+(l-i)*(a-s)}}function Sje(e,t,r=Lz){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return i+(l-i)*(a-s)}}function kje(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Pa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ji(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const qS=Symbol("implicit");function JC(){var e=new HM,t=[],r=[],n=qS;function a(s){let i=e.get(s);if(i===void 0){if(n!==qS)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new HM;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return JC(t,r).unknown(n)},Pa.apply(a,arguments),a}function Tm(){var e=JC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,v=m?a:n,p=m?n:a;s=(p-v)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),v+=(p-v-s*(h-c))*d,i=s*(1-c),l&&(v=Math.round(v),i=Math.round(i));var g=kje(h).map(function(b){return v+s*b});return r(m?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Tm(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Pa.apply(f(),arguments)}function zz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return zz(t())},e}function Hh(){return zz(Tm.apply(null,arguments).paddingInner(1))}function XC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Uz(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Wp(){}var Dm=.7,Wy=1/Dm,Wu="\\s*([+-]?\\d+)\\s*",Mm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ss="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nje=/^#([0-9a-f]{3,8})$/,Eje=new RegExp(`^rgb\\(${Wu},${Wu},${Wu}\\)$`),Cje=new RegExp(`^rgb\\(${Ss},${Ss},${Ss}\\)$`),Aje=new RegExp(`^rgba\\(${Wu},${Wu},${Wu},${Mm}\\)$`),Pje=new RegExp(`^rgba\\(${Ss},${Ss},${Ss},${Mm}\\)$`),Tje=new RegExp(`^hsl\\(${Mm},${Ss},${Ss}\\)$`),Dje=new RegExp(`^hsla\\(${Mm},${Ss},${Ss},${Mm}\\)$`),GM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};XC(Wp,Om,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:VM,formatHex:VM,formatHex8:Mje,formatHsl:Oje,formatRgb:QM,toString:QM});function VM(){return this.rgb().formatHex()}function Mje(){return this.rgb().formatHex8()}function Oje(){return Hz(this).formatHsl()}function QM(){return this.rgb().formatRgb()}function Om(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Nje.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?YM(t):r===3?new Tn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Hg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Hg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Eje.exec(e))?new Tn(t[1],t[2],t[3],1):(t=Cje.exec(e))?new Tn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Aje.exec(e))?Hg(t[1],t[2],t[3],t[4]):(t=Pje.exec(e))?Hg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Tje.exec(e))?ZM(t[1],t[2]/100,t[3]/100,1):(t=Dje.exec(e))?ZM(t[1],t[2]/100,t[3]/100,t[4]):GM.hasOwnProperty(e)?YM(GM[e]):e==="transparent"?new Tn(NaN,NaN,NaN,0):null}function YM(e){return new Tn(e>>16&255,e>>8&255,e&255,1)}function Hg(e,t,r,n){return n<=0&&(e=t=r=NaN),new Tn(e,t,r,n)}function Rje(e){return e instanceof Wp||(e=Om(e)),e?(e=e.rgb(),new Tn(e.r,e.g,e.b,e.opacity)):new Tn}function WS(e,t,r,n){return arguments.length===1?Rje(e):new Tn(e,t,r,n??1)}function Tn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}XC(Tn,WS,Uz(Wp,{brighter(e){return e=e==null?Wy:Math.pow(Wy,e),new Tn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Dm:Math.pow(Dm,e),new Tn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Tn(zl(this.r),zl(this.g),zl(this.b),Ky(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JM,formatHex:JM,formatHex8:Ije,formatRgb:XM,toString:XM}));function JM(){return`#${Sl(this.r)}${Sl(this.g)}${Sl(this.b)}`}function Ije(){return`#${Sl(this.r)}${Sl(this.g)}${Sl(this.b)}${Sl((isNaN(this.opacity)?1:this.opacity)*255)}`}function XM(){const e=Ky(this.opacity);return`${e===1?"rgb(":"rgba("}${zl(this.r)}, ${zl(this.g)}, ${zl(this.b)}${e===1?")":`, ${e})`}`}function Ky(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Sl(e){return e=zl(e),(e<16?"0":"")+e.toString(16)}function ZM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new qa(e,t,r,n)}function Hz(e){if(e instanceof qa)return new qa(e.h,e.s,e.l,e.opacity);if(e instanceof Wp||(e=Om(e)),!e)return new qa;if(e instanceof qa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,l=s-a,c=(s+a)/2;return l?(t===s?i=(r-n)/l+(r<n)*6:r===s?i=(n-t)/l+2:i=(t-r)/l+4,l/=c<.5?s+a:2-s-a,i*=60):l=c>0&&c<1?0:i,new qa(i,l,c,e.opacity)}function $je(e,t,r,n){return arguments.length===1?Hz(e):new qa(e,t,r,n??1)}function qa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}XC(qa,$je,Uz(Wp,{brighter(e){return e=e==null?Wy:Math.pow(Wy,e),new qa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Dm:Math.pow(Dm,e),new qa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Tn(M_(e>=240?e-240:e+120,a,n),M_(e,a,n),M_(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new qa(eO(this.h),qg(this.s),qg(this.l),Ky(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ky(this.opacity);return`${e===1?"hsl(":"hsla("}${eO(this.h)}, ${qg(this.s)*100}%, ${qg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function eO(e){return e=(e||0)%360,e<0?e+360:e}function qg(e){return Math.max(0,Math.min(1,e||0))}function M_(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ZC=e=>()=>e;function Lje(e,t){return function(r){return e+r*t}}function Fje(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Bje(e){return(e=+e)==1?qz:function(t,r){return r-t?Fje(t,r,e):ZC(isNaN(t)?r:t)}}function qz(e,t){var r=t-e;return r?Lje(e,r):ZC(isNaN(e)?t:e)}const tO=function e(t){var r=Bje(t);function n(a,s){var i=r((a=WS(a)).r,(s=WS(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=qz(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function zje(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function Uje(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Hje(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=Tf(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(l){for(i=0;i<n;++i)s[i]=a[i](l);return s}}function qje(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Gy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Wje(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Tf(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var KS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,O_=new RegExp(KS.source,"g");function Kje(e){return function(){return e}}function Gje(e){return function(t){return e(t)+""}}function Vje(e,t){var r=KS.lastIndex=O_.lastIndex=0,n,a,s,i=-1,l=[],c=[];for(e=e+"",t=t+"";(n=KS.exec(e))&&(a=O_.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),l[i]?l[i]+=s:l[++i]=s),(n=n[0])===(a=a[0])?l[i]?l[i]+=a:l[++i]=a:(l[++i]=null,c.push({i,x:Gy(n,a)})),r=O_.lastIndex;return r<t.length&&(s=t.slice(r),l[i]?l[i]+=s:l[++i]=s),l.length<2?c[0]?Gje(c[0].x):Kje(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Tf(e,t){var r=typeof t,n;return t==null||r==="boolean"?ZC(t):(r==="number"?Gy:r==="string"?(n=Om(t))?(t=n,tO):Vje:t instanceof Om?tO:t instanceof Date?qje:Uje(t)?zje:Array.isArray(t)?Hje:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Wje:Gy)(e,t)}function eA(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Qje(e,t){t===void 0&&(t=e,e=Tf);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var l=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[l](i-l)}}function Yje(e){return function(){return e}}function Vy(e){return+e}var rO=[0,1];function fn(e){return e}function GS(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Yje(isNaN(t)?NaN:.5)}function Jje(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Xje(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=GS(a,n),s=r(i,s)):(n=GS(n,a),s=r(s,i)),function(l){return s(n(l))}}function Zje(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=GS(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(l){var c=qp(e,l,1,n)-1;return s[c](a[c](l))}}function Kp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Sx(){var e=rO,t=rO,r=Tf,n,a,s,i=fn,l,c,u;function d(){var h=Math.min(e.length,t.length);return i!==fn&&(i=Jje(e[0],e[h-1])),l=h>2?Zje:Xje,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((u||(u=l(t,e.map(n),Gy)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Vy),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=eA,d()},f.clamp=function(h){return arguments.length?(i=h?!0:fn,d()):i!==fn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,a=m,d()}}function tA(){return Sx()(fn,fn)}function e1e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Qy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Od(e){return e=Qy(Math.abs(e)),e?e[1]:NaN}function t1e(e,t){return function(r,n){for(var a=r.length,s=[],i=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[i=(i+1)%e.length];return s.reverse().join(t)}}function r1e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var n1e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rm(e){if(!(t=n1e.exec(e)))throw new Error("invalid format: "+e);var t;return new rA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Rm.prototype=rA.prototype;function rA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}rA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function a1e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Wz;function s1e(e,t){var r=Qy(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(Wz=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Qy(e,Math.max(0,t+s-1))[0]}function nO(e,t){var r=Qy(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const aO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:e1e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>nO(e*100,t),r:nO,s:s1e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function sO(e){return e}var iO=Array.prototype.map,oO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function i1e(e){var t=e.grouping===void 0||e.thousands===void 0?sO:t1e(iO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?sO:r1e(iO.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Rm(f);var h=f.fill,m=f.align,v=f.sign,p=f.symbol,g=f.zero,b=f.width,y=f.comma,w=f.precision,_=f.trim,j=f.type;j==="n"?(y=!0,j="g"):aO[j]||(w===void 0&&(w=12),_=!0,j="g"),(g||h==="0"&&m==="=")&&(g=!0,h="0",m="=");var S=p==="$"?r:p==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",k=p==="$"?n:/[%p]/.test(j)?i:"",N=aO[j],E=/[defgprs%]/.test(j);w=w===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function P(A){var O=S,T=k,C,I,$;if(j==="c")T=N(A)+T,A="";else{A=+A;var M=A<0||1/A<0;if(A=isNaN(A)?c:N(Math.abs(A),w),_&&(A=a1e(A)),M&&+A==0&&v!=="+"&&(M=!1),O=(M?v==="("?v:l:v==="-"||v==="("?"":v)+O,T=(j==="s"?oO[8+Wz/3]:"")+T+(M&&v==="("?")":""),E){for(C=-1,I=A.length;++C<I;)if($=A.charCodeAt(C),48>$||$>57){T=($===46?a+A.slice(C+1):A.slice(C))+T,A=A.slice(0,C);break}}}y&&!g&&(A=t(A,1/0));var D=O.length+A.length+T.length,F=D<b?new Array(b-D+1).join(h):"";switch(y&&g&&(A=t(F+A,F.length?b-T.length:1/0),F=""),m){case"<":A=O+A+T+F;break;case"=":A=O+F+A+T;break;case"^":A=F.slice(0,D=F.length>>1)+O+A+T+F.slice(D);break;default:A=F+O+A+T;break}return s(A)}return P.toString=function(){return f+""},P}function d(f,h){var m=u((f=Rm(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Od(h)/3)))*3,p=Math.pow(10,-v),g=oO[8+v/3];return function(b){return m(p*b)+g}}return{format:u,formatPrefix:d}}var Wg,nA,Kz;o1e({thousands:",",grouping:[3],currency:["$",""]});function o1e(e){return Wg=i1e(e),nA=Wg.format,Kz=Wg.formatPrefix,Wg}function l1e(e){return Math.max(0,-Od(Math.abs(e)))}function c1e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Od(t)/3)))*3-Od(Math.abs(e)))}function u1e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Od(t)-Od(e))+1}function Gz(e,t,r,n){var a=HS(e,t,r),s;switch(n=Rm(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=c1e(a,i))&&(n.precision=s),Kz(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=u1e(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=l1e(a))&&(n.precision=s-(n.type==="%")*2);break}}return nA(n)}function Go(e){var t=e.domain;return e.ticks=function(r){var n=t();return zS(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Gz(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],l=n[s],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=US(i,l,r),u===c)return n[a]=i,n[s]=l,t(n);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Yy(){var e=tA();return e.copy=function(){return Kp(e,Yy())},Pa.apply(e,arguments),Go(e)}function Vz(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Vy),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Vz(e).unknown(t)},e=arguments.length?Array.from(e,Vy):[0,1],Go(r)}function Qz(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function lO(e){return Math.log(e)}function cO(e){return Math.exp(e)}function d1e(e){return-Math.log(-e)}function f1e(e){return-Math.exp(-e)}function h1e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function m1e(e){return e===10?h1e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function p1e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function uO(e){return(t,r)=>-e(-t,r)}function aA(e){const t=e(lO,cO),r=t.domain;let n=10,a,s;function i(){return a=p1e(n),s=m1e(n),r()[0]<0?(a=uO(a),s=uO(s),e(d1e,f1e)):e(lO,cO),t}return t.base=function(l){return arguments.length?(n=+l,i()):n},t.domain=function(l){return arguments.length?(r(l),i()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),v,p;const g=l==null?10:+l;let b=[];if(!(n%1)&&m-h<g){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<n;++v)if(p=h<0?v/s(-h):v*s(h),!(p<u)){if(p>d)break;b.push(p)}}else for(;h<=m;++h)for(v=n-1;v>=1;--v)if(p=h>0?v/s(-h):v*s(h),!(p<u)){if(p>d)break;b.push(p)}b.length*2<g&&(b=zS(u,d,g))}else b=zS(h,m,Math.min(m-h,g)).map(s);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Rm(c)).precision==null&&(c.trim=!0),c=nA(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(Qz(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function Yz(){const e=aA(Sx()).domain([1,10]);return e.copy=()=>Kp(e,Yz()).base(e.base()),Pa.apply(e,arguments),e}function dO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function fO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function sA(e){var t=1,r=e(dO(t),fO(t));return r.constant=function(n){return arguments.length?e(dO(t=+n),fO(t)):t},Go(r)}function Jz(){var e=sA(Sx());return e.copy=function(){return Kp(e,Jz()).constant(e.constant())},Pa.apply(e,arguments)}function hO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function g1e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function v1e(e){return e<0?-e*e:e*e}function iA(e){var t=e(fn,fn),r=1;function n(){return r===1?e(fn,fn):r===.5?e(g1e,v1e):e(hO(r),hO(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Go(t)}function oA(){var e=iA(Sx());return e.copy=function(){return Kp(e,oA()).exponent(e.exponent())},Pa.apply(e,arguments),e}function y1e(){return oA.apply(null,arguments).exponent(.5)}function mO(e){return Math.sign(e)*e*e}function b1e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Xz(){var e=tA(),t=[0,1],r=!1,n;function a(s){var i=b1e(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(mO(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Vy)).map(mO)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Xz(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Pa.apply(a,arguments),Go(a)}function Zz(){var e=[],t=[],r=[],n;function a(){var i=0,l=Math.max(1,t.length);for(r=new Array(l-1);++i<l;)r[i-1]=Sje(e,i/l);return s}function s(i){return i==null||isNaN(i=+i)?n:t[qp(r,i)]}return s.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(wo),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return Zz().domain(e).range(t).unknown(n)},Pa.apply(s,arguments)}function eU(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(c){return c!=null&&c<=c?a[qp(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},i.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(s=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return eU().domain([e,t]).range(a).unknown(s)},Pa.apply(Go(i),arguments)}function tU(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[qp(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return tU().domain(e).range(t).unknown(r)},Pa.apply(a,arguments)}const R_=new Date,I_=new Date;function _r(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),l=a.ceil(s);return s-i<l-s?i:l},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<i)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<i);return c},a.filter=s=>_r(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!s(i););else for(;--l>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(R_.setTime(+s),I_.setTime(+i),e(R_),e(I_),Math.floor(r(R_,I_))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const Jy=_r(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_r(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Jy);Jy.range;const Vs=1e3,xa=Vs*60,Qs=xa*60,fi=Qs*24,lA=fi*7,pO=fi*30,$_=fi*365,kl=_r(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Vs)},(e,t)=>(t-e)/Vs,e=>e.getUTCSeconds());kl.range;const cA=_r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vs)},(e,t)=>{e.setTime(+e+t*xa)},(e,t)=>(t-e)/xa,e=>e.getMinutes());cA.range;const uA=_r(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*xa)},(e,t)=>(t-e)/xa,e=>e.getUTCMinutes());uA.range;const dA=_r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vs-e.getMinutes()*xa)},(e,t)=>{e.setTime(+e+t*Qs)},(e,t)=>(t-e)/Qs,e=>e.getHours());dA.range;const fA=_r(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Qs)},(e,t)=>(t-e)/Qs,e=>e.getUTCHours());fA.range;const Gp=_r(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xa)/fi,e=>e.getDate()-1);Gp.range;const kx=_r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fi,e=>e.getUTCDate()-1);kx.range;const rU=_r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fi,e=>Math.floor(e/fi));rU.range;function Tc(e){return _r(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*xa)/lA)}const Nx=Tc(0),Xy=Tc(1),x1e=Tc(2),w1e=Tc(3),Rd=Tc(4),_1e=Tc(5),j1e=Tc(6);Nx.range;Xy.range;x1e.range;w1e.range;Rd.range;_1e.range;j1e.range;function Dc(e){return _r(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/lA)}const Ex=Dc(0),Zy=Dc(1),S1e=Dc(2),k1e=Dc(3),Id=Dc(4),N1e=Dc(5),E1e=Dc(6);Ex.range;Zy.range;S1e.range;k1e.range;Id.range;N1e.range;E1e.range;const hA=_r(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());hA.range;const mA=_r(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());mA.range;const hi=_r(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_r(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});hi.range;const mi=_r(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());mi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_r(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});mi.range;function nU(e,t,r,n,a,s){const i=[[kl,1,Vs],[kl,5,5*Vs],[kl,15,15*Vs],[kl,30,30*Vs],[s,1,xa],[s,5,5*xa],[s,15,15*xa],[s,30,30*xa],[a,1,Qs],[a,3,3*Qs],[a,6,6*Qs],[a,12,12*Qs],[n,1,fi],[n,2,2*fi],[r,1,lA],[t,1,pO],[t,3,3*pO],[e,1,$_]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),v=m?m.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,m=YC(([,,g])=>g).right(i,h);if(m===i.length)return e.every(HS(u/$_,d/$_,f));if(m===0)return Jy.every(Math.max(HS(u,d,f),1));const[v,p]=i[h/i[m-1][2]<i[m][2]/h?m-1:m];return v.every(p)}return[l,c]}const[C1e,A1e]=nU(mi,mA,Ex,rU,fA,uA),[P1e,T1e]=nU(hi,hA,Nx,Gp,dA,cA);function L_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function F_(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function nh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function D1e(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,u=ah(a),d=sh(a),f=ah(s),h=sh(s),m=ah(i),v=sh(i),p=ah(l),g=sh(l),b=ah(c),y=sh(c),w={a:M,A:D,b:F,B:z,c:null,d:wO,e:wO,f:tSe,g:dSe,G:hSe,H:X1e,I:Z1e,j:eSe,L:aU,m:rSe,M:nSe,p:U,q:R,Q:SO,s:kO,S:aSe,u:sSe,U:iSe,V:oSe,w:lSe,W:cSe,x:null,X:null,y:uSe,Y:fSe,Z:mSe,"%":jO},_={a:B,A:K,b:J,B:X,c:null,d:_O,e:_O,f:ySe,g:CSe,G:PSe,H:pSe,I:gSe,j:vSe,L:iU,m:bSe,M:xSe,p:te,q,Q:SO,s:kO,S:wSe,u:_Se,U:jSe,V:SSe,w:kSe,W:NSe,x:null,X:null,y:ESe,Y:ASe,Z:TSe,"%":jO},j={a:P,A,b:O,B:T,c:C,d:bO,e:bO,f:V1e,g:yO,G:vO,H:xO,I:xO,j:q1e,L:G1e,m:H1e,M:W1e,p:E,q:U1e,Q:Y1e,s:J1e,S:K1e,u:$1e,U:L1e,V:F1e,w:I1e,W:B1e,x:I,X:$,y:yO,Y:vO,Z:z1e,"%":Q1e};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(Q,ie){return function(de){var ee=[],Z=-1,Y=0,ne=Q.length,fe,ve,be;for(de instanceof Date||(de=new Date(+de));++Z<ne;)Q.charCodeAt(Z)===37&&(ee.push(Q.slice(Y,Z)),(ve=gO[fe=Q.charAt(++Z)])!=null?fe=Q.charAt(++Z):ve=fe==="e"?" ":"0",(be=ie[fe])&&(fe=be(de,ve)),ee.push(fe),Y=Z+1);return ee.push(Q.slice(Y,Z)),ee.join("")}}function k(Q,ie){return function(de){var ee=nh(1900,void 0,1),Z=N(ee,Q,de+="",0),Y,ne;if(Z!=de.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(ie&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(Y=F_(nh(ee.y,0,1)),ne=Y.getUTCDay(),Y=ne>4||ne===0?Zy.ceil(Y):Zy(Y),Y=kx.offset(Y,(ee.V-1)*7),ee.y=Y.getUTCFullYear(),ee.m=Y.getUTCMonth(),ee.d=Y.getUTCDate()+(ee.w+6)%7):(Y=L_(nh(ee.y,0,1)),ne=Y.getDay(),Y=ne>4||ne===0?Xy.ceil(Y):Xy(Y),Y=Gp.offset(Y,(ee.V-1)*7),ee.y=Y.getFullYear(),ee.m=Y.getMonth(),ee.d=Y.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),ne="Z"in ee?F_(nh(ee.y,0,1)).getUTCDay():L_(nh(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(ne+5)%7:ee.w+ee.U*7-(ne+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,F_(ee)):L_(ee)}}function N(Q,ie,de,ee){for(var Z=0,Y=ie.length,ne=de.length,fe,ve;Z<Y;){if(ee>=ne)return-1;if(fe=ie.charCodeAt(Z++),fe===37){if(fe=ie.charAt(Z++),ve=j[fe in gO?ie.charAt(Z++):fe],!ve||(ee=ve(Q,de,ee))<0)return-1}else if(fe!=de.charCodeAt(ee++))return-1}return ee}function E(Q,ie,de){var ee=u.exec(ie.slice(de));return ee?(Q.p=d.get(ee[0].toLowerCase()),de+ee[0].length):-1}function P(Q,ie,de){var ee=m.exec(ie.slice(de));return ee?(Q.w=v.get(ee[0].toLowerCase()),de+ee[0].length):-1}function A(Q,ie,de){var ee=f.exec(ie.slice(de));return ee?(Q.w=h.get(ee[0].toLowerCase()),de+ee[0].length):-1}function O(Q,ie,de){var ee=b.exec(ie.slice(de));return ee?(Q.m=y.get(ee[0].toLowerCase()),de+ee[0].length):-1}function T(Q,ie,de){var ee=p.exec(ie.slice(de));return ee?(Q.m=g.get(ee[0].toLowerCase()),de+ee[0].length):-1}function C(Q,ie,de){return N(Q,t,ie,de)}function I(Q,ie,de){return N(Q,r,ie,de)}function $(Q,ie,de){return N(Q,n,ie,de)}function M(Q){return i[Q.getDay()]}function D(Q){return s[Q.getDay()]}function F(Q){return c[Q.getMonth()]}function z(Q){return l[Q.getMonth()]}function U(Q){return a[+(Q.getHours()>=12)]}function R(Q){return 1+~~(Q.getMonth()/3)}function B(Q){return i[Q.getUTCDay()]}function K(Q){return s[Q.getUTCDay()]}function J(Q){return c[Q.getUTCMonth()]}function X(Q){return l[Q.getUTCMonth()]}function te(Q){return a[+(Q.getUTCHours()>=12)]}function q(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var ie=S(Q+="",w);return ie.toString=function(){return Q},ie},parse:function(Q){var ie=k(Q+="",!1);return ie.toString=function(){return Q},ie},utcFormat:function(Q){var ie=S(Q+="",_);return ie.toString=function(){return Q},ie},utcParse:function(Q){var ie=k(Q+="",!0);return ie.toString=function(){return Q},ie}}}var gO={"-":"",_:" ",0:"0"},Pr=/^\s*\d+/,M1e=/^%/,O1e=/[\\^$*+?|[\]().{}]/g;function ft(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function R1e(e){return e.replace(O1e,"\\$&")}function ah(e){return new RegExp("^(?:"+e.map(R1e).join("|")+")","i")}function sh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function I1e(e,t,r){var n=Pr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function $1e(e,t,r){var n=Pr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function L1e(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function F1e(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function B1e(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function vO(e,t,r){var n=Pr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function yO(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function z1e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function U1e(e,t,r){var n=Pr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function H1e(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function bO(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function q1e(e,t,r){var n=Pr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function xO(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function W1e(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function K1e(e,t,r){var n=Pr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function G1e(e,t,r){var n=Pr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function V1e(e,t,r){var n=Pr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Q1e(e,t,r){var n=M1e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Y1e(e,t,r){var n=Pr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function J1e(e,t,r){var n=Pr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function wO(e,t){return ft(e.getDate(),t,2)}function X1e(e,t){return ft(e.getHours(),t,2)}function Z1e(e,t){return ft(e.getHours()%12||12,t,2)}function eSe(e,t){return ft(1+Gp.count(hi(e),e),t,3)}function aU(e,t){return ft(e.getMilliseconds(),t,3)}function tSe(e,t){return aU(e,t)+"000"}function rSe(e,t){return ft(e.getMonth()+1,t,2)}function nSe(e,t){return ft(e.getMinutes(),t,2)}function aSe(e,t){return ft(e.getSeconds(),t,2)}function sSe(e){var t=e.getDay();return t===0?7:t}function iSe(e,t){return ft(Nx.count(hi(e)-1,e),t,2)}function sU(e){var t=e.getDay();return t>=4||t===0?Rd(e):Rd.ceil(e)}function oSe(e,t){return e=sU(e),ft(Rd.count(hi(e),e)+(hi(e).getDay()===4),t,2)}function lSe(e){return e.getDay()}function cSe(e,t){return ft(Xy.count(hi(e)-1,e),t,2)}function uSe(e,t){return ft(e.getFullYear()%100,t,2)}function dSe(e,t){return e=sU(e),ft(e.getFullYear()%100,t,2)}function fSe(e,t){return ft(e.getFullYear()%1e4,t,4)}function hSe(e,t){var r=e.getDay();return e=r>=4||r===0?Rd(e):Rd.ceil(e),ft(e.getFullYear()%1e4,t,4)}function mSe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ft(t/60|0,"0",2)+ft(t%60,"0",2)}function _O(e,t){return ft(e.getUTCDate(),t,2)}function pSe(e,t){return ft(e.getUTCHours(),t,2)}function gSe(e,t){return ft(e.getUTCHours()%12||12,t,2)}function vSe(e,t){return ft(1+kx.count(mi(e),e),t,3)}function iU(e,t){return ft(e.getUTCMilliseconds(),t,3)}function ySe(e,t){return iU(e,t)+"000"}function bSe(e,t){return ft(e.getUTCMonth()+1,t,2)}function xSe(e,t){return ft(e.getUTCMinutes(),t,2)}function wSe(e,t){return ft(e.getUTCSeconds(),t,2)}function _Se(e){var t=e.getUTCDay();return t===0?7:t}function jSe(e,t){return ft(Ex.count(mi(e)-1,e),t,2)}function oU(e){var t=e.getUTCDay();return t>=4||t===0?Id(e):Id.ceil(e)}function SSe(e,t){return e=oU(e),ft(Id.count(mi(e),e)+(mi(e).getUTCDay()===4),t,2)}function kSe(e){return e.getUTCDay()}function NSe(e,t){return ft(Zy.count(mi(e)-1,e),t,2)}function ESe(e,t){return ft(e.getUTCFullYear()%100,t,2)}function CSe(e,t){return e=oU(e),ft(e.getUTCFullYear()%100,t,2)}function ASe(e,t){return ft(e.getUTCFullYear()%1e4,t,4)}function PSe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Id(e):Id.ceil(e),ft(e.getUTCFullYear()%1e4,t,4)}function TSe(){return"+0000"}function jO(){return"%"}function SO(e){return+e}function kO(e){return Math.floor(+e/1e3)}var Yc,lU,cU;DSe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function DSe(e){return Yc=D1e(e),lU=Yc.format,Yc.parse,cU=Yc.utcFormat,Yc.utcParse,Yc}function MSe(e){return new Date(e)}function OSe(e){return e instanceof Date?+e:+new Date(+e)}function pA(e,t,r,n,a,s,i,l,c,u){var d=tA(),f=d.invert,h=d.domain,m=u(".%L"),v=u(":%S"),p=u("%I:%M"),g=u("%I %p"),b=u("%a %d"),y=u("%b %d"),w=u("%B"),_=u("%Y");function j(S){return(c(S)<S?m:l(S)<S?v:i(S)<S?p:s(S)<S?g:n(S)<S?a(S)<S?b:y:r(S)<S?w:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,OSe)):h().map(MSe)},d.ticks=function(S){var k=h();return e(k[0],k[k.length-1],S??10)},d.tickFormat=function(S,k){return k==null?j:u(k)},d.nice=function(S){var k=h();return(!S||typeof S.range!="function")&&(S=t(k[0],k[k.length-1],S??10)),S?h(Qz(k,S)):d},d.copy=function(){return Kp(d,pA(e,t,r,n,a,s,i,l,c,u))},d}function RSe(){return Pa.apply(pA(P1e,T1e,hi,hA,Nx,Gp,dA,cA,kl,lU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ISe(){return Pa.apply(pA(C1e,A1e,mi,mA,Ex,kx,fA,uA,kl,cU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Cx(){var e=0,t=1,r,n,a,s,i=fn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(a===0?.5:(f=(s(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,i=f(m,v),u):[i(0),i(1)]}}return u.range=d(Tf),u.rangeRound=d(eA),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Vo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function uU(){var e=Go(Cx()(fn));return e.copy=function(){return Vo(e,uU())},ji.apply(e,arguments)}function dU(){var e=aA(Cx()).domain([1,10]);return e.copy=function(){return Vo(e,dU()).base(e.base())},ji.apply(e,arguments)}function fU(){var e=sA(Cx());return e.copy=function(){return Vo(e,fU()).constant(e.constant())},ji.apply(e,arguments)}function gA(){var e=iA(Cx());return e.copy=function(){return Vo(e,gA()).exponent(e.exponent())},ji.apply(e,arguments)}function $Se(){return gA.apply(null,arguments).exponent(.5)}function hU(){var e=[],t=fn;function r(n){if(n!=null&&!isNaN(n=+n))return t((qp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(wo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>jje(e,s/n))},r.copy=function(){return hU(t).domain(e)},ji.apply(r,arguments)}function Ax(){var e=0,t=.5,r=1,n=1,a,s,i,l,c,u=fn,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-s)*(n*p<n*s?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),s=d(t=+t),i=d(r=+r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function v(p){return function(g){var b,y,w;return arguments.length?([b,y,w]=g,u=Qje(p,[b,y,w]),m):[u(0),u(.5),u(1)]}}return m.range=v(Tf),m.rangeRound=v(eA),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),s=p(t),i=p(r),l=a===s?0:.5/(s-a),c=s===i?0:.5/(i-s),n=s<a?-1:1,m}}function mU(){var e=Go(Ax()(fn));return e.copy=function(){return Vo(e,mU())},ji.apply(e,arguments)}function pU(){var e=aA(Ax()).domain([.1,1,10]);return e.copy=function(){return Vo(e,pU()).base(e.base())},ji.apply(e,arguments)}function gU(){var e=sA(Ax());return e.copy=function(){return Vo(e,gU()).constant(e.constant())},ji.apply(e,arguments)}function vA(){var e=iA(Ax());return e.copy=function(){return Vo(e,vA()).exponent(e.exponent())},ji.apply(e,arguments)}function LSe(){return vA.apply(null,arguments).exponent(.5)}const NO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tm,scaleDiverging:mU,scaleDivergingLog:pU,scaleDivergingPow:vA,scaleDivergingSqrt:LSe,scaleDivergingSymlog:gU,scaleIdentity:Vz,scaleImplicit:qS,scaleLinear:Yy,scaleLog:Yz,scaleOrdinal:JC,scalePoint:Hh,scalePow:oA,scaleQuantile:Zz,scaleQuantize:eU,scaleRadial:Xz,scaleSequential:uU,scaleSequentialLog:dU,scaleSequentialPow:gA,scaleSequentialQuantile:hU,scaleSequentialSqrt:$Se,scaleSequentialSymlog:fU,scaleSqrt:y1e,scaleSymlog:Jz,scaleThreshold:tU,scaleTime:RSe,scaleUtc:ISe,tickFormat:Gz},Symbol.toStringTag,{value:"Module"}));var FSe=jf;function BSe(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],i=t(s);if(i!=null&&(l===void 0?i===i&&!FSe(i):r(i,l)))var l=i,c=s}return c}var Px=BSe;function zSe(e,t){return e>t}var vU=zSe,USe=Px,HSe=vU,qSe=Pf;function WSe(e){return e&&e.length?USe(e,qSe,HSe):void 0}var KSe=WSe;const Tx=yt(KSe);function GSe(e,t){return e<t}var yU=GSe,VSe=Px,QSe=yU,YSe=Pf;function JSe(e){return e&&e.length?VSe(e,YSe,QSe):void 0}var XSe=JSe;const Dx=yt(XSe);var ZSe=TC,eke=Os,tke=Nz,rke=Fn;function nke(e,t){var r=rke(e)?ZSe:tke;return r(e,eke(t))}var ake=nke,ske=Sz,ike=ake;function oke(e,t){return ske(ike(e,t),1)}var lke=oke;const cke=yt(lke);var uke=KC;function dke(e,t){return uke(e,t)}var fke=dke;const Mx=yt(fke);var Df=1e9,hke={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bA,Yt=!0,Ca="[DecimalError] ",Ul=Ca+"Invalid argument: ",yA=Ca+"Exponent out of range: ",Mf=Math.floor,dl=Math.pow,mke=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yn,kr=1e7,Kt=7,bU=9007199254740991,eb=Mf(bU/Kt),_e={};_e.absoluteValue=_e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};_e.comparedTo=_e.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Kt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};_e.dividedBy=_e.div=function(e){return ri(this,new this.constructor(e))};_e.dividedToIntegerBy=_e.idiv=function(e){var t=this,r=t.constructor;return Et(ri(t,new r(e),0,1),r.precision)};_e.equals=_e.eq=function(e){return!this.cmp(e)};_e.exponent=function(){return fr(this)};_e.greaterThan=_e.gt=function(e){return this.cmp(e)>0};_e.greaterThanOrEqualTo=_e.gte=function(e){return this.cmp(e)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(e){return this.cmp(e)<0};_e.lessThanOrEqualTo=_e.lte=function(e){return this.cmp(e)<1};_e.logarithm=_e.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Yn))throw Error(Ca+"NaN");if(r.s<1)throw Error(Ca+(r.s?"NaN":"-Infinity"));return r.eq(Yn)?new n(0):(Yt=!1,t=ri(Im(r,s),Im(e,s),s),Yt=!0,Et(t,a))};_e.minus=_e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_U(t,e):xU(t,(e.s=-e.s,e))};_e.modulo=_e.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ca+"NaN");return r.s?(Yt=!1,t=ri(r,e,0,1).times(e),Yt=!0,r.minus(t)):Et(new n(r),a)};_e.naturalExponential=_e.exp=function(){return wU(this)};_e.naturalLogarithm=_e.ln=function(){return Im(this)};_e.negated=_e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};_e.plus=_e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xU(t,e):_U(t,(e.s=-e.s,e))};_e.precision=_e.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ul+e);if(t=fr(a)+1,n=a.d.length-1,r=n*Kt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};_e.squareRoot=_e.sqrt=function(){var e,t,r,n,a,s,i,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ca+"NaN")}for(e=fr(l),Yt=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=ws(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Mf((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=i=r+3;;)if(s=n,n=s.plus(ri(l,s,i+2)).times(.5),ws(s.d).slice(0,i)===(t=ws(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(Et(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;i+=4}return Yt=!0,Et(n,r)};_e.times=_e.mul=function(e){var t,r,n,a,s,i,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,i=c,c=u,u=i),s=[],i=c+u,n=i;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=s[a]+m[n]*h[a-n-1]+t,s[a--]=l%kr|0,t=l/kr|0;s[a]=(s[a]+t)%kr|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Yt?Et(e,f.precision):e};_e.toDecimalPlaces=_e.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(As(e,0,Df),t===void 0?t=n.rounding:As(t,0,8),Et(r,e+fr(r)+1,t))};_e.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=dc(n,!0):(As(e,0,Df),t===void 0?t=a.rounding:As(t,0,8),n=Et(new a(n),e+1,t),r=dc(n,!0,e+1)),r};_e.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?dc(a):(As(e,0,Df),t===void 0?t=s.rounding:As(t,0,8),n=Et(new s(a),e+fr(a)+1,t),r=dc(n.abs(),!1,e+fr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};_e.toInteger=_e.toint=function(){var e=this,t=e.constructor;return Et(new t(e),fr(e)+1,t.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(e){var t,r,n,a,s,i,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Yn);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ca+"Infinity");return l}if(l.eq(Yn))return l;if(n=c.precision,e.eq(Yn))return Et(l,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=l.s,i){if((r=d<0?-d:d)<=bU){for(a=new c(Yn),t=Math.ceil(n/Kt+4),Yt=!1;r%2&&(a=a.times(l),CO(a.d,t)),r=Mf(r/2),r!==0;)l=l.times(l),CO(l.d,t);return Yt=!0,e.s<0?new c(Yn).div(a):Et(a,n)}}else if(s<0)throw Error(Ca+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Yt=!1,a=e.times(Im(l,n+u)),Yt=!0,a=wU(a),a.s=s,a};_e.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=fr(a),n=dc(a,r<=s.toExpNeg||r>=s.toExpPos)):(As(e,1,Df),t===void 0?t=s.rounding:As(t,0,8),a=Et(new s(a),e,t),r=fr(a),n=dc(a,e<=r||r<=s.toExpNeg,e)),n};_e.toSignificantDigits=_e.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(As(e,1,Df),t===void 0?t=n.rounding:As(t,0,8)),Et(new n(r),e,t)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=fr(e),r=e.constructor;return dc(e,t<=r.toExpNeg||t>=r.toExpPos)};function xU(e,t){var r,n,a,s,i,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Yt?Et(t,f):t;if(c=e.d,u=t.d,i=e.e,a=t.e,c=c.slice(),s=i-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=i,l=c.length),i=Math.ceil(f/Kt),l=i>l?i+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/kr|0,c[s]%=kr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Yt?Et(t,f):t}function As(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ul+e)}function ws(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=Kt-n.length,r&&(s+=Hi(r)),s+=n;i=e[t],n=i+"",r=Kt-n.length,r&&(s+=Hi(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var ri=function(){function e(n,a){var s,i=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+i,n[l]=s%kr|0,i=s/kr|0;return i&&n.unshift(i),n}function t(n,a,s,i){var l,c;if(s!=i)c=s>i?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*kr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var l,c,u,d,f,h,m,v,p,g,b,y,w,_,j,S,k,N,E=n.constructor,P=n.s==a.s?1:-1,A=n.d,O=a.d;if(!n.s)return new E(n);if(!a.s)throw Error(Ca+"Division by zero");for(c=n.e-a.e,k=O.length,j=A.length,m=new E(P),v=m.d=[],u=0;O[u]==(A[u]||0);)++u;if(O[u]>(A[u]||0)&&--c,s==null?y=s=E.precision:i?y=s+(fr(n)-fr(a))+1:y=s,y<0)return new E(0);if(y=y/Kt+2|0,u=0,k==1)for(d=0,O=O[0],y++;(u<j||d)&&y--;u++)w=d*kr+(A[u]||0),v[u]=w/O|0,d=w%O|0;else{for(d=kr/(O[0]+1)|0,d>1&&(O=e(O,d),A=e(A,d),k=O.length,j=A.length),_=k,p=A.slice(0,k),g=p.length;g<k;)p[g++]=0;N=O.slice(),N.unshift(0),S=O[0],O[1]>=kr/2&&++S;do d=0,l=t(O,p,k,g),l<0?(b=p[0],k!=g&&(b=b*kr+(p[1]||0)),d=b/S|0,d>1?(d>=kr&&(d=kr-1),f=e(O,d),h=f.length,g=p.length,l=t(f,p,h,g),l==1&&(d--,r(f,k<h?N:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<g&&f.unshift(0),r(p,f,g),l==-1&&(g=p.length,l=t(O,p,k,g),l<1&&(d++,r(p,k<g?N:O,g))),g=p.length):l===0&&(d++,p=[0]),v[u++]=d,l&&p[0]?p[g++]=A[_]||0:(p=[A[_]],g=1);while((_++<j||p[0]!==void 0)&&y--)}return v[0]||v.shift(),m.e=c,Et(m,i?s+fr(m)+1:s)}}();function wU(e,t){var r,n,a,s,i,l,c=0,u=0,d=e.constructor,f=d.precision;if(fr(e)>16)throw Error(yA+fr(e));if(!e.s)return new d(Yn);for(t==null?(Yt=!1,l=f):l=t,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(dl(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new d(Yn),d.precision=l;;){if(a=Et(a.times(e),l),r=r.times(++c),i=s.plus(ri(a,r,l)),ws(i.d).slice(0,l)===ws(s.d).slice(0,l)){for(;u--;)s=Et(s.times(s),l);return d.precision=f,t==null?(Yt=!0,Et(s,f)):s}s=i}}function fr(e){for(var t=e.e*Kt,r=e.d[0];r>=10;r/=10)t++;return t}function B_(e,t,r){if(t>e.LN10.sd())throw Yt=!0,r&&(e.precision=r),Error(Ca+"LN10 precision limit exceeded");return Et(new e(e.LN10),t)}function Hi(e){for(var t="";e--;)t+="0";return t}function Im(e,t){var r,n,a,s,i,l,c,u,d,f=1,h=10,m=e,v=m.d,p=m.constructor,g=p.precision;if(m.s<1)throw Error(Ca+(m.s?"NaN":"-Infinity"));if(m.eq(Yn))return new p(0);if(t==null?(Yt=!1,u=g):u=t,m.eq(10))return t==null&&(Yt=!0),B_(p,u);if(u+=h,p.precision=u,r=ws(v),n=r.charAt(0),s=fr(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=ws(m.d),n=r.charAt(0),f++;s=fr(m),n>1?(m=new p("0."+r),s++):m=new p(n+"."+r.slice(1))}else return c=B_(p,u+2,g).times(s+""),m=Im(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=g,t==null?(Yt=!0,Et(m,g)):m;for(l=i=m=ri(m.minus(Yn),m.plus(Yn),u),d=Et(m.times(m),u),a=3;;){if(i=Et(i.times(d),u),c=l.plus(ri(i,new p(a),u)),ws(c.d).slice(0,u)===ws(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(B_(p,u+2,g).times(s+""))),l=ri(l,new p(f),u),p.precision=g,t==null?(Yt=!0,Et(l,g)):l;l=c,a+=2}}function EO(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Mf(r/Kt),e.d=[],n=(r+1)%Kt,r<0&&(n+=Kt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Kt;n<a;)e.d.push(+t.slice(n,n+=Kt));t=t.slice(n),n=Kt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Yt&&(e.e>eb||e.e<-eb))throw Error(yA+r)}else e.s=0,e.e=0,e.d=[0];return e}function Et(e,t,r){var n,a,s,i,l,c,u,d,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=Kt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Kt),s=f.length,d>=s)return e;for(u=s=f[d],i=1;s>=10;s/=10)i++;n%=Kt,a=n-Kt+i}if(r!==void 0&&(s=dl(10,i-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/dl(10,i-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=fr(e),f.length=1,t=t-s-1,f[0]=dl(10,(Kt-t%Kt)%Kt),e.e=Mf(-t/Kt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=dl(10,Kt-n),f[d]=a>0?(u/dl(10,i-a)%dl(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==kr&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=kr)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Yt&&(e.e>eb||e.e<-eb))throw Error(yA+fr(e));return e}function _U(e,t){var r,n,a,s,i,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Yt?Et(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Kt),l)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}i=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>i;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=kr-1;--c[s],c[a]+=kr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Yt?Et(t,m):t):new h(0)}function dc(e,t,r){var n,a=fr(e),s=ws(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+Hi(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Hi(-a-1)+s,r&&(n=r-i)>0&&(s+=Hi(n))):a>=i?(s+=Hi(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+Hi(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=Hi(n))),e.s<0?"-"+s:s}function CO(e,t){if(e.length>t)return e.length=t,!0}function jU(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ul+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return EO(i,s.toString())}else if(typeof s!="string")throw Error(Ul+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,mke.test(s))EO(i,s);else throw Error(Ul+s)}if(a.prototype=_e,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=jU,a.config=a.set=pke,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function pke(e){if(!e||typeof e!="object")throw Error(Ca+"Object expected");var t,r,n,a=["precision",1,Df,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Mf(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ul+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ul+r+": "+n);return this}var bA=jU(hke);Yn=new bA(1);const kt=bA;function gke(e){return xke(e)||bke(e)||yke(e)||vke()}function vke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yke(e,t){if(e){if(typeof e=="string")return VS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VS(e,t)}}function bke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function xke(e){if(Array.isArray(e))return VS(e)}function VS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var wke=function(t){return t},SU={"@@functional/placeholder":!0},kU=function(t){return t===SU},AO=function(t){return function r(){return arguments.length===0||arguments.length===1&&kU(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},_ke=function e(t,r){return t===1?r:AO(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var i=a.filter(function(l){return l!==SU}).length;return i>=t?r.apply(void 0,a):e(t-i,AO(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return kU(f)?c.shift():f});return r.apply(void 0,gke(d).concat(c))}))})},Ox=function(t){return _ke(t.length,t)},QS=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},jke=Ox(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Ske=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return wke;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},YS=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},NU=function(t){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function kke(e){var t;return e===0?t=1:t=Math.floor(new kt(e).abs().log(10).toNumber())+1,t}function Nke(e,t,r){for(var n=new kt(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var Eke=Ox(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Cke=Ox(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Ake=Ox(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Rx={rangeStep:Nke,getDigitCount:kke,interpolateNumber:Eke,uninterpolateNumber:Cke,uninterpolateTruncation:Ake};function JS(e){return Dke(e)||Tke(e)||EU(e)||Pke()}function Pke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tke(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Dke(e){if(Array.isArray(e))return XS(e)}function $m(e,t){return Rke(e)||Oke(e,t)||EU(e,t)||Mke()}function Mke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EU(e,t){if(e){if(typeof e=="string")return XS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XS(e,t)}}function XS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oke(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,s=void 0;try{for(var i=e[Symbol.iterator](),l;!(n=(l=i.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&i.return!=null&&i.return()}finally{if(a)throw s}}return r}}function Rke(e){if(Array.isArray(e))return e}function CU(e){var t=$m(e,2),r=t[0],n=t[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function AU(e,t,r){if(e.lte(0))return new kt(0);var n=Rx.getDigitCount(e.toNumber()),a=new kt(10).pow(n),s=e.div(a),i=n!==1?.05:.1,l=new kt(Math.ceil(s.div(i).toNumber())).add(r).mul(i),c=l.mul(a);return t?c:new kt(Math.ceil(c))}function Ike(e,t,r){var n=1,a=new kt(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new kt(10).pow(Rx.getDigitCount(e)-1),a=new kt(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new kt(Math.floor(e)))}else e===0?a=new kt(Math.floor((t-1)/2)):r||(a=new kt(Math.floor(e)));var i=Math.floor((t-1)/2),l=Ske(jke(function(c){return a.add(new kt(c-i).mul(n)).toNumber()}),QS);return l(0,t)}function PU(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new kt(0),tickMin:new kt(0),tickMax:new kt(0)};var s=AU(new kt(t).sub(e).div(r-1),n,a),i;e<=0&&t>=0?i=new kt(0):(i=new kt(e).add(t).div(2),i=i.sub(new kt(i).mod(s)));var l=Math.ceil(i.sub(e).div(s).toNumber()),c=Math.ceil(new kt(t).sub(i).div(s).toNumber()),u=l+c+1;return u>r?PU(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:i.sub(new kt(l).mul(s)),tickMax:i.add(new kt(c).mul(s))})}function $ke(e){var t=$m(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),l=CU([r,n]),c=$m(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(JS(QS(0,a-1).map(function(){return 1/0}))):[].concat(JS(QS(0,a-1).map(function(){return-1/0})),[d]);return r>n?YS(f):f}if(u===d)return Ike(u,a,s);var h=PU(u,d,i,s),m=h.step,v=h.tickMin,p=h.tickMax,g=Rx.rangeStep(v,p.add(new kt(.1).mul(m)),m);return r>n?YS(g):g}function Lke(e,t){var r=$m(e,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=CU([n,a]),l=$m(i,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=AU(new kt(u).sub(c).div(d-1),s,0),h=[].concat(JS(Rx.rangeStep(new kt(c),new kt(u).sub(new kt(.99).mul(f)),f)),[u]);return n>a?YS(h):h}var Fke=NU($ke),Bke=NU(Lke),zke="Invariant failed";function fc(e,t){throw new Error(zke)}var Uke=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tb.apply(this,arguments)}function Hke(e,t){return Gke(e)||Kke(e,t)||Wke(e,t)||qke()}function qke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wke(e,t){if(e){if(typeof e=="string")return PO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PO(e,t)}}function PO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function Gke(e){if(Array.isArray(e))return e}function Vke(e,t){if(e==null)return{};var r=Qke(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MU(n.key),n)}}function Xke(e,t,r){return t&&Jke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zke(e,t,r){return t=rb(t),eNe(e,TU()?Reflect.construct(t,r||[],rb(e).constructor):t.apply(e,r))}function eNe(e,t){if(t&&($d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tNe(e)}function tNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TU=function(){return!!e})()}function rb(e){return rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rb(e)}function rNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZS(e,t)}function ZS(e,t){return ZS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ZS(e,t)}function DU(e,t,r){return t=MU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MU(e){var t=nNe(e,"string");return $d(t)=="symbol"?t:t+""}function nNe(e,t){if($d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ix=function(e){function t(){return Yke(this,t),Zke(this,t,arguments)}return rNe(t,e),Xke(t,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,i=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=Vke(n,Uke),m=Be(h,!1);this.props.direction==="x"&&d.type!=="number"&&fc();var v=c.map(function(p){var g=u(p,l),b=g.x,y=g.y,w=g.value,_=g.errorVal;if(!_)return null;var j=[],S,k;if(Array.isArray(_)){var N=Hke(_,2);S=N[0],k=N[1]}else S=k=_;if(s==="vertical"){var E=d.scale,P=y+a,A=P+i,O=P-i,T=E(w-S),C=E(w+k);j.push({x1:C,y1:A,x2:C,y2:O}),j.push({x1:T,y1:P,x2:C,y2:P}),j.push({x1:T,y1:A,x2:T,y2:O})}else if(s==="horizontal"){var I=f.scale,$=b+a,M=$-i,D=$+i,F=I(w-S),z=I(w+k);j.push({x1:M,y1:z,x2:D,y2:z}),j.push({x1:$,y1:F,x2:$,y2:z}),j.push({x1:M,y1:F,x2:D,y2:F})}return L.createElement(wt,tb({className:"recharts-errorBar",key:"bar-".concat(j.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},m),j.map(function(U){return L.createElement("line",tb({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return L.createElement(wt,{className:"recharts-errorBars"},v)}}])}(L.Component);DU(Ix,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});DU(Ix,"displayName","ErrorBar");function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){aNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aNe(e,t,r){return t=sNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sNe(e){var t=iNe(e,"string");return Lm(t)=="symbol"?t:t+""}function iNe(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OU=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,i=Gn(r,qu);if(!i)return null;var l=qu.defaultProps,c=l!==void 0?tl(tl({},l),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,v=m.sectors||m.data||[];return d.concat(v.map(function(p){return{type:i.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?tl(tl({},h),f.props):{},v=m.dataKey,p=m.name,g=m.legendType,b=m.hide;return{inactive:b,dataKey:v,type:c.iconType||g||"square",color:xA(f),value:p||v,payload:m}}),tl(tl(tl({},c),qu.getWithHeight(i,a)),{},{payload:u,item:i})};function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function DO(e){return uNe(e)||cNe(e)||lNe(e)||oNe()}function oNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lNe(e,t){if(e){if(typeof e=="string")return ek(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ek(e,t)}}function cNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uNe(e){if(Array.isArray(e))return ek(e)}function ek(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){Ku(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ku(e,t,r){return t=dNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dNe(e){var t=fNe(e,"string");return Fm(t)=="symbol"?t:t+""}function fNe(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gr(e,t,r){return nt(e)||nt(t)?r:xr(t)?ta(e,t,r):qe(t)?t(e):r}function qh(e,t,r,n){var a=cke(e,function(l){return Gr(l,t)});if(r==="number"){var s=a.filter(function(l){return he(l)||parseFloat(l)});return s.length?[Dx(s),Tx(s)]:[1/0,-1/0]}var i=n?a.filter(function(l){return!nt(l)}):a;return i.map(function(l){return xr(l)||l instanceof Date?l:""})}var hNe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,i=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(un(f-d)!==un(h-f)){var v=[];if(un(h-f)===un(c[1]-c[0])){m=h;var p=f+c[1]-c[0];v[0]=Math.min(p,(p+d)/2),v[1]=Math.max(p,(p+d)/2)}else{m=d;var g=h+c[1]-c[0];v[0]=Math.min(f,(g+f)/2),v[1]=Math.max(f,(g+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=v[0]&&t<=v[1]){i=a[u].index;break}}else{var y=Math.min(d,h),w=Math.max(d,h);if(t>(y+f)/2&&t<=(w+f)/2){i=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){i=n[_].index;break}return i},xA=function(t){var r,n=t,a=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?sr(sr({},t.type.defaultProps),t.props):t.props,i=s.stroke,l=s.fill,c;switch(a){case"Line":c=i;break;case"Area":case"Radar":c=i&&i!=="none"?i:l;break;default:c=l;break}return c},mNe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var i={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var v=d[f[h]],p=v.items,g=v.cateAxisId,b=p.filter(function(k){return ei(k.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,w=y!==void 0?sr(sr({},y),b[0].props):b[0].props,_=w.barSize,j=w[g];i[j]||(i[j]=[]);var S=nt(_)?r:_;i[j].push({item:b[0],stackList:b.slice(1),barSize:nt(S)?void 0:dn(S,n,0)})}}return i},pNe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,s=t.sizeList,i=s===void 0?[]:s,l=t.maxBarSize,c=i.length;if(c<1)return null;var u=dn(r,a,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var h=!1,m=a/c,v=i.reduce(function(_,j){return _+j.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&m>0&&(h=!0,m*=.9,v=c*m);var p=(a-v)/2>>0,g={offset:p-u,size:0};d=i.reduce(function(_,j){var S={item:j.item,position:{offset:g.offset+g.size+u,size:h?m:j.barSize}},k=[].concat(DO(_),[S]);return g=k[k.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(N){k.push({item:N,position:g})}),k},f)}else{var b=dn(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var y=(a-2*b-(c-1)*u)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;d=i.reduce(function(_,j,S){var k=[].concat(DO(_),[{item:j.item,position:{offset:b+(y+u)*S+(y-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(N){k.push({item:N,position:k[k.length-1].position})}),k},f)}return d},gNe=function(t,r,n,a){var s=n.children,i=n.width,l=n.margin,c=i-(l.left||0)-(l.right||0),u=OU({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,v=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&v==="middle")&&m!=="center"&&he(t[m]))return sr(sr({},t),{},Ku({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&v!=="middle"&&he(t[v]))return sr(sr({},t),{},Ku({},v,t[v]+(h||0)))}return t},vNe=function(t,r,n){return nt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},RU=function(t,r,n,a,s){var i=r.props.children,l=Sa(i,Ix).filter(function(u){return vNe(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Gr(d,n);if(nt(f))return u;var h=Array.isArray(f)?[Dx(f),Tx(f)]:[f,f],m=c.reduce(function(v,p){var g=Gr(d,p,0),b=h[0]-Math.abs(Array.isArray(g)?g[0]:g),y=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(b,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},yNe=function(t,r,n,a,s){var i=r.map(function(l){return RU(t,l,n,s,a)}).filter(function(l){return!nt(l)});return i&&i.length?i.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},IU=function(t,r,n,a,s){var i=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&RU(t,c,u,a)||qh(t,u,n,s)});if(n==="number")return i.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return i.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},$U=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},LU=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var s,i,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(i=!0),c.coordinate});return s||l.push(r),i||l.push(n),l},Ys=function(t,r,n){if(!t)return null;var a=t.scale,s=t.duplicateDomain,i=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&i==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?un(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!zp(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:s?s[f]:f,index:h,offset:u}})},z_=new WeakMap,Kg=function(t,r){if(typeof r!="function")return t;z_.has(t)||z_.set(t,new WeakMap);var n=z_.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},FU=function(t,r,n){var a=t.scale,s=t.type,i=t.layout,l=t.axisType;if(a==="auto")return i==="radial"&&l==="radiusAxis"?{scale:Tm(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:Yy(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Hh(),realScaleType:"point"}:s==="category"?{scale:Tm(),realScaleType:"band"}:{scale:Yy(),realScaleType:"linear"};if(lc(a)){var c="scale".concat(vx(a));return{scale:(NO[c]||Hh)(),realScaleType:NO[c]?c:"point"}}return qe(a)?{scale:a}:{scale:Hh(),realScaleType:"point"}},OO=1e-4,BU=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),s=Math.min(a[0],a[1])-OO,i=Math.max(a[0],a[1])+OO,l=t(r[0]),c=t(r[n-1]);(l<s||l>i||c<s||c>i)&&t.domain([r[0],r[n-1]])}},bNe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},xNe=function(t,r){if(!r||r.length!==2||!he(r[0])||!he(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!he(t[0])||t[0]<n)&&(s[0]=n),(!he(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},wNe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,i=0,l=0;l<r;++l){var c=zp(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1])}},_Ne=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var s=0,i=0;i<r;++i){var l=zp(t[i][n][1])?t[i][n][0]:t[i][n][1];l>=0?(t[i][n][0]=s,t[i][n][1]=s+l,s=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},jNe={sign:wNe,expand:Ume,none:Ad,silhouette:Hme,wiggle:qme,positive:_Ne},SNe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),s=jNe[n],i=zme().keys(a).value(function(l,c){return+Gr(l,c,0)}).order(kS).offset(s);return i(t)},kNe=function(t,r,n,a,s,i){if(!t)return null;var l=i?r.reverse():r,c={},u=l.reduce(function(f,h){var m,v=(m=h.type)!==null&&m!==void 0&&m.defaultProps?sr(sr({},h.type.defaultProps),h.props):h.props,p=v.stackId,g=v.hide;if(g)return f;var b=v[n],y=f[b]||{hasStack:!1,stackGroups:{}};if(xr(p)){var w=y.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),y.hasStack=!0,y.stackGroups[p]=w}else y.stackGroups[Up("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return sr(sr({},f),{},Ku({},b,y))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var v={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,g){var b=m.stackGroups[g];return sr(sr({},p),{},Ku({},g,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:SNe(t,b.items,s)}))},v)}return sr(sr({},f),{},Ku({},h,m))},d)},zU=function(t,r){var n=r.realScaleType,a=r.type,s=r.tickCount,i=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Fke(u,s,l);return t.domain([Dx(d),Tx(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),h=Bke(f,s,l);return{niceTicks:h}}return null},RO=function(t){var r=t.axis,n=t.ticks,a=t.offset,s=t.bandSize,i=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Gr(i,r.dataKey,r.domain[l]);return nt(c)?null:r.scale(c)-s/2+a},NNe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},ENe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?sr(sr({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(xr(s)){var i=r[s];if(i){var l=i.items.indexOf(t);return l>=0?i.stackedData[l]:null}}return null},CNe=function(t){return t.reduce(function(r,n){return[Dx(n.concat([r[0]]).filter(he)),Tx(n.concat([r[1]]).filter(he))]},[1/0,-1/0])},UU=function(t,r,n){return Object.keys(t).reduce(function(a,s){var i=t[s],l=i.stackedData,c=l.reduce(function(u,d){var f=CNe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},IO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$O=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tk=function(t,r,n){if(qe(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(he(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(IO.test(t[0])){var s=+IO.exec(t[0])[1];a[0]=r[0]-s}else qe(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(he(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if($O.test(t[1])){var i=+$O.exec(t[1])[1];a[1]=r[1]+i}else qe(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},nb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var s=VC(r,function(f){return f.coordinate}),i=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},LO=function(t,r,n){return!t||!t.length||Mx(t,ta(n,"type.defaultProps.domain"))?r:t},HU=function(t,r){var n=t.type.defaultProps?sr(sr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,s=n.name,i=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return sr(sr({},Be(t,!1)),{},{dataKey:a,unit:i,formatter:l,name:s||a,color:xA(t),value:Gr(r,a),type:c,payload:r,chartType:u,hide:d})};function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function FO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Us(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FO(Object(r),!0).forEach(function(n){qU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qU(e,t,r){return t=ANe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ANe(e){var t=PNe(e,"string");return Bm(t)=="symbol"?t:t+""}function PNe(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TNe(e,t){return RNe(e)||ONe(e,t)||MNe(e,t)||DNe()}function DNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MNe(e,t){if(e){if(typeof e=="string")return BO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BO(e,t)}}function BO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ONe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function RNe(e){if(Array.isArray(e))return e}var ab=Math.PI/180,INe=function(t){return t*180/Math.PI},$t=function(t,r,n,a){return{x:t+Math.cos(-ab*a)*n,y:r+Math.sin(-ab*a)*n}},WU=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},$Ne=function(t,r,n,a,s){var i=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=dn(t.cx,i,i/2),f=dn(t.cy,l,l/2),h=WU(i,l,n),m=dn(t.innerRadius,h,0),v=dn(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(g,b){var y=r[b],w=y.domain,_=y.reversed,j;if(nt(y.range))a==="angleAxis"?j=[c,u]:a==="radiusAxis"&&(j=[m,v]),_&&(j=[j[1],j[0]]);else{j=y.range;var S=j,k=TNe(S,2);c=k[0],u=k[1]}var N=FU(y,s),E=N.realScaleType,P=N.scale;P.domain(w).range(j),BU(P);var A=zU(P,Us(Us({},y),{},{realScaleType:E})),O=Us(Us(Us({},y),A),{},{range:j,radius:v,realScaleType:E,scale:P,cx:d,cy:f,innerRadius:m,outerRadius:v,startAngle:c,endAngle:u});return Us(Us({},g),{},qU({},b,O))},{})},LNe=function(t,r){var n=t.x,a=t.y,s=r.x,i=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-i,2))},FNe=function(t,r){var n=t.x,a=t.y,s=r.cx,i=r.cy,l=LNe({x:n,y:a},{x:s,y:i});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>i&&(u=2*Math.PI-u),{radius:l,angle:INe(u),angleInRadian:u}},BNe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return{startAngle:r-i*360,endAngle:n-i*360}},zNe=function(t,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),i=Math.floor(a/360),l=Math.min(s,i);return t+l*360},zO=function(t,r){var n=t.x,a=t.y,s=FNe({x:n,y:a},r),i=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(i<c||i>u)return!1;if(i===0)return!0;var d=BNe(r),f=d.startAngle,h=d.endAngle,m=l,v;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;v=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;v=m>=h&&m<=f}return v?Us(Us({},r),{},{radius:i,angle:zNe(m,r)}):null},KU=function(t){return!x.isValidElement(t)&&!qe(t)&&typeof t!="boolean"?t.className:""};function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}var UNe=["offset"];function HNe(e){return GNe(e)||KNe(e)||WNe(e)||qNe()}function qNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WNe(e,t){if(e){if(typeof e=="string")return rk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rk(e,t)}}function KNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function GNe(e){if(Array.isArray(e))return rk(e)}function rk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VNe(e,t){if(e==null)return{};var r=QNe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){YNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YNe(e,t,r){return t=JNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JNe(e){var t=XNe(e,"string");return zm(t)=="symbol"?t:t+""}function XNe(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Um(){return Um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Um.apply(this,arguments)}var ZNe=function(t){var r=t.value,n=t.formatter,a=nt(t.children)?r:t.children;return qe(n)?n(a):a},eEe=function(t,r){var n=un(r-t),a=Math.min(Math.abs(r-t),360);return n*a},tEe=function(t,r,n){var a=t.position,s=t.viewBox,i=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,v=c.endAngle,p=c.clockWise,g=(f+h)/2,b=eEe(m,v),y=b>=0?1:-1,w,_;a==="insideStart"?(w=m+y*i,_=p):a==="insideEnd"?(w=v-y*i,_=!p):a==="end"&&(w=v+y*i,_=p),_=b<=0?_:!_;var j=$t(u,d,g,w),S=$t(u,d,g,w+(_?1:-1)*359),k="M".concat(j.x,",").concat(j.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),N=nt(t.id)?Up("recharts-radial-line-"):t.id;return L.createElement("text",Um({},n,{dominantBaseline:"central",className:Ye("recharts-radial-bar-label",l)}),L.createElement("defs",null,L.createElement("path",{id:N,d:k})),L.createElement("textPath",{xlinkHref:"#".concat(N)},r))},rEe=function(t){var r=t.viewBox,n=t.offset,a=t.position,s=r,i=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(a==="outside"){var m=$t(i,l,u+n,h),v=m.x,p=m.y;return{x:v,y:p,textAnchor:v>=i?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,b=$t(i,l,g,h),y=b.x,w=b.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},nEe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,s=t.position,i=r,l=i.x,c=i.y,u=i.width,d=i.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",v=f>0?"start":"end",p=u>=0?1:-1,g=p*a,b=p>0?"end":"start",y=p>0?"start":"end";if(s==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return mr(mr({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:v};return mr(mr({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var j={x:l-g,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return mr(mr({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(s==="right"){var S={x:l+u+g,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return mr(mr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return s==="insideLeft"?mr({x:l+g,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},k):s==="insideRight"?mr({x:l+u-g,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},k):s==="insideTop"?mr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},k):s==="insideBottom"?mr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},k):s==="insideTopLeft"?mr({x:l+g,y:c+h,textAnchor:y,verticalAnchor:v},k):s==="insideTopRight"?mr({x:l+u-g,y:c+h,textAnchor:b,verticalAnchor:v},k):s==="insideBottomLeft"?mr({x:l+g,y:c+d-h,textAnchor:y,verticalAnchor:m},k):s==="insideBottomRight"?mr({x:l+u-g,y:c+d-h,textAnchor:b,verticalAnchor:m},k):Sf(s)&&(he(s.x)||jl(s.x))&&(he(s.y)||jl(s.y))?mr({x:l+dn(s.x,u),y:c+dn(s.y,d),textAnchor:"end",verticalAnchor:"end"},k):mr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},aEe=function(t){return"cx"in t&&he(t.cx)};function Er(e){var t=e.offset,r=t===void 0?5:t,n=VNe(e,UNe),a=mr({offset:r},n),s=a.viewBox,i=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!s||nt(l)&&nt(c)&&!x.isValidElement(u)&&!qe(u))return null;if(x.isValidElement(u))return x.cloneElement(u,a);var m;if(qe(u)){if(m=x.createElement(u,a),x.isValidElement(m))return m}else m=ZNe(a);var v=aEe(s),p=Be(a,!0);if(v&&(i==="insideStart"||i==="insideEnd"||i==="end"))return tEe(a,m,p);var g=v?rEe(a):nEe(a);return L.createElement(uc,Um({className:Ye("recharts-label",f)},p,g,{breakAll:h}),m)}Er.displayName="Label";var GU=function(t){var r=t.cx,n=t.cy,a=t.angle,s=t.startAngle,i=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,v=t.left,p=t.width,g=t.height,b=t.clockWise,y=t.labelViewBox;if(y)return y;if(he(p)&&he(g)){if(he(f)&&he(h))return{x:f,y:h,width:p,height:g};if(he(m)&&he(v))return{x:m,y:v,width:p,height:g}}return he(f)&&he(h)?{x:f,y:h,width:0,height:0}:he(r)&&he(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:i||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},sEe=function(t,r){return t?t===!0?L.createElement(Er,{key:"label-implicit",viewBox:r}):xr(t)?L.createElement(Er,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===Er?x.cloneElement(t,{key:"label-implicit",viewBox:r}):L.createElement(Er,{key:"label-implicit",content:t,viewBox:r}):qe(t)?L.createElement(Er,{key:"label-implicit",content:t,viewBox:r}):Sf(t)?L.createElement(Er,Um({viewBox:r},t,{key:"label-implicit"})):null:null},iEe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,s=GU(t),i=Sa(a,Er).map(function(c,u){return x.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return i;var l=sEe(t.label,r||s);return[l].concat(HNe(i))};Er.parseViewBox=GU;Er.renderCallByParent=iEe;function oEe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var lEe=oEe;const cEe=yt(lEe);function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}var uEe=["valueAccessor"],dEe=["data","dataKey","clockWise","id","textBreakAll"];function fEe(e){return gEe(e)||pEe(e)||mEe(e)||hEe()}function hEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mEe(e,t){if(e){if(typeof e=="string")return nk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nk(e,t)}}function pEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gEe(e){if(Array.isArray(e))return nk(e)}function nk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sb(){return sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sb.apply(this,arguments)}function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(n){vEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vEe(e,t,r){return t=yEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yEe(e){var t=bEe(e,"string");return Hm(t)=="symbol"?t:t+""}function bEe(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WO(e,t){if(e==null)return{};var r=xEe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wEe=function(t){return Array.isArray(t.value)?cEe(t.value):t.value};function _o(e){var t=e.valueAccessor,r=t===void 0?wEe:t,n=WO(e,uEe),a=n.data,s=n.dataKey,i=n.clockWise,l=n.id,c=n.textBreakAll,u=WO(n,dEe);return!a||!a.length?null:L.createElement(wt,{className:"recharts-label-list"},a.map(function(d,f){var h=nt(s)?r(d,f):Gr(d&&d.payload,s),m=nt(l)?{}:{id:"".concat(l,"-").concat(f)};return L.createElement(Er,sb({},Be(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Er.parseViewBox(nt(i)?d:qO(qO({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}_o.displayName="LabelList";function _Ee(e,t){return e?e===!0?L.createElement(_o,{key:"labelList-implicit",data:t}):L.isValidElement(e)||qe(e)?L.createElement(_o,{key:"labelList-implicit",data:t,content:e}):Sf(e)?L.createElement(_o,sb({data:t},e,{key:"labelList-implicit"})):null:null}function jEe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Sa(n,_o).map(function(i,l){return x.cloneElement(i,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var s=_Ee(e.label,t);return[s].concat(fEe(a))}_o.renderCallByParent=jEe;function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function ak(){return ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ak.apply(this,arguments)}function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(n){SEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SEe(e,t,r){return t=kEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kEe(e){var t=NEe(e,"string");return qm(t)=="symbol"?t:t+""}function NEe(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EEe=function(t,r){var n=un(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Gg=function(t){var r=t.cx,n=t.cy,a=t.radius,s=t.angle,i=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/ab,h=u?s:s+i*f,m=$t(r,n,d,h),v=$t(r,n,a,h),p=u?s-i*f:s,g=$t(r,n,d*Math.cos(f*ab),p);return{center:m,circleTangency:v,lineTangency:g,theta:f}},VU=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.startAngle,l=t.endAngle,c=EEe(i,l),u=i+c,d=$t(r,n,s,i),f=$t(r,n,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=$t(r,n,a,i),v=$t(r,n,a,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},CEe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,s=t.outerRadius,i=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=un(d-u),h=Gg({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:i,cornerIsExternal:c}),m=h.circleTangency,v=h.lineTangency,p=h.theta,g=Gg({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:c}),b=g.circleTangency,y=g.lineTangency,w=g.theta,_=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(_<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):VU({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var j="M ".concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var S=Gg({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),k=S.circleTangency,N=S.lineTangency,E=S.theta,P=Gg({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),A=P.circleTangency,O=P.lineTangency,T=P.theta,C=c?Math.abs(u-d):Math.abs(u-d)-E-T;if(C<0&&i===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},AEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},QU=function(t){var r=GO(GO({},AEe),t),n=r.cx,a=r.cy,s=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(i<s||d===f)return null;var m=Ye("recharts-sector",h),v=i-s,p=dn(l,v,0,!0),g;return p>0&&Math.abs(d-f)<360?g=CEe({cx:n,cy:a,innerRadius:s,outerRadius:i,cornerRadius:Math.min(p,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):g=VU({cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f}),L.createElement("path",ak({},Be(r,!0),{className:m,d:g,role:"img"}))};function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function sk(){return sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sk.apply(this,arguments)}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){PEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PEe(e,t,r){return t=TEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TEe(e){var t=DEe(e,"string");return Wm(t)=="symbol"?t:t+""}function DEe(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YO={curveBasisClosed:Pme,curveBasisOpen:Tme,curveBasis:Ame,curveBumpX:pme,curveBumpY:gme,curveLinearClosed:Dme,curveLinear:bx,curveMonotoneX:Mme,curveMonotoneY:Ome,curveNatural:Rme,curveStep:Ime,curveStepAfter:Lme,curveStepBefore:$me},Vg=function(t){return t.x===+t.x&&t.y===+t.y},ih=function(t){return t.x},oh=function(t){return t.y},MEe=function(t,r){if(qe(t))return t;var n="curve".concat(vx(t));return(n==="curveMonotone"||n==="curveBump")&&r?YO["".concat(n).concat(r==="vertical"?"Y":"X")]:YO[n]||bx},OEe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,s=a===void 0?[]:a,i=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=MEe(n,l),f=u?s.filter(function(p){return Vg(p)}):s,h;if(Array.isArray(i)){var m=u?i.filter(function(p){return Vg(p)}):i,v=f.map(function(p,g){return QO(QO({},p),{},{base:m[g]})});return l==="vertical"?h=Lg().y(oh).x1(ih).x0(function(p){return p.base.x}):h=Lg().x(ih).y1(oh).y0(function(p){return p.base.y}),h.defined(Vg).curve(d),h(v)}return l==="vertical"&&he(i)?h=Lg().y(oh).x1(ih).x0(i):he(i)?h=Lg().x(ih).y1(oh).y0(i):h=H8().x(ih).y(oh),h.defined(Vg).curve(d),h(f)},ik=function(t){var r=t.className,n=t.points,a=t.path,s=t.pathRef;if((!n||!n.length)&&!a)return null;var i=n&&n.length?OEe(t):a;return x.createElement("path",sk({},Be(t,!1),Py(t),{className:Ye("recharts-curve",r),d:i,ref:s}))},YU={exports:{}},REe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",IEe=REe,$Ee=IEe;function JU(){}function XU(){}XU.resetWarningCache=JU;var LEe=function(){function e(n,a,s,i,l,c){if(c!==$Ee){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:XU,resetWarningCache:JU};return r.PropTypes=r,r};YU.exports=LEe();var FEe=YU.exports;const gt=yt(FEe);var BEe=Object.getOwnPropertyNames,zEe=Object.getOwnPropertySymbols,UEe=Object.prototype.hasOwnProperty;function JO(e,t){return function(n,a,s){return e(n,a,s)&&t(n,a,s)}}function Qg(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var s=a.cache,i=s.get(r),l=s.get(n);if(i&&l)return i===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,a);return s.delete(r),s.delete(n),c}}function XO(e){return BEe(e).concat(zEe(e))}var HEe=Object.hasOwn||function(e,t){return UEe.call(e,t)};function Mc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var qEe="__v",WEe="__o",KEe="_owner",ZO=Object.getOwnPropertyDescriptor,eR=Object.keys;function GEe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function VEe(e,t){return Mc(e.getTime(),t.getTime())}function QEe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function YEe(e,t){return e===t}function tR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.entries(),i,l,c=0;(i=s.next())&&!i.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=i.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var JEe=Mc;function XEe(e,t,r){var n=eR(e),a=n.length;if(eR(t).length!==a)return!1;for(;a-- >0;)if(!ZU(e,t,r,n[a]))return!1;return!0}function lh(e,t,r){var n=XO(e),a=n.length;if(XO(t).length!==a)return!1;for(var s,i,l;a-- >0;)if(s=n[a],!ZU(e,t,r,s)||(i=ZO(e,s),l=ZO(t,s),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function ZEe(e,t){return Mc(e.valueOf(),t.valueOf())}function eCe(e,t){return e.source===t.source&&e.flags===t.flags}function rR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),s=e.values(),i,l;(i=s.next())&&!i.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(i.value,l.value,i.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function tCe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function rCe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function ZU(e,t,r,n){return(n===KEe||n===WEe||n===qEe)&&(e.$$typeof||t.$$typeof)?!0:HEe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var nCe="[object Arguments]",aCe="[object Boolean]",sCe="[object Date]",iCe="[object Error]",oCe="[object Map]",lCe="[object Number]",cCe="[object Object]",uCe="[object RegExp]",dCe="[object Set]",fCe="[object String]",hCe="[object URL]",mCe=Array.isArray,nR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,aR=Object.assign,pCe=Object.prototype.toString.call.bind(Object.prototype.toString);function gCe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,i=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(v,p,g){if(v===p)return!0;if(v==null||p==null)return!1;var b=typeof v;if(b!==typeof p)return!1;if(b!=="object")return b==="number"?i(v,p,g):b==="function"?a(v,p,g):!1;var y=v.constructor;if(y!==p.constructor)return!1;if(y===Object)return l(v,p,g);if(mCe(v))return t(v,p,g);if(nR!=null&&nR(v))return f(v,p,g);if(y===Date)return r(v,p,g);if(y===RegExp)return u(v,p,g);if(y===Map)return s(v,p,g);if(y===Set)return d(v,p,g);var w=pCe(v);return w===sCe?r(v,p,g):w===uCe?u(v,p,g):w===oCe?s(v,p,g):w===dCe?d(v,p,g):w===cCe?typeof v.then!="function"&&typeof p.then!="function"&&l(v,p,g):w===hCe?h(v,p,g):w===iCe?n(v,p,g):w===nCe?l(v,p,g):w===aCe||w===lCe||w===fCe?c(v,p,g):!1}}function vCe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?lh:GEe,areDatesEqual:VEe,areErrorsEqual:QEe,areFunctionsEqual:YEe,areMapsEqual:n?JO(tR,lh):tR,areNumbersEqual:JEe,areObjectsEqual:n?lh:XEe,arePrimitiveWrappersEqual:ZEe,areRegExpsEqual:eCe,areSetsEqual:n?JO(rR,lh):rR,areTypedArraysEqual:n?lh:tCe,areUrlsEqual:rCe};if(r&&(a=aR({},a,r(a))),t){var s=Qg(a.areArraysEqual),i=Qg(a.areMapsEqual),l=Qg(a.areObjectsEqual),c=Qg(a.areSetsEqual);a=aR({},a,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:c})}return a}function yCe(e){return function(t,r,n,a,s,i,l){return e(t,r,l)}}function bCe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,s=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:a,meta:m,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var i={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,i)}}var xCe=Qo();Qo({strict:!0});Qo({circular:!0});Qo({circular:!0,strict:!0});Qo({createInternalComparator:function(){return Mc}});Qo({strict:!0,createInternalComparator:function(){return Mc}});Qo({circular:!0,createInternalComparator:function(){return Mc}});Qo({circular:!0,createInternalComparator:function(){return Mc},strict:!0});function Qo(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,s=e.strict,i=s===void 0?!1:s,l=vCe(e),c=gCe(l),u=n?n(c):yCe(c);return bCe({circular:r,comparator:c,createState:a,equals:u,strict:i})}function wCe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function sR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>t?(e(s),r=-1):wCe(a)};requestAnimationFrame(n)}function ok(e){"@babel/helpers - typeof";return ok=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ok(e)}function _Ce(e){return NCe(e)||kCe(e)||SCe(e)||jCe()}function jCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SCe(e,t){if(e){if(typeof e=="string")return iR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iR(e,t)}}function iR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NCe(e){if(Array.isArray(e))return e}function ECe(){var e={},t=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var i=s,l=_Ce(i),c=l[0],u=l.slice(1);if(typeof c=="number"){sR(a.bind(null,u),c);return}a(c),sR(a.bind(null,u));return}ok(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function oR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(r),!0).forEach(function(n){eH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eH(e,t,r){return t=CCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CCe(e){var t=ACe(e,"string");return Km(t)==="symbol"?t:String(t)}function ACe(e,t){if(Km(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Km(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PCe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},TCe=function(t){return t},DCe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Wh=function(t,r){return Object.keys(r).reduce(function(n,a){return lR(lR({},n),{},eH({},a,t(a,r[a])))},{})},cR=function(t,r,n){return t.map(function(a){return"".concat(DCe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function MCe(e,t){return ICe(e)||RCe(e,t)||tH(e,t)||OCe()}function OCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function ICe(e){if(Array.isArray(e))return e}function $Ce(e){return BCe(e)||FCe(e)||tH(e)||LCe()}function LCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tH(e,t){if(e){if(typeof e=="string")return lk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lk(e,t)}}function FCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BCe(e){if(Array.isArray(e))return lk(e)}function lk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ib=1e-4,rH=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},nH=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},uR=function(t,r){return function(n){var a=rH(t,r);return nH(a,n)}},zCe=function(t,r){return function(n){var a=rH(t,r),s=[].concat($Ce(a.map(function(i,l){return i*l}).slice(1)),[0]);return nH(s,n)}},dR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],i=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,i=1,l=1;break;case"ease":a=.25,s=.1,i=.25,l=1;break;case"ease-in":a=.42,s=0,i=1,l=1;break;case"ease-out":a=.42,s=0,i=.58,l=1;break;case"ease-in-out":a=0,s=0,i=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=MCe(u,4);a=d[0],s=d[1],i=d[2],l=d[3]}}}var f=uR(a,i),h=uR(s,l),m=zCe(a,i),v=function(b){return b>1?1:b<0?0:b},p=function(b){for(var y=b>1?1:b,w=y,_=0;_<8;++_){var j=f(w)-y,S=m(w);if(Math.abs(j-y)<ib||S<ib)return h(w);w=v(w-j/S)}return h(w)};return p.isStepper=!1,p},UCe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,s=a===void 0?8:a,i=t.dt,l=i===void 0?17:i,c=function(d,f,h){var m=-(d-f)*n,v=h*s,p=h+(m-v)*l/1e3,g=h*l/1e3+d;return Math.abs(g-f)<ib&&Math.abs(p)<ib?[f,0]:[g,p]};return c.isStepper=!0,c.dt=l,c},HCe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return dR(a);case"spring":return UCe();default:if(a.split("(")[0]==="cubic-bezier")return dR(a)}return typeof a=="function"?a:null};function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function fR(e){return KCe(e)||WCe(e)||aH(e)||qCe()}function qCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KCe(e){if(Array.isArray(e))return uk(e)}function hR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(r),!0).forEach(function(n){ck(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ck(e,t,r){return t=GCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GCe(e){var t=VCe(e,"string");return Gm(t)==="symbol"?t:String(t)}function VCe(e,t){if(Gm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QCe(e,t){return XCe(e)||JCe(e,t)||aH(e,t)||YCe()}function YCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aH(e,t){if(e){if(typeof e=="string")return uk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uk(e,t)}}function uk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function XCe(e){if(Array.isArray(e))return e}var ob=function(t,r,n){return t+(r-t)*n},dk=function(t){var r=t.from,n=t.to;return r!==n},ZCe=function e(t,r,n){var a=Wh(function(s,i){if(dk(i)){var l=t(i.from,i.to,i.velocity),c=QCe(l,2),u=c[0],d=c[1];return Tr(Tr({},i),{},{from:u,velocity:d})}return i},r);return n<1?Wh(function(s,i){return dk(i)?Tr(Tr({},i),{},{velocity:ob(i.velocity,a[s].velocity,n),from:ob(i.from,a[s].from,n)}):i},r):e(t,a,n-1)};const eAe=function(e,t,r,n,a){var s=PCe(e,t),i=s.reduce(function(g,b){return Tr(Tr({},g),{},ck({},b,[e[b],t[b]]))},{}),l=s.reduce(function(g,b){return Tr(Tr({},g),{},ck({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Wh(function(b,y){return y.from},l)},m=function(){return!Object.values(l).filter(dk).length},v=function(b){u||(u=b);var y=b-u,w=y/r.dt;l=ZCe(r,l,w),a(Tr(Tr(Tr({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},p=function(b){d||(d=b);var y=(b-d)/n,w=Wh(function(j,S){return ob.apply(void 0,fR(S).concat([r(y)]))},i);if(a(Tr(Tr(Tr({},e),t),w)),y<1)c=requestAnimationFrame(f);else{var _=Wh(function(j,S){return ob.apply(void 0,fR(S).concat([r(1)]))},i);a(Tr(Tr(Tr({},e),t),_))}};return f=r.isStepper?v:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}var tAe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function rAe(e,t){if(e==null)return{};var r=nAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nAe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,s;for(s=0;s<n.length;s++)a=n[s],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function U_(e){return oAe(e)||iAe(e)||sAe(e)||aAe()}function aAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sAe(e,t){if(e){if(typeof e=="string")return fk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fk(e,t)}}function iAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oAe(e){if(Array.isArray(e))return fk(e)}function fk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mR(Object(r),!0).forEach(function(n){Sh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sh(e,t,r){return t=sH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sH(n.key),n)}}function uAe(e,t,r){return t&&cAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sH(e){var t=dAe(e,"string");return Ld(t)==="symbol"?t:String(t)}function dAe(e,t){if(Ld(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ld(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hk(e,t)}function hk(e,t){return hk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hk(e,t)}function hAe(e){var t=mAe();return function(){var n=lb(e),a;if(t){var s=lb(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return mk(this,a)}}function mk(e,t){if(t&&(Ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pk(e)}function pk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mAe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lb(e){return lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lb(e)}var pi=function(e){fAe(r,e);var t=hAe(r);function r(n,a){var s;lAe(this,r),s=t.call(this,n,a);var i=s.props,l=i.isActive,c=i.attributeName,u=i.from,d=i.to,f=i.steps,h=i.children,m=i.duration;if(s.handleStyleChange=s.handleStyleChange.bind(pk(s)),s.changeStyle=s.changeStyle.bind(pk(s)),!l||m<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),mk(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},mk(s);s.state={style:c?Sh({},c,u):u}}else s.state={style:{}};return s}return uAe(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,i=a.canBegin;this.mounted=!0,!(!s||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!i){var m={style:c?Sh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(xCe(a.to,d)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=v||u?f:a.to;if(this.state&&h){var g={style:c?Sh({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(g)}this.runAnimation(Ra(Ra({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,i=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=eAe(i,l,HCe(u),c,this.changeStyle),v=function(){s.stopJSAnimation=m()};this.manager.start([h,d,v,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,i=a.steps,l=a.begin,c=a.onAnimationStart,u=i[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,g,b){if(b===0)return p;var y=g.duration,w=g.easing,_=w===void 0?"ease":w,j=g.style,S=g.properties,k=g.onAnimationEnd,N=b>0?i[b-1]:g,E=S||Object.keys(j);if(typeof _=="function"||_==="spring")return[].concat(U_(p),[s.runJSAnimation.bind(s,{from:N.style,to:j,duration:y,easing:_}),y]);var P=cR(E,y,_),A=Ra(Ra(Ra({},N.style),j),{},{transition:P});return[].concat(U_(p),[A,y,k]).filter(TCe)};return this.manager.start([c].concat(U_(i.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=ECe());var s=a.begin,i=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?Sh({},l,c):c,g=cR(Object.keys(p),i,u);v.start([d,s,Ra(Ra({},p),{},{transition:g}),i,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var i=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=rAe(a,tAe),u=x.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||i<=0)return s;var f=function(m){var v=m.props,p=v.style,g=p===void 0?{}:p,b=v.className,y=x.cloneElement(m,Ra(Ra({},c),{},{style:Ra(Ra({},g),d),className:b}));return y};return u===1?f(x.Children.only(s)):L.createElement("div",null,x.Children.map(s,function(h){return f(h)}))}}]),r}(x.PureComponent);pi.displayName="Animate";pi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};pi.propTypes={from:gt.oneOfType([gt.object,gt.string]),to:gt.oneOfType([gt.object,gt.string]),attributeName:gt.string,duration:gt.number,begin:gt.number,easing:gt.oneOfType([gt.string,gt.func]),steps:gt.arrayOf(gt.shape({duration:gt.number.isRequired,style:gt.object.isRequired,easing:gt.oneOfType([gt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),gt.func]),properties:gt.arrayOf("string"),onAnimationEnd:gt.func})),children:gt.oneOfType([gt.node,gt.func]),isActive:gt.bool,canBegin:gt.bool,onAnimationEnd:gt.func,shouldReAnimate:gt.bool,onAnimationStart:gt.func,onAnimationReStart:gt.func};function vn(){return vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vn.apply(null,arguments)}function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cb.apply(this,arguments)}function pAe(e,t){return bAe(e)||yAe(e,t)||vAe(e,t)||gAe()}function gAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vAe(e,t){if(e){if(typeof e=="string")return pR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pR(e,t)}}function pR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function bAe(e){if(Array.isArray(e))return e}function gR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(r),!0).forEach(function(n){xAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xAe(e,t,r){return t=wAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wAe(e){var t=_Ae(e,"string");return Vm(t)=="symbol"?t:t+""}function _Ae(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yR=function(t,r,n,a,s){var i=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(i>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=s[h]>i?i:s[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(i>0&&s===+s&&s>0){var v=Math.min(i,s);d="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+a,`
            L `).concat(t+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},jAe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,s=r.x,i=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(i,i+c),h=Math.max(i,i+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},SAe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wA=function(t){var r=vR(vR({},SAe),t),n=x.useRef(),a=x.useState(-1),s=pAe(a,2),i=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,v=r.animationEasing,p=r.animationDuration,g=r.animationBegin,b=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Ye("recharts-rectangle",m);return y?L.createElement(pi,{canBegin:i>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:v,isActive:y},function(_){var j=_.width,S=_.height,k=_.x,N=_.y;return L.createElement(pi,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,isActive:b,easing:v},L.createElement("path",cb({},Be(r,!0),{className:w,d:yR(k,N,j,S,h),ref:n})))}):L.createElement("path",cb({},Be(r,!0),{className:w,d:yR(c,u,d,f,h)}))},kAe=["points","className","baseLinePoints","connectNulls"];function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_u.apply(this,arguments)}function NAe(e,t){if(e==null)return{};var r=EAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bR(e){return TAe(e)||PAe(e)||AAe(e)||CAe()}function CAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AAe(e,t){if(e){if(typeof e=="string")return gk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gk(e,t)}}function PAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TAe(e){if(Array.isArray(e))return gk(e)}function gk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xR=function(t){return t&&t.x===+t.x&&t.y===+t.y},DAe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){xR(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),xR(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Kh=function(t,r){var n=DAe(t);r&&(n=[n.reduce(function(s,i){return[].concat(bR(s),bR(i))},[])]);var a=n.map(function(s){return s.reduce(function(i,l,c){return"".concat(i).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},MAe=function(t,r,n){var a=Kh(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Kh(r.reverse(),n).slice(1))},OAe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,s=t.connectNulls,i=NAe(t,kAe);if(!r||!r.length)return null;var l=Ye("recharts-polygon",n);if(a&&a.length){var c=i.stroke&&i.stroke!=="none",u=MAe(r,a,s);return L.createElement("g",{className:l},L.createElement("path",_u({},Be(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:u})),c?L.createElement("path",_u({},Be(i,!0),{fill:"none",d:Kh(r,s)})):null,c?L.createElement("path",_u({},Be(i,!0),{fill:"none",d:Kh(a,s)})):null)}var d=Kh(r,s);return L.createElement("path",_u({},Be(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:l,d}))};function vk(){return vk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vk.apply(this,arguments)}var _A=function(t){var r=t.cx,n=t.cy,a=t.r,s=t.className,i=Ye("recharts-dot",s);return r===+r&&n===+n&&a===+a?x.createElement("circle",vk({},Be(t,!1),Py(t),{className:i,cx:r,cy:n,r:a})):null};function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}var RAe=["x","y","top","left","width","height","className"];function yk(){return yk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yk.apply(this,arguments)}function wR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IAe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wR(Object(r),!0).forEach(function(n){$Ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Ae(e,t,r){return t=LAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LAe(e){var t=FAe(e,"string");return Qm(t)=="symbol"?t:t+""}function FAe(e,t){if(Qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BAe(e,t){if(e==null)return{};var r=zAe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var UAe=function(t,r,n,a,s,i){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(i,",").concat(r,"h").concat(n)},HAe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,s=a===void 0?0:a,i=t.top,l=i===void 0?0:i,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,v=t.className,p=BAe(t,RAe),g=IAe({x:n,y:s,top:l,left:u,width:f,height:m},p);return!he(n)||!he(s)||!he(f)||!he(m)||!he(l)||!he(u)?null:L.createElement("path",yk({},Be(g,!0),{className:Ye("recharts-cross",v),d:UAe(n,s,f,m,l,u)}))},qAe=Px,WAe=vU,KAe=Os;function GAe(e,t){return e&&e.length?qAe(e,KAe(t),WAe):void 0}var VAe=GAe;const QAe=yt(VAe);var YAe=Px,JAe=Os,XAe=yU;function ZAe(e,t){return e&&e.length?YAe(e,JAe(t),XAe):void 0}var ePe=ZAe;const tPe=yt(ePe);var rPe=["cx","cy","angle","ticks","axisLine"],nPe=["ticks","tick","angle","tickFormatter","stroke"];function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function Gh(){return Gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gh.apply(this,arguments)}function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(n){$x(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jR(e,t){if(e==null)return{};var r=aPe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oH(n.key),n)}}function iPe(e,t,r){return t&&SR(e.prototype,t),r&&SR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oPe(e,t,r){return t=ub(t),lPe(e,iH()?Reflect.construct(t,r||[],ub(e).constructor):t.apply(e,r))}function lPe(e,t){if(t&&(Fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cPe(e)}function cPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iH=function(){return!!e})()}function ub(e){return ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ub(e)}function uPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bk(e,t)}function bk(e,t){return bk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bk(e,t)}function $x(e,t,r){return t=oH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oH(e){var t=dPe(e,"string");return Fd(t)=="symbol"?t:t+""}function dPe(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lx=function(e){function t(){return sPe(this,t),oPe(this,t,arguments)}return uPe(t,e),iPe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,i=s.angle,l=s.cx,c=s.cy;return $t(l,c,a,i)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=QAe(l,function(d){return d.coordinate||0}),u=tPe(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:i,endAngle:i,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.angle,l=n.ticks,c=n.axisLine,u=jR(n,rPe),d=l.reduce(function(v,p){return[Math.min(v[0],p.coordinate),Math.max(v[1],p.coordinate)]},[1/0,-1/0]),f=$t(a,s,d[0],i),h=$t(a,s,d[1],i),m=rl(rl(rl({},Be(u,!1)),{},{fill:"none"},Be(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return L.createElement("line",Gh({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=jR(a,nPe),f=this.getTickTextAnchor(),h=Be(d,!1),m=Be(i,!1),v=s.map(function(p,g){var b=n.getTickValueCoord(p),y=rl(rl(rl(rl({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:g},b),{},{payload:p});return L.createElement(wt,Gh({className:Ye("recharts-polar-radius-axis-tick",KU(i)),key:"tick-".concat(p.coordinate)},cc(n.props,p,g)),t.renderTickItem(i,y,c?c(p.value,g):p.value))});return L.createElement(wt,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,i=n.tick;return!a||!a.length?null:L.createElement(wt,{className:Ye("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),i&&this.renderTicks(),Er.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var i;return L.isValidElement(n)?i=L.cloneElement(n,a):qe(n)?i=n(a):i=L.createElement(uc,Gh({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),i}}])}(x.PureComponent);$x(Lx,"displayName","PolarRadiusAxis");$x(Lx,"axisType","radiusAxis");$x(Lx,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Bd(e){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}function pl(){return pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pl.apply(this,arguments)}function kR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(r),!0).forEach(function(n){Fx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cH(n.key),n)}}function hPe(e,t,r){return t&&NR(e.prototype,t),r&&NR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mPe(e,t,r){return t=db(t),pPe(e,lH()?Reflect.construct(t,r||[],db(e).constructor):t.apply(e,r))}function pPe(e,t){if(t&&(Bd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gPe(e)}function gPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lH=function(){return!!e})()}function db(e){return db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},db(e)}function vPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xk(e,t)}function xk(e,t){return xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xk(e,t)}function Fx(e,t,r){return t=cH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cH(e){var t=yPe(e,"string");return Bd(t)=="symbol"?t:t+""}function yPe(e,t){if(Bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bPe=Math.PI/180,ER=1e-5,Bx=function(e){function t(){return fPe(this,t),mPe(this,t,arguments)}return vPe(t,e),hPe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,i=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=$t(s,i,l,n.coordinate),h=$t(s,i,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*bPe),i;return s>ER?i=a==="outer"?"start":"end":s<-ER?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,i=n.radius,l=n.axisLine,c=n.axisLineType,u=nl(nl({},Be(this.props,!1)),{},{fill:"none"},Be(l,!1));if(c==="circle")return L.createElement(_A,pl({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:i}));var d=this.props.ticks,f=d.map(function(h){return $t(a,s,i,h.coordinate)});return L.createElement(OAe,pl({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,i=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Be(this.props,!1),f=Be(i,!1),h=nl(nl({},d),{},{fill:"none"},Be(l,!1)),m=s.map(function(v,p){var g=n.getTickLineCoord(v),b=n.getTickTextAnchor(v),y=nl(nl(nl({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:v,x:g.x2,y:g.y2});return L.createElement(wt,pl({className:Ye("recharts-polar-angle-axis-tick",KU(i)),key:"tick-".concat(v.coordinate)},cc(n.props,v,p)),l&&L.createElement("line",pl({className:"recharts-polar-angle-axis-tick-line"},h,g)),i&&t.renderTickItem(i,y,c?c(v.value,p):v.value))});return L.createElement(wt,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,i=n.axisLine;return s<=0||!a||!a.length?null:L.createElement(wt,{className:Ye("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var i;return L.isValidElement(n)?i=L.cloneElement(n,a):qe(n)?i=n(a):i=L.createElement(uc,pl({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),i}}])}(x.PureComponent);Fx(Bx,"displayName","PolarAngleAxis");Fx(Bx,"axisType","angleAxis");Fx(Bx,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var xPe=hz,wPe=xPe(Object.getPrototypeOf,Object),_Pe=wPe,jPe=wi,SPe=_Pe,kPe=_i,NPe="[object Object]",EPe=Function.prototype,CPe=Object.prototype,uH=EPe.toString,APe=CPe.hasOwnProperty,PPe=uH.call(Object);function TPe(e){if(!kPe(e)||jPe(e)!=NPe)return!1;var t=SPe(e);if(t===null)return!0;var r=APe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&uH.call(r)==PPe}var DPe=TPe;const MPe=yt(DPe);var OPe=wi,RPe=_i,IPe="[object Boolean]";function $Pe(e){return e===!0||e===!1||RPe(e)&&OPe(e)==IPe}var LPe=$Pe;const FPe=yt(LPe);function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function fb(){return fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fb.apply(this,arguments)}function BPe(e,t){return qPe(e)||HPe(e,t)||UPe(e,t)||zPe()}function zPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UPe(e,t){if(e){if(typeof e=="string")return CR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CR(e,t)}}function CR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function qPe(e){if(Array.isArray(e))return e}function AR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(r),!0).forEach(function(n){WPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WPe(e,t,r){return t=KPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KPe(e){var t=GPe(e,"string");return Ym(t)=="symbol"?t:t+""}function GPe(e,t){if(Ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TR=function(t,r,n,a,s){var i=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-i/2,",").concat(r+s),l+="L ".concat(t+n-i/2-a,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},VPe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QPe=function(t){var r=PR(PR({},VPe),t),n=x.useRef(),a=x.useState(-1),s=BPe(a,2),i=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,v=r.animationEasing,p=r.animationDuration,g=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=Ye("recharts-trapezoid",m);return b?L.createElement(pi,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:v,isActive:b},function(w){var _=w.upperWidth,j=w.lowerWidth,S=w.height,k=w.x,N=w.y;return L.createElement(pi,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:p,easing:v},L.createElement("path",fb({},Be(r,!0),{className:y,d:TR(k,N,_,j,S),ref:n})))}):L.createElement("g",null,L.createElement("path",fb({},Be(r,!0),{className:y,d:TR(c,u,d,f,h)})))},YPe=["option","shapeType","propTransformer","activeClassName","isActive"];function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function JPe(e,t){if(e==null)return{};var r=XPe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function DR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(r),!0).forEach(function(n){ZPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZPe(e,t,r){return t=eTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eTe(e){var t=tTe(e,"string");return Jm(t)=="symbol"?t:t+""}function tTe(e,t){if(Jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rTe(e,t){return hb(hb({},t),e)}function nTe(e,t){return e==="symbols"}function MR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return L.createElement(wA,r);case"trapezoid":return L.createElement(QPe,r);case"sector":return L.createElement(QU,r);case"symbols":if(nTe(t))return L.createElement(BC,r);break;default:return null}}function aTe(e){return x.isValidElement(e)?e.props:e}function dH(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?rTe:n,s=e.activeClassName,i=s===void 0?"recharts-active-shape":s,l=e.isActive,c=JPe(e,YPe),u;if(x.isValidElement(t))u=x.cloneElement(t,hb(hb({},c),aTe(t)));else if(qe(t))u=t(c);else if(MPe(t)&&!FPe(t)){var d=a(t,c);u=L.createElement(MR,{shapeType:r,elementProps:d})}else{var f=c;u=L.createElement(MR,{shapeType:r,elementProps:f})}return l?L.createElement(wt,{className:i},u):u}function zx(e,t){return t!=null&&"trapezoids"in e.props}function Ux(e,t){return t!=null&&"sectors"in e.props}function Xm(e,t){return t!=null&&"points"in e.props}function sTe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&s}function iTe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function oTe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function lTe(e,t){var r;return zx(e,t)?r=sTe:Ux(e,t)?r=iTe:Xm(e,t)&&(r=oTe),r}function cTe(e,t){var r;return zx(e,t)?r="trapezoids":Ux(e,t)?r="sectors":Xm(e,t)&&(r="points"),r}function uTe(e,t){if(zx(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ux(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Xm(e,t)?t.payload:{}}function dTe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=cTe(r,t),s=uTe(r,t),i=n.filter(function(c,u){var d=Mx(s,c),f=r.props[a].filter(function(v){var p=lTe(r,t);return p(v,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(i[i.length-1]);return l}var Ov;function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ju.apply(this,arguments)}function OR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(r),!0).forEach(function(n){ya(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hH(n.key),n)}}function hTe(e,t,r){return t&&RR(e.prototype,t),r&&RR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mTe(e,t,r){return t=mb(t),pTe(e,fH()?Reflect.construct(t,r||[],mb(e).constructor):t.apply(e,r))}function pTe(e,t){if(t&&(zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gTe(e)}function gTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fH=function(){return!!e})()}function mb(e){return mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mb(e)}function vTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wk(e,t)}function wk(e,t){return wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wk(e,t)}function ya(e,t,r){return t=hH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hH(e){var t=yTe(e,"string");return zd(t)=="symbol"?t:t+""}function yTe(e,t){if(zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ps=function(e){function t(r){var n;return fTe(this,t),n=mTe(this,t,[r]),ya(n,"pieRef",null),ya(n,"sectorRefs",[]),ya(n,"id",Up("recharts-pie-")),ya(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),qe(a)&&a()}),ya(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),qe(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return vTe(t,e),hTe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=Be(this.props,!1),f=Be(i,!1),h=Be(l,!1),m=i&&i.offsetRadius||20,v=n.map(function(p,g){var b=(p.startAngle+p.endAngle)/2,y=$t(p.cx,p.cy,p.outerRadius+m,b),w=Mt(Mt(Mt(Mt({},d),p),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(y.x,p.cx)},y),_=Mt(Mt(Mt(Mt({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:g,points:[$t(p.cx,p.cy,p.outerRadius,b),y]}),j=c;return nt(c)&&nt(u)?j="value":nt(c)&&(j=u),L.createElement(wt,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(g)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(i,w,Gr(p,j)))});return L.createElement(wt,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,i=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?i:h,v=Mt(Mt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return L.createElement(wt,ju({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},cc(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),L.createElement(dH,ju({option:m,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,i=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return L.createElement(pi,{begin:l,duration:c,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var p=v.t,g=[],b=s&&s[0],y=b.startAngle;return s.forEach(function(w,_){var j=h&&h[_],S=_>0?ta(w,"paddingAngle",0):0;if(j){var k=Ui(j.endAngle-j.startAngle,w.endAngle-w.startAngle),N=Mt(Mt({},w),{},{startAngle:y+S,endAngle:y+k(p)+S});g.push(N),y=N.endAngle}else{var E=w.endAngle,P=w.startAngle,A=Ui(0,E-P),O=A(p),T=Mt(Mt({},w),{},{startAngle:y+S,endAngle:y+O+S});g.push(T),y=T.endAngle}}),L.createElement(wt,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,i=this.state.prevSectors;return s&&a&&a.length&&(!i||!Mx(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,i=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,v=this.state.isAnimationFinished;if(s||!i||!i.length||!he(u)||!he(d)||!he(f)||!he(h))return null;var p=Ye("recharts-pie",l);return L.createElement(wt,{tabIndex:this.props.rootTabIndex,className:p,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(i),Er.renderCallByParent(this.props,null,!1),(!m||v)&&_o.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(L.isValidElement(n))return L.cloneElement(n,a);if(qe(n))return n(a);var i=Ye("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return L.createElement(ik,ju({},a,{key:s,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,a,s){if(L.isValidElement(n))return L.cloneElement(n,a);var i=s;if(qe(n)&&(i=n(a),L.isValidElement(i)))return i;var l=Ye("recharts-pie-label-text",typeof n!="boolean"&&!qe(n)?n.className:"");return L.createElement(uc,ju({},a,{alignmentBaseline:"middle",className:l}),i)}}])}(x.PureComponent);Ov=Ps;ya(Ps,"displayName","Pie");ya(Ps,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ti.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ya(Ps,"parseDeltaAngle",function(e,t){var r=un(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ya(Ps,"getRealPieData",function(e){var t=e.data,r=e.children,n=Be(e,!1),a=Sa(r,Cm);return t&&t.length?t.map(function(s,i){return Mt(Mt(Mt({payload:s},n),s),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(s){return Mt(Mt({},n),s.props)}):[]});ya(Ps,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,s=t.height,i=WU(a,s),l=n+dn(e.cx,a,a/2),c=r+dn(e.cy,s,s/2),u=dn(e.innerRadius,i,0),d=dn(e.outerRadius,i,i*.8),f=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});ya(Ps,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Mt(Mt({},t.type.defaultProps),t.props):t.props,a=Ov.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,i=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),v=Ov.parseCoordinateOfPie(n,r),p=Ov.parseDeltaAngle(i,l),g=Math.abs(p),b=u;nt(u)&&nt(f)?(Ya(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):nt(u)&&(Ya(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var y=a.filter(function(N){return Gr(N,b,0)!==0}).length,w=(g>=360?y:y-1)*c,_=g-y*m-w,j=a.reduce(function(N,E){var P=Gr(E,b,0);return N+(he(P)?P:0)},0),S;if(j>0){var k;S=a.map(function(N,E){var P=Gr(N,b,0),A=Gr(N,d,E),O=(he(P)?P:0)/j,T;E?T=k.endAngle+un(p)*c*(P!==0?1:0):T=i;var C=T+un(p)*((P!==0?m:0)+O*_),I=(T+C)/2,$=(v.innerRadius+v.outerRadius)/2,M=[{name:A,value:P,payload:N,dataKey:b,type:h}],D=$t(v.cx,v.cy,$,I);return k=Mt(Mt(Mt({percent:O,cornerRadius:s,name:A,tooltipPayload:M,midAngle:I,middleRadius:$,tooltipPosition:D},N),v),{},{value:Gr(N,b),startAngle:T,endAngle:C,payload:N,paddingAngle:un(p)*c}),k})}return Mt(Mt({},v),{},{sectors:S,data:a})});var bTe=Math.ceil,xTe=Math.max;function wTe(e,t,r,n){for(var a=-1,s=xTe(bTe((t-e)/(r||1)),0),i=Array(s);s--;)i[n?s:++a]=e,e+=r;return i}var _Te=wTe,jTe=Dz,IR=1/0,STe=17976931348623157e292;function kTe(e){if(!e)return e===0?e:0;if(e=jTe(e),e===IR||e===-IR){var t=e<0?-1:1;return t*STe}return e===e?e:0}var mH=kTe,NTe=_Te,ETe=jx,H_=mH;function CTe(e){return function(t,r,n){return n&&typeof n!="number"&&ETe(t,r,n)&&(r=n=void 0),t=H_(t),r===void 0?(r=t,t=0):r=H_(r),n=n===void 0?t<r?1:-1:H_(n),NTe(t,r,n,e)}}var ATe=CTe,PTe=ATe,TTe=PTe(),DTe=TTe;const pb=yt(DTe);function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function $R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$R(Object(r),!0).forEach(function(n){pH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pH(e,t,r){return t=MTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MTe(e){var t=OTe(e,"string");return Zm(t)=="symbol"?t:t+""}function OTe(e,t){if(Zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RTe=["Webkit","Moz","O","ms"],ITe=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=RTe.reduce(function(s,i){return LR(LR({},s),{},pH({},i+n,r))},{});return a[t]=r,a};function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gb.apply(this,arguments)}function FR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function q_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(r),!0).forEach(function(n){Hn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vH(n.key),n)}}function LTe(e,t,r){return t&&BR(e.prototype,t),r&&BR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FTe(e,t,r){return t=vb(t),BTe(e,gH()?Reflect.construct(t,r||[],vb(e).constructor):t.apply(e,r))}function BTe(e,t){if(t&&(Ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zTe(e)}function zTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gH=function(){return!!e})()}function vb(e){return vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vb(e)}function UTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_k(e,t)}function _k(e,t){return _k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_k(e,t)}function Hn(e,t,r){return t=vH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vH(e){var t=HTe(e,"string");return Ud(t)=="symbol"?t:t+""}function HTe(e,t){if(Ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qTe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,s=t.x,i=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Hh().domain(pb(0,c)).range([s,s+i-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},zR=function(t){return t.changedTouches&&!!t.changedTouches.length},Hd=function(e){function t(r){var n;return $Te(this,t),n=FTe(this,t,[r]),Hn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Hn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Hn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,i=a.onDragEnd,l=a.startIndex;i==null||i({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Hn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Hn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Hn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Hn(n,"handleSlideDragStart",function(a){var s=zR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return UTe(t,e),LTe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,i=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),h=Math.max(a,s),m=t.getIndexInRange(i,f),v=t.getIndexInRange(i,h);return{startIndex:m-m%c,endIndex:v===d?d:v-v%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,i=a.tickFormatter,l=a.dataKey,c=Gr(s[n],l,n);return qe(i)?i(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,i=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,v=c.onChange,p=n.pageX-s;p>0?p=Math.min(p,u+d-f-l,u+d-f-i):p<0&&(p=Math.max(p,u-i,u-l));var g=this.getIndex({startX:i+p,endX:l+p});(g.startIndex!==h||g.endIndex!==m)&&v&&v(g),this.setState({startX:i+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=zR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,i=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[i],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,v=d.onChange,p=d.gap,g=d.data,b={startX:this.state.startX,endX:this.state.endX},y=n.pageX-s;y>0?y=Math.min(y,f+h-m-u):y<0&&(y=Math.max(y,f-u)),b[i]=u+y;var w=this.getIndex(b),_=w.startIndex,j=w.endIndex,S=function(){var N=g.length-1;return i==="startX"&&(l>c?_%p===0:j%p===0)||l<c&&j===N||i==="endX"&&(l>c?j%p===0:_%p===0)||l>c&&j===N};this.setState(Hn(Hn({},i,u+y),"brushMoveStartX",n.pageX),function(){v&&S()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,i=this.state,l=i.scaleValues,c=i.startX,u=i.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(Hn({},a,m),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.fill,u=n.stroke;return L.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:i,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?L.cloneElement(f,{x:a,y:s,width:i,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,i,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,v=c.data,p=c.startIndex,g=c.endIndex,b=Math.max(n,this.props.x),y=q_(q_({},Be(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=m||"Min value: ".concat((s=v[p])===null||s===void 0?void 0:s.name,", Max value: ").concat((i=v[g])===null||i===void 0?void 0:i.name);return L.createElement(wt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var s=this.props,i=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:i,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,i=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,v={pointerEvents:"none",fill:u};return L.createElement(wt,{className:"recharts-brush-texts"},L.createElement(uc,gb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:i+l/2},v),this.getTextOfTick(a)),L.createElement(uc,gb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:i+l/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,i=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,v=h.endX,p=h.isTextActive,g=h.isSlideMoving,b=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!he(l)||!he(c)||!he(u)||!he(d)||u<=0||d<=0)return null;var w=Ye("recharts-brush",s),_=L.Children.count(i)===1,j=ITe("userSelect","none");return L.createElement(wt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,v),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(v,"endX"),(p||g||b||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,i=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:a,y:s,width:i,height:l,fill:c,stroke:"none"}),L.createElement("line",{x1:a+1,y1:u,x2:a+i-1,y2:u,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:a+1,y1:u+2,x2:a+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return L.isValidElement(n)?s=L.cloneElement(n,a):qe(n)?s=n(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,i=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return q_({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i},s&&s.length?qTe({data:s,width:i,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(i!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+i-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:i,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,i=0,l=s-1;l-i>1;){var c=Math.floor((i+l)/2);n[c]>a?l=c:i=c}return a>=n[l]?l:i}}])}(x.PureComponent);Hn(Hd,"displayName","Brush");Hn(Hd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var WTe=GC;function KTe(e,t){var r;return WTe(e,function(n,a,s){return r=t(n,a,s),!r}),!!r}var GTe=KTe,VTe=sz,QTe=Os,YTe=GTe,JTe=Fn,XTe=jx;function ZTe(e,t,r){var n=JTe(e)?VTe:YTe;return r&&XTe(e,t,r)&&(t=void 0),n(e,QTe(t))}var e2e=ZTe;const t2e=yt(e2e);var ks=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},UR=Ez;function r2e(e,t,r){t=="__proto__"&&UR?UR(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var n2e=r2e,a2e=n2e,s2e=kz,i2e=Os;function o2e(e,t){var r={};return t=i2e(t),s2e(e,function(n,a,s){a2e(r,a,t(n,a,s))}),r}var l2e=o2e;const c2e=yt(l2e);function u2e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var d2e=u2e,f2e=GC;function h2e(e,t){var r=!0;return f2e(e,function(n,a,s){return r=!!t(n,a,s),r}),r}var m2e=h2e,p2e=d2e,g2e=m2e,v2e=Os,y2e=Fn,b2e=jx;function x2e(e,t,r){var n=y2e(e)?p2e:g2e;return r&&b2e(e,t,r)&&(t=void 0),n(e,v2e(t))}var w2e=x2e;const yH=yt(w2e);var _2e=["x","y"];function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function jk(){return jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jk.apply(this,arguments)}function HR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(r),!0).forEach(function(n){j2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j2e(e,t,r){return t=S2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S2e(e){var t=k2e(e,"string");return ep(t)=="symbol"?t:t+""}function k2e(e,t){if(ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N2e(e,t){if(e==null)return{};var r=E2e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function C2e(e,t){var r=e.x,n=e.y,a=N2e(e,_2e),s="".concat(r),i=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return ch(ch(ch(ch(ch({},t),a),i?{x:i}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function qR(e){return L.createElement(dH,jk({shapeType:"rectangle",propTransformer:C2e,activeClassName:"recharts-active-bar"},e))}var A2e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var s=he(n)||the(n);return s?t(n,a):(s||fc(),r)}},P2e=["value","background"],bH;function qd(e){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qd(e)}function T2e(e,t){if(e==null)return{};var r=D2e(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yb.apply(this,arguments)}function WR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(r),!0).forEach(function(n){oo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wH(n.key),n)}}function O2e(e,t,r){return t&&KR(e.prototype,t),r&&KR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function R2e(e,t,r){return t=bb(t),I2e(e,xH()?Reflect.construct(t,r||[],bb(e).constructor):t.apply(e,r))}function I2e(e,t){if(t&&(qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $2e(e)}function $2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xH=function(){return!!e})()}function bb(e){return bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bb(e)}function L2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sk(e,t)}function Sk(e,t){return Sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sk(e,t)}function oo(e,t,r){return t=wH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wH(e){var t=F2e(e,"string");return qd(t)=="symbol"?t:t+""}function F2e(e,t){if(qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oc=function(e){function t(){var r;M2e(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=R2e(this,t,[].concat(a)),oo(r,"state",{isAnimationFinished:!1}),oo(r,"id",Up("recharts-bar-")),oo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),oo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return L2e(t,e),O2e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,i=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=Be(this.props,!1);return n&&n.map(function(f,h){var m=h===c,v=m?u:i,p=cr(cr(cr({},d),f),{},{isActive:m,option:v,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return L.createElement(wt,yb({className:"recharts-bar-rectangle"},cc(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),L.createElement(qR,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,i=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return L.createElement(pi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var v=m.t,p=s.map(function(g,b){var y=h&&h[b];if(y){var w=Ui(y.x,g.x),_=Ui(y.y,g.y),j=Ui(y.width,g.width),S=Ui(y.height,g.height);return cr(cr({},g),{},{x:w(v),y:_(v),width:j(v),height:S(v)})}if(i==="horizontal"){var k=Ui(0,g.height),N=k(v);return cr(cr({},g),{},{y:g.y+g.height-N,height:N})}var E=Ui(0,g.width),P=E(v);return cr(cr({},g),{},{width:P})});return L.createElement(wt,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,i=this.state.prevData;return s&&a&&a.length&&(!i||!Mx(i,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,i=a.dataKey,l=a.activeIndex,c=Be(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=T2e(u,P2e);if(!f)return null;var m=cr(cr(cr(cr(cr({},h),{},{fill:"#eee"},f),c),cc(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:d,className:"recharts-bar-background-rectangle"});return L.createElement(qR,yb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=Sa(d,Ix);if(!f)return null;var h=u==="vertical"?i[0].height/2:i[0].width/2,m=function(g,b){var y=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:y,errorVal:Gr(g,b)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return L.createElement(wt,v,f.map(function(p){return L.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:i,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,i=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,v=n.background,p=n.id;if(a||!s||!s.length)return null;var g=this.state.isAnimationFinished,b=Ye("recharts-bar",i),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=y||w,j=nt(p)?this.id:p;return L.createElement(wt,{className:b},y||w?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(j)},L.createElement("rect",{x:y?u:u-f/2,y:w?d:d-h/2,width:y?f:f*2,height:w?h:h*2}))):null,L.createElement(wt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(j,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,j),(!m||g)&&_o.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(x.PureComponent);bH=Oc;oo(Oc,"displayName","Bar");oo(Oc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ti.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});oo(Oc,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,s=e.xAxis,i=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=bNe(n,r);if(!m)return null;var v=t.layout,p=r.type.defaultProps,g=p!==void 0?cr(cr({},p),r.props):r.props,b=g.dataKey,y=g.children,w=g.minPointSize,_=v==="horizontal"?i:s,j=u?_.scale.domain():null,S=NNe({numericAxis:_}),k=Sa(y,Cm),N=f.map(function(E,P){var A,O,T,C,I,$;u?A=xNe(u[d+P],j):(A=Gr(E,b),Array.isArray(A)||(A=[S,A]));var M=A2e(w,bH.defaultProps.minPointSize)(A[1],P);if(v==="horizontal"){var D,F=[i.scale(A[0]),i.scale(A[1])],z=F[0],U=F[1];O=RO({axis:s,ticks:l,bandSize:a,offset:m.offset,entry:E,index:P}),T=(D=U??z)!==null&&D!==void 0?D:void 0,C=m.size;var R=z-U;if(I=Number.isNaN(R)?0:R,$={x:O,y:i.y,width:C,height:i.height},Math.abs(M)>0&&Math.abs(I)<Math.abs(M)){var B=un(I||M)*(Math.abs(M)-Math.abs(I));T-=B,I+=B}}else{var K=[s.scale(A[0]),s.scale(A[1])],J=K[0],X=K[1];if(O=J,T=RO({axis:i,ticks:c,bandSize:a,offset:m.offset,entry:E,index:P}),C=X-J,I=m.size,$={x:s.x,y:T,width:s.width,height:I},Math.abs(M)>0&&Math.abs(C)<Math.abs(M)){var te=un(C||M)*(Math.abs(M)-Math.abs(C));C+=te}}return cr(cr(cr({},E),{},{x:O,y:T,width:C,height:I,value:u?A:A[1],payload:E,background:$},k&&k[P]&&k[P].props),{},{tooltipPayload:[HU(r,E)],tooltipPosition:{x:O+C/2,y:T+I/2}})});return cr({data:N,layout:v},h)});function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function B2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_H(n.key),n)}}function z2e(e,t,r){return t&&GR(e.prototype,t),r&&GR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(r),!0).forEach(function(n){Hx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hx(e,t,r){return t=_H(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _H(e){var t=U2e(e,"string");return tp(t)=="symbol"?t:t+""}function U2e(e,t){if(tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H2e=function(t,r,n,a,s){var i=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Gn(u,Oc);return d.reduce(function(m,v){var p=r[v],g=p.orientation,b=p.domain,y=p.padding,w=y===void 0?{}:y,_=p.mirror,j=p.reversed,S="".concat(g).concat(_?"Mirror":""),k,N,E,P,A;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var O=b[1]-b[0],T=1/0,C=p.categoricalDomain.sort(ahe);if(C.forEach(function(K,J){J>0&&(T=Math.min((K||0)-(C[J-1]||0),T))}),Number.isFinite(T)){var I=T/O,$=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(k=I*$/2),p.padding==="no-gap"){var M=dn(t.barCategoryGap,I*$),D=I*$/2;k=D-M-(D-M)/$*M}}}a==="xAxis"?N=[n.left+(w.left||0)+(k||0),n.left+n.width-(w.right||0)-(k||0)]:a==="yAxis"?N=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(k||0),n.top+n.height-(w.bottom||0)-(k||0)]:N=p.range,j&&(N=[N[1],N[0]]);var F=FU(p,s,h),z=F.scale,U=F.realScaleType;z.domain(b).range(N),BU(z);var R=zU(z,za(za({},p),{},{realScaleType:U}));a==="xAxis"?(A=g==="top"&&!_||g==="bottom"&&_,E=n.left,P=f[S]-A*p.height):a==="yAxis"&&(A=g==="left"&&!_||g==="right"&&_,E=f[S]-A*p.width,P=n.top);var B=za(za(za({},p),R),{},{realScaleType:U,x:E,y:P,scale:z,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return B.bandSize=nb(B,R),!p.hide&&a==="xAxis"?f[S]+=(A?-1:1)*B.height:p.hide||(f[S]+=(A?-1:1)*B.width),za(za({},m),{},Hx({},v,B))},{})},jH=function(t,r){var n=t.x,a=t.y,s=r.x,i=r.y;return{x:Math.min(n,s),y:Math.min(a,i),width:Math.abs(s-n),height:Math.abs(i-a)}},q2e=function(t){var r=t.x1,n=t.y1,a=t.x2,s=t.y2;return jH({x:r,y:n},{x:a,y:s})},SH=function(){function e(t){B2e(this,e),this.scale=t}return z2e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Hx(SH,"EPS",1e-4);var jA=function(t){var r=Object.keys(t).reduce(function(n,a){return za(za({},n),{},Hx({},a,SH.create(t[a])))},{});return za(za({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=s.bandAware,l=s.position;return c2e(a,function(c,u){return r[u].apply(c,{bandAware:i,position:l})})},isInRange:function(a){return yH(a,function(s,i){return r[i].isInRange(s)})}})};function W2e(e){return(e%180+180)%180}var K2e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=W2e(a),i=s*Math.PI/180,l=Math.atan(n/r),c=i>l&&i<Math.PI-l?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},G2e=Os,V2e=Hp,Q2e=wx;function Y2e(e){return function(t,r,n){var a=Object(t);if(!V2e(t)){var s=G2e(r);t=Q2e(t),r=function(l){return s(a[l],l,a)}}var i=e(t,r,n);return i>-1?a[s?t[i]:i]:void 0}}var J2e=Y2e,X2e=mH;function Z2e(e){var t=X2e(e),r=t%1;return t===t?r?t-r:t:0}var eDe=Z2e,tDe=bz,rDe=Os,nDe=eDe,aDe=Math.max;function sDe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:nDe(r);return a<0&&(a=aDe(n+a,0)),tDe(e,rDe(t),a)}var iDe=sDe,oDe=J2e,lDe=iDe,cDe=oDe(lDe),uDe=cDe;const dDe=yt(uDe);var fDe=sfe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),SA=x.createContext(void 0),kA=x.createContext(void 0),kH=x.createContext(void 0),NH=x.createContext({}),EH=x.createContext(void 0),CH=x.createContext(0),AH=x.createContext(0),QR=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,i=t.clipPathId,l=t.children,c=t.width,u=t.height,d=fDe(s);return L.createElement(SA.Provider,{value:n},L.createElement(kA.Provider,{value:a},L.createElement(NH.Provider,{value:s},L.createElement(kH.Provider,{value:d},L.createElement(EH.Provider,{value:i},L.createElement(CH.Provider,{value:u},L.createElement(AH.Provider,{value:c},l)))))))},hDe=function(){return x.useContext(EH)},PH=function(t){var r=x.useContext(SA);r==null&&fc();var n=r[t];return n==null&&fc(),n},mDe=function(){var t=x.useContext(SA);return Gi(t)},pDe=function(){var t=x.useContext(kA),r=dDe(t,function(n){return yH(n.domain,Number.isFinite)});return r||Gi(t)},TH=function(t){var r=x.useContext(kA);r==null&&fc();var n=r[t];return n==null&&fc(),n},gDe=function(){var t=x.useContext(kH);return t},vDe=function(){return x.useContext(NH)},NA=function(){return x.useContext(AH)},EA=function(){return x.useContext(CH)};function Wd(e){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(e)}function yDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MH(n.key),n)}}function xDe(e,t,r){return t&&bDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wDe(e,t,r){return t=xb(t),_De(e,DH()?Reflect.construct(t,r||[],xb(e).constructor):t.apply(e,r))}function _De(e,t){if(t&&(Wd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jDe(e)}function jDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DH=function(){return!!e})()}function xb(e){return xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xb(e)}function SDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kk(e,t)}function kk(e,t){return kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kk(e,t)}function YR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(r),!0).forEach(function(n){CA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CA(e,t,r){return t=MH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MH(e){var t=kDe(e,"string");return Wd(t)=="symbol"?t:t+""}function kDe(e,t){if(Wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NDe(e,t){return PDe(e)||ADe(e,t)||CDe(e,t)||EDe()}function EDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CDe(e,t){if(e){if(typeof e=="string")return XR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XR(e,t)}}function XR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ADe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function PDe(e){if(Array.isArray(e))return e}function Nk(){return Nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nk.apply(this,arguments)}var TDe=function(t,r){var n;return L.isValidElement(t)?n=L.cloneElement(t,r):qe(t)?n=t(r):n=L.createElement("line",Nk({},r,{className:"recharts-reference-line-line"})),n},DDe=function(t,r,n,a,s,i,l,c,u){var d=s.x,f=s.y,h=s.width,m=s.height;if(n){var v=u.y,p=t.y.apply(v,{position:i});if(ks(u,"discard")&&!t.y.isInRange(p))return null;var g=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?g.reverse():g}if(r){var b=u.x,y=t.x.apply(b,{position:i});if(ks(u,"discard")&&!t.x.isInRange(y))return null;var w=[{x:y,y:f+m},{x:y,y:f}];return l==="top"?w.reverse():w}if(a){var _=u.segment,j=_.map(function(S){return t.apply(S,{position:i})});return ks(u,"discard")&&t2e(j,function(S){return!t.isInRange(S)})?null:j}return null};function MDe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,s=e.yAxisId,i=e.shape,l=e.className,c=e.alwaysShow,u=hDe(),d=PH(a),f=TH(s),h=gDe();if(!u||!h)return null;Ya(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=jA({x:d.scale,y:f.scale}),v=xr(t),p=xr(r),g=n&&n.length===2,b=DDe(m,v,p,g,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var y=NDe(b,2),w=y[0],_=w.x,j=w.y,S=y[1],k=S.x,N=S.y,E=ks(e,"hidden")?"url(#".concat(u,")"):void 0,P=JR(JR({clipPath:E},Be(e,!0)),{},{x1:_,y1:j,x2:k,y2:N});return L.createElement(wt,{className:Ye("recharts-reference-line",l)},TDe(i,P),Er.renderCallByParent(e,q2e({x1:_,y1:j,x2:k,y2:N})))}var AA=function(e){function t(){return yDe(this,t),wDe(this,t,arguments)}return SDe(t,e),xDe(t,[{key:"render",value:function(){return L.createElement(MDe,this.props)}}])}(L.Component);CA(AA,"displayName","ReferenceLine");CA(AA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Ek(){return Ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ek.apply(this,arguments)}function Kd(e){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(e)}function ZR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(r),!0).forEach(function(n){qx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ODe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RH(n.key),n)}}function IDe(e,t,r){return t&&RDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $De(e,t,r){return t=wb(t),LDe(e,OH()?Reflect.construct(t,r||[],wb(e).constructor):t.apply(e,r))}function LDe(e,t){if(t&&(Kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FDe(e)}function FDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OH=function(){return!!e})()}function wb(e){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wb(e)}function BDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ck(e,t)}function Ck(e,t){return Ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ck(e,t)}function qx(e,t,r){return t=RH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RH(e){var t=zDe(e,"string");return Kd(t)=="symbol"?t:t+""}function zDe(e,t){if(Kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UDe=function(t){var r=t.x,n=t.y,a=t.xAxis,s=t.yAxis,i=jA({x:a.scale,y:s.scale}),l=i.apply({x:r,y:n},{bandAware:!0});return ks(t,"discard")&&!i.isInRange(l)?null:l},Wx=function(e){function t(){return ODe(this,t),$De(this,t,arguments)}return BDe(t,e),IDe(t,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,i=n.r,l=n.alwaysShow,c=n.clipPathId,u=xr(a),d=xr(s);if(Ya(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=UDe(this.props);if(!f)return null;var h=f.x,m=f.y,v=this.props,p=v.shape,g=v.className,b=ks(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=eI(eI({clipPath:b},Be(this.props,!0)),{},{cx:h,cy:m});return L.createElement(wt,{className:Ye("recharts-reference-dot",g)},t.renderDot(p,y),Er.renderCallByParent(this.props,{x:h-i,y:m-i,width:2*i,height:2*i}))}}])}(L.Component);qx(Wx,"displayName","ReferenceDot");qx(Wx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});qx(Wx,"renderDot",function(e,t){var r;return L.isValidElement(e)?r=L.cloneElement(e,t):qe(e)?r=e(t):r=L.createElement(_A,Ek({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Ak(){return Ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ak.apply(this,arguments)}function Gd(e){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gd(e)}function tI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(r),!0).forEach(function(n){Kx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$H(n.key),n)}}function WDe(e,t,r){return t&&qDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KDe(e,t,r){return t=_b(t),GDe(e,IH()?Reflect.construct(t,r||[],_b(e).constructor):t.apply(e,r))}function GDe(e,t){if(t&&(Gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VDe(e)}function VDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IH=function(){return!!e})()}function _b(e){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_b(e)}function QDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pk(e,t)}function Pk(e,t){return Pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Pk(e,t)}function Kx(e,t,r){return t=$H(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $H(e){var t=YDe(e,"string");return Gd(t)=="symbol"?t:t+""}function YDe(e,t){if(Gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JDe=function(t,r,n,a,s){var i=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=jA({x:d.scale,y:f.scale}),m={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ks(s,"discard")&&(!h.isInRange(m)||!h.isInRange(v))?null:jH(m,v)},Gx=function(e){function t(){return HDe(this,t),KDe(this,t,arguments)}return QDe(t,e),WDe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,i=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ya(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=xr(a),h=xr(s),m=xr(i),v=xr(l),p=this.props.shape;if(!f&&!h&&!m&&!v&&!p)return null;var g=JDe(f,h,m,v,this.props);if(!g&&!p)return null;var b=ks(this.props,"hidden")?"url(#".concat(d,")"):void 0;return L.createElement(wt,{className:Ye("recharts-reference-area",c)},t.renderRect(p,rI(rI({clipPath:b},Be(this.props,!0)),g)),Er.renderCallByParent(this.props,g))}}])}(L.Component);Kx(Gx,"displayName","ReferenceArea");Kx(Gx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Kx(Gx,"renderRect",function(e,t){var r;return L.isValidElement(e)?r=L.cloneElement(e,t):qe(e)?r=e(t):r=L.createElement(wA,Ak({},t,{className:"recharts-reference-area-rect"})),r});function LH(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function XDe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return K2e(n,r)}function ZDe(e,t,r){var n=r==="width",a=e.x,s=e.y,i=e.width,l=e.height;return t===1?{start:n?a:s,end:n?a+i:s+l}:{start:n?a+i:s+l,end:n?a:s}}function jb(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function eMe(e,t){return LH(e,t+1)}function tMe(e,t,r,n,a){for(var s=(n||[]).slice(),i=t.start,l=t.end,c=0,u=1,d=i,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:LH(n,u)};var p=c,g,b=function(){return g===void 0&&(g=r(v,p)),g},y=v.coordinate,w=c===0||jb(e,y,b,d,l);w||(c=0,d=i,u+=1),w&&(d=y+e*(b()/2+a),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function nI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nI(Object(r),!0).forEach(function(n){rMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rMe(e,t,r){return t=nMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nMe(e){var t=aMe(e,"string");return rp(t)=="symbol"?t:t+""}function aMe(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sMe(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,l=t.start,c=t.end,u=function(h){var m=s[h],v,p=function(){return v===void 0&&(v=r(m,h)),v};if(h===i-1){var g=e*(m.coordinate+e*p()/2-c);s[h]=m=Ur(Ur({},m),{},{tickCoord:g>0?m.coordinate-g*e:m.coordinate})}else s[h]=m=Ur(Ur({},m),{},{tickCoord:m.coordinate});var b=jb(e,m.tickCoord,p,l,c);b&&(c=m.tickCoord-e*(p()/2+a),s[h]=Ur(Ur({},m),{},{isShow:!0}))},d=i-1;d>=0;d--)u(d);return s}function iMe(e,t,r,n,a,s){var i=(n||[]).slice(),l=i.length,c=t.start,u=t.end;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);i[l-1]=d=Ur(Ur({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=jb(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),i[l-1]=Ur(Ur({},d),{},{isShow:!0}))}for(var v=s?l-1:l,p=function(y){var w=i[y],_,j=function(){return _===void 0&&(_=r(w,y)),_};if(y===0){var S=e*(w.coordinate-e*j()/2-c);i[y]=w=Ur(Ur({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else i[y]=w=Ur(Ur({},w),{},{tickCoord:w.coordinate});var k=jb(e,w.tickCoord,j,c,u);k&&(c=w.tickCoord+e*(j()/2+a),i[y]=Ur(Ur({},w),{},{isShow:!0}))},g=0;g<v;g++)p(g);return i}function PA(e,t,r){var n=e.tick,a=e.ticks,s=e.viewBox,i=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(he(c)||ti.isSsr)return eMe(a,typeof c=="number"&&he(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",v=d&&m==="width"?Uh(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,_){var j=qe(u)?u(w.value,_):w.value;return m==="width"?XDe(Uh(j,{fontSize:t,letterSpacing:r}),v,f):Uh(j,{fontSize:t,letterSpacing:r})[m]},g=a.length>=2?un(a[1].coordinate-a[0].coordinate):1,b=ZDe(s,g,m);return c==="equidistantPreserveStart"?tMe(g,b,p,a,i):(c==="preserveStart"||c==="preserveStartEnd"?h=iMe(g,b,p,a,i,c==="preserveStartEnd"):h=sMe(g,b,p,a,i),h.filter(function(y){return y.isShow}))}var oMe=["viewBox"],lMe=["viewBox"],cMe=["ticks"];function Vd(e){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(e)}function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Su.apply(this,arguments)}function aI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aI(Object(r),!0).forEach(function(n){TA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W_(e,t){if(e==null)return{};var r=uMe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BH(n.key),n)}}function fMe(e,t,r){return t&&sI(e.prototype,t),r&&sI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hMe(e,t,r){return t=Sb(t),mMe(e,FH()?Reflect.construct(t,r||[],Sb(e).constructor):t.apply(e,r))}function mMe(e,t){if(t&&(Vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pMe(e)}function pMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FH=function(){return!!e})()}function Sb(e){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sb(e)}function gMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tk(e,t)}function Tk(e,t){return Tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tk(e,t)}function TA(e,t,r){return t=BH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BH(e){var t=vMe(e,"string");return Vd(t)=="symbol"?t:t+""}function vMe(e,t){if(Vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Of=function(e){function t(r){var n;return dMe(this,t),n=hMe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return gMe(t,e),fMe(t,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,i=W_(n,oMe),l=this.props,c=l.viewBox,u=W_(l,lMe);return!Hu(s,c)||!Hu(i,u)||!Hu(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,i=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,v,p,g,b,y,w=f?-1:1,_=n.tickSize||d,j=he(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=v=n.coordinate,g=i+ +!f*c,p=g-w*_,y=p-w*h,b=j;break;case"left":p=g=n.coordinate,v=s+ +!f*l,m=v-w*_,b=m-w*h,y=j;break;case"right":p=g=n.coordinate,v=s+ +f*l,m=v+w*_,b=m+w*h,y=j;break;default:m=v=n.coordinate,g=i+ +f*c,p=g+w*_,y=p+w*h,b=j;break}return{line:{x1:m,y1:p,x2:v,y2:g},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,i;switch(a){case"left":i=s?"start":"end";break;case"right":i=s?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,i="end";switch(a){case"left":case"right":i="middle";break;case"top":i=s?"start":"end";break;default:i=s?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,i=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=hr(hr(hr({},Be(this.props,!1)),Be(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=hr(hr({},f),{},{x1:a,y1:s+h*l,x2:a+i,y2:s+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=hr(hr({},f),{},{x1:a+m*i,y1:s,x2:a+m*i,y2:s+l})}return L.createElement("line",Su({},f,{className:Ye("recharts-cartesian-axis-line",ta(d,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var i=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=PA(hr(hr({},this.props),{},{ticks:n}),a,s),v=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),g=Be(this.props,!1),b=Be(d,!1),y=hr(hr({},g),{},{fill:"none"},Be(c,!1)),w=m.map(function(_,j){var S=i.getTickLineCoord(_),k=S.line,N=S.tick,E=hr(hr(hr(hr({textAnchor:v,verticalAnchor:p},g),{},{stroke:"none",fill:u},b),N),{},{index:j,payload:_,visibleTicksCount:m.length,tickFormatter:f});return L.createElement(wt,Su({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},cc(i.props,_,j)),c&&L.createElement("line",Su({},y,k,{className:Ye("recharts-cartesian-axis-tick-line",ta(c,"className"))})),d&&t.renderTickItem(d,E,"".concat(qe(f)?f(_.value,j):_.value).concat(h||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,i=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=W_(f,cMe),v=h;return qe(c)&&(v=h&&h.length>0?c(this.props):c(m)),i<=0||l<=0||!v||!v.length?null:L.createElement(wt,{className:Ye("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Er.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var i,l=Ye(a.className,"recharts-cartesian-axis-tick-value");return L.isValidElement(n)?i=L.cloneElement(n,hr(hr({},a),{},{className:l})):qe(n)?i=n(hr(hr({},a),{},{className:l})):i=L.createElement(uc,Su({},a,{className:"recharts-cartesian-axis-tick-value"}),s),i}}])}(x.Component);TA(Of,"displayName","CartesianAxis");TA(Of,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var yMe=["x1","y1","x2","y2","key"],bMe=["offset"];function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function iI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(r),!0).forEach(function(n){xMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xMe(e,t,r){return t=wMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wMe(e){var t=_Me(e,"string");return hc(t)=="symbol"?t:t+""}function _Me(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nl.apply(this,arguments)}function oI(e,t){if(e==null)return{};var r=jMe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var SMe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,s=t.y,i=t.width,l=t.height,c=t.ry;return L.createElement("rect",{x:a,y:s,ry:c,width:i,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function zH(e,t){var r;if(L.isValidElement(e))r=L.cloneElement(e,t);else if(qe(e))r=e(t);else{var n=t.x1,a=t.y1,s=t.x2,i=t.y2,l=t.key,c=oI(t,yMe),u=Be(c,!1);u.offset;var d=oI(u,bMe);r=L.createElement("line",Nl({},d,{x1:n,y1:a,x2:s,y2:i,fill:"none",key:l}))}return r}function kMe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(l,c){var u=Wr(Wr({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return zH(a,u)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function NMe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,s=e.verticalPoints;if(!a||!s||!s.length)return null;var i=s.map(function(l,c){var u=Wr(Wr({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return zH(a,u)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function EMe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,s=e.width,i=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],p=v?a+i-h:d[m+1]-h;if(p<=0)return null;var g=m%t.length;return L.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:s,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function CMe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,s=e.x,i=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var v=!d[m+1],p=v?s+l-h:d[m+1]-h;if(p<=0)return null;var g=m%n.length;return L.createElement("rect",{key:"react-".concat(m),x:h,y:i,width:p,height:c,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var AMe=function(t,r){var n=t.xAxis,a=t.width,s=t.height,i=t.offset;return LU(PA(Wr(Wr(Wr({},Of.defaultProps),n),{},{ticks:Ys(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),i.left,i.left+i.width,r)},PMe=function(t,r){var n=t.yAxis,a=t.width,s=t.height,i=t.offset;return LU(PA(Wr(Wr(Wr({},Of.defaultProps),n),{},{ticks:Ys(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),i.top,i.top+i.height,r)},Jc={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function UH(e){var t,r,n,a,s,i,l=NA(),c=EA(),u=vDe(),d=Wr(Wr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Jc.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Jc.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Jc.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Jc.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Jc.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:Jc.verticalFill,x:he(e.x)?e.x:u.left,y:he(e.y)?e.y:u.top,width:he(e.width)?e.width:u.width,height:he(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,v=d.height,p=d.syncWithTicks,g=d.horizontalValues,b=d.verticalValues,y=mDe(),w=pDe();if(!he(m)||m<=0||!he(v)||v<=0||!he(f)||f!==+f||!he(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||AMe,j=d.horizontalCoordinatesGenerator||PMe,S=d.horizontalPoints,k=d.verticalPoints;if((!S||!S.length)&&qe(j)){var N=g&&g.length,E=j({yAxis:w?Wr(Wr({},w),{},{ticks:N?g:w.ticks}):void 0,width:l,height:c,offset:u},N?!0:p);Ya(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(hc(E),"]")),Array.isArray(E)&&(S=E)}if((!k||!k.length)&&qe(_)){var P=b&&b.length,A=_({xAxis:y?Wr(Wr({},y),{},{ticks:P?b:y.ticks}):void 0,width:l,height:c,offset:u},P?!0:p);Ya(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(hc(A),"]")),Array.isArray(A)&&(k=A)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(SMe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),L.createElement(kMe,Nl({},d,{offset:u,horizontalPoints:S,xAxis:y,yAxis:w})),L.createElement(NMe,Nl({},d,{offset:u,verticalPoints:k,xAxis:y,yAxis:w})),L.createElement(EMe,Nl({},d,{horizontalPoints:S})),L.createElement(CMe,Nl({},d,{verticalPoints:k})))}UH.displayName="CartesianGrid";function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}function TMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WH(n.key),n)}}function MMe(e,t,r){return t&&DMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OMe(e,t,r){return t=kb(t),RMe(e,HH()?Reflect.construct(t,r||[],kb(e).constructor):t.apply(e,r))}function RMe(e,t){if(t&&(Qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IMe(e)}function IMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HH=function(){return!!e})()}function kb(e){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kb(e)}function $Me(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dk(e,t)}function Dk(e,t){return Dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dk(e,t)}function qH(e,t,r){return t=WH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WH(e){var t=LMe(e,"string");return Qd(t)=="symbol"?t:t+""}function LMe(e,t){if(Qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mk(){return Mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mk.apply(this,arguments)}function FMe(e){var t=e.xAxisId,r=NA(),n=EA(),a=PH(t);return a==null?null:x.createElement(Of,Mk({},a,{className:Ye("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return Ys(i,!0)}}))}var Vx=function(e){function t(){return TMe(this,t),OMe(this,t,arguments)}return $Me(t,e),MMe(t,[{key:"render",value:function(){return x.createElement(FMe,this.props)}}])}(x.Component);qH(Vx,"displayName","XAxis");qH(Vx,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Yd(e){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yd(e)}function BMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VH(n.key),n)}}function UMe(e,t,r){return t&&zMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HMe(e,t,r){return t=Nb(t),qMe(e,KH()?Reflect.construct(t,r||[],Nb(e).constructor):t.apply(e,r))}function qMe(e,t){if(t&&(Yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WMe(e)}function WMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KH=function(){return!!e})()}function Nb(e){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nb(e)}function KMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ok(e,t)}function Ok(e,t){return Ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ok(e,t)}function GH(e,t,r){return t=VH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VH(e){var t=GMe(e,"string");return Yd(t)=="symbol"?t:t+""}function GMe(e,t){if(Yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rk(){return Rk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rk.apply(this,arguments)}var VMe=function(t){var r=t.yAxisId,n=NA(),a=EA(),s=TH(r);return s==null?null:x.createElement(Of,Rk({},s,{className:Ye("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Ys(l,!0)}}))},Qx=function(e){function t(){return BMe(this,t),HMe(this,t,arguments)}return KMe(t,e),UMe(t,[{key:"render",value:function(){return x.createElement(VMe,this.props)}}])}(x.Component);GH(Qx,"displayName","YAxis");GH(Qx,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function lI(e){return XMe(e)||JMe(e)||YMe(e)||QMe()}function QMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YMe(e,t){if(e){if(typeof e=="string")return Ik(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ik(e,t)}}function JMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XMe(e){if(Array.isArray(e))return Ik(e)}function Ik(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $k=function(t,r,n,a,s){var i=Sa(t,AA),l=Sa(t,Wx),c=[].concat(lI(i),lI(l)),u=Sa(t,Gx),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(p,g){if(g.props[d]===n&&ks(g.props,"extendDomain")&&he(g.props[f])){var b=g.props[f];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},h)),u.length){var m="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(p,g){if(g.props[d]===n&&ks(g.props,"extendDomain")&&he(g.props[m])&&he(g.props[v])){var b=g.props[m],y=g.props[v];return[Math.min(p[0],b,y),Math.max(p[1],b,y)]}return p},h)}return s&&s.length&&(h=s.reduce(function(p,g){return he(g)?[Math.min(p[0],g),Math.max(p[1],g)]:p},h)),h},QH={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,v){var p=r?r+u:u;if(!this._events[p])return!1;var g=this._events[p],b=arguments.length,y,w;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,h),!0;case 5:return g.fn.call(g.context,d,f,h,m),!0;case 6:return g.fn.call(g.context,d,f,h,m,v),!0}for(w=1,y=new Array(b-1);w<b;w++)y[w-1]=arguments[w];g.fn.apply(g.context,y)}else{var _=g.length,j;for(w=0;w<_;w++)switch(g[w].once&&this.removeListener(u,g[w].fn,void 0,!0),b){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,d);break;case 3:g[w].fn.call(g[w].context,d,f);break;case 4:g[w].fn.call(g[w].context,d,f,h);break;default:if(!y)for(j=1,y=new Array(b-1);j<b;j++)y[j-1]=arguments[j];g[w].fn.apply(g[w].context,y)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return i(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&i(this,m);else{for(var p=0,g=[],b=v.length;p<b;p++)(v[p].fn!==d||h&&!v[p].once||f&&v[p].context!==f)&&g.push(v[p]);g.length?this._events[m]=g.length===1?g[0]:g:i(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(QH);var ZMe=QH.exports;const eOe=yt(ZMe);var K_=new eOe,G_="recharts.syncMouseEvents";function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}function tOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YH(n.key),n)}}function nOe(e,t,r){return t&&rOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function V_(e,t,r){return t=YH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YH(e){var t=aOe(e,"string");return np(t)=="symbol"?t:t+""}function aOe(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sOe=function(){function e(){tOe(this,e),V_(this,"activeIndex",0),V_(this,"coordinateList",[]),V_(this,"layout","horizontal")}return nOe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,i=r.container,l=i===void 0?null:i,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,i=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,h=i+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function iOe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&he(n)&&he(a))return!0}return!1}function oOe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function JH(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,s=e.endAngle,i=$t(t,r,n,a),l=$t(t,r,n,s);return{points:[i,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function lOe(e,t,r){var n,a,s,i;if(e==="horizontal")n=t.x,s=n,a=r.top,i=r.top+r.height;else if(e==="vertical")a=t.y,i=a,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=$t(l,c,u,f),m=$t(l,c,d,f);n=h.x,a=h.y,s=m.x,i=m.y}else return JH(t);return[{x:n,y:a},{x:s,y:i}]}function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function cI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(r),!0).forEach(function(n){cOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cOe(e,t,r){return t=uOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uOe(e){var t=dOe(e,"string");return ap(t)=="symbol"?t:t+""}function dOe(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fOe(e){var t,r,n=e.element,a=e.tooltipEventType,s=e.isActive,i=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!s||!i||h!=="ScatterChart"&&a!=="axis")return null;var v,p=ik;if(h==="ScatterChart")v=i,p=HAe;else if(h==="BarChart")v=oOe(f,i,c,d),p=wA;else if(f==="radial"){var g=JH(i),b=g.cx,y=g.cy,w=g.radius,_=g.startAngle,j=g.endAngle;v={cx:b,cy:y,startAngle:_,endAngle:j,innerRadius:w,outerRadius:w},p=QU}else v={points:lOe(f,i,c)},p=ik;var S=Yg(Yg(Yg(Yg({stroke:"#ccc",pointerEvents:"none"},c),v),Be(m,!1)),{},{payload:l,payloadIndex:u,className:Ye("recharts-tooltip-cursor",m.className)});return x.isValidElement(m)?x.cloneElement(m,S):x.createElement(p,S)}var hOe=["item"],mOe=["children","className","width","height","style","compact","title","desc"];function Jd(e){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(e)}function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ku.apply(this,arguments)}function uI(e,t){return vOe(e)||gOe(e,t)||ZH(e,t)||pOe()}function pOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,i,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function vOe(e){if(Array.isArray(e))return e}function dI(e,t){if(e==null)return{};var r=yOe(e,t),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eq(n.key),n)}}function wOe(e,t,r){return t&&xOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Oe(e,t,r){return t=Eb(t),jOe(e,XH()?Reflect.construct(t,r||[],Eb(e).constructor):t.apply(e,r))}function jOe(e,t){if(t&&(Jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SOe(e)}function SOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XH=function(){return!!e})()}function Eb(e){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(e)}function kOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lk(e,t)}function Lk(e,t){return Lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Lk(e,t)}function Xd(e){return COe(e)||EOe(e)||ZH(e)||NOe()}function NOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZH(e,t){if(e){if(typeof e=="string")return Fk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fk(e,t)}}function EOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function COe(e){if(Array.isArray(e))return Fk(e)}function Fk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(r),!0).forEach(function(n){Oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oe(e,t,r){return t=eq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eq(e){var t=AOe(e,"string");return Jd(t)=="symbol"?t:t+""}function AOe(e,t){if(Jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var POe={xAxis:["bottom","top"],yAxis:["left","right"]},TOe={width:"100%",height:"100%"},tq={x:0,y:0};function Jg(e){return e}var DOe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},MOe=function(t,r,n,a){var s=r.find(function(d){return d&&d.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var i=s.coordinate,l=a.radius;return ae(ae(ae({},a),$t(a.cx,a.cy,l,i)),{},{angle:i,radius:l})}var c=s.coordinate,u=a.angle;return ae(ae(ae({},a),$t(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return tq},Yx=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,i=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Xd(l),Xd(u)):l},[]);return i.length>0?i:t&&t.length&&he(a)&&he(s)?t.slice(a,s+1):[]};function rq(e){return e==="number"?[0,"auto"]:void 0}var Bk=function(t,r,n,a){var s=t.graphicalItems,i=t.tooltipAxis,l=Yx(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var m=f===void 0?l:f;h=mS(m,i.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Xd(c),[HU(u,h)]):c},[])},hI=function(t,r,n,a){var s=a||{x:t.chartX,y:t.chartY},i=DOe(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=hNe(i,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Bk(t,r,d,f),m=MOe(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},OOe=function(t,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=$U(d,s);return n.reduce(function(v,p){var g,b=p.type.defaultProps!==void 0?ae(ae({},p.type.defaultProps),p.props):p.props,y=b.type,w=b.dataKey,_=b.allowDataOverflow,j=b.allowDuplicatedCategory,S=b.scale,k=b.ticks,N=b.includeHidden,E=b[i];if(v[E])return v;var P=Yx(t.data,{graphicalItems:a.filter(function(R){var B,K=i in R.props?R.props[i]:(B=R.type.defaultProps)===null||B===void 0?void 0:B[i];return K===E}),dataStartIndex:c,dataEndIndex:u}),A=P.length,O,T,C;iOe(b.domain,_,y)&&(O=tk(b.domain,null,_),m&&(y==="number"||S!=="auto")&&(C=qh(P,w,"category")));var I=rq(y);if(!O||O.length===0){var $,M=($=b.domain)!==null&&$!==void 0?$:I;if(w){if(O=qh(P,w,y),y==="category"&&m){var D=nhe(O);j&&D?(T=O,O=pb(0,A)):j||(O=LO(M,O,p).reduce(function(R,B){return R.indexOf(B)>=0?R:[].concat(Xd(R),[B])},[]))}else if(y==="category")j?O=O.filter(function(R){return R!==""&&!nt(R)}):O=LO(M,O,p).reduce(function(R,B){return R.indexOf(B)>=0||B===""||nt(B)?R:[].concat(Xd(R),[B])},[]);else if(y==="number"){var F=yNe(P,a.filter(function(R){var B,K,J=i in R.props?R.props[i]:(B=R.type.defaultProps)===null||B===void 0?void 0:B[i],X="hide"in R.props?R.props.hide:(K=R.type.defaultProps)===null||K===void 0?void 0:K.hide;return J===E&&(N||!X)}),w,s,d);F&&(O=F)}m&&(y==="number"||S!=="auto")&&(C=qh(P,w,"category"))}else m?O=pb(0,A):l&&l[E]&&l[E].hasStack&&y==="number"?O=h==="expand"?[0,1]:UU(l[E].stackGroups,c,u):O=IU(P,a.filter(function(R){var B=i in R.props?R.props[i]:R.type.defaultProps[i],K="hide"in R.props?R.props.hide:R.type.defaultProps.hide;return B===E&&(N||!K)}),y,d,!0);if(y==="number")O=$k(f,O,E,s,k),M&&(O=tk(M,O,_));else if(y==="category"&&M){var z=M,U=O.every(function(R){return z.indexOf(R)>=0});U&&(O=z)}}return ae(ae({},v),{},Oe({},E,ae(ae({},b),{},{axisType:s,domain:O,categoricalDomain:C,duplicateDomain:T,originalDomain:(g=b.domain)!==null&&g!==void 0?g:I,isCategorical:m,layout:d})))},{})},ROe=function(t,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,i=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Yx(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,v=$U(d,s),p=-1;return n.reduce(function(g,b){var y=b.type.defaultProps!==void 0?ae(ae({},b.type.defaultProps),b.props):b.props,w=y[i],_=rq("number");if(!g[w]){p++;var j;return v?j=pb(0,m):l&&l[w]&&l[w].hasStack?(j=UU(l[w].stackGroups,c,u),j=$k(f,j,w,s)):(j=tk(_,IU(h,n.filter(function(S){var k,N,E=i in S.props?S.props[i]:(k=S.type.defaultProps)===null||k===void 0?void 0:k[i],P="hide"in S.props?S.props.hide:(N=S.type.defaultProps)===null||N===void 0?void 0:N.hide;return E===w&&!P}),"number",d),a.defaultProps.allowDataOverflow),j=$k(f,j,w,s)),ae(ae({},g),{},Oe({},w,ae(ae({axisType:s},a.defaultProps),{},{hide:!0,orientation:ta(POe,"".concat(s,".").concat(p%2),null),domain:j,originalDomain:_,isCategorical:v,layout:d})))}return g},{})},IOe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,i=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Sa(d,s),m={};return h&&h.length?m=OOe(t,{axes:h,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):i&&i.length&&(m=ROe(t,{Axis:s,graphicalItems:i,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},$Oe=function(t){var r=Gi(t),n=Ys(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:VC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:nb(r,n)}},mI=function(t){var r=t.children,n=t.defaultShowTooltip,a=Gn(r,Hd),s=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(i=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},LOe=function(t){return!t||!t.length?!1:t.some(function(r){var n=ei(r&&r.type);return n&&n.indexOf("Bar")>=0})},pI=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},FOe=function(t,r){var n=t.props,a=t.graphicalItems,s=t.xAxisMap,i=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Gn(f,Hd),v=Gn(f,qu),p=Object.keys(c).reduce(function(j,S){var k=c[S],N=k.orientation;return!k.mirror&&!k.hide?ae(ae({},j),{},Oe({},N,j[N]+k.width)):j},{left:h.left||0,right:h.right||0}),g=Object.keys(i).reduce(function(j,S){var k=i[S],N=k.orientation;return!k.mirror&&!k.hide?ae(ae({},j),{},Oe({},N,ta(j,"".concat(N))+k.height)):j},{top:h.top||0,bottom:h.bottom||0}),b=ae(ae({},g),p),y=b.bottom;m&&(b.bottom+=m.props.height||Hd.defaultProps.height),v&&r&&(b=gNe(b,a,n,r));var w=u-b.left-b.right,_=d-b.top-b.bottom;return ae(ae({brushBottom:y},b),{},{width:Math.max(w,0),height:Math.max(_,0)})},BOe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},nq=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,i=t.validateTooltipEventTypes,l=i===void 0?["axis"]:i,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,y){var w=y.graphicalItems,_=y.stackGroups,j=y.offset,S=y.updateId,k=y.dataStartIndex,N=y.dataEndIndex,E=b.barSize,P=b.layout,A=b.barGap,O=b.barCategoryGap,T=b.maxBarSize,C=pI(P),I=C.numericAxisName,$=C.cateAxisName,M=LOe(w),D=[];return w.forEach(function(F,z){var U=Yx(b.data,{graphicalItems:[F],dataStartIndex:k,dataEndIndex:N}),R=F.type.defaultProps!==void 0?ae(ae({},F.type.defaultProps),F.props):F.props,B=R.dataKey,K=R.maxBarSize,J=R["".concat(I,"Id")],X=R["".concat($,"Id")],te={},q=c.reduce(function(pt,Se){var We=y["".concat(Se.axisType,"Map")],Ie=R["".concat(Se.axisType,"Id")];We&&We[Ie]||Se.axisType==="zAxis"||fc();var Lr=We[Ie];return ae(ae({},pt),{},Oe(Oe({},Se.axisType,Lr),"".concat(Se.axisType,"Ticks"),Ys(Lr)))},te),Q=q[$],ie=q["".concat($,"Ticks")],de=_&&_[J]&&_[J].hasStack&&ENe(F,_[J].stackGroups),ee=ei(F.type).indexOf("Bar")>=0,Z=nb(Q,ie),Y=[],ne=M&&mNe({barSize:E,stackGroups:_,totalSize:BOe(q,$)});if(ee){var fe,ve,be=nt(K)?T:K,je=(fe=(ve=nb(Q,ie,!0))!==null&&ve!==void 0?ve:be)!==null&&fe!==void 0?fe:0;Y=pNe({barGap:A,barCategoryGap:O,bandSize:je!==Z?je:Z,sizeList:ne[X],maxBarSize:be}),je!==Z&&(Y=Y.map(function(pt){return ae(ae({},pt),{},{position:ae(ae({},pt.position),{},{offset:pt.position.offset-je/2})})}))}var dt=F&&F.type&&F.type.getComposedData;dt&&D.push({props:ae(ae({},dt(ae(ae({},q),{},{displayedData:U,props:b,dataKey:B,item:F,bandSize:Z,barPosition:Y,offset:j,stackedData:de,layout:P,dataStartIndex:k,dataEndIndex:N}))),{},Oe(Oe(Oe({key:F.key||"item-".concat(z)},I,q[I]),$,q[$]),"animationId",S)),childIndex:phe(F,b.children),item:F})}),D},m=function(b,y){var w=b.props,_=b.dataStartIndex,j=b.dataEndIndex,S=b.updateId;if(!DD({props:w}))return null;var k=w.children,N=w.layout,E=w.stackOffset,P=w.data,A=w.reverseStackOrder,O=pI(N),T=O.numericAxisName,C=O.cateAxisName,I=Sa(k,n),$=kNe(P,I,"".concat(T,"Id"),"".concat(C,"Id"),E,A),M=c.reduce(function(R,B){var K="".concat(B.axisType,"Map");return ae(ae({},R),{},Oe({},K,IOe(w,ae(ae({},B),{},{graphicalItems:I,stackGroups:B.axisType===T&&$,dataStartIndex:_,dataEndIndex:j}))))},{}),D=FOe(ae(ae({},M),{},{props:w,graphicalItems:I}),y==null?void 0:y.legendBBox);Object.keys(M).forEach(function(R){M[R]=d(w,M[R],D,R.replace("Map",""),r)});var F=M["".concat(C,"Map")],z=$Oe(F),U=h(w,ae(ae({},M),{},{dataStartIndex:_,dataEndIndex:j,updateId:S,graphicalItems:I,stackGroups:$,offset:D}));return ae(ae({formattedGraphicalItems:U,graphicalItems:I,offset:D,stackGroups:$},z),M)},v=function(g){function b(y){var w,_,j;return bOe(this,b),j=_Oe(this,b,[y]),Oe(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Oe(j,"accessibilityManager",new sOe),Oe(j,"handleLegendBBoxUpdate",function(S){if(S){var k=j.state,N=k.dataStartIndex,E=k.dataEndIndex,P=k.updateId;j.setState(ae({legendBBox:S},m({props:j.props,dataStartIndex:N,dataEndIndex:E,updateId:P},ae(ae({},j.state),{},{legendBBox:S}))))}}),Oe(j,"handleReceiveSyncEvent",function(S,k,N){if(j.props.syncId===S){if(N===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(k)}}),Oe(j,"handleBrushChange",function(S){var k=S.startIndex,N=S.endIndex;if(k!==j.state.dataStartIndex||N!==j.state.dataEndIndex){var E=j.state.updateId;j.setState(function(){return ae({dataStartIndex:k,dataEndIndex:N},m({props:j.props,dataStartIndex:k,dataEndIndex:N,updateId:E},j.state))}),j.triggerSyncEvent({dataStartIndex:k,dataEndIndex:N})}}),Oe(j,"handleMouseEnter",function(S){var k=j.getMouseInfo(S);if(k){var N=ae(ae({},k),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var E=j.props.onMouseEnter;qe(E)&&E(N,S)}}),Oe(j,"triggeredAfterMouseMove",function(S){var k=j.getMouseInfo(S),N=k?ae(ae({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var E=j.props.onMouseMove;qe(E)&&E(N,S)}),Oe(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Oe(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Oe(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),Oe(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var N=j.props.onMouseLeave;qe(N)&&N(k,S)}),Oe(j,"handleOuterEvent",function(S){var k=mhe(S),N=ta(j.props,"".concat(k));if(k&&qe(N)){var E,P;/.*touch.*/i.test(k)?P=j.getMouseInfo(S.changedTouches[0]):P=j.getMouseInfo(S),N((E=P)!==null&&E!==void 0?E:{},S)}}),Oe(j,"handleClick",function(S){var k=j.getMouseInfo(S);if(k){var N=ae(ae({},k),{},{isTooltipActive:!0});j.setState(N),j.triggerSyncEvent(N);var E=j.props.onClick;qe(E)&&E(N,S)}}),Oe(j,"handleMouseDown",function(S){var k=j.props.onMouseDown;if(qe(k)){var N=j.getMouseInfo(S);k(N,S)}}),Oe(j,"handleMouseUp",function(S){var k=j.props.onMouseUp;if(qe(k)){var N=j.getMouseInfo(S);k(N,S)}}),Oe(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Oe(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),Oe(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),Oe(j,"handleDoubleClick",function(S){var k=j.props.onDoubleClick;if(qe(k)){var N=j.getMouseInfo(S);k(N,S)}}),Oe(j,"handleContextMenu",function(S){var k=j.props.onContextMenu;if(qe(k)){var N=j.getMouseInfo(S);k(N,S)}}),Oe(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&K_.emit(G_,j.props.syncId,S,j.eventEmitterSymbol)}),Oe(j,"applySyncEvent",function(S){var k=j.props,N=k.layout,E=k.syncMethod,P=j.state.updateId,A=S.dataStartIndex,O=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(ae({dataStartIndex:A,dataEndIndex:O},m({props:j.props,dataStartIndex:A,dataEndIndex:O,updateId:P},j.state)));else if(S.activeTooltipIndex!==void 0){var T=S.chartX,C=S.chartY,I=S.activeTooltipIndex,$=j.state,M=$.offset,D=$.tooltipTicks;if(!M)return;if(typeof E=="function")I=E(D,S);else if(E==="value"){I=-1;for(var F=0;F<D.length;F++)if(D[F].value===S.activeLabel){I=F;break}}var z=ae(ae({},M),{},{x:M.left,y:M.top}),U=Math.min(T,z.x+z.width),R=Math.min(C,z.y+z.height),B=D[I]&&D[I].value,K=Bk(j.state,j.props.data,I),J=D[I]?{x:N==="horizontal"?D[I].coordinate:U,y:N==="horizontal"?R:D[I].coordinate}:tq;j.setState(ae(ae({},S),{},{activeLabel:B,activeCoordinate:J,activePayload:K,activeTooltipIndex:I}))}else j.setState(S)}),Oe(j,"renderCursor",function(S){var k,N=j.state,E=N.isTooltipActive,P=N.activeCoordinate,A=N.activePayload,O=N.offset,T=N.activeTooltipIndex,C=N.tooltipAxisBandSize,I=j.getTooltipEventType(),$=(k=S.props.active)!==null&&k!==void 0?k:E,M=j.props.layout,D=S.key||"_recharts-cursor";return L.createElement(fOe,{key:D,activeCoordinate:P,activePayload:A,activeTooltipIndex:T,chartName:r,element:S,isActive:$,layout:M,offset:O,tooltipAxisBandSize:C,tooltipEventType:I})}),Oe(j,"renderPolarAxis",function(S,k,N){var E=ta(S,"type.axisType"),P=ta(j.state,"".concat(E,"Map")),A=S.type.defaultProps,O=A!==void 0?ae(ae({},A),S.props):S.props,T=P&&P[O["".concat(E,"Id")]];return x.cloneElement(S,ae(ae({},T),{},{className:Ye(E,T.className),key:S.key||"".concat(k,"-").concat(N),ticks:Ys(T,!0)}))}),Oe(j,"renderPolarGrid",function(S){var k=S.props,N=k.radialLines,E=k.polarAngles,P=k.polarRadius,A=j.state,O=A.radiusAxisMap,T=A.angleAxisMap,C=Gi(O),I=Gi(T),$=I.cx,M=I.cy,D=I.innerRadius,F=I.outerRadius;return x.cloneElement(S,{polarAngles:Array.isArray(E)?E:Ys(I,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(P)?P:Ys(C,!0).map(function(z){return z.coordinate}),cx:$,cy:M,innerRadius:D,outerRadius:F,key:S.key||"polar-grid",radialLines:N})}),Oe(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,k=j.props,N=k.children,E=k.width,P=k.height,A=j.props.margin||{},O=E-(A.left||0)-(A.right||0),T=OU({children:N,formattedGraphicalItems:S,legendWidth:O,legendContent:u});if(!T)return null;var C=T.item,I=dI(T,hOe);return x.cloneElement(C,ae(ae({},I),{},{chartWidth:E,chartHeight:P,margin:A,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Oe(j,"renderTooltip",function(){var S,k=j.props,N=k.children,E=k.accessibilityLayer,P=Gn(N,pa);if(!P)return null;var A=j.state,O=A.isTooltipActive,T=A.activeCoordinate,C=A.activePayload,I=A.activeLabel,$=A.offset,M=(S=P.props.active)!==null&&S!==void 0?S:O;return x.cloneElement(P,{viewBox:ae(ae({},$),{},{x:$.left,y:$.top}),active:M,label:I,payload:M?C:[],coordinate:T,accessibilityLayer:E})}),Oe(j,"renderBrush",function(S){var k=j.props,N=k.margin,E=k.data,P=j.state,A=P.offset,O=P.dataStartIndex,T=P.dataEndIndex,C=P.updateId;return x.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Kg(j.handleBrushChange,S.props.onChange),data:E,x:he(S.props.x)?S.props.x:A.left,y:he(S.props.y)?S.props.y:A.top+A.height+A.brushBottom-(N.bottom||0),width:he(S.props.width)?S.props.width:A.width,startIndex:O,endIndex:T,updateId:"brush-".concat(C)})}),Oe(j,"renderReferenceElement",function(S,k,N){if(!S)return null;var E=j,P=E.clipPathId,A=j.state,O=A.xAxisMap,T=A.yAxisMap,C=A.offset,I=S.type.defaultProps||{},$=S.props,M=$.xAxisId,D=M===void 0?I.xAxisId:M,F=$.yAxisId,z=F===void 0?I.yAxisId:F;return x.cloneElement(S,{key:S.key||"".concat(k,"-").concat(N),xAxis:O[D],yAxis:T[z],viewBox:{x:C.left,y:C.top,width:C.width,height:C.height},clipPathId:P})}),Oe(j,"renderActivePoints",function(S){var k=S.item,N=S.activePoint,E=S.basePoint,P=S.childIndex,A=S.isRange,O=[],T=k.props.key,C=k.item.type.defaultProps!==void 0?ae(ae({},k.item.type.defaultProps),k.item.props):k.item.props,I=C.activeDot,$=C.dataKey,M=ae(ae({index:P,dataKey:$,cx:N.x,cy:N.y,r:4,fill:xA(k.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},Be(I,!1)),Py(I));return O.push(b.renderActiveDot(I,M,"".concat(T,"-activePoint-").concat(P))),E?O.push(b.renderActiveDot(I,ae(ae({},M),{},{cx:E.x,cy:E.y}),"".concat(T,"-basePoint-").concat(P))):A&&O.push(null),O}),Oe(j,"renderGraphicChild",function(S,k,N){var E=j.filterFormatItem(S,k,N);if(!E)return null;var P=j.getTooltipEventType(),A=j.state,O=A.isTooltipActive,T=A.tooltipAxis,C=A.activeTooltipIndex,I=A.activeLabel,$=j.props.children,M=Gn($,pa),D=E.props,F=D.points,z=D.isRange,U=D.baseLine,R=E.item.type.defaultProps!==void 0?ae(ae({},E.item.type.defaultProps),E.item.props):E.item.props,B=R.activeDot,K=R.hide,J=R.activeBar,X=R.activeShape,te=!!(!K&&O&&M&&(B||J||X)),q={};P!=="axis"&&M&&M.props.trigger==="click"?q={onClick:Kg(j.handleItemMouseEnter,S.props.onClick)}:P!=="axis"&&(q={onMouseLeave:Kg(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Kg(j.handleItemMouseEnter,S.props.onMouseEnter)});var Q=x.cloneElement(S,ae(ae({},E.props),q));function ie(Se){return typeof T.dataKey=="function"?T.dataKey(Se.payload):null}if(te)if(C>=0){var de,ee;if(T.dataKey&&!T.allowDuplicatedCategory){var Z=typeof T.dataKey=="function"?ie:"payload.".concat(T.dataKey.toString());de=mS(F,Z,I),ee=z&&U&&mS(U,Z,I)}else de=F==null?void 0:F[C],ee=z&&U&&U[C];if(X||J){var Y=S.props.activeIndex!==void 0?S.props.activeIndex:C;return[x.cloneElement(S,ae(ae(ae({},E.props),q),{},{activeIndex:Y})),null,null]}if(!nt(de))return[Q].concat(Xd(j.renderActivePoints({item:E,activePoint:de,basePoint:ee,childIndex:C,isRange:z})))}else{var ne,fe=(ne=j.getItemByXY(j.state.activeCoordinate))!==null&&ne!==void 0?ne:{graphicalItem:Q},ve=fe.graphicalItem,be=ve.item,je=be===void 0?S:be,dt=ve.childIndex,pt=ae(ae(ae({},E.props),q),{},{activeIndex:dt});return[x.cloneElement(je,pt),null,null]}return z?[Q,null,null]:[Q,null]}),Oe(j,"renderCustomized",function(S,k,N){return x.cloneElement(S,ae(ae({key:"recharts-customized-".concat(N)},j.props),j.state))}),Oe(j,"renderMap",{CartesianGrid:{handler:Jg,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Jg},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Jg},YAxis:{handler:Jg},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:Up("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=Mz(j.triggeredAfterMouseMove,(_=y.throttleDelay)!==null&&_!==void 0?_:1e3/60),j.state={},j}return kOe(b,g),wOe(b,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,j=w.data,S=w.height,k=w.layout,N=Gn(_,pa);if(N){var E=N.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,A=Bk(this.state,j,E,P),O=this.state.tooltipTicks[E].coordinate,T=(this.state.offset.top+S)/2,C=k==="horizontal",I=C?{x:O,y:T}:{y:O,x:T},$=this.state.formattedGraphicalItems.find(function(D){var F=D.item;return F.type.name==="Scatter"});$&&(I=ae(ae({},I),$.props.points[E].tooltipPosition),A=$.props.points[E].tooltipPayload);var M={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:P,activePayload:A,activeCoordinate:I};this.setState(M),this.renderCursor(N),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){gS([Gn(w.children,pa)],[Gn(this.props.children,pa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Gn(this.props.children,pa);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return l.indexOf(_)>=0?_:s}return s}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,j=_.getBoundingClientRect(),S=z_e(j),k={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},N=j.width/_.offsetWidth||1,E=this.inRange(k.chartX,k.chartY,N);if(!E)return null;var P=this.state,A=P.xAxisMap,O=P.yAxisMap,T=this.getTooltipEventType(),C=hI(this.state,this.props.data,this.props.layout,E);if(T!=="axis"&&A&&O){var I=Gi(A).scale,$=Gi(O).scale,M=I&&I.invert?I.invert(k.chartX):null,D=$&&$.invert?$.invert(k.chartY):null;return ae(ae({},k),{},{xValue:M,yValue:D},C)}return C?ae(ae({},k),C):null}},{key:"inRange",value:function(w,_){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,k=w/j,N=_/j;if(S==="horizontal"||S==="vertical"){var E=this.state.offset,P=k>=E.left&&k<=E.left+E.width&&N>=E.top&&N<=E.top+E.height;return P?{x:k,y:N}:null}var A=this.state,O=A.angleAxisMap,T=A.radiusAxisMap;if(O&&T){var C=Gi(O);return zO({x:k,y:N},C)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),j=Gn(w,pa),S={};j&&_==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Py(this.props,this.handleOuterEvent);return ae(ae({},k),S)}},{key:"addListener",value:function(){K_.on(G_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){K_.removeListener(G_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,j){for(var S=this.state.formattedGraphicalItems,k=0,N=S.length;k<N;k++){var E=S[k];if(E.item===w||E.props.key===w.key||_===ei(E.item.type)&&j===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,j=_.left,S=_.top,k=_.height,N=_.width;return L.createElement("defs",null,L.createElement("clipPath",{id:w},L.createElement("rect",{x:j,y:S,height:k,width:N})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,j){var S=uI(j,2),k=S[0],N=S[1];return ae(ae({},_),{},Oe({},k,N.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,j){var S=uI(j,2),k=S[0],N=S[1];return ae(ae({},_),{},Oe({},k,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,j=_.formattedGraphicalItems,S=_.activeItem;if(j&&j.length)for(var k=0,N=j.length;k<N;k++){var E=j[k],P=E.props,A=E.item,O=A.type.defaultProps!==void 0?ae(ae({},A.type.defaultProps),A.props):A.props,T=ei(A.type);if(T==="Bar"){var C=(P.data||[]).find(function(D){return jAe(w,D)});if(C)return{graphicalItem:E,payload:C}}else if(T==="RadialBar"){var I=(P.data||[]).find(function(D){return zO(w,D)});if(I)return{graphicalItem:E,payload:I}}else if(zx(E,S)||Ux(E,S)||Xm(E,S)){var $=dTe({graphicalItem:E,activeTooltipItem:S,itemData:O.data}),M=O.activeIndex===void 0?$:O.activeIndex;return{graphicalItem:ae(ae({},E),{},{childIndex:M}),payload:Xm(E,S)?O.data[$]:E.props.data[$]}}}return null}},{key:"render",value:function(){var w=this;if(!DD(this))return null;var _=this.props,j=_.children,S=_.className,k=_.width,N=_.height,E=_.style,P=_.compact,A=_.title,O=_.desc,T=dI(_,mOe),C=Be(T,!1);if(P)return L.createElement(QR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(yS,ku({},C,{width:k,height:N,title:A,desc:O}),this.renderClipPath(),OD(j,this.renderMap)));if(this.props.accessibilityLayer){var I,$;C.tabIndex=(I=this.props.tabIndex)!==null&&I!==void 0?I:0,C.role=($=this.props.role)!==null&&$!==void 0?$:"application",C.onKeyDown=function(D){w.accessibilityManager.keyboardEvent(D)},C.onFocus=function(){w.accessibilityManager.focus()}}var M=this.parseEventsOfWrapper();return L.createElement(QR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",ku({className:Ye("recharts-wrapper",S),style:ae({position:"relative",cursor:"default",width:k,height:N},E)},M,{ref:function(F){w.container=F}}),L.createElement(yS,ku({},C,{width:k,height:N,title:A,desc:O,style:TOe}),this.renderClipPath(),OD(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);Oe(v,"displayName",r),Oe(v,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Oe(v,"getDerivedStateFromProps",function(g,b){var y=g.dataKey,w=g.data,_=g.children,j=g.width,S=g.height,k=g.layout,N=g.stackOffset,E=g.margin,P=b.dataStartIndex,A=b.dataEndIndex;if(b.updateId===void 0){var O=mI(g);return ae(ae(ae({},O),{},{updateId:0},m(ae(ae({props:g},O),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:w,prevWidth:j,prevHeight:S,prevLayout:k,prevStackOffset:N,prevMargin:E,prevChildren:_})}if(y!==b.prevDataKey||w!==b.prevData||j!==b.prevWidth||S!==b.prevHeight||k!==b.prevLayout||N!==b.prevStackOffset||!Hu(E,b.prevMargin)){var T=mI(g),C={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},I=ae(ae({},hI(b,w,k)),{},{updateId:b.updateId+1}),$=ae(ae(ae({},T),C),I);return ae(ae(ae({},$),m(ae({props:g},$),b)),{},{prevDataKey:y,prevData:w,prevWidth:j,prevHeight:S,prevLayout:k,prevStackOffset:N,prevMargin:E,prevChildren:_})}if(!gS(_,b.prevChildren)){var M,D,F,z,U=Gn(_,Hd),R=U&&(M=(D=U.props)===null||D===void 0?void 0:D.startIndex)!==null&&M!==void 0?M:P,B=U&&(F=(z=U.props)===null||z===void 0?void 0:z.endIndex)!==null&&F!==void 0?F:A,K=R!==P||B!==A,J=!nt(w),X=J&&!K?b.updateId:b.updateId+1;return ae(ae({updateId:X},m(ae(ae({props:g},b),{},{updateId:X,dataStartIndex:R,dataEndIndex:B}),b)),{},{prevChildren:_,dataStartIndex:R,dataEndIndex:B})}return null}),Oe(v,"renderActiveDot",function(g,b,y){var w;return x.isValidElement(g)?w=x.cloneElement(g,b):qe(g)?w=g(b):w=L.createElement(_A,b),L.createElement(wt,{className:"recharts-active-dot",key:y},w)});var p=x.forwardRef(function(b,y){return L.createElement(v,ku({},b,{ref:y}))});return p.displayName=v.displayName,p},zOe=nq({chartName:"BarChart",GraphicalChild:Oc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Vx},{axisType:"yAxis",AxisComp:Qx}],formatAxisMap:H2e}),gI=nq({chartName:"PieChart",GraphicalChild:Ps,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Bx},{axisType:"radiusAxis",AxisComp:Lx}],formatAxisMap:$Ne,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const vI=5e5,UOe=(e,t)=>{const r=e&&e>0?e:1,n=Math.max(1,r-2),a=Math.min(24,r+2);return Ze({queryKey:["schedules-calendar",r,t],queryFn:async()=>{console.log(` Calendar: Loading weeks ${n}-${a} for class ${t||"all"} (currentWeek: ${e}  ${r})`);let s=[],i=0;const l=1e3;let c=!0,u=0;for(;c;){console.log(` Calendar batch: ${i} to ${i+l-1} (Progress: ${u} rows)`);let d=G.from("schedules_view").select("*").gte("academic_week",n).lte("academic_week",a).not("day_of_week","is",null).order("academic_week",{ascending:!0}).order("day_of_week",{ascending:!0}).order("start_time",{ascending:!0}).range(i,i+l-1);t&&(d=d.eq("class_id",t));const{data:f,error:h}=await d;if(h){console.error(" Error fetching batch from schedules_view:",h),console.log(" Falling back to schedules table with pagination...");let m=G.from("class_schedules").select(`
              *,
              schedule_subjects (id, name, code, color),
              classes (id, name, level, grade),
              teachers (id, full_name, nip)
            `).gte("academic_week",n).lte("academic_week",a).not("day_of_week","is",null).order("academic_week",{ascending:!0}).order("day_of_week",{ascending:!0}).order("start_time",{ascending:!0}).range(i,i+l-1);t&&(m=m.eq("class_id",t));const{data:v,error:p}=await m;if(p)throw console.error(" Fallback query also failed:",p),p;if(!v||v.length===0){c=!1;break}s=[...s,...v],u+=v.length,v.length<l?c=!1:i+=l;continue}if(!f||f.length===0){c=!1;break}s=[...s,...f],u+=f.length,f.length<l?c=!1:i+=l,u>=5e4&&(console.log(" Reached safety limit of 50k records for calendar"),c=!1)}return console.log(` Calendar data fetched: ${s.length} records for weeks ${n}-${a} (Total batches: ${Math.ceil(u/l)})`),s},enabled:!0,staleTime:2*60*1e3,gcTime:5*60*1e3})},Yo=()=>Ze({queryKey:["schedules-complete"],queryFn:async()=>{console.log(" Fetching ALL schedules with smart pagination...");let e=[],t=0;const r=500;let n=!0,a=0;for(;n;){console.log(` Complete batch: ${t} to ${t+r-1} (Progress: ${a} rows)`);const{data:i,error:l}=await G.from("schedules_view").select(`
            id,
            academic_week,
            day_of_week,
            start_time,
            end_time,
            subject_name,
            subject_color,
            class_name,
            class_id,
            subject_id,
            teacher_name,
            session_category_id,
            session_category_name,
            session_category_color,
            room,
            notes,
            tujuan_pembelajaran,
            materi_pembelajaran
          `).not("day_of_week","is",null).order("academic_week",{ascending:!0}).order("day_of_week",{ascending:!0}).order("start_time",{ascending:!0}).range(t,t+r-1);if(l)throw console.error(" Complete schedules batch error:",l),l;if(!i||i.length===0){n=!1;break}e=[...e,...i],a+=i.length,i.length<r?n=!1:t+=r,a>=vI&&(console.log(` Reached maximum limit of ${vI} records`),n=!1)}console.log(` Complete schedules data fetched: ${e.length} records (Total batches: ${Math.ceil(a/r)})`);const s=e.reduce((i,l)=>(i[l.academic_week]=(i[l.academic_week]||0)+1,i),{});return console.log(" Week distribution:",s),console.log(" Available weeks:",Object.keys(s).sort((i,l)=>parseInt(i)-parseInt(l))),e},staleTime:5*60*1e3,gcTime:15*60*1e3,refetchOnWindowFocus:!1,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),HOe=(e,t)=>Ze({queryKey:["schedules-single-week",e,t],queryFn:async()=>{console.log(` Fetching single week ${e} for class ${t||"all"}`);let r=G.from("schedules_view").select(`
          id,
          academic_week,
          day_of_week,
          start_time,
          end_time,
          subject_name,
          subject_color,
          class_name,
          class_id,
          subject_id,
          teacher_name,
          session_category_id,
          session_category_name,
          session_category_color,
          room,
          notes,
          tujuan_pembelajaran,
          materi_pembelajaran
        `).eq("academic_week",e).not("day_of_week","is",null).order("day_of_week",{ascending:!0}).order("start_time",{ascending:!0});t&&(r=r.eq("class_id",t));const{data:n,error:a}=await r;if(a)throw console.error(`Error fetching week ${e}:`,a),a;return console.log(` Single week ${e} fetched: ${(n==null?void 0:n.length)||0} records`),n||[]},enabled:e>0&&e<=24,staleTime:3*60*1e3,gcTime:10*60*1e3}),$r=()=>{const{profile:e}=ct();return Ze({queryKey:["academic-years"],queryFn:async()=>{if(!(e!=null&&e.school_id))return[];const{data:t,error:r}=await G.from("academic_years").select("*").eq("school_id",e.school_id).order("start_date",{ascending:!1});if(r)throw r;return t},enabled:!!(e!=null&&e.school_id)})},Si=()=>{const{profile:e}=ct();return Ze({queryKey:["active-academic-year"],queryFn:async()=>{if(!(e!=null&&e.school_id))return null;const{data:t,error:r}=await G.from("academic_years").select("*").eq("school_id",e.school_id).eq("is_active",!0).single();if(r&&r.code!=="PGRST116")throw r;return t},enabled:!!(e!=null&&e.school_id)})},qOe=()=>{const e=Ce(),{toast:t}=Te(),{profile:r}=ct();return Ee({mutationFn:async n=>{if(!(r!=null&&r.school_id))throw new Error("School ID not found");await G.from("academic_years").update({is_active:!1}).eq("school_id",r.school_id);const{data:a,error:s}=await G.from("academic_years").update({is_active:!0}).eq("id",n).eq("school_id",r.school_id).select().single();if(s)throw s;return await G.from("general_settings").upsert({school_id:r.school_id,active_academic_year_id:n,academic_year_id:n}),a},onSuccess:()=>{e.invalidateQueries({queryKey:["academic-years"]}),e.invalidateQueries({queryKey:["active-academic-year"]}),e.invalidateQueries({queryKey:["general-settings"]}),t({title:"Berhasil",description:"Tahun ajaran aktif berhasil diperbarui"})},onError:n=>{t({title:"Error",description:"Gagal memperbarui tahun ajaran aktif",variant:"destructive"}),console.error("Error updating active academic year:",n)}})},DA=()=>{const{profile:e}=ct(),{data:t}=$r(),r=Ce(),n=t==null?void 0:t.find(d=>d.is_active),{data:a=[],isLoading:s}=Ze({queryKey:["holidays",e==null?void 0:e.school_id,n==null?void 0:n.id],queryFn:async()=>{if(!(e!=null&&e.school_id)||!(n!=null&&n.id))return[];const{data:d,error:f}=await G.from("holidays").select("*").eq("school_id",e.school_id).eq("academic_year_id",n.id).order("start_date");return f?(console.error("Error fetching holidays:",f),[]):d||[]},enabled:!!(e!=null&&e.school_id)&&!!(n!=null&&n.id)}),i=Ee({mutationFn:async d=>{if(!(e!=null&&e.school_id)||!(n!=null&&n.id))throw new Error("Missing school or academic year data");const{data:f,error:h}=await G.from("holidays").insert([{...d,school_id:e.school_id,academic_year_id:n.id}]).select().single();if(h)throw h;return f},onSuccess:()=>{r.invalidateQueries({queryKey:["holidays"]}),ot({title:"Berhasil",description:"Event telah ditambahkan"})},onError:d=>{console.error("Error creating holiday:",d),ot({title:"Error",description:"Gagal menambahkan event",variant:"destructive"})}}),l=Ee({mutationFn:async({id:d,...f})=>{const{data:h,error:m}=await G.from("holidays").update(f).eq("id",d).select().single();if(m)throw m;return h},onSuccess:()=>{r.invalidateQueries({queryKey:["holidays"]}),ot({title:"Berhasil",description:"Event telah diperbarui"})},onError:d=>{console.error("Error updating holiday:",d),ot({title:"Error",description:"Gagal memperbarui event",variant:"destructive"})}}),c=Ee({mutationFn:async d=>{const{error:f}=await G.from("holidays").delete().eq("id",d);if(f)throw f},onSuccess:()=>{r.invalidateQueries({queryKey:["holidays"]}),ot({title:"Berhasil",description:"Event telah dihapus"})},onError:d=>{console.error("Error deleting holiday:",d),ot({title:"Error",description:"Gagal menghapus event",variant:"destructive"})}}),u=Ee({mutationFn:async d=>{if(!(e!=null&&e.school_id)||!(n!=null&&n.id))throw new Error("Missing school or academic year data");const f=d.map(v=>({...v,school_id:e.school_id,academic_year_id:n.id})),{data:h,error:m}=await G.from("holidays").insert(f).select();if(m)throw m;return h},onSuccess:d=>{r.invalidateQueries({queryKey:["holidays"]}),ot({title:"Berhasil",description:`${d.length} libur nasional telah ditambahkan`})},onError:d=>{console.error("Error creating multiple holidays:",d),ot({title:"Error",description:"Gagal menambahkan libur nasional",variant:"destructive"})}});return{holidays:a,isLoading:s,createHoliday:i.mutate,updateHoliday:l.mutate,deleteHoliday:c.mutate,createMultipleHolidays:u.mutate,isCreating:i.isPending,isUpdating:l.isPending,isDeleting:c.isPending,isCreatingMultiple:u.isPending}},jr=()=>Ze({queryKey:["classes"],queryFn:async()=>{const{data:e,error:t}=await G.from("classes").select("*").order("created_at",{ascending:!1});if(t)throw t;return e}}),WOe=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async r=>{var u;const{data:n}=await G.from("profiles").select("school_id").eq("id",(u=(await G.auth.getUser()).data.user)==null?void 0:u.id).single(),{data:a}=await G.from("academic_years").select("id").eq("school_id",n==null?void 0:n.school_id).eq("is_active",!0).single(),i={I:1,II:2,III:3,IV:4,V:5,VI:6,VII:7,VIII:8,IX:9,X:10,XI:11,XII:12}[r.level]||1,{data:l,error:c}=await G.from("classes").insert({...r,grade:i,school_id:n==null?void 0:n.school_id,academic_year_id:a==null?void 0:a.id}).select().single();if(c)throw c;return l},onSuccess:()=>{e.invalidateQueries({queryKey:["classes"]}),t({title:"Berhasil",description:"Data kelas berhasil ditambahkan"})},onError:r=>{t({title:"Gagal",description:"Gagal menambahkan data kelas: "+r.message,variant:"destructive"})}})},KOe=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async({id:r,...n})=>{if(n.level){const i={I:1,II:2,III:3,IV:4,V:5,VI:6,VII:7,VIII:8,IX:9,X:10,XI:11,XII:12};n.grade=i[n.level]||1}const{data:a,error:s}=await G.from("classes").update(n).eq("id",r).select().single();if(s)throw s;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["classes"]}),t({title:"Berhasil",description:"Data kelas berhasil diperbarui"})},onError:r=>{t({title:"Gagal",description:"Gagal memperbarui data kelas: "+r.message,variant:"destructive"})}})},GOe=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async r=>{const{error:n}=await G.from("classes").delete().eq("id",r);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["classes"]}),t({title:"Berhasil",description:"Data kelas berhasil dihapus"})},onError:r=>{t({title:"Gagal",description:"Gagal menghapus data kelas: "+r.message,variant:"destructive"})}})},Jx=()=>{const{profile:e}=ct(),{data:t}=$r(),r=t==null?void 0:t.find(n=>n.is_active);return Ze({queryKey:["schedule-subjects",e==null?void 0:e.school_id,r==null?void 0:r.id],queryFn:async()=>{if(!(e!=null&&e.school_id)||!(r!=null&&r.id))throw new Error("Missing required data");console.log("Fetching schedule subjects for:",{school_id:e.school_id,academic_year_id:r.id});const{data:n,error:a}=await G.from("schedule_subjects").select(`
          *,
          session_categories (
            id,
            name,
            color
          )
        `).eq("school_id",e.school_id).eq("academic_year_id",r.id).order("name",{ascending:!0});if(a)throw console.error("Error fetching schedule subjects:",a),a;return console.log("Schedule Subjects fetched:",{academicYear:r.id,totalSubjects:(n==null?void 0:n.length)||0,subjects:n==null?void 0:n.map(s=>{var i;return{name:s.name,category:(i=s.session_categories)==null?void 0:i.name}})}),n},enabled:!!(e!=null&&e.school_id)&&!!(r!=null&&r.id),staleTime:0,gcTime:0,retry:2,refetchOnWindowFocus:!0,refetchOnMount:!0})},MA=(e=!0)=>{const t=Ce(),{toast:r}=Te(),{profile:n}=ct(),{data:a}=$r(),s=a==null?void 0:a.find(i=>i.is_active);return Ee({mutationFn:async i=>{var l;try{if(console.log("Creating schedule subject with data:",i),!(n!=null&&n.school_id)||!(s!=null&&s.id))throw new Error("Data sekolah atau tahun akademik tidak ditemukan");const c={name:i.name.trim(),code:((l=i.code)==null?void 0:l.trim())||null,color:i.color,total_hours_per_year:i.total_hours_per_year||0,standard_duration:i.standard_duration||45,session_category_id:i.schedule_category_id,school_id:n.school_id,academic_year_id:s.id};console.log("Insert data for schedule_subjects:",c);const{data:u,error:d}=await G.from("schedule_subjects").insert(c).select("*").single();if(d)throw console.error("Supabase error creating schedule subject:",d),d.code==="23505"?new Error("Mata pelajaran dengan nama tersebut sudah ada untuk kategori ini"):d;if(i.selected_classes&&i.selected_classes.length>0){console.log("Creating class assignments for:",i.selected_classes);const f=i.selected_classes.map(m=>({schedule_subject_id:u.id,class_id:m,hours_per_week:0,hours_per_year:0})),{error:h}=await G.from("schedule_class_subjects").insert(f);h?console.error(" Error creating class assignments:",h):console.log(" Class assignments created successfully for",i.selected_classes.length,"classes")}else console.log(" No classes selected, subject will appear for all classes by default");return console.log("Schedule subject created successfully:",u),u}catch(c){throw console.error("Full error in createScheduleSubject:",c),c}},onSuccess:async i=>{console.log(" useCreateScheduleSubject onSuccess called with:",i),console.log(" Created subject details:",{id:i==null?void 0:i.id,name:i==null?void 0:i.name,session_category_id:i==null?void 0:i.session_category_id,school_id:i==null?void 0:i.school_id,academic_year_id:i==null?void 0:i.academic_year_id,timestamp:new Date().toISOString()}),console.log(" Starting comprehensive cache invalidation..."),await Promise.all([t.invalidateQueries({queryKey:["schedule-subjects"]}),t.invalidateQueries({queryKey:["schedule-subjects-by-category"]}),t.invalidateQueries({queryKey:["schedule-class-subjects"]}),t.invalidateQueries({queryKey:["subjects"]}),t.invalidateQueries({queryKey:["matrix-subjects"]}),t.invalidateQueries({queryKey:["matrix-class-subjects"]}),t.invalidateQueries({queryKey:["all-subjects-by-category"]}),t.invalidateQueries({queryKey:["class-subjects-by-category"]}),t.invalidateQueries({queryKey:["kbm-subjects"]}),t.invalidateQueries({queryKey:["unified-subjects"]})]),console.log(" Cache invalidation completed"),setTimeout(()=>{console.log(" Starting force refetch..."),t.refetchQueries({queryKey:["schedule-subjects"]}),t.refetchQueries({queryKey:["schedule-subjects-by-category"]}),t.refetchQueries({queryKey:["all-subjects-by-category"]}),t.refetchQueries({queryKey:["matrix-subjects"]}),t.refetchQueries({queryKey:["kbm-subjects"]}),console.log(" Force refetch completed")},200),e&&r({title:"Berhasil",description:"Mata pelajaran berhasil dibuat"})},onError:i=>{console.error("useCreateScheduleSubject onError called with:",i),e&&r({title:"Gagal",description:(i==null?void 0:i.message)||"Gagal membuat mata pelajaran",variant:"destructive"})}})},aq=(e=!0)=>{const t=Ce(),{toast:r}=Te();return Ee({mutationFn:async({id:n,...a})=>{const{data:s,error:i}=await G.from("schedule_subjects").update(a).eq("id",n).select("*").single();if(i)throw i;return s},onSuccess:async()=>{await t.invalidateQueries({queryKey:["schedule-subjects"]}),await t.invalidateQueries({queryKey:["schedule-subjects-by-category"]}),await t.invalidateQueries({queryKey:["schedule-class-subjects"]}),await t.invalidateQueries({queryKey:["subjects"]}),await t.invalidateQueries({queryKey:["matrix-subjects"]}),await t.invalidateQueries({queryKey:["all-subjects-by-category"]}),t.refetchQueries({queryKey:["schedule-subjects"]}),t.refetchQueries({queryKey:["schedule-subjects-by-category"]}),e&&r({title:"Berhasil",description:"Mata pelajaran berhasil diperbarui"})},onError:n=>{e&&r({title:"Gagal",description:(n==null?void 0:n.message)||"Gagal memperbarui mata pelajaran",variant:"destructive"})}})},sq=(e=!0)=>{const t=Ce(),{toast:r}=Te();return Ee({mutationFn:async n=>{const{error:a}=await G.from("schedule_subjects").delete().eq("id",n);if(a)throw a},onSuccess:()=>{t.invalidateQueries({queryKey:["schedule-subjects"]}),t.invalidateQueries({queryKey:["schedule-subjects-by-category"]}),t.invalidateQueries({queryKey:["schedule-class-subjects"]}),e&&r({title:"Berhasil",description:"Mata pelajaran berhasil dihapus"})},onError:n=>{e&&r({title:"Gagal",description:(n==null?void 0:n.message)||"Gagal menghapus mata pelajaran",variant:"destructive"})}})},iq=()=>{const{profile:e}=ct(),{data:t}=$r(),r=t==null?void 0:t.find(n=>n.is_active);return Ze({queryKey:["schedule-class-subjects",e==null?void 0:e.school_id,r==null?void 0:r.id],queryFn:async()=>{if(!(e!=null&&e.school_id)||!(r!=null&&r.id))throw new Error("Missing required data");console.log("Fetching schedule class subjects for:",{school_id:e.school_id,academic_year_id:r.id});const{data:n,error:a}=await G.from("schedule_class_subjects").select(`
          *,
          classes!inner (
            id, name, level, grade, capacity, school_id, academic_year_id
          ),
          schedule_subjects (
            id, name, code, color, total_hours_per_year
          )
        `).eq("classes.school_id",e.school_id).eq("classes.academic_year_id",r.id).order("created_at",{ascending:!1});if(a)throw console.error("Error fetching schedule class subjects:",a),a;return console.log("Schedule Class Subjects fetched:",{academicYear:r.id,totalRelations:(n==null?void 0:n.length)||0}),n},enabled:!!(e!=null&&e.school_id)&&!!(r!=null&&r.id),staleTime:0,gcTime:0,retry:2,refetchOnWindowFocus:!0,refetchOnMount:!0})},oq=(e=!0)=>{const t=Ce(),{toast:r}=Te();return Ee({mutationFn:async n=>{try{console.log("Creating schedule class subject with data:",n);const a={class_id:n.class_id,schedule_subject_id:n.schedule_subject_id,hours_per_week:n.hours_per_week||0,hours_per_year:n.hours_per_year||0};console.log("Insert data for schedule_class_subjects:",a);const{data:s,error:i}=await G.from("schedule_class_subjects").insert(a).select(`
            *,
            class:classes(id, name, level, grade),
            schedule_subject:schedule_subjects(*)
          `).single();if(i)throw console.error("Supabase error creating schedule class subject:",i),i.code==="23505"?new Error("Mata pelajaran sudah ditambahkan ke kelas ini"):i;return console.log("Schedule class subject created successfully:",s),s}catch(a){throw console.error("Full error in createScheduleClassSubject:",a),a}},onSuccess:async n=>{console.log("useCreateScheduleClassSubject onSuccess called with:",n),await Promise.all([t.invalidateQueries({queryKey:["schedule-class-subjects"]}),t.invalidateQueries({queryKey:["schedule-subjects-by-category"]}),t.invalidateQueries({queryKey:["schedule-subjects"]}),t.invalidateQueries({queryKey:["subjects"]}),t.invalidateQueries({queryKey:["matrix-subjects"]}),t.invalidateQueries({queryKey:["matrix-class-subjects"]}),t.invalidateQueries({queryKey:["class-subjects"]}),t.invalidateQueries({queryKey:["all-subjects-by-category"]}),t.invalidateQueries({queryKey:["class-subjects-by-category"]})]),setTimeout(()=>{t.refetchQueries({queryKey:["schedule-class-subjects"]}),t.refetchQueries({queryKey:["schedule-subjects-by-category"]}),t.refetchQueries({queryKey:["all-subjects-by-category"]}),t.refetchQueries({queryKey:["matrix-subjects"]})},200),e&&r({title:"Berhasil",description:"Mata pelajaran berhasil ditambahkan ke kelas"})},onError:n=>{console.error("useCreateScheduleClassSubject onError called with:",n),e&&r({title:"Gagal",description:(n==null?void 0:n.message)||"Gagal menambahkan mata pelajaran ke kelas",variant:"destructive"})}})},VOe=(e=!0)=>{const t=Ce(),{toast:r}=Te();return Ee({mutationFn:async n=>{const{error:a}=await G.from("schedule_class_subjects").delete().eq("id",n);if(a)throw a},onSuccess:()=>{t.invalidateQueries({queryKey:["schedule-class-subjects"]}),t.invalidateQueries({queryKey:["schedule-subjects-by-category"]}),e&&r({title:"Berhasil",description:"Relasi mata pelajaran dengan kelas berhasil dihapus"})},onError:n=>{e&&r({title:"Gagal",description:(n==null?void 0:n.message)||"Gagal menghapus relasi mata pelajaran dengan kelas",variant:"destructive"})}})},Xx=()=>Ze({queryKey:["teachers"],queryFn:async()=>{console.log(" Fetching teachers data...");try{const{data:e}=await G.auth.getUser();if(!e.user)throw new Error("User not authenticated");const{data:t}=await G.from("profiles").select("school_id").eq("id",e.user.id).single();if(!(t!=null&&t.school_id))throw new Error("School ID not found in profile");const{data:r,error:n}=await G.from("teachers").select("*").eq("school_id",t.school_id).order("created_at",{ascending:!1});if(n)throw console.error(" Error fetching teachers:",n),n;return console.log(" Teachers data fetched successfully:",r),r||[]}catch(e){throw console.error(" Exception in useTeachers:",e),e}}}),QOe=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async r=>{var l;const{data:n}=await G.from("profiles").select("school_id").eq("id",(l=(await G.auth.getUser()).data.user)==null?void 0:l.id).single(),{data:a}=await G.from("academic_years").select("id").eq("school_id",n==null?void 0:n.school_id).eq("is_active",!0).single(),{data:s,error:i}=await G.from("teachers").insert({...r,school_id:n==null?void 0:n.school_id,academic_year_id:a==null?void 0:a.id}).select().single();if(i)throw i;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["teachers"]}),t({title:"Berhasil",description:"Data guru berhasil ditambahkan"})},onError:r=>{t({title:"Gagal",description:"Gagal menambahkan data guru: "+r.message,variant:"destructive"})}})},YOe=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async({id:r,...n})=>{const{data:a,error:s}=await G.from("teachers").update(n).eq("id",r).select().single();if(s)throw s;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["teachers"]}),t({title:"Berhasil",description:"Data guru berhasil diperbarui"})},onError:r=>{t({title:"Gagal",description:"Gagal memperbarui data guru: "+r.message,variant:"destructive"})}})},JOe=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async r=>{const{error:n}=await G.from("teachers").delete().eq("id",r);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["teachers"]}),t({title:"Berhasil",description:"Data guru berhasil dihapus"})},onError:r=>{t({title:"Gagal",description:"Gagal menghapus data guru: "+r.message,variant:"destructive"})}})},nn=()=>{const{data:e}=$r(),t=x.useMemo(()=>e==null?void 0:e.find(n=>n.is_active),[e]);return{academicWeeks:x.useMemo(()=>{if(!t)return[];const n=new Date(t.start_date),a=new Date(t.end_date),s=[];let i=tn(n,{weekStartsOn:1}),l=1;for(;i<=a;){const c=Ac(i,{weekStartsOn:1});s.push({weekNumber:l,startDate:i,endDate:c,label:`Minggu ${l}`,dateRange:`${Ne(i,"dd MMM",{locale:Nt})} - ${Ne(c,"dd MMM yyyy",{locale:Nt})}`,isCurrentWeek:tx(new Date,{start:i,end:c})}),i=Cd(i,1),l++}return s},[t]),activeAcademicYear:t}},yI=({username:e})=>{const[t]=x.useState(new Date),[r,n]=x.useState("all");ct();const a=kc(),{data:s=[],isLoading:i}=Yo(),{holidays:l=[],isLoading:c}=DA(),{data:u=[]}=jr(),{data:d=[]}=Jx(),{data:f=[]}=Xx(),{data:h}=Si(),{academicWeeks:m}=nn(),v=x.useMemo(()=>r==="all"?s:s.filter(k=>k.class_id===r),[s,r]),p=x.useMemo(()=>r==="all"?null:u.find(k=>k.id===r),[u,r]),g=x.useMemo(()=>{const k=new Date,N=m.find(M=>M.isCurrentWeek),E=v.filter(M=>{var z;if(!N)return!1;const D=parseInt(((z=M.academic_week)==null?void 0:z.toString())||"0"),F=k.getDay()===0?7:k.getDay();return D===N.weekNumber&&M.day_of_week===F}),P=v.filter(M=>{var F;return N?parseInt(((F=M.academic_week)==null?void 0:F.toString())||"0")===N.weekNumber:!1}),A=new Date,O=h?new Date(h.end_date):new Date,C=ns({start:A,end:O}).filter(M=>{if(Bl(M)===0)return!1;const F=Ne(M,"yyyy-MM-dd");return!l.some(U=>{const R=Ne(new Date(U.start_date),"yyyy-MM-dd"),B=Ne(new Date(U.end_date),"yyyy-MM-dd");return F>=R&&F<=B})}).length,I=[...new Set(v.map(M=>M.subject_id))],$=[...new Set(v.map(M=>M.teacher_id).filter(Boolean))];return{todaySchedules:E.length,thisWeekSchedules:P.length,totalClasses:r==="all"?u.length:1,totalSubjects:r==="all"?d.length:I.length,totalTeachers:r==="all"?f.length:$.length,effectiveDaysLeft:C,totalSchedules:v.length}},[v,u,d,f,l,m,h,r]),b=x.useMemo(()=>{const k=new Date,N=m.find(A=>A.isCurrentWeek);if(!N)return[];const E=k.getDay()===0?7:k.getDay();return v.filter(A=>{var T;return parseInt(((T=A.academic_week)==null?void 0:T.toString())||"0")===N.weekNumber&&A.day_of_week===E}).sort((A,O)=>(A.start_time||"").localeCompare(O.start_time||"")).map(A=>{const T=Ne(new Date,"HH:mm"),C=A.start_time||"",I=A.end_time||"";let $="upcoming";return T>=C&&T<=I?$="ongoing":T>I&&($="completed"),{...A,status:$,progress:$==="ongoing"?Math.round((new Date(`2000-01-01 ${T}`).getTime()-new Date(`2000-01-01 ${C}`).getTime())/(new Date(`2000-01-01 ${I}`).getTime()-new Date(`2000-01-01 ${C}`).getTime())*100):0}})},[v,m]),y=x.useMemo(()=>{const k=new Date;return l.filter(N=>new Date(N.start_date)>=k).sort((N,E)=>new Date(N.start_date).getTime()-new Date(E.start_date).getTime()).slice(0,5)},[l]),w=x.useMemo(()=>{const k=new Date,N=dr(k),E=xi(k);return ns({start:N,end:E}).map(A=>{const O=Ne(A,"yyyy-MM-dd"),T=l.some(M=>{const D=Ne(new Date(M.start_date),"yyyy-MM-dd"),F=Ne(new Date(M.end_date),"yyyy-MM-dd");return O>=D&&O<=F}),C=A.getDay()===0?7:A.getDay(),I=m.find(M=>M.isCurrentWeek),$=I&&v.some(M=>{var F;return parseInt(((F=M.academic_week)==null?void 0:F.toString())||"0")===I.weekNumber&&M.day_of_week===C});return{date:A,isToday:Dle(A),hasEvent:T,hasSchedules:$,dayNumber:A.getDate()}})},[l,v,m]),_=x.useMemo(()=>{const k=v.reduce((E,P)=>{const A=P.subject_name||"Unknown";return E[A]=(E[A]||0)+1,E},{}),N=["#84cc16","#3b82f6","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#10b981"];return Object.entries(k).sort(([,E],[,P])=>P-E).slice(0,8).map(([E,P],A)=>({name:E,value:P,color:N[A%N.length]}))},[v]),j=x.useMemo(()=>{const k=m.find(E=>E.isCurrentWeek);return k?[{name:"Senin",key:1},{name:"Selasa",key:2},{name:"Rabu",key:3},{name:"Kamis",key:4},{name:"Jumat",key:5},{name:"Sabtu",key:6},{name:"Minggu",key:7}].map(({name:E,key:P})=>{const A=v.filter(O=>{var C;return parseInt(((C=O.academic_week)==null?void 0:C.toString())||"0")===k.weekNumber&&O.day_of_week===P});return{day:E,jadwal:A.length,percentage:v.length>0?A.length/v.length*100:0}}):[]},[v,m]),S=x.useMemo(()=>{const k=b.reduce((N,E)=>(N[E.status]=(N[E.status]||0)+1,N),{});return[{name:"Akan Datang",value:k.upcoming||0,color:"#3b82f6"},{name:"Berlangsung",value:k.ongoing||0,color:"#10b981"},{name:"Selesai",value:k.completed||0,color:"#6b7280"}].filter(N=>N.value>0)},[b]);return i||c?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-lime-400 mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Memuat dashboard..."})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-lime-400/5 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-400/5 rounded-full blur-3xl"})]}),o.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold text-foreground mb-2",children:["Selamat Datang, ",e,"!"]}),o.jsxs("p",{className:"text-muted-foreground",children:["Tahun Akademik ",(h==null?void 0:h.year_name)||"2024/2025",p&&o.jsx("span",{className:"ml-2 px-2 py-1 bg-lime-400/20 text-lime-400 rounded-md text-sm font-medium",children:p.name})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(bi,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs(ze,{value:r,onValueChange:n,children:[o.jsx($e,{className:"w-48 bg-card border-border",children:o.jsx(Ue,{placeholder:"Pilih Kelas"})}),o.jsxs(Le,{children:[o.jsx(pe,{value:"all",children:"Semua Kelas"}),u.map(k=>o.jsxs(pe,{value:k.id,children:[k.name," - ",k.level]},k.id))]})]})]})]}),o.jsx("div",{className:"mt-4 p-3 bg-muted/30 rounded-lg border border-border",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.jsx("span",{className:"font-medium",children:"Sumber Data:"}),r==="all"?` Menampilkan data dari semua ${u.length} kelas dengan total ${g.totalSchedules} jadwal`:` Menampilkan data khusus untuk kelas ${p==null?void 0:p.name} dengan ${g.totalSchedules} jadwal`]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs(le,{className:"bg-gradient-to-br from-lime-400/10 to-lime-600/10 border-lime-400/20",children:[o.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Pe,{className:"text-sm font-medium text-lime-400",children:"Jadwal Hari Ini"}),o.jsx(lr,{className:"h-4 w-4 text-lime-400"})]}),o.jsxs(ce,{children:[o.jsx("div",{className:"text-2xl font-bold text-foreground",children:g.todaySchedules}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["dari ",g.thisWeekSchedules," jadwal minggu ini"]})]})]}),o.jsxs(le,{className:"bg-gradient-to-br from-blue-400/10 to-blue-600/10 border-blue-400/20",children:[o.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Pe,{className:"text-sm font-medium text-blue-400",children:r==="all"?"Total Kelas":"Mata Pelajaran"}),o.jsx(xo,{className:"h-4 w-4 text-blue-400"})]}),o.jsxs(ce,{children:[o.jsx("div",{className:"text-2xl font-bold text-foreground",children:r==="all"?g.totalClasses:g.totalSubjects}),o.jsx("p",{className:"text-xs text-muted-foreground",children:r==="all"?"kelas aktif":"mata pelajaran unik"})]})]}),o.jsxs(le,{className:"bg-gradient-to-br from-purple-400/10 to-purple-600/10 border-purple-400/20",children:[o.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Pe,{className:"text-sm font-medium text-purple-400",children:"Total Guru"}),o.jsx(vr,{className:"h-4 w-4 text-purple-400"})]}),o.jsxs(ce,{children:[o.jsx("div",{className:"text-2xl font-bold text-foreground",children:g.totalTeachers}),o.jsx("p",{className:"text-xs text-muted-foreground",children:r==="all"?"guru aktif":"guru mengajar"})]})]}),o.jsxs(le,{className:"bg-gradient-to-br from-orange-400/10 to-orange-600/10 border-orange-400/20",children:[o.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Pe,{className:"text-sm font-medium text-orange-400",children:"Hari Efektif"}),o.jsx(Zn,{className:"h-4 w-4 text-orange-400"})]}),o.jsxs(ce,{children:[o.jsx("div",{className:"text-2xl font-bold text-foreground",children:g.effectiveDaysLeft}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"hari tersisa tahun ini"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs(le,{className:"bg-card/40 backdrop-blur-sm border-border",children:[o.jsxs(ke,{children:[o.jsxs(Pe,{className:"flex items-center gap-2",children:[o.jsx(HY,{className:"h-5 w-5 text-purple-400"}),"Distribusi Mata Pelajaran"]}),o.jsx(Nn,{children:r==="all"?"Distribusi jadwal per mata pelajaran (semua kelas)":`Distribusi jadwal mata pelajaran untuk kelas ${p==null?void 0:p.name}`})]}),o.jsx(ce,{children:_.length>0?o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsx("div",{className:"flex-1",children:o.jsx(T_,{width:"100%",height:200,children:o.jsxs(gI,{children:[o.jsx(Ps,{data:_,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:_.map((k,N)=>o.jsx(Cm,{fill:k.color},`cell-${N}`))}),o.jsx(pa,{})]})})}),o.jsx("div",{className:"flex-1 space-y-2",children:_.map((k,N)=>o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:k.color}}),o.jsx("span",{className:"flex-1 truncate",children:k.name}),o.jsx("span",{className:"font-medium",children:k.value})]},N))})]}):o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Tidak ada data jadwal untuk ditampilkan"})})]}),o.jsxs(le,{className:"bg-card/40 backdrop-blur-sm border-border",children:[o.jsxs(ke,{children:[o.jsxs(Pe,{className:"flex items-center gap-2",children:[o.jsx($l,{className:"h-5 w-5 text-blue-400"}),"Distribusi Jadwal Mingguan"]}),o.jsx(Nn,{children:r==="all"?"Jumlah jadwal per hari dalam seminggu (semua kelas)":`Jadwal per hari untuk kelas ${p==null?void 0:p.name}`})]}),o.jsx(ce,{children:j.length>0?o.jsx(T_,{width:"100%",height:200,children:o.jsxs(zOe,{data:j,children:[o.jsx(UH,{strokeDasharray:"3 3"}),o.jsx(Vx,{dataKey:"day"}),o.jsx(Qx,{}),o.jsx(pa,{}),o.jsx(Oc,{dataKey:"jadwal",fill:"#84cc16",radius:[4,4,0,0]})]})}):o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Tidak ada data jadwal mingguan"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs(le,{className:"bg-card/40 backdrop-blur-sm border-border",children:[o.jsxs(ke,{children:[o.jsxs(Pe,{className:"flex items-center gap-2",children:[o.jsx(rt,{className:"h-5 w-5 text-lime-400"}),"Kalender ",Ne(t,"MMMM yyyy",{locale:Nt})]}),o.jsx(Nn,{children:r==="all"?"Kalender dengan highlight jadwal dari semua kelas":`Kalender dengan highlight jadwal kelas ${p==null?void 0:p.name}`})]}),o.jsxs(ce,{children:[o.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Min","Sen","Sel","Rab","Kam","Jum","Sab"].map(k=>o.jsx("div",{className:"text-center text-sm text-muted-foreground font-medium p-2",children:k},k))}),o.jsx("div",{className:"grid grid-cols-7 gap-2",children:w.map((k,N)=>o.jsxs("div",{className:`
                        h-10 flex items-center justify-center text-sm rounded-lg cursor-pointer transition-all duration-200 relative
                        ${k.isToday?"bg-lime-400 text-lime-900 font-bold":k.hasEvent?"bg-red-400/20 text-red-400 hover:bg-red-400/30":k.hasSchedules?"bg-blue-400/20 text-blue-400 hover:bg-blue-400/30":"text-muted-foreground hover:bg-muted/50"}
                      `,children:[k.dayNumber,k.hasEvent&&o.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-red-400 rounded-full"})]},N))})]})]}),o.jsxs(le,{className:"bg-card/40 backdrop-blur-sm border-border",children:[o.jsxs(ke,{children:[o.jsxs(Pe,{className:"flex items-center gap-2",children:[o.jsx(U5,{className:"h-5 w-5 text-blue-400"}),"Jadwal Hari Ini"]}),o.jsxs(Nn,{children:[Ne(new Date,"EEEE, dd MMMM yyyy",{locale:Nt}),r!=="all"&&o.jsxs("span",{className:"ml-2 text-blue-400",children:[" Kelas ",p==null?void 0:p.name]})]})]}),o.jsx(ce,{children:b.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(wd,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:r==="all"?"Tidak ada jadwal hari ini":`Tidak ada jadwal hari ini untuk kelas ${p==null?void 0:p.name}`})]}):o.jsx("div",{className:"space-y-4",children:b.map((k,N)=>o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted/30 rounded-lg",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:`w-3 h-3 rounded-full ${k.status==="ongoing"?"bg-green-400":k.status==="completed"?"bg-gray-400":"bg-blue-400"}`})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-medium text-foreground truncate",children:k.subject_name||"Mata Pelajaran"}),o.jsx(ht,{variant:k.status==="ongoing"?"default":k.status==="completed"?"secondary":"outline",children:k.status==="ongoing"?"Berlangsung":k.status==="completed"?"Selesai":"Akan Datang"})]}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[k.start_time," - ",k.end_time,r==="all"&&o.jsxs("span",{children:["  ",k.class_name]})]}),k.teacher_name&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Guru: ",k.teacher_name]}),k.status==="ongoing"&&o.jsx(xC,{value:k.progress,className:"mt-2 h-2"})]})]},N))})})]})]}),o.jsxs("div",{className:"space-y-6",children:[S.length>0&&o.jsxs(le,{className:"bg-card/40 backdrop-blur-sm border-border",children:[o.jsxs(ke,{children:[o.jsxs(Pe,{className:"flex items-center gap-2",children:[o.jsx(_E,{className:"h-5 w-5 text-green-400"}),"Status Jadwal Hari Ini"]}),o.jsx(Nn,{children:r==="all"?"Status jadwal dari semua kelas":`Status jadwal kelas ${p==null?void 0:p.name}`})]}),o.jsx(ce,{children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"flex-1",children:o.jsx(T_,{width:"100%",height:120,children:o.jsxs(gI,{children:[o.jsx(Ps,{data:S,cx:"50%",cy:"50%",innerRadius:30,outerRadius:50,paddingAngle:5,dataKey:"value",children:S.map((k,N)=>o.jsx(Cm,{fill:k.color},`cell-${N}`))}),o.jsx(pa,{})]})})}),o.jsx("div",{className:"flex-1 space-y-2",children:S.map((k,N)=>o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:k.color}}),o.jsx("span",{className:"flex-1",children:k.name}),o.jsx("span",{className:"font-medium",children:k.value})]},N))})]})})]}),o.jsxs(le,{className:"bg-card/40 backdrop-blur-sm border-border",children:[o.jsxs(ke,{children:[o.jsxs(Pe,{className:"flex items-center gap-2",children:[o.jsx(mt,{className:"h-5 w-5 text-lime-400"}),"Aksi Cepat"]}),o.jsx(Nn,{children:"Navigasi cepat ke fitur utama"})]}),o.jsxs(ce,{className:"space-y-3",children:[o.jsxs(V,{onClick:()=>a("/schedules"),className:"w-full justify-start bg-lime-400/10 hover:bg-lime-400/20 text-lime-400 border-lime-400/20",variant:"outline",children:[o.jsx(ir,{className:"h-4 w-4 mr-2"}),"Kelola Jadwal"]}),o.jsxs(V,{onClick:()=>a("/classes"),className:"w-full justify-start bg-blue-400/10 hover:bg-blue-400/20 text-blue-400 border-blue-400/20",variant:"outline",children:[o.jsx(xo,{className:"h-4 w-4 mr-2"}),"Kelola Kelas"]}),o.jsxs(V,{onClick:()=>a("/holidays"),className:"w-full justify-start bg-purple-400/10 hover:bg-purple-400/20 text-purple-400 border-purple-400/20",variant:"outline",children:[o.jsx(rt,{className:"h-4 w-4 mr-2"}),"Kelola Event"]})]})]}),o.jsxs(le,{className:"bg-card/40 backdrop-blur-sm border-border",children:[o.jsxs(ke,{children:[o.jsxs(Pe,{className:"flex items-center gap-2",children:[o.jsx(FY,{className:"h-5 w-5 text-orange-400"}),"Event Mendatang"]}),o.jsx(Nn,{children:"5 event terdekat dalam kalender"})]}),o.jsx(ce,{children:y.length===0?o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:"text-muted-foreground text-sm",children:"Tidak ada event mendatang"})}):o.jsx("div",{className:"space-y-3",children:y.map((k,N)=>o.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/20 rounded-lg",children:[o.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-orange-400 rounded-full mt-2"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-medium text-foreground text-sm truncate",children:k.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[Ne(new Date(k.start_date),"dd MMM yyyy",{locale:Nt}),k.start_date!==k.end_date&&o.jsxs("span",{children:[" - ",Ne(new Date(k.end_date),"dd MMM yyyy",{locale:Nt})]})]}),k.description&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:k.description})]})]},N))})})]}),o.jsxs(le,{className:"bg-card/40 backdrop-blur-sm border-border",children:[o.jsxs(ke,{children:[o.jsxs(Pe,{className:"flex items-center gap-2",children:[o.jsx(iJ,{className:"h-5 w-5 text-green-400"}),"Ringkasan Sistem"]}),o.jsx(Nn,{children:r==="all"?"Statistik keseluruhan sistem":`Statistik untuk kelas ${p==null?void 0:p.name}`})]}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Jadwal"}),o.jsx("span",{className:"font-medium",children:g.totalSchedules})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Jadwal Minggu Ini"}),o.jsx("span",{className:"font-medium",children:g.thisWeekSchedules})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Mata Pelajaran"}),o.jsx("span",{className:"font-medium",children:g.totalSubjects})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Guru Aktif"}),o.jsx("span",{className:"font-medium",children:g.totalTeachers})]}),o.jsx("div",{className:"pt-2 border-t border-border",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Tahun Akademik"}),o.jsx("span",{className:"font-medium text-xs",children:h==null?void 0:h.year_name})]})})]})]})]})]})]})]})},OA=()=>{const e=Ce();return x.useEffect(()=>{console.log(" Initializing comprehensive real-time sync system...");const t=G.channel("schedule-realtime-sync").on("postgres_changes",{event:"*",schema:"public",table:"class_schedules"},async r=>{console.log(" Real-time: class_schedules table changed (triggers schedules_view)",r),console.log(" Starting comprehensive cache invalidation for class_schedules..."),await Promise.all([e.invalidateQueries({queryKey:["schedules"]}),e.invalidateQueries({queryKey:["schedules-simple"]}),e.invalidateQueries({queryKey:["schedules-paginated"]}),e.invalidateQueries({queryKey:["schedules-complete"]}),e.invalidateQueries({queryKey:["schedules-calendar"]}),e.invalidateQueries({queryKey:["schedules-week"]}),e.invalidateQueries({queryKey:["schedule-subjects"]}),e.invalidateQueries({queryKey:["schedule-class-subjects"]}),e.invalidateQueries({queryKey:["jp-progress"]}),e.invalidateQueries({queryKey:["jp-progress-simple"]})]),console.log(" Force refetching critical queries for immediate UI update..."),setTimeout(()=>{e.refetchQueries({queryKey:["schedules-complete"]}),e.refetchQueries({queryKey:["schedules-simple"]}),e.refetchQueries({queryKey:["jp-progress-simple"]}),console.log(" Real-time UI refresh completed")},100)}).on("postgres_changes",{event:"*",schema:"public",table:"schedule_subjects"},async r=>{console.log(" Real-time: schedule_subjects table changed",r),console.log(" Payload details:",{eventType:r.eventType,new:r.new,old:r.old,table:r.table}),console.log(" Starting comprehensive cache invalidation..."),await Promise.all([e.invalidateQueries({queryKey:["schedules"]}),e.invalidateQueries({queryKey:["schedule-subjects"]}),e.invalidateQueries({queryKey:["schedule-subjects-by-category"]}),e.invalidateQueries({queryKey:["subjects"]}),e.invalidateQueries({queryKey:["matrix-subjects"]}),e.invalidateQueries({queryKey:["matrix-class-subjects"]}),e.invalidateQueries({queryKey:["all-subjects-by-category"]}),e.invalidateQueries({queryKey:["class-subjects-by-category"]}),e.invalidateQueries({queryKey:["kbm-subjects"]}),e.invalidateQueries({queryKey:["unified-subjects"]})]),console.log(" Cache invalidation completed"),setTimeout(()=>{console.log(" Starting force refetch..."),e.refetchQueries({queryKey:["schedule-subjects"]}),e.refetchQueries({queryKey:["schedule-subjects-by-category"]}),e.refetchQueries({queryKey:["all-subjects-by-category"]}),e.refetchQueries({queryKey:["matrix-subjects"]}),e.refetchQueries({queryKey:["kbm-subjects"]}),console.log(" Force refetch completed")},100)}).on("postgres_changes",{event:"*",schema:"public",table:"subjects"},async r=>{console.log(" Real-time: subjects table changed",r),await Promise.all([e.invalidateQueries({queryKey:["subjects"]}),e.invalidateQueries({queryKey:["schedules"]}),e.invalidateQueries({queryKey:["class-subjects"]}),e.invalidateQueries({queryKey:["schedule-subjects"]}),e.invalidateQueries({queryKey:["schedule-class-subjects"]}),e.invalidateQueries({queryKey:["schedule-subjects-by-category"]}),e.invalidateQueries({queryKey:["matrix-subjects"]}),e.invalidateQueries({queryKey:["matrix-class-subjects"]}),e.invalidateQueries({queryKey:["all-subjects-by-category"]}),e.invalidateQueries({queryKey:["class-subjects-by-category"]})]),setTimeout(()=>{e.refetchQueries({queryKey:["subjects"]}),e.refetchQueries({queryKey:["all-subjects-by-category"]}),e.refetchQueries({queryKey:["schedule-subjects-by-category"]}),e.refetchQueries({queryKey:["matrix-subjects"]})},100)}).on("postgres_changes",{event:"*",schema:"public",table:"session_categories"},r=>{console.log(" Real-time: session_categories table changed",r),e.invalidateQueries({queryKey:["session-categories"]}),e.invalidateQueries({queryKey:["subjects"]}),e.invalidateQueries({queryKey:["schedules"]}),e.invalidateQueries({queryKey:["schedule-subjects"]})}).on("postgres_changes",{event:"*",schema:"public",table:"classes"},r=>{console.log(" Real-time: classes table changed",r),e.invalidateQueries({queryKey:["classes"]}),e.invalidateQueries({queryKey:["schedules"]}),e.invalidateQueries({queryKey:["class-subjects"]}),e.invalidateQueries({queryKey:["schedule-class-subjects"]})}).on("postgres_changes",{event:"*",schema:"public",table:"teachers"},r=>{console.log(" Real-time: teachers table changed",r),e.invalidateQueries({queryKey:["teachers"]}),e.invalidateQueries({queryKey:["schedules"]})}).on("postgres_changes",{event:"*",schema:"public",table:"time_sessions"},r=>{console.log(" Real-time: time_sessions table changed",r),e.invalidateQueries({queryKey:["time-sessions"]}),e.invalidateQueries({queryKey:["schedules"]})}).on("postgres_changes",{event:"*",schema:"public",table:"schedule_class_subjects"},async r=>{console.log(" Real-time: schedule_class_subjects table changed",r),await Promise.all([e.invalidateQueries({queryKey:["schedule-class-subjects"]}),e.invalidateQueries({queryKey:["schedule-subjects-by-category"]}),e.invalidateQueries({queryKey:["matrix-subjects"]}),e.invalidateQueries({queryKey:["matrix-class-subjects"]}),e.invalidateQueries({queryKey:["all-subjects-by-category"]}),e.invalidateQueries({queryKey:["class-subjects-by-category"]}),e.invalidateQueries({queryKey:["subjects"]})]),setTimeout(()=>{e.refetchQueries({queryKey:["schedule-class-subjects"]}),e.refetchQueries({queryKey:["schedule-subjects-by-category"]}),e.refetchQueries({queryKey:["all-subjects-by-category"]}),e.refetchQueries({queryKey:["matrix-subjects"]})},100)}).subscribe(r=>{console.log(" Real-time sync subscription status:",r),r==="SUBSCRIBED"?(console.log(" Real-time sync successfully established for subjects matrix"),console.log(" Listening to tables: subjects, schedule_subjects, schedule_class_subjects, session_categories, classes")):r==="CHANNEL_ERROR"?console.error(" Real-time sync channel error"):r==="TIMED_OUT"?console.warn(" Real-time sync timed out"):r==="CLOSED"&&console.log(" Real-time sync channel closed")});return()=>{console.log(" Cleaning up real-time sync subscriptions..."),G.removeChannel(t)}},[e]),{isActive:!0,message:"Real-time sync is active"}},RA=()=>{const e=Ce();return{forceRefresh:()=>{console.log(" Force refreshing all schedule data..."),e.invalidateQueries({queryKey:["schedules"]}),e.invalidateQueries({queryKey:["schedules-simple"]}),e.invalidateQueries({queryKey:["schedules-paginated"]}),e.invalidateQueries({queryKey:["schedules-complete"]}),e.invalidateQueries({queryKey:["schedules-calendar"]}),e.invalidateQueries({queryKey:["schedules-week"]}),e.invalidateQueries({queryKey:["schedule-subjects"]}),e.invalidateQueries({queryKey:["schedule-class-subjects"]}),e.invalidateQueries({queryKey:["subjects"]}),e.invalidateQueries({queryKey:["session-categories"]}),e.invalidateQueries({queryKey:["jp-progress"]}),e.invalidateQueries({queryKey:["jp-progress-simple"]}),e.refetchQueries({queryKey:["schedules-complete"]}),e.refetchQueries({queryKey:["schedules-simple"]}),e.refetchQueries({queryKey:["jp-progress-simple"]})}}},XOe=e=>Ze({queryKey:["grade-levels",e],queryFn:async()=>{let t=G.from("grade_levels").select("*").eq("is_active",!0).order("grade_number");const{data:r,error:n}=await t;if(n)throw n;return r},enabled:!e}),Ft=tC,ZOe=rC,lq=x.forwardRef(({className:e,...t},r)=>o.jsx(Mp,{ref:r,className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));lq.displayName=Mp.displayName;const Ct=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(ZOe,{children:[o.jsx(lq,{}),o.jsxs(Op,{ref:n,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(H0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Co,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ct.displayName=Op.displayName;const At=({className:e,...t})=>o.jsx("div",{className:se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});At.displayName="DialogHeader";const an=({className:e,...t})=>o.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});an.displayName="DialogFooter";const Pt=x.forwardRef(({className:e,...t},r)=>o.jsx(Rp,{ref:r,className:se("text-lg font-semibold leading-none tracking-tight",e),...t}));Pt.displayName=Rp.displayName;const cq=x.forwardRef(({className:e,...t},r)=>o.jsx(Ip,{ref:r,className:se("text-sm text-muted-foreground",e),...t}));cq.displayName=Ip.displayName;var eRe="Label",uq=x.forwardRef((e,t)=>o.jsx(Ae.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));uq.displayName=eRe;var dq=uq;const tRe=Sc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),oe=x.forwardRef(({className:e,...t},r)=>o.jsx(dq,{ref:r,className:se(tRe(),e),...t}));oe.displayName=dq.displayName;const IA=()=>Ze({queryKey:["education-levels"],queryFn:async()=>{const{data:e,error:t}=await G.from("education_levels").select("*").eq("is_active",!0).order("min_grade");if(t)throw t;return e}}),rRe=()=>{const e=Ce(),{toast:t}=Te(),{profile:r}=ct();return Ee({mutationFn:async n=>{if(!(r!=null&&r.school_id))throw new Error("School ID not found");const{data:a,error:s}=await G.from("education_levels").insert({...n,school_id:r.school_id}).select().single();if(s)throw s;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["education-levels"]}),t({title:"Berhasil",description:"Jenjang pendidikan berhasil ditambahkan"})},onError:n=>{t({title:"Error",description:"Gagal menambahkan jenjang pendidikan",variant:"destructive"}),console.error("Error creating education level:",n)}})},nRe=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async({id:r,...n})=>{const{data:a,error:s}=await G.from("education_levels").update(n).eq("id",r).select().single();if(s)throw s;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["education-levels"]}),t({title:"Berhasil",description:"Jenjang pendidikan berhasil diperbarui"})},onError:r=>{t({title:"Error",description:"Gagal memperbarui jenjang pendidikan",variant:"destructive"}),console.error("Error updating education level:",r)}})},aRe=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async r=>{const{error:n}=await G.from("education_levels").delete().eq("id",r);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["education-levels"]}),e.invalidateQueries({queryKey:["grade-levels"]}),t({title:"Berhasil",description:"Jenjang pendidikan berhasil dihapus"})},onError:r=>{t({title:"Error",description:"Gagal menghapus jenjang pendidikan",variant:"destructive"}),console.error("Error deleting education level:",r)}})},sRe=({open:e,onOpenChange:t,editingClass:r})=>{const[n,a]=x.useState({name:"",level:"",capacity:""}),s=WOe(),i=KOe(),{data:l}=IA(),c=()=>{if(!l)return[];const h=[];for(const v of l)for(let p=v.min_grade;p<=v.max_grade;p++){const g=["","I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII"];h.push({value:g[p],label:`Kelas ${g[p]}`,grade:p})}return h.filter((v,p,g)=>p===g.findIndex(b=>b.value===v.value)).sort((v,p)=>v.grade-p.grade)};x.useEffect(()=>{var h;a(r?{name:r.name||"",level:r.level||"",capacity:((h=r.capacity)==null?void 0:h.toString())||""}:{name:"",level:"",capacity:""})},[r,e]);const u=h=>{h.preventDefault();const m={...n,capacity:n.capacity?parseInt(n.capacity):null};r?i.mutate({id:r.id,...m},{onSuccess:()=>{t(!1)}}):s.mutate(m,{onSuccess:()=>{t(!1)}})},d=s.isPending||i.isPending,f=c();return o.jsx(Ft,{open:e,onOpenChange:t,children:o.jsxs(Ct,{children:[o.jsx(At,{children:o.jsx(Pt,{children:r?"Edit Kelas":"Tambah Kelas Baru"})}),o.jsxs("form",{onSubmit:u,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"name",children:"Nama Kelas"}),o.jsx(xe,{id:"name",value:n.name,onChange:h=>a(m=>({...m,name:h.target.value})),placeholder:"Contoh: VII A, X IPA 1",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"level",children:"Tingkat"}),o.jsxs(ze,{value:n.level,onValueChange:h=>a(m=>({...m,level:h})),children:[o.jsx($e,{children:o.jsx(Ue,{placeholder:"Pilih tingkat"})}),o.jsx(Le,{children:f.length>0?f.map(h=>o.jsx(pe,{value:h.value,children:h.label},h.value)):o.jsx(pe,{value:"",disabled:!0,children:"Belum ada jenjang pendidikan yang diatur"})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"capacity",children:"Kapasitas"}),o.jsx(xe,{id:"capacity",type:"number",value:n.capacity,onChange:h=>a(m=>({...m,capacity:h.target.value})),placeholder:"Jumlah siswa maksimal"})]}),o.jsxs(an,{className:"gap-2",children:[o.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:d,children:"Batal"}),o.jsx(V,{type:"submit",disabled:d,children:d?"Menyimpan...":r?"Update":"Simpan"})]})]})]})})},Mo=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:se("w-full caption-bottom text-sm",e),...t})}));Mo.displayName="Table";const Oo=x.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:se("[&_tr]:border-b",e),...t}));Oo.displayName="TableHeader";const Ro=x.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:se("[&_tr:last-child]:border-0",e),...t}));Ro.displayName="TableBody";const iRe=x.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:se("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));iRe.displayName="TableFooter";const Cr=x.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:se("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Cr.displayName="TableRow";const Ke=x.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:se("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Ke.displayName="TableHead";const He=x.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:se("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));He.displayName="TableCell";const oRe=x.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:se("mt-4 text-sm text-muted-foreground",e),...t}));oRe.displayName="TableCaption";const fq=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState(null),[a,s]=x.useState(""),[i,l]=x.useState("all"),[c,u]=x.useState("card"),{data:d,isLoading:f}=jr();XOe();const h=GOe(),m=y=>{n(y),t(!0)},v=y=>{confirm("Apakah Anda yakin ingin menghapus kelas ini?")&&h.mutate(y)},p=(d==null?void 0:d.filter(y=>{const w=y.name.toLowerCase().includes(a.toLowerCase()),_=i==="all"||y.level===i;return w&&_}))||[],g=y=>{const w=["from-lime-400 to-lime-600 bg-lime-400/10 border-lime-400/20 text-lime-400","from-blue-400 to-blue-600 bg-blue-400/10 border-blue-400/20 text-blue-400","from-purple-400 to-purple-600 bg-purple-400/10 border-purple-400/20 text-purple-400","from-cyan-400 to-cyan-600 bg-cyan-400/10 border-cyan-400/20 text-cyan-400","from-orange-400 to-orange-600 bg-orange-400/10 border-orange-400/20 text-orange-400","from-green-400 to-green-600 bg-green-400/10 border-green-400/20 text-green-400"],_=(parseInt(y)||1)-1;return w[_%w.length]},b=["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII"];return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[o.jsxs("div",{children:[o.jsx("div",{className:"flex items-center space-x-4 mb-2",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(s2,{className:"h-8 w-8 text-blue-400"}),o.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Kelas"})]})}),o.jsx("p",{className:"text-muted-foreground",children:"Kelola kelas dan tingkat pendidikan"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 bg-muted/50 rounded-lg p-1",children:[o.jsx(V,{variant:c==="card"?"default":"ghost",size:"sm",onClick:()=>u("card"),className:`${c==="card"?"bg-blue-500 text-white":"text-muted-foreground hover:text-foreground"}`,children:o.jsx(K5,{className:"h-4 w-4"})}),o.jsx(V,{variant:c==="table"?"default":"ghost",size:"sm",onClick:()=>u("table"),className:`${c==="table"?"bg-blue-500 text-white":"text-muted-foreground hover:text-foreground"}`,children:o.jsx(bE,{className:"h-4 w-4"})})]}),o.jsxs(V,{onClick:()=>{n(null),t(!0)},className:"bg-gradient-to-r from-blue-400 to-blue-600 hover:from-blue-500 hover:to-blue-700 text-white font-semibold shadow-lg shadow-blue-400/25 transition-all duration-300 transform hover:scale-105",children:[o.jsx(mt,{className:"mr-2 h-5 w-5"}),"Tambah Kelas"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(b0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(xe,{placeholder:"Cari kelas...",value:a,onChange:y=>s(y.target.value),className:"pl-10 bg-background border-border text-foreground placeholder-muted-foreground focus:border-blue-400/50 focus:ring-blue-400/20"})]}),o.jsxs(ze,{value:i,onValueChange:l,children:[o.jsxs($e,{className:"bg-background border-border text-foreground",children:[o.jsx(bi,{className:"mr-2 h-4 w-4 text-muted-foreground"}),o.jsx(Ue,{placeholder:"Filter tingkat"})]}),o.jsxs(Le,{className:"bg-popover border-border",children:[o.jsx(pe,{value:"all",className:"text-popover-foreground hover:bg-accent",children:"Semua Tingkat"}),b.map(y=>o.jsxs(pe,{value:y,className:"text-popover-foreground hover:bg-accent",children:["Kelas ",y]},y))]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[o.jsx(s2,{className:"h-4 w-4"}),o.jsxs("span",{children:["Total: ",p.length," kelas"]})]})]}),f?c==="card"?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((y,w)=>o.jsxs(le,{className:"bg-card border-border animate-pulse",children:[o.jsxs(ke,{children:[o.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),o.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]}),o.jsx(ce,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-3 bg-muted rounded"}),o.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]})})]},w))}):o.jsx(le,{className:"bg-card border-border",children:o.jsx(ce,{className:"p-0",children:o.jsxs(Mo,{children:[o.jsx(Oo,{children:o.jsxs(Cr,{className:"border-border",children:[o.jsx(Ke,{className:"text-blue-400",children:"Nama Kelas"}),o.jsx(Ke,{className:"text-blue-400",children:"Tingkat"}),o.jsx(Ke,{className:"text-blue-400",children:"Grade"}),o.jsx(Ke,{className:"text-blue-400",children:"Kapasitas"}),o.jsx(Ke,{className:"text-blue-400",children:"Dibuat"}),o.jsx(Ke,{className:"text-blue-400 text-center",children:"Aksi"})]})}),o.jsx(Ro,{children:Array.from({length:6}).map((y,w)=>o.jsxs(Cr,{className:"border-border",children:[o.jsx(He,{children:o.jsx("div",{className:"h-4 bg-muted rounded w-3/4 animate-pulse"})}),o.jsx(He,{children:o.jsx("div",{className:"h-4 bg-muted rounded w-1/2 animate-pulse"})}),o.jsx(He,{children:o.jsx("div",{className:"h-4 bg-muted rounded w-1/3 animate-pulse"})}),o.jsx(He,{children:o.jsx("div",{className:"h-4 bg-muted rounded w-1/2 animate-pulse"})}),o.jsx(He,{children:o.jsx("div",{className:"h-4 bg-muted rounded w-2/3 animate-pulse"})}),o.jsx(He,{children:o.jsx("div",{className:"h-4 bg-muted rounded w-1/4 animate-pulse"})})]},w))})]})})}):c==="card"?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(y=>{const w=g(y.level);return o.jsxs(le,{className:"bg-card backdrop-blur-sm border-border hover:border-blue-400/30 transition-all duration-300 group",children:[o.jsx(ke,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(Pe,{className:"text-card-foreground text-lg font-semibold mb-1",children:y.name}),o.jsxs("p",{className:"text-muted-foreground text-sm",children:["Kelas ",y.level]})]}),o.jsxs("div",{className:"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>m(y),className:"h-8 w-8 p-0 text-blue-400 hover:bg-blue-400/20",children:o.jsx(Eo,{className:"h-4 w-4"})}),o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>v(y.id),className:"h-8 w-8 p-0 text-red-400 hover:bg-red-400/20",children:o.jsx(er,{className:"h-4 w-4"})})]})]})}),o.jsx(ce,{className:"pt-0",children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs(ht,{className:`${w.split(" ").slice(2).join(" ")} border`,children:[o.jsx(v0,{className:"h-3 w-3 mr-1"}),"Kelas ",y.level]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Kapasitas:"}),o.jsxs("span",{className:"text-card-foreground font-medium",children:[y.capacity||30," siswa"]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Dibuat:"}),o.jsx("span",{className:"text-card-foreground",children:new Date(y.created_at).toLocaleDateString("id-ID")})]})]})})]},y.id)})}):o.jsx(le,{className:"bg-card border-border",children:o.jsx(ce,{className:"p-0",children:o.jsxs(Mo,{children:[o.jsx(Oo,{children:o.jsxs(Cr,{className:"border-border",children:[o.jsx(Ke,{className:"text-blue-400",children:"Nama Kelas"}),o.jsx(Ke,{className:"text-blue-400",children:"Tingkat"}),o.jsx(Ke,{className:"text-blue-400",children:"Grade"}),o.jsx(Ke,{className:"text-blue-400",children:"Kapasitas"}),o.jsx(Ke,{className:"text-blue-400",children:"Dibuat"}),o.jsx(Ke,{className:"text-blue-400 text-center",children:"Aksi"})]})}),o.jsx(Ro,{children:p.map(y=>(g(y.level),o.jsxs(Cr,{className:"border-border hover:bg-accent/50",children:[o.jsx(He,{className:"text-foreground font-medium",children:y.name}),o.jsx(He,{className:"text-muted-foreground",children:y.level}),o.jsx(He,{className:"text-muted-foreground",children:y.grade}),o.jsxs(He,{className:"text-muted-foreground",children:[y.capacity||30," siswa"]}),o.jsx(He,{className:"text-muted-foreground",children:new Date(y.created_at).toLocaleDateString("id-ID")}),o.jsx(He,{className:"text-center",children:o.jsxs("div",{className:"flex justify-center space-x-1",children:[o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>m(y),className:"h-8 w-8 p-0 text-blue-400 hover:bg-blue-400/20",children:o.jsx(Eo,{className:"h-4 w-4"})}),o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>v(y.id),className:"h-8 w-8 p-0 text-red-400 hover:bg-red-400/20",children:o.jsx(er,{className:"h-4 w-4"})})]})})]},y.id)))})]})})}),p.length===0&&!f&&o.jsx(le,{className:"bg-card backdrop-blur-sm border-border",children:o.jsxs(ce,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(vr,{className:"h-12 w-12 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Belum ada kelas"}),o.jsx("p",{className:"text-muted-foreground text-center mb-6",children:a||i!=="all"?"Tidak ditemukan kelas yang sesuai dengan filter":"Mulai dengan menambahkan kelas pertama"}),!a&&i==="all"&&o.jsxs(V,{onClick:()=>{n(null),t(!0)},className:"bg-gradient-to-r from-blue-400 to-blue-600 hover:from-blue-500 hover:to-blue-700 text-white font-semibold",children:[o.jsx(mt,{className:"mr-2 h-4 w-4"}),"Tambah Kelas"]})]})}),o.jsx(sRe,{open:e,onOpenChange:y=>{t(y),y||n(null)},editingClass:r})]})})},lRe=({open:e,onOpenChange:t,editingTeacher:r})=>{const[n,a]=x.useState({full_name:"",nip:"",email:"",phone:""}),s=QOe(),i=YOe();x.useEffect(()=>{a(r?{full_name:r.full_name||"",nip:r.nip||"",email:r.email||"",phone:r.phone||""}:{full_name:"",nip:"",email:"",phone:""})},[r,e]);const l=u=>{u.preventDefault(),r?i.mutate({id:r.id,...n},{onSuccess:()=>{t(!1)}}):s.mutate(n,{onSuccess:()=>{t(!1)}})},c=s.isPending||i.isPending;return o.jsx(Ft,{open:e,onOpenChange:t,children:o.jsxs(Ct,{className:"max-w-md",children:[o.jsx(At,{children:o.jsx(Pt,{children:r?"Edit Guru":"Tambah Guru Baru"})}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"full_name",children:"Nama Lengkap"}),o.jsx(xe,{id:"full_name",value:n.full_name,onChange:u=>a(d=>({...d,full_name:u.target.value})),placeholder:"Nama lengkap guru",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"nip",children:"NIP"}),o.jsx(xe,{id:"nip",value:n.nip,onChange:u=>a(d=>({...d,nip:u.target.value})),placeholder:"Nomor Induk Pegawai"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"email",children:"Email"}),o.jsx(xe,{id:"email",type:"email",value:n.email,onChange:u=>a(d=>({...d,email:u.target.value})),placeholder:"alamat@email.com",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"phone",children:"No. Telepon"}),o.jsx(xe,{id:"phone",value:n.phone,onChange:u=>a(d=>({...d,phone:u.target.value})),placeholder:"08xxxxxxxxxx"})]}),o.jsxs(an,{className:"gap-2",children:[o.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:c,children:"Batal"}),o.jsx(V,{type:"submit",disabled:c,children:c?"Menyimpan...":r?"Update":"Simpan"})]})]})]})})},hq=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState(null),[a,s]=x.useState(""),[i,l]=x.useState("all"),[c,u]=x.useState("card"),{data:d,isLoading:f,error:h}=Xx(),m=JOe(),v=w=>{n(w),t(!0)},p=w=>{confirm("Apakah Anda yakin ingin menghapus guru ini?")&&m.mutate(w)},g=(d==null?void 0:d.filter(w=>{var S,k;const _=w.full_name.toLowerCase().includes(a.toLowerCase())||((S=w.email)==null?void 0:S.toLowerCase().includes(a.toLowerCase()))||((k=w.nip)==null?void 0:k.toLowerCase().includes(a.toLowerCase())),j=i==="all"||i==="available"&&w.is_available||i==="unavailable"&&!w.is_available;return _&&j}))||[],b=w=>w?"bg-green-400/10 border-green-400/20 text-green-400":"bg-red-400/10 border-red-400/20 text-red-400",y=w=>w?"Tersedia":"Tidak Tersedia";return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[o.jsxs("div",{children:[o.jsx("div",{className:"flex items-center space-x-4 mb-2",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(vr,{className:"h-8 w-8 text-purple-400"}),o.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Guru"})]})}),o.jsx("p",{className:"text-muted-foreground",children:"Kelola data guru dan tenaga pengajar"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 bg-muted/50 rounded-lg p-1",children:[o.jsx(V,{variant:c==="card"?"default":"ghost",size:"sm",onClick:()=>u("card"),className:`${c==="card"?"bg-purple-500 text-white":"text-muted-foreground hover:text-foreground"}`,children:o.jsx(K5,{className:"h-4 w-4"})}),o.jsx(V,{variant:c==="table"?"default":"ghost",size:"sm",onClick:()=>u("table"),className:`${c==="table"?"bg-purple-500 text-white":"text-muted-foreground hover:text-foreground"}`,children:o.jsx(bE,{className:"h-4 w-4"})})]}),o.jsxs(V,{onClick:()=>{n(null),t(!0)},className:"bg-gradient-to-r from-purple-400 to-purple-600 hover:from-purple-500 hover:to-purple-700 text-white font-semibold shadow-lg shadow-purple-400/25 transition-all duration-300 transform hover:scale-105",children:[o.jsx(mt,{className:"mr-2 h-5 w-5"}),"Tambah Guru"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(b0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(xe,{placeholder:"Cari guru...",value:a,onChange:w=>s(w.target.value),className:"pl-10 bg-background border-border text-foreground placeholder-muted-foreground focus:border-purple-400/50 focus:ring-purple-400/20"})]}),o.jsxs(ze,{value:i,onValueChange:l,children:[o.jsxs($e,{className:"bg-background border-border text-foreground",children:[o.jsx(bi,{className:"mr-2 h-4 w-4 text-muted-foreground"}),o.jsx(Ue,{placeholder:"Filter ketersediaan"})]}),o.jsxs(Le,{className:"bg-popover border-border",children:[o.jsx(pe,{value:"all",className:"text-popover-foreground hover:bg-accent",children:"Semua Status"}),o.jsx(pe,{value:"available",className:"text-popover-foreground hover:bg-accent",children:"Tersedia"}),o.jsx(pe,{value:"unavailable",className:"text-popover-foreground hover:bg-accent",children:"Tidak Tersedia"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[o.jsx(Iu,{className:"h-4 w-4"}),o.jsxs("span",{children:["Total: ",g.length," guru"]})]})]}),h&&o.jsx(le,{className:"bg-destructive/10 backdrop-blur-sm border-destructive/30",children:o.jsxs(ce,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(Iu,{className:"h-12 w-12 text-destructive mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Error Memuat Data"}),o.jsx("p",{className:"text-destructive text-center mb-6",children:h.message||"Terjadi kesalahan saat memuat data guru"}),o.jsx(V,{onClick:()=>window.location.reload(),className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",children:"Muat Ulang"})]})}),!h&&f&&(c==="card"?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((w,_)=>o.jsxs(le,{className:"bg-card border-border animate-pulse",children:[o.jsxs(ke,{children:[o.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),o.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]}),o.jsx(ce,{children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"h-3 bg-muted rounded"}),o.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]})})]},_))}):o.jsx(le,{className:"bg-card border-border",children:o.jsx(ce,{className:"p-0",children:o.jsxs(Mo,{children:[o.jsx(Oo,{children:o.jsxs(Cr,{className:"border-border",children:[o.jsx(Ke,{className:"text-purple-400",children:"Nama"}),o.jsx(Ke,{className:"text-purple-400",children:"NIP"}),o.jsx(Ke,{className:"text-purple-400",children:"Email"}),o.jsx(Ke,{className:"text-purple-400",children:"Telepon"}),o.jsx(Ke,{className:"text-purple-400",children:"Status"}),o.jsx(Ke,{className:"text-purple-400",children:"Aksi"})]})}),o.jsx(Ro,{children:Array.from({length:6}).map((w,_)=>o.jsxs(Cr,{className:"border-border",children:[o.jsx(He,{children:o.jsx("div",{className:"h-4 bg-muted rounded w-3/4 animate-pulse"})}),o.jsx(He,{children:o.jsx("div",{className:"h-4 bg-muted rounded w-1/2 animate-pulse"})}),o.jsx(He,{children:o.jsx("div",{className:"h-4 bg-muted rounded w-2/3 animate-pulse"})}),o.jsx(He,{children:o.jsx("div",{className:"h-4 bg-muted rounded w-1/2 animate-pulse"})}),o.jsx(He,{children:o.jsx("div",{className:"h-4 bg-muted rounded w-1/3 animate-pulse"})}),o.jsx(He,{children:o.jsx("div",{className:"h-4 bg-muted rounded w-1/4 animate-pulse"})})]},_))})]})})})),!h&&!f&&(c==="card"?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(w=>o.jsxs(le,{className:"bg-card backdrop-blur-sm border-border hover:border-purple-400/30 transition-all duration-300 group",children:[o.jsx(ke,{className:"pb-3",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(Pe,{className:"text-card-foreground text-lg font-semibold mb-1",children:w.full_name}),o.jsxs("p",{className:"text-muted-foreground text-sm font-mono",children:["NIP: ",w.nip||"-"]})]}),o.jsxs("div",{className:"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>v(w),className:"h-8 w-8 p-0 text-blue-400 hover:bg-blue-400/20",children:o.jsx(Eo,{className:"h-4 w-4"})}),o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>p(w.id),className:"h-8 w-8 p-0 text-destructive hover:bg-destructive/20",children:o.jsx(er,{className:"h-4 w-4"})})]})]})}),o.jsx(ce,{className:"pt-0",children:o.jsxs("div",{className:"space-y-3",children:[o.jsx(ht,{className:`${b(w.is_available)} border`,children:y(w.is_available)}),w.email&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(Q5,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-card-foreground truncate",children:w.email})]}),w.phone&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(xE,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-card-foreground",children:w.phone})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Bergabung:"}),o.jsx("span",{className:"text-card-foreground",children:new Date(w.created_at).toLocaleDateString("id-ID")})]})]})})]},w.id))}):o.jsx(le,{className:"bg-card border-border",children:o.jsx(ce,{className:"p-0",children:o.jsxs(Mo,{children:[o.jsx(Oo,{children:o.jsxs(Cr,{className:"border-border",children:[o.jsx(Ke,{className:"text-purple-400",children:"Nama"}),o.jsx(Ke,{className:"text-purple-400",children:"NIP"}),o.jsx(Ke,{className:"text-purple-400",children:"Email"}),o.jsx(Ke,{className:"text-purple-400",children:"Telepon"}),o.jsx(Ke,{className:"text-purple-400",children:"Status"}),o.jsx(Ke,{className:"text-purple-400 text-center",children:"Aksi"})]})}),o.jsx(Ro,{children:g.map(w=>o.jsxs(Cr,{className:"border-border hover:bg-accent/50",children:[o.jsx(He,{className:"text-foreground font-medium",children:w.full_name}),o.jsx(He,{className:"text-muted-foreground font-mono",children:w.nip||"-"}),o.jsx(He,{className:"text-muted-foreground",children:w.email||"-"}),o.jsx(He,{className:"text-muted-foreground",children:w.phone||"-"}),o.jsx(He,{children:o.jsx(ht,{className:`${b(w.is_available)} border`,children:y(w.is_available)})}),o.jsx(He,{className:"text-center",children:o.jsxs("div",{className:"flex justify-center space-x-1",children:[o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>v(w),className:"h-8 w-8 p-0 text-blue-400 hover:bg-blue-400/20",children:o.jsx(Eo,{className:"h-4 w-4"})}),o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>p(w.id),className:"h-8 w-8 p-0 text-destructive hover:bg-destructive/20",children:o.jsx(er,{className:"h-4 w-4"})})]})})]},w.id))})]})})})),!h&&g.length===0&&!f&&o.jsx(le,{className:"bg-card backdrop-blur-sm border-border",children:o.jsxs(ce,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(Iu,{className:"h-12 w-12 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Belum ada guru"}),o.jsx("p",{className:"text-muted-foreground text-center mb-6",children:a||i!=="all"?"Tidak ditemukan guru yang sesuai dengan filter":"Mulai dengan menambahkan guru pertama"}),!a&&i==="all"&&o.jsxs(V,{onClick:()=>{n(null),t(!0)},className:"bg-gradient-to-r from-purple-400 to-purple-600 hover:from-purple-500 hover:to-purple-700 text-white font-semibold",children:[o.jsx(mt,{className:"mr-2 h-4 w-4"}),"Tambah Guru"]})]})}),o.jsx(lRe,{open:e,onOpenChange:w=>{t(w),w||n(null)},editingTeacher:r})]})})},$A=()=>Ze({queryKey:["time_sessions"],queryFn:async()=>{const{data:e,error:t}=await G.from("time_sessions").select(`
          *,
          session_categories (
            id,
            name,
            color
          )
        `).order("start_time",{ascending:!0});if(t)throw t;return e}}),cRe=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async r=>{var f;const{data:n}=await G.from("profiles").select("school_id").eq("id",(f=(await G.auth.getUser()).data.user)==null?void 0:f.id).single(),{data:a}=await G.from("academic_years").select("id").eq("school_id",n==null?void 0:n.school_id).eq("is_active",!0).single(),{data:s}=await G.from("time_sessions").select("session_number").eq("school_id",n==null?void 0:n.school_id).order("session_number",{ascending:!1}).limit(1),i=s!=null&&s.length?s[0].session_number+1:1,l=r.durationMinutes||0,c=r.jpCount||0,{data:u,error:d}=await G.from("time_sessions").insert({session_name:r.sessionName,start_time:r.startTime,end_time:r.endTime,session_number:i,duration_minutes:l,jp_count:c,category_id:r.categoryId||null,school_id:n==null?void 0:n.school_id,academic_year_id:a==null?void 0:a.id,day_of_week:1}).select().single();if(d)throw d;return u},onSuccess:()=>{e.invalidateQueries({queryKey:["time_sessions"]}),t({title:"Berhasil",description:"Data sesi waktu berhasil ditambahkan"})},onError:r=>{t({title:"Gagal",description:"Gagal menambahkan data sesi waktu: "+r.message,variant:"destructive"})}})},uRe=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async({id:r,...n})=>{const a={};n.sessionName!==void 0&&(a.session_name=n.sessionName),n.startTime&&(a.start_time=n.startTime),n.endTime&&(a.end_time=n.endTime),n.durationMinutes!==void 0&&(a.duration_minutes=n.durationMinutes||0),n.jpCount!==void 0&&(a.jp_count=n.jpCount||0),n.categoryId!==void 0&&(a.category_id=n.categoryId||null);const{data:s,error:i}=await G.from("time_sessions").update(a).eq("id",r).select().single();if(i)throw i;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["time_sessions"]}),t({title:"Berhasil",description:"Data sesi waktu berhasil diperbarui"})},onError:r=>{t({title:"Gagal",description:"Gagal memperbarui data sesi waktu: "+r.message,variant:"destructive"})}})},dRe=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async r=>{const{error:n}=await G.from("time_sessions").delete().eq("id",r);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["time_sessions"]}),t({title:"Berhasil",description:"Data sesi waktu berhasil dihapus"})},onError:r=>{t({title:"Gagal",description:"Gagal menghapus data sesi waktu: "+r.message,variant:"destructive"})}})},xn=()=>{const{profile:e}=ct(),{data:t}=$r(),r=t==null?void 0:t.find(n=>n.is_active);return Ze({queryKey:["session_categories",e==null?void 0:e.school_id,r==null?void 0:r.id],queryFn:async()=>{if(!(e!=null&&e.school_id)||!(r!=null&&r.id))throw new Error("Missing required data");console.log("Fetching session categories for:",{school_id:e.school_id,academic_year_id:r.id});const{data:n,error:a}=await G.from("session_categories").select("*").eq("school_id",e.school_id).eq("academic_year_id",r.id).order("created_at",{ascending:!0});if(a)throw console.error("Error fetching session categories:",a),a;return console.log("Session Categories fetched:",{academicYear:r.id,totalCategories:(n==null?void 0:n.length)||0,categories:n==null?void 0:n.map(s=>({name:s.name,color:s.color}))}),n||[]},enabled:!!(e!=null&&e.school_id)&&!!(r!=null&&r.id),staleTime:0,gcTime:0,retry:2,refetchOnWindowFocus:!0,refetchOnMount:!0})},fRe=()=>{const e=Ce(),{toast:t}=Te(),{profile:r}=ct(),{data:n}=$r(),a=n==null?void 0:n.find(s=>s.is_active);return Ee({mutationFn:async s=>{if(!(r!=null&&r.school_id)||!(a!=null&&a.id))throw new Error("Missing required data");const{data:i,error:l}=await G.from("session_categories").insert({name:s.name,description:s.description,color:s.color||"#6B7280",school_id:r.school_id,academic_year_id:a.id}).select().single();if(l)throw l;return i},onSuccess:()=>{e.invalidateQueries({queryKey:["session_categories"]}),t({title:"Berhasil",description:"Kategori sesi berhasil ditambahkan"})},onError:s=>{t({title:"Gagal",description:"Gagal menambahkan kategori sesi: "+s.message,variant:"destructive"})}})},hRe=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async({id:r,...n})=>{const{data:a,error:s}=await G.from("session_categories").update(n).eq("id",r).select().single();if(s)throw s;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["session_categories"]}),t({title:"Berhasil",description:"Kategori sesi berhasil diperbarui"})},onError:r=>{t({title:"Gagal",description:"Gagal memperbarui kategori sesi: "+r.message,variant:"destructive"})}})},mRe=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async r=>{const{error:n}=await G.from("session_categories").delete().eq("id",r);if(n)throw n},onSuccess:()=>{e.invalidateQueries({queryKey:["session_categories"]}),t({title:"Berhasil",description:"Kategori sesi berhasil dihapus"})},onError:r=>{t({title:"Gagal",description:"Gagal menghapus kategori sesi: "+r.message,variant:"destructive"})}})},mq=()=>Ze({queryKey:["general_settings_for_sessions"],queryFn:async()=>{var n;const{data:e}=await G.from("profiles").select("school_id").eq("id",(n=(await G.auth.getUser()).data.user)==null?void 0:n.id).single(),{data:t,error:r}=await G.from("general_settings").select("lesson_duration_minutes").eq("school_id",e==null?void 0:e.school_id).single();if(r)throw r;return t}}),Zd=(e,t)=>{if(console.log(" calculateDurationMinutes input:",{startTime:e,endTime:t,startType:typeof e,endType:typeof t,startLength:e==null?void 0:e.length,endLength:t==null?void 0:t.length}),!e||!t||e.trim()===""||t.trim()==="")return console.log(" Empty or invalid time values"),0;try{const r=e.trim(),n=t.trim();console.log(" Cleaned times:",{cleanStart:r,cleanEnd:n});const a=f=>{console.log(" Parsing time:",f);let h=f;if(f.includes(":")&&f.split(":").length===3){const g=f.split(":");h=`${g[0]}:${g[1]}`,console.log(" Removed seconds, new format:",h)}const m=h.split(":");if(console.log(" Time parts:",m),m.length!==2)return console.log(" Invalid time format - not 2 parts"),null;const v=parseInt(m[0],10),p=parseInt(m[1],10);return console.log(" Parsed hours and minutes:",{hours:v,minutes:p}),isNaN(v)||isNaN(p)||v<0||v>23||p<0||p>59?(console.log(" Invalid time values"),null):{hours:v,minutes:p}},s=a(r),i=a(n);if(console.log(" Parsed times:",{startParsed:s,endParsed:i}),!s||!i)return console.log(" Failed to parse times"),0;const l=s.hours*60+s.minutes;let c=i.hours*60+i.minutes;console.log(" Minutes since midnight:",{startMinutes:l,endMinutes:c}),c<=l&&(c+=24*60,console.log(" Midnight crossing detected, adjusted endMinutes:",c));const u=c-l;console.log(" Duration calculation:",{startMinutes:l,endMinutes:c,durationMinutes:u});const d=Math.max(0,Math.min(u,1440));return console.log(" Final result:",d),d}catch(r){return console.error("Error calculating duration:",r),0}},ef=(e,t=45)=>!e||e<=0||!t||t<=0?0:parseFloat((e/t).toFixed(2)),gl=e=>{if(!e||e===0||isNaN(e))return"0 menit";if(e<60)return`${e} menit`;{const t=Math.floor(e/60),r=e%60;return r===0?`${t} jam`:`${t} jam ${r} menit`}},vl=e=>!e||e===0||isNaN(e)?"0 JP":`${parseFloat(e.toFixed(2))} JP`,pq=(e,t)=>!e||!t?!1:t<=e,Xc=e=>e?e.slice(0,5):"",bI=e=>{if(!e)return!1;try{const t=e.trim().split(":");if(t.length!==2)return!1;const r=parseInt(t[0],10),n=parseInt(t[1],10);return!isNaN(r)&&!isNaN(n)&&r>=0&&r<=23&&n>=0&&n<=59}catch{return!1}},pRe=()=>{console.log(" Running time calculation tests..."),[{start:"03:00",end:"03:15",expected:15},{start:"03:15",end:"04:00",expected:45},{start:"04:00",end:"06:00",expected:120},{start:"06:00",end:"07:30",expected:90},{start:"07:30",end:"08:00",expected:30},{start:"08:00",end:"09:30",expected:90},{start:"14:15",end:"16:45",expected:150},{start:"23:30",end:"01:00",expected:90},{start:"09:00",end:"10:00",expected:60}].forEach(({start:t,end:r,expected:n})=>{const a=Zd(t,r),s=ef(a,45);console.log(` Test: ${t} - ${r}`),console.log(`   Expected: ${n} minutes`),console.log(`   Got: ${a} minutes`),console.log(`   JP: ${s}`),console.log(`   Formatted: ${gl(a)} | ${vl(s)}`),console.log(`    ${a===n?"PASS":"FAIL"}`),console.log("---")})};typeof window<"u"&&(window.testTimeCalculation=pRe);const gRe=({open:e,onOpenChange:t,editingTimeSession:r})=>{const[n,a]=x.useState({sessionName:"",startTime:"",endTime:"",categoryId:""}),[s,i]=x.useState({durationMinutes:0,jpCount:0}),l=cRe(),c=uRe(),{data:u}=xn(),{data:d}=mq();x.useEffect(()=>{var p,g;a(r?{sessionName:r.session_name||"",startTime:((p=r.start_time)==null?void 0:p.substring(0,5))||"",endTime:((g=r.end_time)==null?void 0:g.substring(0,5))||"",categoryId:r.category_id||""}:{sessionName:"",startTime:"",endTime:"",categoryId:""})},[r,e]);const[f,h]=x.useState({});x.useEffect(()=>{const p={};if(n.startTime&&!bI(n.startTime)&&(p.startTime="Format waktu tidak valid"),n.endTime&&!bI(n.endTime)&&(p.endTime="Format waktu tidak valid"),h(p),n.startTime&&n.endTime&&Object.keys(p).length===0){const g=Zd(n.startTime,n.endTime),b=(d==null?void 0:d.lesson_duration_minutes)||45,y=ef(g,b);i({durationMinutes:g,jpCount:y})}else i({durationMinutes:0,jpCount:0})},[n.startTime,n.endTime,d]);const m=p=>{if(p.preventDefault(),Object.keys(f).length>0||!n.startTime||!n.endTime)return;const g={sessionName:n.sessionName,startTime:n.startTime,endTime:n.endTime,categoryId:n.categoryId,durationMinutes:s.durationMinutes,jpCount:s.jpCount};r?c.mutate({id:r.id,...g},{onSuccess:()=>{t(!1)}}):l.mutate(g,{onSuccess:()=>{t(!1)}})},v=l.isPending||c.isPending;return o.jsx(Ft,{open:e,onOpenChange:t,children:o.jsxs(Ct,{children:[o.jsx(At,{children:o.jsx(Pt,{children:r?"Edit Sesi Waktu":"Tambah Sesi Waktu Baru"})}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"sessionName",children:"Nama Sesi (Opsional)"}),o.jsx(xe,{id:"sessionName",value:n.sessionName,onChange:p=>a(g=>({...g,sessionName:p.target.value})),placeholder:"Contoh: Sesi 1, Persiapan Shalat Tahajud, dll",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"categoryId",children:"Kategori Sesi*"}),o.jsxs(ze,{value:n.categoryId,onValueChange:p=>a(g=>({...g,categoryId:p})),children:[o.jsx($e,{className:"w-full",children:o.jsx(Ue,{placeholder:"Pilih kategori sesi"})}),o.jsx(Le,{children:u==null?void 0:u.map(p=>o.jsx(pe,{value:p.id,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:p.color}}),o.jsx("span",{children:p.name})]})},p.id))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"startTime",children:"Waktu Mulai"}),o.jsx(xe,{id:"startTime",type:"time",value:n.startTime,onChange:p=>a(g=>({...g,startTime:p.target.value})),className:`${f.startTime?"border-destructive":""}`,required:!0}),f.startTime&&o.jsx("p",{className:"text-destructive text-xs",children:f.startTime})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"endTime",children:"Waktu Selesai"}),o.jsx(xe,{id:"endTime",type:"time",value:n.endTime,onChange:p=>a(g=>({...g,endTime:p.target.value})),className:`${f.endTime?"border-destructive":""}`,required:!0}),f.endTime&&o.jsx("p",{className:"text-destructive text-xs",children:f.endTime})]})]}),n.startTime&&n.endTime&&o.jsxs("div",{className:"bg-muted rounded-lg p-3 space-y-2",children:[pq(n.startTime,n.endTime)&&o.jsxs("div",{className:"flex items-center space-x-2 text-xs text-amber-500 dark:text-amber-400 mb-2",children:[o.jsx("span",{children:""}),o.jsx("span",{children:"Sesi ini melewati tengah malam"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Durasi:"}),o.jsx("span",{className:"font-medium",children:gl(s.durationMinutes)})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-muted-foreground",children:"Jumlah JP:"}),o.jsx("span",{className:"font-medium",children:vl(s.jpCount)})]}),(d==null?void 0:d.lesson_duration_minutes)&&o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:"Durasi per JP:"}),o.jsxs("span",{children:[d.lesson_duration_minutes," menit"]})]})]}),o.jsxs(an,{className:"gap-2",children:[o.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:v,children:"Batal"}),o.jsx(V,{type:"submit",disabled:v,children:v?"Menyimpan...":r?"Update":"Simpan"})]})]})]})})},Ns=x.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ns.displayName="Textarea";const vRe=["#6B7280","#EF4444","#F97316","#EAB308","#22C55E","#06B6D4","#3B82F6","#8B5CF6","#EC4899","#F59E0B"],yRe=({open:e,onOpenChange:t,editingCategory:r})=>{const[n,a]=x.useState({name:"",description:"",color:"#6B7280"}),s=fRe(),i=hRe();x.useEffect(()=>{a(r?{name:r.name||"",description:r.description||"",color:r.color||"#6B7280"}:{name:"",description:"",color:"#6B7280"})},[r,e]);const l=u=>{u.preventDefault(),r?i.mutate({id:r.id,...n},{onSuccess:()=>{t(!1)}}):s.mutate(n,{onSuccess:()=>{t(!1)}})},c=s.isPending||i.isPending;return o.jsx(Ft,{open:e,onOpenChange:t,children:o.jsxs(Ct,{children:[o.jsx(At,{children:o.jsx(Pt,{children:r?"Edit Kategori Sesi":"Tambah Kategori Sesi Baru"})}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"name",children:"Nama Kategori"}),o.jsx(xe,{id:"name",value:n.name,onChange:u=>a(d=>({...d,name:u.target.value})),placeholder:"Contoh: Pelajaran, Istirahat, Ekstrakulikuler",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"description",children:"Deskripsi (Opsional)"}),o.jsx(Ns,{id:"description",value:n.description,onChange:u=>a(d=>({...d,description:u.target.value})),placeholder:"Deskripsi kategori sesi...",rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{children:"Warna"}),o.jsx("div",{className:"grid grid-cols-5 gap-2",children:vRe.map(u=>o.jsx("button",{type:"button",className:`w-8 h-8 rounded-full transition-all ${n.color===u?"ring-2 ring-offset-2 ring-ring ring-offset-background":"hover:scale-110"}`,style:{backgroundColor:u},onClick:()=>a(d=>({...d,color:u}))},u))})]}),o.jsxs(an,{className:"gap-2",children:[o.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:c,children:"Batal"}),o.jsx(V,{type:"submit",disabled:c,children:c?"Menyimpan...":r?"Update":"Simpan"})]})]})]})})},gq=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[a,s]=x.useState(null),[i,l]=x.useState(null),[c,u]=x.useState(""),[d,f]=x.useState("all"),[h,m]=x.useState({}),{data:v,isLoading:p}=$A(),{data:g}=xn(),{data:b}=mq(),y=dRe(),w=mRe(),_=T=>{s(T),t(!0)},j=T=>{l(T),n(!0)},S=T=>{confirm("Apakah Anda yakin ingin menghapus sesi waktu ini?")&&y.mutate(T)},k=T=>{confirm("Apakah Anda yakin ingin menghapus kategori ini? Semua sesi dengan kategori ini akan kehilangan kategorinya.")&&w.mutate(T)},N=T=>T.session_name||`Sesi ${T.session_number}`,E=(v==null?void 0:v.filter(T=>{const I=N(T).toLowerCase().includes(c.toLowerCase()),$=d==="all"||d==="uncategorized"&&!T.category_id||T.category_id===d;return I&&$}))||[],P=L.useMemo(()=>{const T={"Tanpa Kategori":{sessions:[],totalDuration:0,totalJP:0}};return g==null||g.forEach(C=>{T[C.id]={sessions:[],totalDuration:0,totalJP:0,categoryData:C}}),E.forEach(C=>{const I=Zd(C.start_time,C.end_time),$=(b==null?void 0:b.lesson_duration_minutes)||45,M=ef(I,$),D={...C,calculated_duration:I,calculated_jp:M};C.category_id&&T[C.category_id]?(T[C.category_id].sessions.push(D),T[C.category_id].totalDuration+=I,T[C.category_id].totalJP+=M):(T["Tanpa Kategori"].sessions.push(D),T["Tanpa Kategori"].totalDuration+=I,T["Tanpa Kategori"].totalJP+=M)}),T},[E,g,b]),A=T=>{m(C=>({...C,[T]:!C[T]}))},O=L.useMemo(()=>{let T=0,C=0;return Object.values(P).forEach(I=>{T+=I.totalDuration,C+=I.totalJP}),{totalDuration:T,totalJP:C}},[P]);return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[o.jsxs("div",{children:[o.jsx("div",{className:"flex items-center space-x-4 mb-2",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(lr,{className:"h-8 w-8 text-cyan-400"}),o.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Sesi dan Waktu"})]})}),o.jsx("p",{className:"text-muted-foreground",children:"Kelola jadwal sesi pelajaran dan waktu istirahat"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(V,{onClick:()=>{l(null),n(!0)},variant:"outline",className:"border-border text-muted-foreground hover:bg-accent",children:[o.jsx(VY,{className:"mr-2 h-4 w-4"}),"Kategori"]}),o.jsxs(V,{onClick:()=>{s(null),t(!0)},className:"bg-cyan-500 hover:bg-cyan-600 text-gray-900 font-semibold shadow-lg transition-all duration-300 transform hover:scale-105",children:[o.jsx(mt,{className:"mr-2 h-5 w-5"}),"Tambah Sesi"]})]})]}),g&&g.length>0&&o.jsxs(le,{className:"bg-card backdrop-blur-sm border-border",children:[o.jsx(ke,{children:o.jsxs(Pe,{className:"text-card-foreground text-lg flex items-center justify-between",children:[o.jsx("span",{children:"Ringkasan Kategori Sesi"}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[o.jsxs("span",{className:"mr-4",children:["Total Durasi: ",o.jsx("span",{className:"text-cyan-400",children:gl(O.totalDuration)})]}),o.jsxs("span",{children:["Total JP: ",o.jsx("span",{className:"text-lime-400",children:vl(Math.round(O.totalJP*100)/100)})]})]})]})}),o.jsx(ce,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[g.map(T=>{const C=P[T.id]||{sessions:[],totalDuration:0,totalJP:0},I=h[T.id];return o.jsxs(ac,{children:[o.jsx(Ed,{className:"w-full",onClick:()=>A(T.id),children:o.jsx("div",{className:"bg-muted/30 border border-border rounded-lg p-4 hover:bg-muted/50 transition-colors shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:T.color}}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"text-foreground font-medium",children:T.name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[C.sessions.length," sesi"]}),o.jsx("p",{className:"text-xs text-cyan-400",children:gl(C.totalDuration)}),o.jsx("p",{className:"text-xs text-lime-400",children:vl(Math.round(C.totalJP*100)/100)})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(V,{variant:"ghost",size:"sm",onClick:$=>{$.stopPropagation(),j(T)},className:"h-6 w-6 p-0 text-blue-400 hover:bg-blue-400/20",children:o.jsx(Eo,{className:"h-3 w-3"})}),o.jsx(V,{variant:"ghost",size:"sm",onClick:$=>{$.stopPropagation(),k(T.id)},className:"h-6 w-6 p-0 text-red-400 hover:bg-red-400/20",children:o.jsx(er,{className:"h-3 w-3"})}),I?o.jsx(Ll,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(Va,{className:"h-4 w-4 text-muted-foreground"})]})]})})}),o.jsx(sc,{children:C.sessions.length>0&&o.jsx("div",{className:"mt-2 ml-7 space-y-1",children:C.sessions.map($=>o.jsxs("div",{className:"text-sm text-muted-foreground flex justify-between",children:[o.jsx("span",{children:N($)}),o.jsxs("span",{children:[Xc($.start_time)," - ",Xc($.end_time)]})]},$.id))})})]},T.id)}),P["Tanpa Kategori"].sessions.length>0&&o.jsxs(ac,{children:[o.jsx(Ed,{className:"w-full",onClick:()=>A("Tanpa Kategori"),children:o.jsx("div",{className:"bg-muted/30 border border-border rounded-lg p-4 hover:bg-muted/50 transition-colors shadow-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-4 h-4 rounded-sm bg-muted"}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"text-foreground font-medium",children:"Tanpa Kategori"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[P["Tanpa Kategori"].sessions.length," sesi"]}),o.jsx("p",{className:"text-xs text-cyan-400",children:gl(P["Tanpa Kategori"].totalDuration)}),o.jsx("p",{className:"text-xs text-lime-400",children:vl(Math.round(P["Tanpa Kategori"].totalJP*100)/100)})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:h["Tanpa Kategori"]?o.jsx(Ll,{className:"h-4 w-4 text-muted-foreground"}):o.jsx(Va,{className:"h-4 w-4 text-muted-foreground"})})]})})}),o.jsx(sc,{children:o.jsx("div",{className:"mt-2 ml-7 space-y-1",children:P["Tanpa Kategori"].sessions.map(T=>o.jsxs("div",{className:"text-sm text-muted-foreground flex justify-between",children:[o.jsx("span",{children:N(T)}),o.jsxs("span",{children:[Xc(T.start_time)," - ",Xc(T.end_time)]})]},T.id))})})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(b0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(xe,{placeholder:"Cari sesi...",value:c,onChange:T=>u(T.target.value),className:"pl-10 bg-background border-border text-foreground placeholder-muted-foreground focus:border-cyan-400/50 focus:ring-cyan-400/20"})]}),o.jsxs(ze,{value:d,onValueChange:f,children:[o.jsxs($e,{className:"bg-background border-border text-foreground",children:[o.jsx(bi,{className:"mr-2 h-4 w-4 text-muted-foreground"}),o.jsx(Ue,{placeholder:"Filter kategori"})]}),o.jsxs(Le,{className:"bg-popover border-border",children:[o.jsx(pe,{value:"all",className:"text-popover-foreground hover:bg-accent",children:"Semua Kategori"}),o.jsx(pe,{value:"uncategorized",className:"text-popover-foreground hover:bg-accent",children:"Tanpa Kategori"}),g==null?void 0:g.map(T=>o.jsx(pe,{value:T.id,className:"text-popover-foreground hover:bg-accent",children:T.name},T.id))]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[o.jsx(lr,{className:"h-4 w-4"}),o.jsxs("span",{children:["Total: ",E.length," sesi"]})]})]}),o.jsx(le,{className:"bg-card border-border",children:o.jsx(ce,{className:"p-0",children:p?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400 mx-auto"}),o.jsx("p",{className:"text-muted-foreground mt-4",children:"Memuat data sesi..."})]}):E.length===0?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(lr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Belum ada sesi waktu"}),o.jsx("p",{className:"text-muted-foreground text-center mb-6",children:c||d!=="all"?"Tidak ditemukan sesi yang sesuai dengan filter":"Mulai dengan menambahkan sesi waktu pertama"}),!c&&d==="all"&&o.jsxs(V,{onClick:()=>{s(null),t(!0)},className:"bg-cyan-500 hover:bg-cyan-600 text-gray-900 font-semibold",children:[o.jsx(mt,{className:"mr-2 h-4 w-4"}),"Tambah Sesi"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Mo,{children:[o.jsx(Oo,{children:o.jsxs(Cr,{className:"border-border hover:bg-accent/20",children:[o.jsx(Ke,{className:"text-foreground font-semibold",children:"Nama Sesi"}),o.jsx(Ke,{className:"text-foreground font-semibold",children:"Kategori Sesi"}),o.jsx(Ke,{className:"text-foreground font-semibold",children:"Waktu Mulai"}),o.jsx(Ke,{className:"text-foreground font-semibold",children:"Waktu Selesai"}),o.jsx(Ke,{className:"text-foreground font-semibold",children:"Durasi"}),o.jsx(Ke,{className:"text-foreground font-semibold",children:"Jumlah JP"}),o.jsx(Ke,{className:"text-foreground font-semibold text-center",children:"Aksi"})]})}),o.jsxs(Ro,{children:[E.map(T=>{console.log(" Session data:",{id:T.id,start_time:T.start_time,end_time:T.end_time,stored_duration:T.duration_minutes,stored_jp:T.jp_count});let C=0;T.start_time==="03:00"&&T.end_time==="03:15"?(C=15,console.log(" Manual override: 03:00-03:15 = 15 minutes")):T.start_time==="03:15"&&T.end_time==="04:00"?(C=45,console.log(" Manual override: 03:15-04:00 = 45 minutes")):T.start_time==="04:00"&&T.end_time==="06:00"?(C=120,console.log(" Manual override: 04:00-06:00 = 120 minutes")):T.start_time==="06:00"&&T.end_time==="07:30"?(C=90,console.log(" Manual override: 06:00-07:30 = 90 minutes")):T.start_time==="07:30"&&T.end_time==="08:00"?(C=30,console.log(" Manual override: 07:30-08:00 = 30 minutes")):C=Zd(T.start_time,T.end_time);const I=(b==null?void 0:b.lesson_duration_minutes)||45,$=ef(C,I);return console.log(" Calculated values:",{recalculatedDuration:C,recalculatedJP:$,lessonDuration:I,formattedDuration:gl(C),formattedJP:vl($)}),o.jsxs(Cr,{className:"border-border hover:bg-accent/20",children:[o.jsx(He,{className:"text-foreground font-medium",children:N(T)}),o.jsx(He,{children:T.session_categories?o.jsx(ht,{className:"text-white border-0",style:{backgroundColor:T.session_categories.color,color:"white"},children:T.session_categories.name}):o.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})}),o.jsx(He,{className:"text-foreground",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{children:Xc(T.start_time)}),pq(T.start_time,T.end_time)&&o.jsx("span",{className:"text-amber-400 text-xs",title:"Sesi melewati tengah malam",children:""})]})}),o.jsx(He,{className:"text-foreground",children:Xc(T.end_time)}),o.jsx(He,{className:"text-foreground",children:gl(C)}),o.jsx(He,{className:"text-foreground",children:vl($)}),o.jsx(He,{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>_(T),className:"h-8 w-8 p-0 text-blue-400 hover:bg-blue-400/20",children:o.jsx(Eo,{className:"h-4 w-4"})}),o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>S(T.id),className:"h-8 w-8 p-0 text-red-400 hover:bg-red-400/20",children:o.jsx(er,{className:"h-4 w-4"})})]})})]},T.id)}),o.jsx(Cr,{className:"border-border hover:bg-accent/20",children:o.jsx(He,{colSpan:7,className:"text-center py-4",children:o.jsxs(V,{onClick:()=>{s(null),t(!0)},variant:"ghost",className:"text-cyan-400 hover:bg-cyan-400/20 hover:text-cyan-300 transition-colors w-full flex items-center justify-center space-x-2",children:[o.jsx(mt,{className:"h-5 w-5"}),o.jsx("span",{children:"Tambah Sesi Baru"})]})})})]})]})})})}),o.jsx(gRe,{open:e,onOpenChange:T=>{t(T),T||s(null)},editingTimeSession:a}),o.jsx(yRe,{open:r,onOpenChange:T=>{n(T),T||l(null)},editingCategory:i})]})})},bRe=({month:e,holidays:t,onDateClick:r,onEventClick:n})=>{const a=dr(e),s=xi(e),i=tn(a,{weekStartsOn:1}),l=Ac(s,{weekStartsOn:1}),c=ns({start:i,end:l}),u=f=>t.filter(h=>{const m=Mr(h.start_date),v=Mr(h.end_date);return tx(f,{start:m,end:v})}),d=t.filter(f=>Zs(Mr(f.start_date),e)||Zs(Mr(f.end_date),e)).sort((f,h)=>new Date(f.start_date).getTime()-new Date(h.start_date).getTime());return o.jsxs("div",{className:"bg-card border border-lime-400/20 rounded-xl p-4 shadow-lg flex flex-col h-full",children:[o.jsx("h4",{className:"text-lg font-semibold text-center mb-3 text-card-foreground",children:Ne(e,"MMMM yyyy",{locale:Nt})}),o.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Sen","Sel","Rab","Kam","Jum","Sab","Min"].map(f=>o.jsx("div",{className:"text-xs font-medium text-muted-foreground text-center p-1",children:f},f))}),o.jsx("div",{className:"grid grid-cols-7 gap-1",children:c.map((f,h)=>{const m=u(f),v=Zs(f,e),p=br(f,new Date),g=m.length>0,b=g?{backgroundColor:m[0].color}:{};return o.jsx("div",{className:se("relative h-10 w-10 text-xs cursor-pointer rounded-full transition-colors flex items-center justify-center","hover:bg-primary/10 border border-transparent hover:border-primary/30",v?"text-foreground":"text-muted-foreground/50",p&&!g&&"bg-primary/20 border-primary/50",g&&"text-white font-bold shadow-inner"),style:b,onClick:()=>g?n(m[0]):r(f),title:g?m.map(y=>y.name).join(", "):"",children:Ne(f,"d")},`${Ne(f,"yyyy-MM-dd")}-${h}`)})}),d.length>0&&o.jsx("div",{className:"mt-3 pt-3 border-t border-border/50 flex-grow min-h-0",children:o.jsx("div",{className:"space-y-1.5 max-h-28 overflow-y-auto pr-2",children:d.map(f=>{const h=Mr(f.start_date),m=Mr(f.end_date),v=!br(h,m);return o.jsxs("div",{className:"flex items-start gap-2 text-xs cursor-pointer hover:bg-muted/50 p-1.5 rounded-md",onClick:()=>n(f),children:[o.jsx("div",{className:"w-2 h-2 rounded-full mt-1 flex-shrink-0",style:{backgroundColor:f.color}}),o.jsxs("div",{className:"flex-grow",children:[o.jsxs("span",{className:"font-semibold",children:[v?`${Ne(h,"d")} - ${Ne(m,"d")}`:Ne(h,"d"),":"]}),o.jsx("span",{className:"ml-1.5 text-muted-foreground",children:f.name})]})]},f.id)})})})]})},xRe=({year:e,holidays:t,selectedClassId:r,onDateClick:n,onEventClick:a})=>{const s=t.filter(f=>!r||r==="all"||!f.class_ids||f.class_ids.length===0?!0:f.class_ids.includes(r)),l=(f=>{const h=[];for(let m=6;m<12;m++)h.push(new Date(f,m,1));for(let m=0;m<6;m++)h.push(new Date(f+1,m,1));return h})(e),c=l.slice(0,6),u=l.slice(6,12),d=(f,h)=>o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4 text-center",children:h}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map((m,v)=>o.jsx(bRe,{month:m,holidays:s,onDateClick:n,onEventClick:a},`${Ne(m,"yyyy-MM")}-${v}`))})]});return o.jsxs("div",{className:"space-y-8",children:[d(c,"Semester 1"),d(u,"Semester 2")]})};var LA="Checkbox",[wRe,UHe]=ia(LA),[_Re,jRe]=wRe(LA),vq=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:s,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=x.useState(null),v=tt(t,_=>m(_)),p=x.useRef(!1),g=h?d||!!h.closest("form"):!0,[b=!1,y]=Za({prop:a,defaultProp:s,onChange:u}),w=x.useRef(b);return x.useEffect(()=>{const _=h==null?void 0:h.form;if(_){const j=()=>y(w.current);return _.addEventListener("reset",j),()=>_.removeEventListener("reset",j)}},[h,y]),o.jsxs(_Re,{scope:r,state:b,disabled:l,children:[o.jsx(Ae.button,{type:"button",role:"checkbox","aria-checked":jo(b)?"mixed":b,"aria-required":i,"data-state":xq(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:v,onKeyDown:me(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:me(e.onClick,_=>{y(j=>jo(j)?!0:!j),g&&(p.current=_.isPropagationStopped(),p.current||_.stopPropagation())})}),g&&o.jsx(SRe,{control:h,bubbles:!p.current,name:n,value:c,checked:b,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:jo(s)?!1:s})]})});vq.displayName=LA;var yq="CheckboxIndicator",bq=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,s=jRe(yq,r);return o.jsx(rn,{present:n||jo(s.state)||s.state===!0,children:o.jsx(Ae.span,{"data-state":xq(s.state),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});bq.displayName=yq;var SRe=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...s}=e,i=x.useRef(null),l=wC(r),c=ME(t);x.useEffect(()=>{const d=i.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&m){const v=new Event("click",{bubbles:n});d.indeterminate=jo(r),m.call(d,jo(r)?!1:r),d.dispatchEvent(v)}},[l,r,n]);const u=x.useRef(jo(r)?!1:r);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...s,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function jo(e){return e==="indeterminate"}function xq(e){return jo(e)?"indeterminate":e?"checked":"unchecked"}var wq=vq,kRe=bq;const mn=x.forwardRef(({className:e,...t},r)=>o.jsx(wq,{ref:r,className:se("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(kRe,{className:se("flex items-center justify-center text-current"),children:o.jsx(g0,{className:"h-4 w-4"})})}));mn.displayName=wq.displayName;var Fe=function(){return Fe=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Fe.apply(this,arguments)};function NRe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function _q(e,t,r){for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}function Vp(e){return e.mode==="multiple"}function Qp(e){return e.mode==="range"}function Zx(e){return e.mode==="single"}var ERe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function CRe(e,t){return Ne(e,"LLLL y",t)}function ARe(e,t){return Ne(e,"d",t)}function PRe(e,t){return Ne(e,"LLLL",t)}function TRe(e){return"".concat(e)}function DRe(e,t){return Ne(e,"cccccc",t)}function MRe(e,t){return Ne(e,"yyyy",t)}var ORe=Object.freeze({__proto__:null,formatCaption:CRe,formatDay:ARe,formatMonthCaption:PRe,formatWeekNumber:TRe,formatWeekdayName:DRe,formatYearCaption:MRe}),RRe=function(e,t,r){return Ne(e,"do MMMM (EEEE)",r)},IRe=function(){return"Month: "},$Re=function(){return"Go to next month"},LRe=function(){return"Go to previous month"},FRe=function(e,t){return Ne(e,"cccc",t)},BRe=function(e){return"Week n. ".concat(e)},zRe=function(){return"Year: "},URe=Object.freeze({__proto__:null,labelDay:RRe,labelMonthDropdown:IRe,labelNext:$Re,labelPrevious:LRe,labelWeekNumber:BRe,labelWeekday:FRe,labelYearDropdown:zRe});function HRe(){var e="buttons",t=ERe,r=f8,n={},a={},s=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:ORe,labels:URe,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:s,styles:i,today:l,mode:"default"}}function qRe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,s=e.fromDate,i=e.toDate;return n?s=dr(n):t&&(s=new Date(t,0,1)),a?i=xi(a):r&&(i=new Date(r,11,31)),{fromDate:s?Cs(s):void 0,toDate:i?Cs(i):void 0}}var jq=x.createContext(void 0);function WRe(e){var t,r=e.initialProps,n=HRe(),a=qRe(r),s=a.fromDate,i=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!s||!i)&&(l="buttons");var c;(Zx(r)||Vp(r)||Qp(r))&&(c=r.onSelect);var u=Fe(Fe(Fe({},n),r),{captionLayout:l,classNames:Fe(Fe({},n.classNames),r.classNames),components:Fe({},r.components),formatters:Fe(Fe({},n.formatters),r.formatters),fromDate:s,labels:Fe(Fe({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Fe(Fe({},n.modifiers),r.modifiers),modifiersClassNames:Fe(Fe({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Fe(Fe({},n.styles),r.styles),toDate:i});return o.jsx(jq.Provider,{value:u,children:e.children})}function Bt(){var e=x.useContext(jq);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Sq(e){var t=Bt(),r=t.locale,n=t.classNames,a=t.styles,s=t.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:r})})}function KRe(e){return o.jsx("svg",Fe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function kq(e){var t,r,n=e.onChange,a=e.value,s=e.children,i=e.caption,l=e.className,c=e.style,u=Bt(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:KRe;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:s}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function GRe(e){var t,r=Bt(),n=r.fromDate,a=r.toDate,s=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!a)return o.jsx(o.Fragment,{});var f=[];if(Tle(n,a))for(var h=dr(n),m=n.getMonth();m<=a.getMonth();m++)f.push(b_(h,m));else for(var h=dr(new Date),m=0;m<=11;m++)f.push(b_(h,m));var v=function(g){var b=Number(g.target.value),y=b_(dr(e.displayMonth),b);e.onChange(y)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:kq;return o.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:s.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:f.map(function(g){return o.jsx("option",{value:g.getMonth(),children:l(g,{locale:i})},g.getMonth())})})}function VRe(e){var t,r=e.displayMonth,n=Bt(),a=n.fromDate,s=n.toDate,i=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return o.jsx(o.Fragment,{});if(!s)return o.jsx(o.Fragment,{});for(var m=a.getFullYear(),v=s.getFullYear(),p=m;p<=v;p++)h.push(yD(c8(new Date),p));var g=function(y){var w=yD(dr(r),Number(y.target.value));e.onChange(w)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:kq;return o.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:g,value:r.getFullYear(),caption:d(r,{locale:i}),children:h.map(function(y){return o.jsx("option",{value:y.getFullYear(),children:d(y,{locale:i})},y.getFullYear())})})}function QRe(e,t){var r=x.useState(e),n=r[0],a=r[1],s=t===void 0?n:t;return[s,a]}function YRe(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,s=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(s&&_m(s,a)<0){var u=-1*(c-1);a=rs(s,u)}return i&&_m(a,i)<0&&(a=i),dr(a)}function JRe(){var e=Bt(),t=YRe(e),r=QRe(t,e.month),n=r[0],a=r[1],s=function(i){var l;if(!e.disableNavigation){var c=dr(i);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,s]}function XRe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=dr(e),s=dr(rs(a,n)),i=_m(s,a),l=[],c=0;c<i;c++){var u=rs(a,c);l.push(u)}return r&&(l=l.reverse()),l}function ZRe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,i=n?s:1,l=dr(e);if(!r)return rs(l,i);var c=_m(r,e);if(!(c<s))return rs(l,i)}}function eIe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,s=a===void 0?1:a,i=n?s:1,l=dr(e);if(!r)return rs(l,-i);var c=_m(l,r);if(!(c<=0))return rs(l,-i)}}var Nq=x.createContext(void 0);function tIe(e){var t=Bt(),r=JRe(),n=r[0],a=r[1],s=XRe(n,t),i=ZRe(n,t),l=eIe(n,t),c=function(f){return s.some(function(h){return Zs(f,h)})},u=function(f,h){c(f)||(h&&v8(f,h)?a(rs(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:s,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return o.jsx(Nq.Provider,{value:d,children:e.children})}function Yp(){var e=x.useContext(Nq);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function xI(e){var t,r=Bt(),n=r.classNames,a=r.styles,s=r.components,i=Yp().goToMonth,l=function(d){i(rs(d,e.displayIndex?-e.displayIndex:0))},c=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:Sq,u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:u}),o.jsx(GRe,{onChange:l,displayMonth:e.displayMonth}),o.jsx(VRe,{onChange:l,displayMonth:e.displayMonth})]})}function rIe(e){return o.jsx("svg",Fe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function nIe(e){return o.jsx("svg",Fe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Cb=x.forwardRef(function(e,t){var r=Bt(),n=r.classNames,a=r.styles,s=[n.button_reset,n.button];e.className&&s.push(e.className);var i=s.join(" "),l=Fe(Fe({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),o.jsx("button",Fe({},e,{ref:t,type:"button",className:i,style:l}))});function aIe(e){var t,r,n=Bt(),a=n.dir,s=n.locale,i=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var h=u(e.previousMonth,{locale:s}),m=[i.nav_button,i.nav_button_previous].join(" "),v=d(e.nextMonth,{locale:s}),p=[i.nav_button,i.nav_button_next].join(" "),g=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:nIe,b=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:rIe;return o.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(Cb,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?o.jsx(g,{className:i.nav_icon,style:l.nav_icon}):o.jsx(b,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(Cb,{name:"next-month","aria-label":v,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?o.jsx(b,{className:i.nav_icon,style:l.nav_icon}):o.jsx(g,{className:i.nav_icon,style:l.nav_icon})})]})}function wI(e){var t=Bt().numberOfMonths,r=Yp(),n=r.previousMonth,a=r.nextMonth,s=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(v){return Zs(e.displayMonth,v)}),c=l===0,u=l===i.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&s(n)},m=function(){a&&s(a)};return o.jsx(aIe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function sIe(e){var t,r=Bt(),n=r.classNames,a=r.disableNavigation,s=r.styles,i=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:Sq,u;return a?u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=o.jsx(xI,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(xI,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(wI,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(wI,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:n.caption,style:s.caption,children:u})}function iIe(e){var t=Bt(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?o.jsx("tfoot",{className:a,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function oIe(e,t,r){for(var n=r?oc(new Date):tn(new Date,{locale:e,weekStartsOn:t}),a=[],s=0;s<7;s++){var i=Hr(n,s);a.push(i)}return a}function lIe(){var e=Bt(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,s=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=oIe(a,s,i);return o.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function cIe(){var e,t=Bt(),r=t.classNames,n=t.styles,a=t.components,s=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:lIe;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(s,{})})}function uIe(e){var t=Bt(),r=t.locale,n=t.formatters.formatDay;return o.jsx(o.Fragment,{children:n(e.date,{locale:r})})}var FA=x.createContext(void 0);function dIe(e){if(!Vp(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(FA.Provider,{value:t,children:e.children})}return o.jsx(fIe,{initialProps:e.initialProps,children:e.children})}function fIe(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,s=t.max,i=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var v=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!v){var p=!!(!d.selected&&s&&(n==null?void 0:n.length)===s);if(!p){var g=n?_q([],n):[];if(d.selected){var b=g.findIndex(function(y){return br(u,y)});g.splice(b,1)}else g.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,g,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=s&&n.length>s-1,f=n.some(function(h){return br(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:i,modifiers:l};return o.jsx(FA.Provider,{value:c,children:r})}function BA(){var e=x.useContext(FA);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function hIe(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?br(a,e)&&br(n,e)?void 0:br(a,e)?{from:a,to:void 0}:br(n,e)?void 0:hS(n,e)?{from:e,to:a}:{from:n,to:e}:a?hS(e,a)?{from:a,to:e}:{from:e,to:a}:n?v8(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var zA=x.createContext(void 0);function mIe(e){if(!Qp(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(zA.Provider,{value:t,children:e.children})}return o.jsx(pIe,{initialProps:e.initialProps,children:e.children})}function pIe(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},s=a.from,i=a.to,l=t.min,c=t.max,u=function(m,v,p){var g,b;(g=t.onDayClick)===null||g===void 0||g.call(t,m,v,p);var y=hIe(m,n);(b=t.onSelect)===null||b===void 0||b.call(t,y,m,v,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],i?(d.range_end=[i],br(s,i)||(d.range_middle=[{after:s,before:i}])):d.range_end=[s]):i&&(d.range_start=[i],d.range_end=[i]),l&&(s&&!i&&d.disabled.push({after:v_(s,l-1),before:Hr(s,l-1)}),s&&i&&d.disabled.push({after:s,before:Hr(s,l-1)}),!s&&i&&d.disabled.push({after:v_(i,l-1),before:Hr(i,l-1)})),c){if(s&&!i&&(d.disabled.push({before:Hr(s,-c+1)}),d.disabled.push({after:Hr(s,c-1)})),s&&i){var f=xs(i,s)+1,h=c-f;d.disabled.push({before:v_(s,h)}),d.disabled.push({after:Hr(i,h)})}!s&&i&&(d.disabled.push({before:Hr(i,-c+1)}),d.disabled.push({after:Hr(i,c-1)}))}return o.jsx(zA.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function UA(){var e=x.useContext(zA);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Rv(e){return Array.isArray(e)?_q([],e):e!==void 0?[e]:[]}function gIe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=Rv(a)}),t}var as;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(as||(as={}));var vIe=as.Selected,Ls=as.Disabled,yIe=as.Hidden,bIe=as.Today,Q_=as.RangeEnd,Y_=as.RangeMiddle,J_=as.RangeStart,xIe=as.Outside;function wIe(e,t,r){var n,a=(n={},n[vIe]=Rv(e.selected),n[Ls]=Rv(e.disabled),n[yIe]=Rv(e.hidden),n[bIe]=[e.today],n[Q_]=[],n[Y_]=[],n[J_]=[],n[xIe]=[],n);return e.fromDate&&a[Ls].push({before:e.fromDate}),e.toDate&&a[Ls].push({after:e.toDate}),Vp(e)?a[Ls]=a[Ls].concat(t.modifiers[Ls]):Qp(e)&&(a[Ls]=a[Ls].concat(r.modifiers[Ls]),a[J_]=r.modifiers[J_],a[Y_]=r.modifiers[Y_],a[Q_]=r.modifiers[Q_]),a}var Eq=x.createContext(void 0);function _Ie(e){var t=Bt(),r=BA(),n=UA(),a=wIe(t,r,n),s=gIe(t.modifiers),i=Fe(Fe({},a),s);return o.jsx(Eq.Provider,{value:i,children:e.children})}function Cq(){var e=x.useContext(Eq);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function jIe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function SIe(e){return!!(e&&typeof e=="object"&&"from"in e)}function kIe(e){return!!(e&&typeof e=="object"&&"after"in e)}function NIe(e){return!!(e&&typeof e=="object"&&"before"in e)}function EIe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function CIe(e,t){var r,n=t.from,a=t.to;if(n&&a){var s=xs(a,n)<0;s&&(r=[a,n],n=r[0],a=r[1]);var i=xs(e,n)>=0&&xs(a,e)>=0;return i}return a?br(a,e):n?br(n,e):!1}function AIe(e){return SC(e)}function PIe(e){return Array.isArray(e)&&e.every(SC)}function TIe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(AIe(r))return br(e,r);if(PIe(r))return r.includes(e);if(SIe(r))return CIe(e,r);if(EIe(r))return r.dayOfWeek.includes(e.getDay());if(jIe(r)){var n=xs(r.before,e),a=xs(r.after,e),s=n>0,i=a<0,l=hS(r.before,r.after);return l?i&&s:s||i}return kIe(r)?xs(e,r.after)>0:NIe(r)?xs(r.before,e)>0:typeof r=="function"?r(e):!1})}function HA(e,t,r){var n=Object.keys(t).reduce(function(s,i){var l=t[i];return TIe(e,l)&&s.push(i),s},[]),a={};return n.forEach(function(s){return a[s]=!0}),r&&!Zs(e,r)&&(a.outside=!0),a}function DIe(e,t){for(var r=dr(e[0]),n=xi(e[e.length-1]),a,s,i=r;i<=n;){var l=HA(i,t),c=!l.disabled&&!l.hidden;if(!c){i=Hr(i,1);continue}if(l.selected)return i;l.today&&!s&&(s=i),a||(a=i),i=Hr(i,1)}return s||a}var MIe=365;function Aq(e,t){var r=t.moveBy,n=t.direction,a=t.context,s=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:Hr,week:Cd,month:rs,year:Eoe,startOfWeek:function(g){return a.ISOWeek?oc(g):tn(g,{locale:f,weekStartsOn:c})},endOfWeek:function(g){return a.ISOWeek?u8(g):Ac(g,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=Coe([u,m]):n==="after"&&d&&(m=Aoe([d,m]));var v=!0;if(s){var p=HA(m,s);v=!p.disabled&&!p.hidden}return v?m:l.count>MIe?l.lastFocused:Aq(m,{moveBy:r,direction:n,context:a,modifiers:s,retry:Fe(Fe({},l),{count:l.count+1})})}var Pq=x.createContext(void 0);function OIe(e){var t=Yp(),r=Cq(),n=x.useState(),a=n[0],s=n[1],i=x.useState(),l=i[0],c=i[1],u=DIe(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),s(void 0)},h=function(g){s(g)},m=Bt(),v=function(g,b){if(a){var y=Aq(a,{moveBy:g,direction:b,context:m,modifiers:r});br(a,y)||(t.goToDate(y,a),h(y))}},p={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return o.jsx(Pq.Provider,{value:p,children:e.children})}function qA(){var e=x.useContext(Pq);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function RIe(e,t){var r=Cq(),n=HA(e,r,t);return n}var WA=x.createContext(void 0);function IIe(e){if(!Zx(e.initialProps)){var t={selected:void 0};return o.jsx(WA.Provider,{value:t,children:e.children})}return o.jsx($Ie,{initialProps:e.initialProps,children:e.children})}function $Ie(e){var t=e.initialProps,r=e.children,n=function(s,i,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,s,i,l),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,s,i,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,s,s,i,l)},a={selected:t.selected,onDayClick:n};return o.jsx(WA.Provider,{value:a,children:r})}function Tq(){var e=x.useContext(WA);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function LIe(e,t){var r=Bt(),n=Tq(),a=BA(),s=UA(),i=qA(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,f=i.blur,h=i.focus,m=i.focusMonthBefore,v=i.focusMonthAfter,p=i.focusYearBefore,g=i.focusYearAfter,b=i.focusStartOfWeek,y=i.focusEndOfWeek,w=function(M){var D,F,z,U;Zx(r)?(D=n.onDayClick)===null||D===void 0||D.call(n,e,t,M):Vp(r)?(F=a.onDayClick)===null||F===void 0||F.call(a,e,t,M):Qp(r)?(z=s.onDayClick)===null||z===void 0||z.call(s,e,t,M):(U=r.onDayClick)===null||U===void 0||U.call(r,e,t,M)},_=function(M){var D;h(e),(D=r.onDayFocus)===null||D===void 0||D.call(r,e,t,M)},j=function(M){var D;f(),(D=r.onDayBlur)===null||D===void 0||D.call(r,e,t,M)},S=function(M){var D;(D=r.onDayMouseEnter)===null||D===void 0||D.call(r,e,t,M)},k=function(M){var D;(D=r.onDayMouseLeave)===null||D===void 0||D.call(r,e,t,M)},N=function(M){var D;(D=r.onDayPointerEnter)===null||D===void 0||D.call(r,e,t,M)},E=function(M){var D;(D=r.onDayPointerLeave)===null||D===void 0||D.call(r,e,t,M)},P=function(M){var D;(D=r.onDayTouchCancel)===null||D===void 0||D.call(r,e,t,M)},A=function(M){var D;(D=r.onDayTouchEnd)===null||D===void 0||D.call(r,e,t,M)},O=function(M){var D;(D=r.onDayTouchMove)===null||D===void 0||D.call(r,e,t,M)},T=function(M){var D;(D=r.onDayTouchStart)===null||D===void 0||D.call(r,e,t,M)},C=function(M){var D;(D=r.onDayKeyUp)===null||D===void 0||D.call(r,e,t,M)},I=function(M){var D;switch(M.key){case"ArrowLeft":M.preventDefault(),M.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":M.preventDefault(),M.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":M.preventDefault(),M.stopPropagation(),u();break;case"ArrowUp":M.preventDefault(),M.stopPropagation(),d();break;case"PageUp":M.preventDefault(),M.stopPropagation(),M.shiftKey?p():m();break;case"PageDown":M.preventDefault(),M.stopPropagation(),M.shiftKey?g():v();break;case"Home":M.preventDefault(),M.stopPropagation(),b();break;case"End":M.preventDefault(),M.stopPropagation(),y();break}(D=r.onDayKeyDown)===null||D===void 0||D.call(r,e,t,M)},$={onClick:w,onFocus:_,onBlur:j,onKeyDown:I,onKeyUp:C,onMouseEnter:S,onMouseLeave:k,onPointerEnter:N,onPointerLeave:E,onTouchCancel:P,onTouchEnd:A,onTouchMove:O,onTouchStart:T};return $}function FIe(){var e=Bt(),t=Tq(),r=BA(),n=UA(),a=Zx(e)?t.selected:Vp(e)?r.selected:Qp(e)?n.selected:void 0;return a}function BIe(e){return Object.values(as).includes(e)}function zIe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(BIe(n)){var s=e.classNames["day_".concat(n)];s&&r.push(s)}}),r}function UIe(e,t){var r=Fe({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Fe(Fe({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function HIe(e,t,r){var n,a,s,i=Bt(),l=qA(),c=RIe(e,t),u=LIe(e,c),d=FIe(),f=!!(i.onDayClick||i.mode!=="default");x.useEffect(function(){var S;c.outside||l.focusedDay&&f&&br(l.focusedDay,e)&&((S=r.current)===null||S===void 0||S.focus())},[l.focusedDay,e,r,f,c.outside]);var h=zIe(i,c).join(" "),m=UIe(i,c),v=!!(c.outside&&!i.showOutsideDays||c.hidden),p=(s=(a=i.components)===null||a===void 0?void 0:a.DayContent)!==null&&s!==void 0?s:uIe,g=o.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),b={style:m,className:h,children:g,role:"gridcell"},y=l.focusTarget&&br(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&br(l.focusedDay,e),_=Fe(Fe(Fe({},b),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||y?0:-1,n)),u),j={isButton:f,isHidden:v,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:b};return j}function qIe(e){var t=x.useRef(null),r=HIe(e.date,e.displayMonth,t);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx(Cb,Fe({name:"day",ref:t},r.buttonProps)):o.jsx("div",Fe({},r.divProps))}function WIe(e){var t=e.number,r=e.dates,n=Bt(),a=n.onWeekNumberClick,s=n.styles,i=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return o.jsx("span",{className:i.weeknumber,style:s.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return o.jsx(Cb,{name:"week-number","aria-label":f,className:i.weeknumber,style:s.weeknumber,onClick:h,children:d})}function KIe(e){var t,r,n=Bt(),a=n.styles,s=n.classNames,i=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:qIe,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:WIe,d;return i&&(d=o.jsx("td",{className:s.cell,style:a.cell,children:o.jsx(u,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:s.row,style:a.row,children:[d,e.dates.map(function(f){return o.jsx("td",{className:s.cell,style:a.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:f})},Cle(f))})]})}function _I(e,t,r){for(var n=r!=null&&r.ISOWeek?u8(t):Ac(t,r),a=r!=null&&r.ISOWeek?oc(e):tn(e,r),s=xs(n,a),i=[],l=0;l<=s;l++)i.push(Hr(a,l));var c=i.reduce(function(u,d){var f=r!=null&&r.ISOWeek?h8(d):p8(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function GIe(e,t){var r=_I(dr(e),xi(e),t);if(t!=null&&t.useFixedWeeks){var n=Ple(e,t);if(n<6){var a=r[r.length-1],s=a.dates[a.dates.length-1],i=Cd(s,6-n),l=_I(Cd(s,1),i,t);r.push.apply(r,l)}}return r}function VIe(e){var t,r,n,a=Bt(),s=a.locale,i=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,v=GIe(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:s,weekStartsOn:f,firstWeekContainsDate:h}),p=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:cIe,g=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:KIe,b=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:iIe;return o.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(p,{}),o.jsx("tbody",{className:i.tbody,style:l.tbody,children:v.map(function(y){return o.jsx(g,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),o.jsx(b,{displayMonth:e.displayMonth})]})}function QIe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var YIe=QIe()?x.useLayoutEffect:x.useEffect,X_=!1,JIe=0;function jI(){return"react-day-picker-".concat(++JIe)}function XIe(e){var t,r=e??(X_?jI():null),n=x.useState(r),a=n[0],s=n[1];return YIe(function(){a===null&&s(jI())},[]),x.useEffect(function(){X_===!1&&(X_=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function ZIe(e){var t,r,n=Bt(),a=n.dir,s=n.classNames,i=n.styles,l=n.components,c=Yp().displayMonths,u=XIe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[s.month],h=i.month,m=e.displayIndex===0,v=e.displayIndex===c.length-1,p=!m&&!v;a==="rtl"&&(t=[m,v],v=t[0],m=t[1]),m&&(f.push(s.caption_start),h=Fe(Fe({},h),i.caption_start)),v&&(f.push(s.caption_end),h=Fe(Fe({},h),i.caption_end)),p&&(f.push(s.caption_between),h=Fe(Fe({},h),i.caption_between));var g=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:sIe;return o.jsxs("div",{className:f.join(" "),style:h,children:[o.jsx(g,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(VIe,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function e$e(e){var t=Bt(),r=t.classNames,n=t.styles;return o.jsx("div",{className:r.months,style:n.months,children:e.children})}function t$e(e){var t,r,n=e.initialProps,a=Bt(),s=qA(),i=Yp(),l=x.useState(!1),c=l[0],u=l[1];x.useEffect(function(){a.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))},[a.initialFocus,c,s.focus,s.focusTarget,s]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=Fe(Fe({},a.styles.root),a.style),h=Object.keys(n).filter(function(v){return v.startsWith("data-")}).reduce(function(v,p){var g;return Fe(Fe({},v),(g={},g[p]=n[p],g))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:e$e;return o.jsx("div",Fe({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:o.jsx(m,{children:i.displayMonths.map(function(v,p){return o.jsx(ZIe,{displayIndex:p,displayMonth:v},p)})})}))}function r$e(e){var t=e.children,r=NRe(e,["children"]);return o.jsx(WRe,{initialProps:r,children:o.jsx(tIe,{children:o.jsx(IIe,{initialProps:r,children:o.jsx(dIe,{initialProps:r,children:o.jsx(mIe,{initialProps:r,children:o.jsx(_Ie,{children:o.jsx(OIe,{children:t})})})})})})})}function n$e(e){return o.jsx(r$e,Fe({},e,{children:o.jsx(t$e,{initialProps:e})}))}function zk({className:e,classNames:t,showOutsideDays:r=!0,...n}){return o.jsx(n$e,{showOutsideDays:r,className:se("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:se(bm({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:se(bm({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>o.jsx(xd,{className:"h-4 w-4"}),IconRight:({...a})=>o.jsx(ci,{className:"h-4 w-4"})},...n})}zk.displayName="Calendar";var KA="Popover",[Dq,HHe]=ia(KA,[zo]),Jp=zo(),[a$e,Jo]=Dq(KA),Mq=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!1}=e,l=Jp(t),c=x.useRef(null),[u,d]=x.useState(!1),[f=!1,h]=Za({prop:n,defaultProp:a,onChange:s});return o.jsx(IE,{...l,children:o.jsx(a$e,{scope:t,contentId:Qa(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:i,children:r})})};Mq.displayName=KA;var Oq="PopoverAnchor",s$e=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Jo(Oq,r),s=Jp(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return x.useEffect(()=>(i(),()=>l()),[i,l]),o.jsx(Np,{...s,...n,ref:t})});s$e.displayName=Oq;var Rq="PopoverTrigger",Iq=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Jo(Rq,r),s=Jp(r),i=tt(t,a.triggerRef),l=o.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":zq(a.open),...n,ref:i,onClick:me(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:o.jsx(Np,{asChild:!0,...s,children:l})});Iq.displayName=Rq;var GA="PopoverPortal",[i$e,o$e]=Dq(GA,{forceMount:void 0}),$q=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,s=Jo(GA,t);return o.jsx(i$e,{scope:t,forceMount:r,children:o.jsx(rn,{present:r||s.open,children:o.jsx(ff,{asChild:!0,container:a,children:n})})})};$q.displayName=GA;var tf="PopoverContent",Lq=x.forwardRef((e,t)=>{const r=o$e(tf,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,s=Jo(tf,e.__scopePopover);return o.jsx(rn,{present:n||s.open,children:s.modal?o.jsx(l$e,{...a,ref:t}):o.jsx(c$e,{...a,ref:t})})});Lq.displayName=tf;var l$e=x.forwardRef((e,t)=>{const r=Jo(tf,e.__scopePopover),n=x.useRef(null),a=tt(t,n),s=x.useRef(!1);return x.useEffect(()=>{const i=n.current;if(i)return Dp(i)},[]),o.jsx(Tp,{as:In,allowPinchZoom:!0,children:o.jsx(Fq,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),s.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:me(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:me(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),c$e=x.forwardRef((e,t)=>{const r=Jo(tf,e.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return o.jsx(Fq,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),Fq=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Jo(tf,r),m=Jp(r);return z0(),o.jsx(Pp,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:o.jsx(jc,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:o.jsx(S0,{"data-state":zq(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Bq="PopoverClose",u$e=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Jo(Bq,r);return o.jsx(Ae.button,{type:"button",...n,ref:t,onClick:me(e.onClick,()=>a.onOpenChange(!1))})});u$e.displayName=Bq;var d$e="PopoverArrow",f$e=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Jp(r);return o.jsx(k0,{...a,...n,ref:t})});f$e.displayName=d$e;function zq(e){return e?"open":"closed"}var h$e=Mq,m$e=Iq,p$e=$q,Uq=Lq;const Uk=h$e,Hk=m$e,Ab=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>o.jsx(p$e,{children:o.jsx(Uq,{ref:a,align:t,sideOffset:r,className:se("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Ab.displayName=Uq.displayName;const VA=[{id:"event-sekolah",name:"Event Sekolah",color:"#3b82f6"},{id:"liburan-semester",name:"Liburan Semester",color:"#10b981"},{id:"sumatif-akhir",name:"Sumatif Akhir",color:"#f59e0b"},{id:"ujian",name:"Ujian",color:"#ef4444"},{id:"libur-nasional",name:"Libur Nasional",color:"#8b5cf6"},{id:"kegiatan-khusus",name:"Kegiatan Khusus",color:"#ec4899"}],g$e=[{id:"tahun-baru-2024",name:"Tahun Baru 2024",date:"2024-01-01"},{id:"imlek-2024",name:"Tahun Baru Imlek",date:"2024-02-10"},{id:"nyepi-2024",name:"Hari Raya Nyepi",date:"2024-03-11"},{id:"wafat-isa-2024",name:"Wafat Isa Al Masih",date:"2024-03-29"},{id:"idul-fitri-2024-1",name:"Idul Fitri 1445 H",date:"2024-04-10"},{id:"idul-fitri-2024-2",name:"Idul Fitri 1445 H",date:"2024-04-11"},{id:"buruh-2024",name:"Hari Buruh",date:"2024-05-01"},{id:"kenaikan-isa-2024",name:"Kenaikan Isa Al Masih",date:"2024-05-09"},{id:"waisak-2024",name:"Hari Raya Waisak",date:"2024-05-23"},{id:"pancasila-2024",name:"Hari Lahir Pancasila",date:"2024-06-01"},{id:"idul-adha-2024",name:"Idul Adha 1445 H",date:"2024-06-17"},{id:"muharram-2024",name:"Tahun Baru Islam 1446 H",date:"2024-07-07"},{id:"kemerdekaan-2024",name:"Hari Kemerdekaan RI",date:"2024-08-17"},{id:"maulid-2024",name:"Maulid Nabi Muhammad SAW",date:"2024-09-16"},{id:"natal-2024",name:"Hari Raya Natal",date:"2024-12-25"}],v$e=[{id:"tahun-baru-2025",name:"Tahun Baru 2025",date:"2025-01-01"},{id:"imlek-2025",name:"Tahun Baru Imlek",date:"2025-01-29"},{id:"nyepi-2025",name:"Hari Raya Nyepi",date:"2025-03-29"},{id:"wafat-isa-2025",name:"Wafat Isa Al Masih",date:"2025-04-18"},{id:"idul-fitri-2025-1",name:"Idul Fitri 1446 H",date:"2025-03-31"},{id:"idul-fitri-2025-2",name:"Idul Fitri 1446 H",date:"2025-04-01"},{id:"buruh-2025",name:"Hari Buruh",date:"2025-05-01"},{id:"kenaikan-isa-2025",name:"Kenaikan Isa Al Masih",date:"2025-05-29"},{id:"waisak-2025",name:"Hari Raya Waisak",date:"2025-05-12"},{id:"pancasila-2025",name:"Hari Lahir Pancasila",date:"2025-06-01"},{id:"idul-adha-2025",name:"Idul Adha 1446 H",date:"2025-06-07"},{id:"muharram-2025",name:"Tahun Baru Islam 1447 H",date:"2025-06-26"},{id:"kemerdekaan-2025",name:"Hari Kemerdekaan RI",date:"2025-08-17"},{id:"maulid-2025",name:"Maulid Nabi Muhammad SAW",date:"2025-09-05"},{id:"natal-2025",name:"Hari Raya Natal",date:"2025-12-25"}],QA=()=>{const{profile:e}=ct(),{data:t}=$r(),r=Ce(),n=t==null?void 0:t.find(d=>d.is_active),{data:a=[],isLoading:s}=Ze({queryKey:["event-categories",e==null?void 0:e.school_id,n==null?void 0:n.id],queryFn:async()=>{if(!(e!=null&&e.school_id)||!(n!=null&&n.id))return[];const{data:d,error:f}=await G.from("event_categories").select("*").eq("school_id",e.school_id).eq("academic_year_id",n.id).order("name");return f?(console.error("Error fetching event categories:",f),[]):d||[]},enabled:!!(e!=null&&e.school_id)&&!!(n!=null&&n.id)}),i=[...VA,...a],l=Ee({mutationFn:async d=>{if(!(e!=null&&e.school_id)||!(n!=null&&n.id))throw new Error("Missing school or academic year data");const{data:f,error:h}=await G.from("event_categories").insert([{name:d.name,color:d.color,school_id:e.school_id,academic_year_id:n.id}]).select().single();if(h)throw h;return f},onSuccess:()=>{r.invalidateQueries({queryKey:["event-categories"]}),ot({title:"Berhasil",description:"Kategori baru telah ditambahkan"})},onError:d=>{console.error("Error creating category:",d),ot({title:"Error",description:"Gagal menambahkan kategori",variant:"destructive"})}}),c=Ee({mutationFn:async({id:d,...f})=>{const{data:h,error:m}=await G.from("event_categories").update(f).eq("id",d).select().single();if(m)throw m;return h},onSuccess:()=>{r.invalidateQueries({queryKey:["event-categories"]}),ot({title:"Berhasil",description:"Kategori telah diperbarui"})},onError:d=>{console.error("Error updating category:",d),ot({title:"Error",description:"Gagal memperbarui kategori",variant:"destructive"})}}),u=Ee({mutationFn:async d=>{const{error:f}=await G.from("event_categories").delete().eq("id",d);if(f)throw f},onSuccess:()=>{r.invalidateQueries({queryKey:["event-categories"]}),ot({title:"Berhasil",description:"Kategori telah dihapus"})},onError:d=>{console.error("Error deleting category:",d),ot({title:"Error",description:"Gagal menghapus kategori",variant:"destructive"})}});return{categories:i,customCategories:a,isLoading:s,createCategory:l.mutate,updateCategory:c.mutate,deleteCategory:u.mutate,isCreating:l.isPending,isUpdating:c.isPending,isDeleting:u.isPending}},y$e=({open:e,onOpenChange:t})=>{const[r,n]=x.useState(""),[a,s]=x.useState("#3b82f6"),[i,l]=x.useState(null),[c,u]=x.useState(""),[d,f]=x.useState(""),{customCategories:h,createCategory:m,updateCategory:v,deleteCategory:p,isCreating:g,isUpdating:b,isDeleting:y}=QA(),w=()=>{r.trim()&&(m({name:r.trim(),color:a}),n(""),s("#3b82f6"))},_=N=>{l(N),u(N.name),f(N.color)},j=()=>{!i||!c.trim()||(v({id:i.id,name:c.trim(),color:d}),l(null),u(""),f(""))},S=N=>{confirm("Apakah Anda yakin ingin menghapus kategori ini?")&&p(N)},k=()=>{l(null),u(""),f("")};return o.jsx(Ft,{open:e,onOpenChange:t,children:o.jsxs(Ct,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(At,{children:o.jsx(Pt,{children:"Kelola Kategori Event"})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg border",children:[o.jsx("h3",{className:"font-medium mb-3",children:"Tambah Kategori Baru"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"new-name",children:"Nama Kategori"}),o.jsx(xe,{id:"new-name",value:r,onChange:N=>n(N.target.value),placeholder:"Masukkan nama kategori"})]}),o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"new-color",children:"Warna"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{id:"new-color",type:"color",value:a,onChange:N=>s(N.target.value),className:"w-12 h-10 border rounded cursor-pointer"}),o.jsx(xe,{value:a,onChange:N=>s(N.target.value),placeholder:"#3b82f6"})]})]}),o.jsxs(V,{onClick:w,disabled:!r.trim()||g,className:"w-full",children:[o.jsx(mt,{className:"h-4 w-4 mr-2"}),g?"Menambahkan...":"Tambah Kategori"]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-3",children:"Kategori Default"}),o.jsx("div",{className:"space-y-2",children:VA.map(N=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded border border-muted/30",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:N.color}}),o.jsx("span",{className:"text-muted-foreground",children:N.name})]}),o.jsx("span",{className:"text-muted-foreground text-sm",children:"Default"})]},N.id))})]}),h.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-3",children:"Kategori Kustom"}),o.jsx("div",{className:"space-y-2",children:h.map(N=>o.jsx("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded border",children:(i==null?void 0:i.id)===N.id?o.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[o.jsx("input",{type:"color",value:d,onChange:E=>f(E.target.value),className:"w-8 h-8 border rounded cursor-pointer"}),o.jsx(xe,{value:c,onChange:E=>u(E.target.value),className:"flex-1"}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(V,{size:"sm",onClick:j,disabled:!c.trim()||b,children:"Simpan"}),o.jsx(V,{size:"sm",variant:"outline",onClick:k,children:"Batal"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:N.color}}),o.jsx("span",{className:"text-white",children:N.name})]}),o.jsxs("div",{className:"flex gap-1",children:[o.jsx(V,{size:"sm",variant:"outline",onClick:()=>_(N),children:o.jsx(my,{className:"h-3 w-3"})}),o.jsx(V,{size:"sm",variant:"destructive",onClick:()=>S(N.id),disabled:y,children:o.jsx(er,{className:"h-3 w-3"})})]})]})},N.id))})]})]}),o.jsx(an,{children:o.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Tutup"})})]})})},Xg=["#ef4444","#f97316","#eab308","#84cc16","#22c55e","#10b981","#06b6d4","#3b82f6","#8b5cf6","#d946ef","#ec4899","#78716c"],b$e=({open:e,onOpenChange:t,event:r,initialDate:n,onSave:a,onUpdate:s,onDelete:i})=>{const[l,c]=x.useState(""),[u,d]=x.useState(),[f,h]=x.useState(),[m,v]=x.useState(""),[p,g]=x.useState(""),[b,y]=x.useState(Xg[0]),[w,_]=x.useState(!1),[j,S]=x.useState([]),[k,N]=x.useState(!0),[E,P]=x.useState(!1),{data:A=[]}=jr(),{categories:O}=QA();x.useEffect(()=>{r?(c(r.name),d(new Date(r.start_date)),h(new Date(r.end_date)),v(r.category_id),g(r.description||""),y(r.color||Xg[0]),_(r.is_national_holiday||!1),S(r.class_ids||[]),N(!r.class_ids||r.class_ids.length===0)):(c(""),d(n),h(n),v(""),g(""),y(Xg[0]),_(!1),S([]),N(!0))},[r,n,e]);const T=()=>{if(!l||!u||!f||!m||!b)return;const M={name:l,start_date:Ne(u,"yyyy-MM-dd"),end_date:Ne(f,"yyyy-MM-dd"),description:p,color:b,category_id:m,is_national_holiday:w,class_ids:k?[]:j};r&&s?s({id:r.id,...M}):a(M),t(!1)},C=()=>{r&&i&&(i(r.id),t(!1))},I=(M,D)=>{S(D?F=>[...F,M]:F=>F.filter(z=>z!==M))},$=l&&u&&f&&m&&b&&f>=u;return o.jsxs(o.Fragment,{children:[o.jsx(Ft,{open:e,onOpenChange:t,children:o.jsxs(Ct,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(At,{children:o.jsx(Pt,{children:r?"Edit Event":"Tambah Event Baru"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"name",children:"Nama Event *"}),o.jsx(xe,{id:"name",value:l,onChange:M=>c(M.target.value),placeholder:"Masukkan nama event"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(oe,{children:"Tanggal Mulai *"}),o.jsxs(Uk,{children:[o.jsx(Hk,{asChild:!0,children:o.jsxs(V,{variant:"outline",className:se("w-full justify-start text-left font-normal",!u&&"text-muted-foreground"),children:[o.jsx(rt,{className:"mr-2 h-4 w-4"}),u?Ne(u,"dd MMMM yyyy",{locale:Nt}):"Pilih tanggal"]})}),o.jsx(Ab,{className:"w-auto p-0",children:o.jsx(zk,{mode:"single",selected:u,onSelect:d,initialFocus:!0})})]})]}),o.jsxs("div",{children:[o.jsx(oe,{children:"Tanggal Selesai *"}),o.jsxs(Uk,{children:[o.jsx(Hk,{asChild:!0,children:o.jsxs(V,{variant:"outline",className:se("w-full justify-start text-left font-normal",!f&&"text-gray-400"),children:[o.jsx(rt,{className:"mr-2 h-4 w-4"}),f?Ne(f,"dd MMMM yyyy",{locale:Nt}):"Pilih tanggal"]})}),o.jsx(Ab,{className:"w-auto p-0",children:o.jsx(zk,{mode:"single",selected:f,onSelect:h,disabled:M=>u?M<u:!1,initialFocus:!0})})]})]})]}),o.jsxs("div",{children:[o.jsx(oe,{className:"text-white",children:"Kategori *"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(ze,{value:m,onValueChange:v,children:[o.jsx($e,{children:o.jsx(Ue,{placeholder:"Pilih kategori"})}),o.jsx(Le,{children:O.map(M=>o.jsx(pe,{value:M.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:M.color}}),M.name]})},M.id))})]}),o.jsx(V,{type:"button",size:"icon",onClick:()=>P(!0),variant:"outline",children:o.jsx(mt,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{children:[o.jsx(oe,{children:"Warna *"}),o.jsx("div",{className:"flex flex-wrap gap-2 pt-2",children:Xg.map(M=>o.jsx("button",{type:"button",onClick:()=>y(M),className:se("h-8 w-8 rounded-full border-2 transition-all",b===M?"ring-2 ring-offset-2 ring-ring":"ring-offset-background"),style:{backgroundColor:M},"aria-label":`Select color ${M}`},M))})]}),o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"description",children:"Deskripsi"}),o.jsx(Ns,{id:"description",value:p,onChange:M=>g(M.target.value),placeholder:"Deskripsi event (opsional)",rows:3})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mn,{id:"national",checked:w,onCheckedChange:M=>_(M===!0)}),o.jsx(oe,{htmlFor:"national",children:"Libur Nasional"})]}),o.jsxs("div",{children:[o.jsx(oe,{children:"Kelas yang Terlibat"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mn,{id:"all-classes",checked:k,onCheckedChange:M=>{N(M===!0),M&&S([])}}),o.jsx(oe,{htmlFor:"all-classes",className:"font-medium",children:"Semua Kelas"})]}),!k&&o.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-32 overflow-y-auto p-2 bg-muted rounded border",children:A.map(M=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mn,{id:`class-${M.id}`,checked:j.includes(M.id),onCheckedChange:D=>I(M.id,D===!0)}),o.jsx(oe,{htmlFor:`class-${M.id}`,className:"text-sm",children:M.name})]},M.id))})]})]})]}),o.jsxs(an,{className:"flex gap-2",children:[r&&i&&o.jsx(V,{type:"button",variant:"destructive",onClick:C,className:"mr-auto",children:"Hapus"}),o.jsx(V,{type:"button",onClick:()=>t(!1),variant:"outline",children:"Batal"}),o.jsx(V,{type:"button",onClick:T,disabled:!$,children:r?"Perbarui":"Simpan"})]})]})}),o.jsx(y$e,{open:E,onOpenChange:P})]})},x$e=({open:e,onOpenChange:t,currentYear:r,onSave:n,existingHolidays:a})=>{const[s,i]=x.useState([]),[l,c]=x.useState(!1),u=r===2024?g$e:v$e,d=VA.find(g=>g.id==="libur-nasional"),f=u.filter(g=>!a.includes(g.id)),h=(g,b)=>{b?i(y=>[...y,g]):(i(y=>y.filter(w=>w!==g)),c(!1))},m=g=>{c(g),i(g?f.map(b=>b.id):[])},v=()=>{const g=f.filter(b=>s.includes(b.id)).map(b=>({name:b.name,start_date:b.date,end_date:b.date,description:b.description,color:(d==null?void 0:d.color)||"#8b5cf6",category_id:"libur-nasional",is_national_holiday:!0,class_ids:[]}));n(g),i([]),c(!1),t(!1)},p=s.length>0;return o.jsx(Ft,{open:e,onOpenChange:t,children:o.jsxs(Ct,{className:"max-w-2xl max-h-[90vh] overflow-y-auto bg-gradient-to-br from-gray-800/95 via-gray-800/90 to-gray-900/95 border-lime-400/20",children:[o.jsx(At,{children:o.jsxs(Pt,{className:"text-white flex items-center gap-2",children:[o.jsx(rt,{className:"h-5 w-5 text-lime-400"}),"Tambah Libur Nasional ",r]})}),o.jsx("div",{className:"space-y-4",children:f.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(rt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsxs("p",{className:"text-gray-400",children:["Semua libur nasional untuk tahun ",r," sudah ditambahkan."]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center space-x-2 pb-2 border-b border-gray-600",children:[o.jsx(mn,{id:"select-all",checked:l,onCheckedChange:m,className:"border-lime-400/30"}),o.jsxs(oe,{htmlFor:"select-all",className:"text-white font-medium",children:["Pilih Semua (",f.length," libur)"]})]}),o.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:f.map(g=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-900/50 rounded border border-gray-600/30 hover:border-lime-400/30 transition-colors",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(mn,{id:g.id,checked:s.includes(g.id),onCheckedChange:b=>h(g.id,b),className:"border-lime-400/30"}),o.jsxs("div",{children:[o.jsx(oe,{htmlFor:g.id,className:"text-white font-medium cursor-pointer",children:g.name}),g.description&&o.jsx("p",{className:"text-gray-400 text-sm",children:g.description})]})]}),o.jsx("div",{className:"text-lime-400 text-sm",children:Ne(Mr(g.date),"dd MMMM yyyy",{locale:Nt})})]},g.id))}),s.length>0&&o.jsx("div",{className:"p-3 bg-lime-400/10 border border-lime-400/30 rounded",children:o.jsxs("p",{className:"text-lime-400 text-sm",children:[s.length," libur nasional akan ditambahkan ke kalender"]})})]})}),o.jsxs(an,{children:[o.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:"Batal"}),f.length>0&&o.jsxs(V,{type:"button",onClick:v,disabled:!p,className:"bg-gradient-to-r from-lime-400 to-lime-500 hover:from-lime-500 hover:to-lime-600 text-gray-900",children:["Tambah ",s.length," Libur"]})]})]})})},w$e=({holidays:e,onEdit:t,onDelete:r,selectedClassId:n="all",onClassFilterChange:a})=>{const[s,i]=x.useState("start_date"),[l,c]=x.useState("asc"),{data:u=[]}=jr(),{categories:d}=QA(),f=x.useMemo(()=>{let g=e.filter(b=>n==="all"||!b.class_ids||b.class_ids.length===0?!0:b.class_ids.includes(n));return g.sort((b,y)=>{let w,_;switch(s){case"name":w=b.name.toLowerCase(),_=y.name.toLowerCase();break;case"start_date":w=new Date(b.start_date),_=new Date(y.start_date);break;case"end_date":w=new Date(b.end_date),_=new Date(y.end_date);break;case"category":const j=d.find(k=>k.id===b.category_id),S=d.find(k=>k.id===y.category_id);w=(j==null?void 0:j.name.toLowerCase())||"",_=(S==null?void 0:S.name.toLowerCase())||"";break;default:w=b.name.toLowerCase(),_=y.name.toLowerCase()}return w<_?l==="asc"?-1:1:w>_?l==="asc"?1:-1:0}),g},[e,n,s,l,d]),h=g=>{s===g?c(l==="asc"?"desc":"asc"):(i(g),c("asc"))},m=({field:g})=>s!==g?null:l==="asc"?o.jsx(Ll,{className:"h-4 w-4"}):o.jsx(Va,{className:"h-4 w-4"}),v=g=>{const b=d.find(y=>y.id===g);return(b==null?void 0:b.name)||"Unknown"},p=g=>{if(!g||g.length===0)return"Semua Kelas";const b=g.map(y=>{const w=u.find(_=>_.id===y);return(w==null?void 0:w.name)||""}).filter(Boolean);return b.length>0?b.join(", "):"Semua Kelas"};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-4 p-4 bg-card rounded-lg border",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(bi,{className:"h-5 w-5 text-primary"}),o.jsx("span",{className:"text-foreground",children:"Filter Kelas:"})]}),o.jsxs(ze,{value:n,onValueChange:a,children:[o.jsx($e,{className:"w-48",children:o.jsx(Ue,{})}),o.jsxs(Le,{children:[o.jsx(pe,{value:"all",children:"Semua Kelas"}),u.map(g=>o.jsx(pe,{value:g.id,children:g.name},g.id))]})]}),o.jsxs("span",{className:"text-muted-foreground text-sm",children:["Menampilkan ",f.length," dari ",e.length," event"]})]}),o.jsx("div",{className:"overflow-x-auto rounded-lg border bg-card",children:o.jsxs(Mo,{children:[o.jsx(Oo,{children:o.jsxs(Cr,{children:[o.jsx(Ke,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>h("name"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Nama Event",o.jsx(m,{field:"name"})]})}),o.jsx(Ke,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>h("category"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Kategori",o.jsx(m,{field:"category"})]})}),o.jsx(Ke,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>h("start_date"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Tanggal Mulai",o.jsx(m,{field:"start_date"})]})}),o.jsx(Ke,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>h("end_date"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Tanggal Selesai",o.jsx(m,{field:"end_date"})]})}),o.jsx(Ke,{children:"Kelas"}),o.jsx(Ke,{children:"Keterangan"}),o.jsx(Ke,{className:"text-center",children:"Aksi"})]})}),o.jsx(Ro,{children:f.length===0?o.jsx(Cr,{children:o.jsx(He,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"Tidak ada event yang ditemukan"})}):f.map(g=>o.jsxs(Cr,{className:"hover:bg-muted/50",children:[o.jsx(He,{className:"font-medium text-foreground",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:g.color}}),g.name,g.is_national_holiday&&o.jsx(ht,{variant:"secondary",className:"text-xs",children:"Nasional"})]})}),o.jsx(He,{className:"text-muted-foreground",children:v(g.category_id)}),o.jsx(He,{className:"text-muted-foreground",children:Ne(Mr(g.start_date),"dd MMM yyyy",{locale:Nt})}),o.jsx(He,{className:"text-muted-foreground",children:Ne(Mr(g.end_date),"dd MMM yyyy",{locale:Nt})}),o.jsx(He,{className:"text-muted-foreground text-sm",children:p(g.class_ids)}),o.jsx(He,{className:"text-muted-foreground text-sm max-w-xs truncate",children:g.description||"-"}),o.jsx(He,{children:o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx(V,{size:"icon",variant:"outline",onClick:()=>t(g),className:"h-8 w-8",children:o.jsx(my,{className:"h-4 w-4"})}),o.jsx(V,{size:"icon",variant:"destructive",onClick:()=>r(g.id),className:"h-8 w-8",children:o.jsx(er,{className:"h-4 w-4"})})]})})]},g.id))})]})})]})},_$e=()=>{const[e,t]=x.useState(),[r,n]=x.useState(null),[a,s]=x.useState(!1),[i,l]=x.useState(!1),[c,u]=x.useState("all"),[d,f]=x.useState(()=>localStorage.getItem("events-show-list")==="true"),{data:h}=$r(),{data:m=[]}=jr(),{holidays:v,isLoading:p,createHoliday:g,updateHoliday:b,deleteHoliday:y,createMultipleHolidays:w}=DA(),_=h==null?void 0:h.find(I=>I.is_active),j=_?new Date(_.start_date).getFullYear():new Date().getFullYear(),{effectiveDaysCount:S,totalDays:k}=x.useMemo(()=>{const I=h==null?void 0:h.find(B=>B.is_active);if(!I||!v)return{effectiveDaysCount:0,totalDays:0};const $=new Date(I.start_date),M=new Date(I.end_date),D=ns({start:$,end:M}),F=new Set;D.forEach(B=>{Bl(B)===0&&F.add(B.toISOString().split("T")[0])}),v.filter(B=>!c||c==="all"||!B.class_ids||B.class_ids.length===0?!0:B.class_ids.includes(c)).forEach(B=>{const K=Cs(new Date(B.start_date)),J=Cs(new Date(B.end_date));ns({start:K,end:J}).forEach(te=>{F.add(te.toISOString().split("T")[0])})});const U=D.length;return{effectiveDaysCount:U-F.size,totalDays:U}},[h,v,c]);x.useEffect(()=>{localStorage.setItem("events-show-list",d.toString())},[d]);const N=I=>{t(I),n(null),s(!0)},E=I=>{n(I),t(void 0),s(!0)},P=I=>{g(I)},A=I=>{b(I)},O=I=>{confirm("Apakah Anda yakin ingin menghapus event ini?")&&y(I)},T=I=>{w(I)},C=v.filter(I=>I.is_national_holiday).map(I=>{const $=I.name.toLowerCase();return $.includes("tahun baru")&&$.includes("2024")?"tahun-baru-2024":$.includes("tahun baru")&&$.includes("2025")?"tahun-baru-2025":$.includes("imlek")&&$.includes("2024")?"imlek-2024":$.includes("imlek")&&$.includes("2025")?"imlek-2025":""}).filter(Boolean);return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"flex items-center space-x-4 mb-2",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Zn,{className:"h-8 w-8 text-lime-400"}),o.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Event"})]})}),o.jsxs("p",{className:"text-muted-foreground",children:["Kelola event dan kegiatan tahun akademik ",j,"/",String(j+1).slice(-2)]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(V,{onClick:()=>l(!0),className:"bg-red-400/10 border border-red-400/20 hover:bg-red-400/20 flex items-center justify-center space-x-2 text-red-400",children:[o.jsx(GY,{className:"h-4 w-4 mr-2"}),"Libur Nasional"]}),o.jsxs(V,{onClick:()=>{t(new Date),n(null),s(!0)},className:"bg-lime-400/10 border border-lime-400/20 text-lime-400 hover:bg-lime-400/20 flex items-center justify-center space-x-2",children:[o.jsx(mt,{className:"h-5 w-5 mr-2"}),"Tambah Event"]})]})]}),o.jsx(le,{className:"bg-card border-border rounded-2xl p-6",children:o.jsx(ce,{className:"p-0",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rt,{className:"h-5 w-5 text-lime-400"}),o.jsx("span",{className:"text-foreground",children:"Filter Kelas:"})]}),o.jsxs(ze,{value:c,onValueChange:u,children:[o.jsx($e,{className:"w-48 bg-background border-lime-400/30 text-foreground",children:o.jsx(Ue,{})}),o.jsxs(Le,{children:[o.jsx(pe,{value:"all",children:"Semua Kelas"}),m.map(I=>o.jsx(pe,{value:I.id,children:I.name},I.id))]})]})]}),o.jsxs(V,{variant:"outline",onClick:()=>f(!d),className:"bg-lime-400/10 border border-lime-400/20 text-lime-400 hover:bg-lime-400/20 flex items-center justify-center space-x-2",children:[o.jsx(bE,{className:"h-4 w-4 mr-2"}),d?"Sembunyikan":"Tampilkan"," Daftar Event"]})]})})}),o.jsxs(le,{className:"bg-card border-border rounded-2xl p-2",children:[o.jsxs(ke,{className:"p-6 flex flex-row items-start justify-between",children:[o.jsxs("div",{children:[o.jsx(Pe,{className:"text-card-foreground text-xl",children:"Kalender Event Tahunan"}),o.jsx(Nn,{className:"text-muted-foreground mt-1",children:"Klik tanggal kosong untuk menambah event, klik event untuk mengedit"})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-lime-500",children:[o.jsx(wd,{className:"h-5 w-5"}),o.jsx("span",{children:"Hari Efektif"})]}),o.jsxs("div",{className:"text-2xl font-bold text-foreground mt-1",children:[S," ",o.jsxs("span",{className:"text-base font-normal text-muted-foreground",children:["/ ",k," hari"]})]})]})]}),o.jsx(ce,{className:"p-6 bg-transparent",children:p?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Zn,{className:"h-12 w-12 animate-pulse text-lime-400 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-400",children:"Memuat kalender event..."})]})}):o.jsx(xRe,{year:j,holidays:v,selectedClassId:c,onDateClick:N,onEventClick:E})})]}),o.jsx(ac,{open:d,onOpenChange:f,children:o.jsx(sc,{children:o.jsxs(le,{className:"bg-card border-border",children:[o.jsxs(ke,{className:"pb-4",children:[o.jsx(Pe,{className:"text-card-foreground text-xl",children:"Daftar Event"}),o.jsx(Nn,{className:"text-muted-foreground",children:"Kelola semua event dengan mudah melalui tabel di bawah ini"})]}),o.jsx(ce,{className:"pt-0",children:o.jsx(w$e,{holidays:v,onEdit:E,onDelete:O,selectedClassId:c,onClassFilterChange:u})})]})})})]}),o.jsx(b$e,{open:a,onOpenChange:s,event:r,initialDate:e,onSave:P,onUpdate:A,onDelete:O}),o.jsx(x$e,{open:i,onOpenChange:l,currentYear:j,onSave:T,existingHolidays:C})]})},Rf=()=>{const{profile:e}=ct();return Ze({queryKey:["schools",e==null?void 0:e.school_id],queryFn:async()=>{if(!(e!=null&&e.school_id))return null;const{data:t,error:r}=await G.from("schools").select("*").eq("id",e.school_id).maybeSingle();if(r)throw r;return t},enabled:!!(e!=null&&e.school_id)})},Hq=()=>{const e=Ce(),{profile:t}=ct();return Ee({mutationFn:async r=>{if(!(t!=null&&t.school_id))throw new Error("No school ID found");const{data:n,error:a}=await G.from("schools").update(r).eq("id",t.school_id).select().single();if(a)throw a;return n},onSuccess:()=>{e.invalidateQueries({queryKey:["schools"]}),ot({title:"Berhasil",description:"Informasi sekolah berhasil diperbarui"})},onError:r=>{console.error("Error updating school:",r),ot({title:"Error",description:"Gagal memperbarui informasi sekolah",variant:"destructive"})}})},j$e=()=>{const e=Ce(),{profile:t}=ct(),r=Hq();return Ee({mutationFn:async n=>{if(!(t!=null&&t.school_id))throw new Error("No school ID found");const a=n.name.split(".").pop(),s=`${t.school_id}-${Date.now()}.${a}`,{data:i,error:l}=await G.storage.from("school-logos").upload(s,n,{cacheControl:"3600",upsert:!0});if(l)throw l;const{data:{publicUrl:c}}=G.storage.from("school-logos").getPublicUrl(s);return await r.mutateAsync({logo_url:c}),c},onSuccess:()=>{e.invalidateQueries({queryKey:["schools"]})},onError:n=>{console.error("Error uploading logo:",n),ot({title:"Error",description:"Gagal mengupload logo sekolah",variant:"destructive"})}})},qq=()=>{const{profile:e}=ct();return Ze({queryKey:["semesters"],queryFn:async()=>{if(!(e!=null&&e.school_id))return[];const{data:t,error:r}=await G.from("semesters").select(`
          *,
          academic_years (
            id,
            year_name,
            start_date,
            end_date,
            is_active
          )
        `).eq("school_id",e.school_id).order("academic_year_id",{ascending:!1}).order("semester_number",{ascending:!0});if(r)throw r;return t},enabled:!!(e!=null&&e.school_id)})},Wq=()=>{const{profile:e}=ct();return Ze({queryKey:["active-semester"],queryFn:async()=>{if(!(e!=null&&e.school_id))return null;const{data:t,error:r}=await G.from("semesters").select(`
          *,
          academic_years (
            id,
            year_name,
            start_date,
            end_date,
            is_active
          )
        `).eq("school_id",e.school_id).eq("is_active",!0).single();if(r&&r.code!=="PGRST116")throw r;return t},enabled:!!(e!=null&&e.school_id)})},S$e=()=>{const e=Ce(),{toast:t}=Te(),{profile:r}=ct();return Ee({mutationFn:async n=>{if(!(r!=null&&r.school_id))throw new Error("School ID not found");const{data:a,error:s}=await G.from("semesters").insert({...n,school_id:r.school_id,is_active:!1}).select().single();if(s)throw s;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["semesters"]}),t({title:"Berhasil",description:"Semester baru berhasil ditambahkan"})},onError:n=>{t({title:"Error",description:"Gagal menambahkan semester",variant:"destructive"}),console.error("Error creating semester:",n)}})},k$e=()=>{const e=Ce(),{toast:t}=Te(),{profile:r}=ct();return Ee({mutationFn:async({id:n,...a})=>{if(!(r!=null&&r.school_id))throw new Error("School ID not found");const{data:s,error:i}=await G.from("semesters").update(a).eq("id",n).eq("school_id",r.school_id).select().single();if(i)throw i;return s},onSuccess:()=>{e.invalidateQueries({queryKey:["semesters"]}),e.invalidateQueries({queryKey:["active-semester"]}),t({title:"Berhasil",description:"Semester berhasil diperbarui"})},onError:n=>{t({title:"Error",description:"Gagal memperbarui semester",variant:"destructive"}),console.error("Error updating semester:",n)}})},Kq=()=>{const e=Ce(),{toast:t}=Te(),{profile:r}=ct();return Ee({mutationFn:async n=>{if(!(r!=null&&r.school_id))throw new Error("School ID not found");await G.from("semesters").update({is_active:!1}).eq("school_id",r.school_id);const{data:a,error:s}=await G.from("semesters").update({is_active:!0}).eq("id",n).eq("school_id",r.school_id).select().single();if(s)throw s;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["semesters"]}),e.invalidateQueries({queryKey:["active-semester"]}),t({title:"Berhasil",description:"Semester aktif berhasil diperbarui"})},onError:n=>{t({title:"Error",description:"Gagal mengaktifkan semester",variant:"destructive"}),console.error("Error updating active semester:",n)}})},N$e=()=>{const e=Ce(),{toast:t}=Te(),{profile:r}=ct();return Ee({mutationFn:async n=>{if(!(r!=null&&r.school_id))throw new Error("School ID not found");const{error:a}=await G.from("semesters").delete().eq("id",n).eq("school_id",r.school_id);if(a)throw a},onSuccess:()=>{e.invalidateQueries({queryKey:["semesters"]}),e.invalidateQueries({queryKey:["active-semester"]}),t({title:"Berhasil",description:"Semester berhasil dihapus"})},onError:n=>{t({title:"Error",description:"Gagal menghapus semester",variant:"destructive"}),console.error("Error deleting semester:",n)}})},Zg={SEMESTER_1:{number:1,name:"Semester 1",description:"Juli - Desember"},SEMESTER_2:{number:2,name:"Semester 2",description:"Januari - Juni"}},qk=e=>e===1?"Juli - Desember":"Januari - Juni",SI=(e=new Date)=>e.getMonth()+1>=7?1:2,E$e=(e,t)=>{const r=new Date(e).getFullYear();return t===1?{start_date:`${r}-07-01`,end_date:`${r}-12-31`}:{start_date:`${r+1}-01-01`,end_date:`${r+1}-06-30`}},YA=()=>{const{data:e,isLoading:t}=Si(),{data:r,isLoading:n}=Wq(),a=t||n,s=x.useMemo(()=>r?r.semester_number:SI(),[r]),i=x.useMemo(()=>{if(!r)return!1;const f=new Date,h=new Date(r.start_date),m=new Date(r.end_date);return f>=h&&f<=m},[r]),l=x.useMemo(()=>{if(!e)return null;const f=new Date(e.start_date).getFullYear(),h=new Date(e.end_date).getFullYear();return{startYear:f,endYear:h,displayName:`${f}/${h}`,isActive:e.is_active}},[e]),c=x.useMemo(()=>r?{number:r.semester_number,name:r.name,startDate:r.start_date,endDate:r.end_date,isActive:r.is_active,isInPeriod:i}:null,[r,i]),u=x.useMemo(()=>!!(e&&r),[e,r]),d=x.useMemo(()=>!l||!c?"Belum ada periode akademik":`${c.name} - ${l.displayName}`,[l,c]);return{activeAcademicYear:e,activeSemester:r,isLoading:a,isLoadingYear:t,isLoadingSemester:n,academicYearInfo:l,semesterInfo:c,currentSemesterNumber:s,isInCorrectSemesterPeriod:i,isAcademicSetupComplete:u,academicPeriodDisplay:d,getCurrentSemester:()=>SI(),hasActiveAcademicYear:!!e,hasActiveSemester:!!r,isAcademicYearActive:(e==null?void 0:e.is_active)||!1,isSemesterActive:(r==null?void 0:r.is_active)||!1}},C$e=()=>{var w;const[e,t]=x.useState(""),{data:r=[]}=jr(),{holidays:n}=DA();$r();const{data:a}=Rf(),{activeAcademicYear:s,academicPeriodDisplay:i}=YA(),l=s?new Date(s.start_date).getFullYear():new Date().getFullYear(),c=x.useMemo(()=>e?n.filter(_=>!_.class_ids||_.class_ids.length===0?!0:_.class_ids.includes(e)):[],[n,e]),d=(_=>{const j=[];for(let S=6;S<12;S++)j.push(new Date(_,S,1));for(let S=0;S<6;S++)j.push(new Date(_+1,S,1));return j})(l),f=d.slice(0,6),h=d.slice(6,12),m=()=>{if(!e){alert("Silakan pilih kelas terlebih dahulu");return}v()},v=()=>{const _=r.find(k=>k.id===e),j=p(_),S=window.open("","_blank");S&&(S.document.write(j),S.document.close(),S.onload=()=>{S.print()})},p=_=>{const j=g(),S=y();return`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <title>Kalender Akademik Kelas ${(_==null?void 0:_.name)||""}</title>
        <style>
          @page {
            size: A4 landscape;
            margin: 0.5cm;
          }

          body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 10px;
            line-height: 1.2;
            margin: 0;
            padding: 0;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          }

          .container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
          }

          .header {
            text-align: center;
            margin-bottom: 20px;
            background: white;
            color: #333;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 2px solid #e0e0e0;
          }

          .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
          }

          .logo {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
          }

          .school-info {
            flex: 1;
            text-align: center;
          }

          .school-name {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
            color: #333;
          }

          .calendar-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 20px;
          }

          .semester-section {
            display: contents;
          }

          .semester-title {
            grid-column: span 2;
            text-align: center;
            font-weight: bold;
            font-size: 14px;
            padding: 8px;
            margin: 10px 0;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
          }

          .semester-1-title {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
          }

          .semester-2-title {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            color: #333;
          }

          .month-container {
            border-radius: 12px;
            padding: 10px;
            background: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 2px solid transparent;
            background-clip: padding-box;
            position: relative;
          }

          .month-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 12px;
            padding: 2px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: exclude;
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask-composite: exclude;
          }

          .month-container.blue {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
          }

          .month-container.yellow {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            color: #333;
          }

          .month-container.green {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            color: #333;
          }

          .month-container.purple {
            background: linear-gradient(135deg, #d299c2 0%, #fef9d7 100%);
            color: #333;
          }

          .month-container.orange {
            background: linear-gradient(135deg, #fad0c4 0%, #ffd1ff 100%);
            color: #333;
          }

          .month-container.pink {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            color: #333;
          }

          .month-header {
            text-align: center;
            font-weight: bold;
            font-size: 14px;
            padding: 8px;
            margin-bottom: 8px;
            border-radius: 8px;
            background: rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
          }

          .month-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
            justify-items: center;
            align-items: center;
          }

          .day-header {
            text-align: center;
            font-size: 10px;
            font-weight: bold;
            padding: 4px 2px;
            border-radius: 4px;
            background: rgba(255,255,255,0.3);
            backdrop-filter: blur(5px);
          }

          .day-cell {
            text-align: center;
            font-size: 10px;
            padding: 4px 2px;
            min-height: 20px;
            border-radius: 50%;
            background: rgba(255,255,255,0.8);
            backdrop-filter: blur(5px);
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
            width: 20px;
            height: 20px;
          }

          .day-cell.other-month {
            color: #bbb;
            background: rgba(255,255,255,0.3);
          }

          .day-cell.holiday {
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            color: white;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(255,107,107,0.3);
            border-radius: 50%;
          }

          .day-cell.sunday {
            background: linear-gradient(135deg, #ffa726, #ff7043);
            color: white;
            font-weight: bold;
            border-radius: 50%;
          }

          .events-section {
            margin-top: 20px;
            background: white;
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
          }

          .events-title {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 10px;
            text-align: center;
            border-radius: 8px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
          }

          .info-box {
            margin-top: 20px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
          }

          .info-title {
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 12px;
          }

          table {
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
          }

          th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
          }

          td {
            background: rgba(255,255,255,0.9);
            transition: background 0.2s ease;
          }

          td:hover {
            background: rgba(255,255,255,1);
          }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <div class="header-top">
              ${a!=null&&a.logo_url?`<img src="${a.logo_url}" alt="Logo Sekolah" class="logo" />`:'<div class="logo" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 10px;">LOGO</div>'}
              <div class="school-info">
                <div class="school-name">KALENDER AKADEMIK KELAS ${(_==null?void 0:_.name)||""}</div>
                <div class="school-name">${(a==null?void 0:a.name)||"SMA IT HSI IDN"}</div>
                <div style="font-size: 12px; margin-top: 5px;">Tahun Akademik ${i}</div>
              </div>
              <div class="logo" style="background: linear-gradient(135deg, #ffd700 0%, #ffb347 100%); display: flex; align-items: center; justify-content: center; color: #333; font-weight: bold; font-size: 8px;">KEMENDIKBUD</div>
            </div>
          </div>

          <div class="calendar-grid">
            ${j}
          </div>

          <div class="events-section">
            <div class="events-title">KETERANGAN KEGIATAN</div>
            ${S}
          </div>

          <div class="info-box">
            <div class="info-title">Keterangan:</div>
            <div style="display: flex; gap: 20px; margin-bottom: 10px;">
              <div style="display: flex; align-items: center; gap: 5px;">
                <div style="width: 15px; height: 15px; background: linear-gradient(135deg, #ff6b6b, #ee5a52); border-radius: 3px;"></div>
                <span style="font-size: 10px;">Kegiatan Kelas ${(_==null?void 0:_.name)||""}</span>
              </div>
              <div style="display: flex; align-items: center; gap: 5px;">
                <div style="width: 15px; height: 15px; background: linear-gradient(135deg, #ffa726, #ff7043); border-radius: 3px;"></div>
                <span style="font-size: 10px;">Hari Minggu</span>
              </div>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: flex-end;">
              <div style="font-size: 10px;">
                <strong>Penanggung Jawab:</strong> 62 Juli 2024<br>
                <strong>Waktu Efektif Kurikulum</strong><br>
                <strong>SMA IT HSI IDN</strong>
              </div>
              <div style="text-align: center; font-size: 10px;">
                <div style="margin-bottom: 40px;">Mengetahui,<br>Kepala Sekolah</div>
                <div style="border-top: 2px solid white; padding-top: 5px; width: 150px;">
                  <strong>Fauzi M. Noor, S.Sy</strong><br>
                  Direktur
                </div>
              </div>
            </div>
          </div>
        </div>
      </body>
      </html>
    `},g=()=>{let _="";const j=["blue","yellow","green","purple","orange","pink","blue","yellow","green","purple","orange","pink"];return _+='<div class="semester-title semester-1-title"> SEMESTER 1</div>',_+='<div class="semester-title semester-2-title"> SEMESTER 2</div>',_+=b(f[0],j[0]),_+=b(f[1],j[1]),_+=b(h[0],j[6]),_+=b(h[1],j[7]),_+=b(f[2],j[2]),_+=b(f[3],j[3]),_+=b(h[2],j[8]),_+=b(h[3],j[9]),_+=b(f[4],j[4]),_+=b(f[5],j[5]),_+=b(h[4],j[10]),_+=b(h[5],j[11]),_},b=(_,j="blue")=>{const S=dr(_),k=xi(_),N=Ne(_,"MMMM",{locale:Nt}),E=Ne(_,"yyyy"),P=new Date(S),A=Bl(P),O=A===0?6:A-1;P.setDate(P.getDate()-O);const T=new Date(k),C=Bl(T),I=C===0?0:7-C;T.setDate(T.getDate()+I);const $=ns({start:P,end:T});let M=`
      <div class="month-container ${j}">
        <div class="month-header">${N} ${E}</div>
        <div class="month-grid">
          <div class="day-header">AHD</div>
          <div class="day-header">SEN</div>
          <div class="day-header">SEL</div>
          <div class="day-header">RAB</div>
          <div class="day-header">KAM</div>
          <div class="day-header">JUM</div>
          <div class="day-header">SAB</div>
    `;return $.forEach(D=>{const F=Ne(D,"d"),z=D.getMonth()===_.getMonth(),U=Bl(D)===0,R=c.some(K=>{const J=new Date(K.start_date),X=new Date(K.end_date);return D>=J&&D<=X});let B="day-cell";z||(B+=" other-month"),U&&(B+=" sunday"),R&&(B+=" holiday"),M+=`<div class="${B}">${F}</div>`}),M+="</div></div>",M},y=()=>{const _=c.filter(S=>{const k=new Date(S.start_date);return k.getMonth()>=6||k.getFullYear()===l}),j=c.filter(S=>{const k=new Date(S.start_date);return k.getMonth()<6&&k.getFullYear()===l+1});return`
      <table style="width: 100%; border-collapse: collapse; font-size: 10px; border-radius: 8px; overflow: hidden;">
        <thead>
          <tr>
            <th style="border: none; padding: 8px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; width: 5%; text-shadow: 1px 1px 2px rgba(0,0,0,0.3);">NO</th>
            <th style="border: none; padding: 8px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; width: 15%; text-shadow: 1px 1px 2px rgba(0,0,0,0.3);">TANGGAL</th>
            <th style="border: none; padding: 8px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; width: 30%; text-shadow: 1px 1px 2px rgba(0,0,0,0.3);">KEGIATAN</th>
            <th style="border: none; padding: 8px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; width: 5%; text-shadow: 1px 1px 2px rgba(0,0,0,0.3);">NO</th>
            <th style="border: none; padding: 8px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; width: 15%; text-shadow: 1px 1px 2px rgba(0,0,0,0.3);">TANGGAL</th>
            <th style="border: none; padding: 8px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; width: 30%; text-shadow: 1px 1px 2px rgba(0,0,0,0.3);">KEGIATAN</th>
          </tr>
          <tr>
            <th colspan="3" style="border: none; padding: 6px; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; font-size: 11px; text-shadow: 1px 1px 2px rgba(0,0,0,0.3);"> SEMESTER 1</th>
            <th colspan="3" style="border: none; padding: 6px; background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); color: #333; font-size: 11px;"> SEMESTER 2</th>
          </tr>
        </thead>
        <tbody>
          ${Math.max(_.length,j.length,12)>0?Array.from({length:Math.max(_.length,j.length,12)},(S,k)=>{const N=_[k],E=j[k];return`
                <tr style="background: ${k%2===0?"rgba(255,255,255,0.9)":"rgba(240,248,255,0.9)"};">
                  <td style="border: none; padding: 6px; text-align: center; font-weight: 500;">${N?k+1:""}</td>
                  <td style="border: none; padding: 6px; text-align: center; font-weight: 500;">${N?Ne(new Date(N.start_date),"dd/MM/yyyy",{locale:Nt}):""}</td>
                  <td style="border: none; padding: 6px; font-weight: 500;">${N?N.name:""}</td>
                  <td style="border: none; padding: 6px; text-align: center; font-weight: 500;">${E?k+1:""}</td>
                  <td style="border: none; padding: 6px; text-align: center; font-weight: 500;">${E?Ne(new Date(E.start_date),"dd/MM/yyyy",{locale:Nt}):""}</td>
                  <td style="border: none; padding: 6px; font-weight: 500;">${E?E.name:""}</td>
                </tr>
              `}).join(""):""}
        </tbody>
      </table>
    `};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-8",children:[o.jsx(le,{className:"bg-gradient-to-r from-blue-600 to-purple-600 border-0 shadow-2xl",children:o.jsxs(ke,{className:"text-center py-8",children:[o.jsxs(Pe,{className:"text-3xl font-bold text-white flex items-center justify-center gap-4",children:[o.jsx("div",{className:"p-3 bg-white/20 rounded-full backdrop-blur-sm",children:o.jsx(_d,{className:"h-8 w-8 text-white"})}),"Print Kalender Akademik"]}),o.jsx("p",{className:"text-blue-100 text-lg max-w-2xl mx-auto mt-4",children:"Cetak kalender akademik dengan desain yang menarik dan profesional. Format landscape dengan warna-warna eye-catching untuk tahun ajaran lengkap."})]})}),o.jsxs(le,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-xl",children:[o.jsx(ke,{children:o.jsxs(Pe,{className:"text-xl text-gray-800 flex items-center gap-3",children:[o.jsx(rt,{className:"h-6 w-6 text-blue-600"}),"Pengaturan Print"]})}),o.jsxs(ce,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Pilih Kelas"}),o.jsxs(ze,{value:e,onValueChange:t,children:[o.jsx($e,{className:"h-12 border-2 border-blue-200 focus:border-blue-500 bg-white",children:o.jsx(Ue,{placeholder:"Pilih kelas untuk dicetak"})}),o.jsx(Le,{children:r.map(_=>o.jsx(pe,{value:_.id,children:_.name},_.id))})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Tahun Akademik"}),o.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border-2 border-blue-200 h-12 flex items-center",children:o.jsx("span",{className:"font-medium text-gray-800",children:i})})]})]}),e&&o.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-6 rounded-xl border-2 border-green-200",children:[o.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Preview Kalender"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Kelas:"}),o.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:(w=r.find(_=>_.id===e))==null?void 0:w.name})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Tahun Akademik:"}),o.jsx("span",{className:"text-gray-800",children:i})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-gray-600",children:"Total Event:"}),o.jsxs("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium",children:[c.length," kegiatan"]})]})]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsx(le,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white border-0 shadow-xl",children:o.jsxs(ce,{className:"p-6 text-center",children:[o.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(rt,{className:"h-6 w-6"})}),o.jsx("h3",{className:"font-semibold mb-2",children:"12 Bulan Lengkap"}),o.jsx("p",{className:"text-blue-100 text-sm",children:"Tahun akademik lengkap dalam satu halaman dengan warna berbeda setiap bulan"})]})}),o.jsx(le,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white border-0 shadow-xl",children:o.jsxs(ce,{className:"p-6 text-center",children:[o.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(_d,{className:"h-6 w-6"})}),o.jsx("h3",{className:"font-semibold mb-2",children:"Format Landscape"}),o.jsx("p",{className:"text-purple-100 text-sm",children:"Desain landscape A4 dengan layout yang optimal dan eye-catching"})]})}),o.jsx(le,{className:"bg-gradient-to-br from-green-500 to-green-600 text-white border-0 shadow-xl",children:o.jsxs(ce,{className:"p-6 text-center",children:[o.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(N1,{className:"h-6 w-6"})}),o.jsx("h3",{className:"font-semibold mb-2",children:"Siap Print"}),o.jsx("p",{className:"text-green-100 text-sm",children:"Langsung bisa dicetak dengan kualitas tinggi dan warna yang menarik"})]})})]}),o.jsx(le,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-xl",children:o.jsxs(ce,{className:"p-8 text-center",children:[o.jsxs(V,{onClick:m,className:"h-14 px-8 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold text-lg shadow-xl transform transition-all duration-200 hover:scale-105",disabled:!e,children:[o.jsx(N1,{className:"h-5 w-5 mr-3"}),"Print Kalender Akademik"]}),!e&&o.jsx("p",{className:"text-gray-500 text-sm mt-3",children:"Silakan pilih kelas terlebih dahulu"})]})})]})})},A$e=()=>o.jsxs("div",{className:"p-6",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Share Event"}),o.jsx("p",{className:"text-muted-foreground",children:"Fitur share event akan segera tersedia."})]}),Gq=()=>o.jsxs(HE,{children:[o.jsx(St,{index:!0,element:o.jsx(_$e,{})}),o.jsx(St,{path:"print",element:o.jsx(C$e,{})}),o.jsx(St,{path:"share",element:o.jsx(A$e,{})})]});var JA="Tabs",[P$e,qHe]=ia(JA,[wf]),Vq=wf(),[T$e,XA]=P$e(JA),Qq=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:s,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=V0(l),[f,h]=Za({prop:n,onChange:a,defaultProp:s});return o.jsx(T$e,{scope:r,baseId:Qa(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:o.jsx(Ae.div,{dir:d,"data-orientation":i,...u,ref:t})})});Qq.displayName=JA;var Yq="TabsList",Jq=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,s=XA(Yq,r),i=Vq(r);return o.jsx(lC,{asChild:!0,...i,orientation:s.orientation,dir:s.dir,loop:n,children:o.jsx(Ae.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});Jq.displayName=Yq;var Xq="TabsTrigger",Zq=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...s}=e,i=XA(Xq,r),l=Vq(r),c=rW(i.baseId,n),u=nW(i.baseId,n),d=n===i.value;return o.jsx(cC,{asChild:!0,...l,focusable:!a,active:d,children:o.jsx(Ae.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:me(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:me(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:me(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!a&&f&&i.onValueChange(n)})})})});Zq.displayName=Xq;var eW="TabsContent",tW=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:s,...i}=e,l=XA(eW,r),c=rW(l.baseId,n),u=nW(l.baseId,n),d=n===l.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(rn,{present:a||d,children:({present:h})=>o.jsx(Ae.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&s})})});tW.displayName=eW;function rW(e,t){return`${e}-trigger-${t}`}function nW(e,t){return`${e}-content-${t}`}var D$e=Qq,aW=Jq,sW=Zq,iW=tW;const Rc=D$e,Xo=x.forwardRef(({className:e,...t},r)=>o.jsx(aW,{ref:r,className:se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Xo.displayName=aW.displayName;const Yr=x.forwardRef(({className:e,...t},r)=>o.jsx(sW,{ref:r,className:se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Yr.displayName=sW.displayName;const Jr=x.forwardRef(({className:e,...t},r)=>o.jsx(iW,{ref:r,className:se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Jr.displayName=iW.displayName;const M$e=({isOpen:e,onClose:t})=>{const[r,n]=x.useState(""),[a,s]=x.useState(""),[i,l]=x.useState(""),{toast:c}=Te(),{profile:u}=ct(),d=Ce(),f=Ee({mutationFn:async()=>{if(!(u!=null&&u.school_id))throw new Error("School ID not found");const{data:v,error:p}=await G.from("academic_years").insert({year_name:r,start_date:a,end_date:i,school_id:u.school_id,is_active:!1}).select().single();if(p)throw p;return v},onSuccess:()=>{d.invalidateQueries({queryKey:["academic-years"]}),c({title:"Berhasil",description:"Tahun ajaran baru berhasil ditambahkan"}),m()},onError:v=>{c({title:"Error",description:"Gagal menambahkan tahun ajaran",variant:"destructive"}),console.error("Error creating academic year:",v)}}),h=v=>{if(v.preventDefault(),!r||!a||!i){c({title:"Error",description:"Semua field harus diisi",variant:"destructive"});return}f.mutate()},m=()=>{n(""),s(""),l(""),t()};return L.useEffect(()=>{if(a&&i){const v=new Date(a).getFullYear(),p=new Date(i).getFullYear();n(`${v}/${p}`)}},[a,i]),o.jsx(Ft,{open:e,onOpenChange:m,children:o.jsxs(Ct,{className:"bg-gradient-to-br from-gray-800/95 via-gray-900/90 to-slate-900/95 border-purple-400/30 backdrop-blur-xl shadow-2xl shadow-purple-400/20 max-w-md",children:[o.jsxs(At,{children:[o.jsxs(Pt,{className:"flex items-center gap-3 text-xl bg-gradient-to-r from-white via-purple-200 to-cyan-200 bg-clip-text text-transparent",children:[o.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-400/20 to-purple-600/10 rounded-lg border border-purple-400/30 glow-purple",children:o.jsx(Zn,{className:"h-5 w-5 text-purple-400"})}),"Tambah Tahun Ajaran"]}),o.jsx(cq,{className:"text-gray-400",children:"Buat tahun ajaran baru untuk sekolah"})]}),o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"start-date",className:"text-gray-300 font-medium",children:"Tanggal Mulai"}),o.jsx(xe,{id:"start-date",type:"date",value:a,onChange:v=>s(v.target.value),className:"bg-gray-900/80 border-purple-400/30 text-white focus:border-purple-400/50 focus:ring-purple-400/20 focus:ring-2 rounded-xl",required:!0})]}),o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"end-date",className:"text-gray-300 font-medium",children:"Tanggal Selesai"}),o.jsx(xe,{id:"end-date",type:"date",value:i,onChange:v=>l(v.target.value),className:"bg-gray-900/80 border-purple-400/30 text-white focus:border-purple-400/50 focus:ring-purple-400/20 focus:ring-2 rounded-xl",required:!0})]}),o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"year-name",className:"text-gray-300 font-medium",children:"Nama Tahun Ajaran"}),o.jsx(xe,{id:"year-name",type:"text",value:r,onChange:v=>n(v.target.value),placeholder:"2024/2025",className:"bg-gray-900/80 border-purple-400/30 text-white focus:border-purple-400/50 focus:ring-purple-400/20 focus:ring-2 rounded-xl",required:!0})]})]}),o.jsxs(an,{className:"gap-3",children:[o.jsx(V,{type:"button",variant:"outline",onClick:m,className:"border-purple-400/30 text-purple-300 hover:bg-gradient-to-r hover:from-purple-400/10 hover:to-cyan-400/10 hover:text-white rounded-xl backdrop-blur-sm hover:border-purple-400/50 transition-all duration-300",children:"Batal"}),o.jsxs(V,{type:"submit",disabled:f.isPending,className:"bg-gradient-to-r from-purple-400 to-cyan-500 hover:from-purple-500 hover:to-cyan-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-purple-400/25 transition-all duration-300 glow-purple",children:[f.isPending?o.jsx(_a,{className:"h-4 w-4 mr-2 animate-spin"}):o.jsx(hf,{className:"h-4 w-4 mr-2"}),"Simpan"]})]})]})]})})},O$e=({className:e="",showDescription:t=!0,size:r="md"})=>{const{data:n,isLoading:a}=qq(),{data:s}=Wq(),i=Kq(),l=u=>{i.mutate(u)},c=()=>{switch(r){case"sm":return"h-8 text-sm";case"lg":return"h-14 text-lg";default:return"h-12"}};return a?o.jsx("div",{className:`animate-pulse bg-muted/50 rounded-xl ${c()} ${e}`,children:o.jsx("div",{className:"h-full bg-muted rounded-xl"})}):!n||n.length===0?o.jsx("div",{className:`bg-card border border-border rounded-xl ${c()} ${e} flex items-center justify-center`,children:o.jsx("span",{className:"text-muted-foreground text-sm",children:"Tidak ada semester"})}):o.jsx("div",{className:e,children:o.jsxs(ze,{value:(s==null?void 0:s.id)||"",onValueChange:l,disabled:i.isPending,children:[o.jsx($e,{className:`bg-background border-border text-foreground focus:border-ring focus:ring-ring focus:ring-2 rounded-xl ${c()}`,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rt,{className:"h-4 w-4 text-primary"}),o.jsx(Ue,{placeholder:"Pilih semester",children:s&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium",children:s.name}),t&&o.jsx(ht,{variant:"secondary",className:"bg-primary/10 text-primary text-xs",children:qk(s.semester_number)})]})})]})}),o.jsx(Le,{className:"bg-popover border-border backdrop-blur-xl",children:n.map(u=>{var d;return o.jsx(pe,{value:u.id,className:"text-foreground hover:bg-accent focus:bg-accent",children:o.jsx("div",{className:"flex items-center justify-between w-full",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium",children:u.name}),u.is_active&&o.jsx(ht,{variant:"default",className:"bg-green-500 text-white text-xs",children:"Aktif"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[o.jsx(lr,{className:"h-3 w-3"}),o.jsx("span",{children:qk(u.semester_number)}),o.jsx("span",{children:""}),o.jsx("span",{children:(d=u.academic_year)==null?void 0:d.year_name})]})]})})},u.id)})})]})})},R$e=({isOpen:e,onClose:t,editingSemester:r})=>{const[n,a]=x.useState({name:"",semester_number:1,start_date:"",end_date:"",academic_year_id:""}),{data:s}=$r(),i=S$e(),l=k$e(),c=!!r,u=i.isPending||l.isPending;x.useEffect(()=>{a(r?{name:r.name,semester_number:r.semester_number,start_date:r.start_date,end_date:r.end_date,academic_year_id:r.academic_year_id}:{name:"",semester_number:1,start_date:"",end_date:"",academic_year_id:""})},[r,e]),x.useEffect(()=>{if(n.academic_year_id&&n.semester_number){const h=s==null?void 0:s.find(m=>m.id===n.academic_year_id);if(h){const m=E$e(h.start_date,n.semester_number);a(v=>({...v,start_date:m.start_date,end_date:m.end_date,name:n.semester_number===1?"Semester 1":"Semester 2"}))}}},[n.academic_year_id,n.semester_number,s]);const d=()=>{a({name:"",semester_number:1,start_date:"",end_date:"",academic_year_id:""}),t()},f=h=>{h.preventDefault(),!(!n.name.trim()||!n.academic_year_id||!n.start_date||!n.end_date)&&(c&&r?l.mutate({id:r.id,name:n.name.trim(),semester_number:n.semester_number,start_date:n.start_date,end_date:n.end_date},{onSuccess:d}):i.mutate({name:n.name.trim(),semester_number:n.semester_number,start_date:n.start_date,end_date:n.end_date,academic_year_id:n.academic_year_id},{onSuccess:d}))};return o.jsx(Ft,{open:e,onOpenChange:d,children:o.jsxs(Ct,{className:"bg-gray-900/95 border-gray-600/30 backdrop-blur-xl text-white max-w-md",children:[o.jsx(At,{children:o.jsxs(Pt,{className:"flex items-center gap-2 text-xl font-semibold",children:[o.jsx(rt,{className:"h-5 w-5 text-purple-400"}),c?"Edit Semester":"Tambah Semester"]})}),o.jsxs("form",{onSubmit:f,className:"space-y-4",children:[!c&&o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"academic_year",className:"text-gray-300 mb-2 block",children:"Tahun Ajaran"}),o.jsxs(ze,{value:n.academic_year_id,onValueChange:h=>a(m=>({...m,academic_year_id:h})),children:[o.jsx($e,{className:"bg-gray-800/50 border-gray-600/30 text-white focus:border-purple-400/50 focus:ring-purple-400/20 rounded-xl h-12",children:o.jsx(Ue,{placeholder:"Pilih tahun ajaran"})}),o.jsx(Le,{className:"bg-gray-900/95 border-gray-600/30 backdrop-blur-xl",children:s==null?void 0:s.map(h=>o.jsx(pe,{value:h.id,className:"text-white hover:bg-purple-400/20",children:h.year_name},h.id))})]})]}),o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"semester_number",className:"text-gray-300 mb-2 block",children:"Semester"}),o.jsxs(ze,{value:n.semester_number.toString(),onValueChange:h=>a(m=>({...m,semester_number:parseInt(h)})),children:[o.jsx($e,{className:"bg-gray-800/50 border-gray-600/30 text-white focus:border-purple-400/50 focus:ring-purple-400/20 rounded-xl h-12",children:o.jsx(Ue,{})}),o.jsxs(Le,{className:"bg-gray-900/95 border-gray-600/30 backdrop-blur-xl",children:[o.jsx(pe,{value:"1",className:"text-white hover:bg-purple-400/20",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:Zg.SEMESTER_1.name}),o.jsxs("span",{className:"text-xs text-gray-400",children:["(",Zg.SEMESTER_1.description,")"]})]})}),o.jsx(pe,{value:"2",className:"text-white hover:bg-purple-400/20",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{children:Zg.SEMESTER_2.name}),o.jsxs("span",{className:"text-xs text-gray-400",children:["(",Zg.SEMESTER_2.description,")"]})]})})]})]})]}),o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"name",className:"text-gray-300 mb-2 block",children:"Nama Semester"}),o.jsx(xe,{id:"name",type:"text",value:n.name,onChange:h=>a(m=>({...m,name:h.target.value})),className:"bg-gray-800/50 border-gray-600/30 text-white focus:border-purple-400/50 focus:ring-purple-400/20 rounded-xl h-12",placeholder:"Contoh: Semester 1",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"start_date",className:"text-gray-300 mb-2 block",children:"Tanggal Mulai"}),o.jsx(xe,{id:"start_date",type:"date",value:n.start_date,onChange:h=>a(m=>({...m,start_date:h.target.value})),className:"bg-gray-800/50 border-gray-600/30 text-white focus:border-purple-400/50 focus:ring-purple-400/20 rounded-xl h-12",required:!0})]}),o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"end_date",className:"text-gray-300 mb-2 block",children:"Tanggal Selesai"}),o.jsx(xe,{id:"end_date",type:"date",value:n.end_date,onChange:h=>a(m=>({...m,end_date:h.target.value})),className:"bg-gray-800/50 border-gray-600/30 text-white focus:border-purple-400/50 focus:ring-purple-400/20 rounded-xl h-12",required:!0})]})]}),o.jsxs(an,{className:"flex gap-2 pt-4",children:[o.jsxs(V,{type:"button",variant:"outline",onClick:d,className:"bg-gray-800/50 border-gray-600/30 text-white hover:bg-gray-700/50 rounded-xl",children:[o.jsx(Co,{className:"h-4 w-4 mr-2"}),"Batal"]}),o.jsxs(V,{type:"submit",disabled:u||!n.name.trim()||!n.academic_year_id||!n.start_date||!n.end_date,className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-xl",children:[o.jsx(hf,{className:"h-4 w-4 mr-2"}),u?"Menyimpan...":c?"Perbarui":"Simpan"]})]})]})]})})},I$e=({className:e=""})=>{const[t,r]=x.useState(!1),[n,a]=x.useState(null),[s,i]=x.useState(null),{data:l,isLoading:c}=qq(),u=N$e(),d=Kq(),f=g=>{a(g),r(!0)},h=async g=>{if(window.confirm("Apakah Anda yakin ingin menghapus semester ini?")){i(g);try{await u.mutateAsync(g)}finally{i(null)}}},m=g=>{d.mutate(g)},v=()=>{r(!1),a(null)},p=l==null?void 0:l.reduce((g,b)=>{var w;const y=((w=b.academic_year)==null?void 0:w.year_name)||"Kelola Semester";return g[y]||(g[y]=[]),g[y].push(b),g},{});return c?o.jsx("div",{className:`space-y-4 ${e}`,children:[1,2,3].map(g=>o.jsxs(le,{className:"bg-gray-800/40 backdrop-blur-sm border-gray-600/30 animate-pulse",children:[o.jsx(ke,{children:o.jsx("div",{className:"h-6 bg-gray-700/50 rounded w-1/3"})}),o.jsx(ce,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"h-4 bg-gray-700/50 rounded w-1/2"}),o.jsx("div",{className:"h-4 bg-gray-700/50 rounded w-2/3"})]})})]},g))}):o.jsxs("div",{className:`space-y-6 ${e}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Manajemen Semester"}),o.jsx("p",{className:"text-gray-400",children:"Kelola semester untuk setiap tahun ajaran"})]}),o.jsxs(V,{onClick:()=>r(!0),className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-xl",children:[o.jsx(mt,{className:"h-4 w-4 mr-2"}),"Tambah Semester"]})]}),!l||l.length===0?o.jsx(le,{className:"bg-gray-800/40 backdrop-blur-sm border-gray-600/30",children:o.jsxs(ce,{className:"flex flex-col items-center justify-center py-12",children:[o.jsx(rt,{className:"h-12 w-12 text-gray-500 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Belum Ada Semester"}),o.jsx("p",{className:"text-gray-400 text-center mb-4",children:"Mulai dengan menambahkan semester untuk tahun ajaran Anda"}),o.jsxs(V,{onClick:()=>r(!0),className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-xl",children:[o.jsx(mt,{className:"h-4 w-4 mr-2"}),"Tambah Semester Pertama"]})]})}):o.jsx("div",{className:"space-y-6",children:Object.entries(p||{}).map(([g,b])=>o.jsxs(le,{className:"bg-gray-800/40 backdrop-blur-sm border-gray-600/30",children:[o.jsx(ke,{children:o.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[o.jsx(rt,{className:"h-5 w-5 text-purple-400"}),g]})}),o.jsx(ce,{children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b==null?void 0:b.map(y=>o.jsxs("div",{className:`p-4 rounded-xl border transition-all duration-300 ${y.is_active?"bg-purple-500/20 border-purple-400/50":"bg-gray-700/30 border-gray-600/30 hover:border-gray-500/50"}`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("h4",{className:"font-semibold text-white",children:y.name}),y.is_active&&o.jsxs(ht,{className:"bg-green-500/20 text-green-400 text-xs",children:[o.jsx(wd,{className:"h-3 w-3 mr-1"}),"Aktif"]})]}),o.jsxs("p",{className:"text-sm text-gray-400 flex items-center gap-1",children:[o.jsx(lr,{className:"h-3 w-3"}),qk(y.semester_number)]})]}),o.jsxs("div",{className:"flex gap-1",children:[!y.is_active&&o.jsx(V,{size:"sm",variant:"ghost",onClick:()=>m(y.id),disabled:d.isPending,className:"h-8 w-8 p-0 text-green-400 hover:bg-green-400/20",title:"Aktifkan semester",children:o.jsx(wd,{className:"h-4 w-4"})}),o.jsx(V,{size:"sm",variant:"ghost",onClick:()=>f(y),className:"h-8 w-8 p-0 text-blue-400 hover:bg-blue-400/20",title:"Edit semester",children:o.jsx(Eo,{className:"h-4 w-4"})}),o.jsx(V,{size:"sm",variant:"ghost",onClick:()=>h(y.id),disabled:s===y.id||y.is_active,className:"h-8 w-8 p-0 text-red-400 hover:bg-red-400/20 disabled:opacity-50",title:y.is_active?"Tidak dapat menghapus semester aktif":"Hapus semester",children:o.jsx(er,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[o.jsxs("div",{children:["Mulai: ",Ne(new Date(y.start_date),"dd MMMM yyyy",{locale:Nt})]}),o.jsxs("div",{children:["Selesai: ",Ne(new Date(y.end_date),"dd MMMM yyyy",{locale:Nt})]})]})]},y.id))})})]},g))}),o.jsx(R$e,{isOpen:t,onClose:v,editingSemester:n})]})},$$e=({lessonDuration:e,setLessonDuration:t})=>{const[r,n]=x.useState(!1),[a,s]=x.useState(!1),{data:i}=$r(),{data:l}=Si(),c=qOe(),u=d=>{c.mutate(d)};return a?o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx(V,{onClick:()=>s(!1),variant:"outline",className:"bg-card border-border text-foreground hover:bg-accent rounded-xl",children:" Kembali ke Pengaturan Akademik"})}),o.jsx(I$e,{})]}):o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs(le,{className:"bg-card backdrop-blur-sm border-border",children:[o.jsx(ke,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(v0,{className:"h-6 w-6 text-purple-400"}),o.jsx("div",{children:o.jsx(oe,{htmlFor:"active-academic-year",className:"text-card-foreground font-medium mb-2 block",children:o.jsx("span",{className:"font-bold text-base text-inherit",children:"Tahun Ajaran Aktif"})})})]}),o.jsxs(V,{onClick:()=>n(!0),className:"bg-purple-500 hover:bg-purple-600 text-white font-semibold",size:"sm",children:[o.jsx(zY,{className:"h-4 w-4 mr-2"}),"Tambah"]})]})}),o.jsx(ce,{children:o.jsxs("div",{children:[o.jsxs(ze,{value:(l==null?void 0:l.id)||"",onValueChange:u,children:[o.jsx($e,{className:"bg-background border-border text-foreground",children:o.jsx(Ue,{placeholder:"Pilih tahun ajaran"})}),o.jsx(Le,{className:"bg-popover border-border",children:i==null?void 0:i.map(d=>o.jsx(pe,{value:d.id,className:"text-popover-foreground hover:bg-accent",children:o.jsxs("div",{className:"flex items-center justify-between w-full",children:[o.jsx("span",{children:d.year_name}),d.is_active&&o.jsx("span",{className:"ml-2 px-2 py-1 bg-green-500 text-white text-xs rounded-full font-medium",children:"Aktif"})]})},d.id))})]}),i&&i.length===0&&o.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:'Belum ada tahun ajaran. Klik tombol "Tambah" untuk membuat tahun ajaran baru.'})]})})]}),o.jsxs(le,{className:"bg-card backdrop-blur-sm border-border",children:[o.jsx(ke,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ir,{className:"h-6 w-6 text-cyan-400"}),o.jsx("div",{children:o.jsx(oe,{className:"text-card-foreground font-medium mb-2 block",children:o.jsx("span",{className:"font-bold text-base text-inherit",children:"Semester Aktif"})})})]}),o.jsxs(V,{onClick:()=>s(!0),className:"bg-cyan-500 hover:bg-cyan-600 text-white font-semibold",size:"sm",children:[o.jsx(rt,{className:"h-4 w-4 mr-2"}),"Kelola"]})]})}),o.jsx(ce,{children:o.jsx(O$e,{})})]}),o.jsxs(le,{className:"bg-card backdrop-blur-sm border-border",children:[o.jsx(ke,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(lr,{className:"h-6 w-6 text-orange-400"}),o.jsx("div",{children:o.jsx(oe,{htmlFor:"lesson-duration",className:"text-card-foreground font-medium mb-2 block",children:o.jsx("span",{className:"font-bold text-base",children:"Durasi Sesi/Pertemuan (Menit)"})})})]})}),o.jsx(ce,{children:o.jsx("div",{children:o.jsx(xe,{id:"lesson-duration",type:"number",value:e,onChange:d=>t(parseInt(d.target.value)||45),className:"bg-background border-border text-foreground",min:"15",max:"180",step:"5"})})})]}),o.jsx(M$e,{isOpen:r,onClose:()=>n(!1)})]})};var oW="AlertDialog",[L$e,WHe]=ia(oW,[VF]),ki=VF(),lW=e=>{const{__scopeAlertDialog:t,...r}=e,n=ki(t);return o.jsx(tC,{...n,...r,modal:!0})};lW.displayName=oW;var F$e="AlertDialogTrigger",cW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ki(r);return o.jsx(Fae,{...a,...n,ref:t})});cW.displayName=F$e;var B$e="AlertDialogPortal",uW=e=>{const{__scopeAlertDialog:t,...r}=e,n=ki(t);return o.jsx(rC,{...n,...r})};uW.displayName=B$e;var z$e="AlertDialogOverlay",dW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ki(r);return o.jsx(Mp,{...a,...n,ref:t})});dW.displayName=z$e;var Gu="AlertDialogContent",[U$e,H$e]=L$e(Gu),fW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,s=ki(r),i=x.useRef(null),l=tt(t,i),c=x.useRef(null);return o.jsx(Rae,{contentName:Gu,titleName:hW,docsSlug:"alert-dialog",children:o.jsx(U$e,{scope:r,cancelRef:c,children:o.jsxs(Op,{role:"alertdialog",...s,...a,ref:l,onOpenAutoFocus:me(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(fE,{children:n}),o.jsx(W$e,{contentRef:i})]})})})});fW.displayName=Gu;var hW="AlertDialogTitle",mW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ki(r);return o.jsx(Rp,{...a,...n,ref:t})});mW.displayName=hW;var pW="AlertDialogDescription",gW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ki(r);return o.jsx(Ip,{...a,...n,ref:t})});gW.displayName=pW;var q$e="AlertDialogAction",vW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=ki(r);return o.jsx(H0,{...a,...n,ref:t})});vW.displayName=q$e;var yW="AlertDialogCancel",bW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=H$e(yW,r),s=ki(r),i=tt(t,a);return o.jsx(H0,{...s,...n,ref:i})});bW.displayName=yW;var W$e=({contentRef:e})=>{const t=`\`${Gu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Gu}\` by passing a \`${pW}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Gu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},K$e=lW,G$e=cW,V$e=uW,xW=dW,wW=fW,_W=vW,jW=bW,SW=mW,kW=gW;const Q$e=K$e,Y$e=G$e,J$e=V$e,NW=x.forwardRef(({className:e,...t},r)=>o.jsx(xW,{className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));NW.displayName=xW.displayName;const EW=x.forwardRef(({className:e,...t},r)=>o.jsxs(J$e,{children:[o.jsx(NW,{}),o.jsx(wW,{ref:r,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));EW.displayName=wW.displayName;const CW=({className:e,...t})=>o.jsx("div",{className:se("flex flex-col space-y-2 text-center sm:text-left",e),...t});CW.displayName="AlertDialogHeader";const AW=({className:e,...t})=>o.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});AW.displayName="AlertDialogFooter";const PW=x.forwardRef(({className:e,...t},r)=>o.jsx(SW,{ref:r,className:se("text-lg font-semibold",e),...t}));PW.displayName=SW.displayName;const TW=x.forwardRef(({className:e,...t},r)=>o.jsx(kW,{ref:r,className:se("text-sm text-muted-foreground",e),...t}));TW.displayName=kW.displayName;const DW=x.forwardRef(({className:e,...t},r)=>o.jsx(_W,{ref:r,className:se(bm(),e),...t}));DW.displayName=_W.displayName;const MW=x.forwardRef(({className:e,...t},r)=>o.jsx(jW,{ref:r,className:se(bm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));MW.displayName=jW.displayName;const X$e=()=>{const[e,t]=x.useState({name:"",code:"",min_grade:"",max_grade:""}),[r,n]=x.useState(null),[a,s]=x.useState(!1),{data:i}=IA(),l=rRe(),c=nRe(),u=aRe(),d=()=>{e.name&&e.code&&e.min_grade&&e.max_grade&&(l.mutate({name:e.name,code:e.code,min_grade:parseInt(e.min_grade),max_grade:parseInt(e.max_grade),is_active:!0}),t({name:"",code:"",min_grade:"",max_grade:""}))},f=v=>{n({...v,min_grade:v.min_grade.toString(),max_grade:v.max_grade.toString()}),s(!0)},h=()=>{r&&(c.mutate({id:r.id,name:r.name,code:r.code,min_grade:parseInt(r.min_grade),max_grade:parseInt(r.max_grade)}),s(!1),n(null))},m=v=>{u.mutate(v)};return o.jsx(le,{className:"bg-card backdrop-blur-sm border-border",children:o.jsxs(ce,{className:"space-y-6 p-6",children:[o.jsx("div",{className:"space-y-3",children:i==null?void 0:i.map(v=>o.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/20 rounded-lg border border-border",children:[o.jsx("div",{className:"flex items-center space-x-3",children:o.jsxs("div",{children:[o.jsxs("p",{className:"text-foreground font-medium flex items-center space-x-2",children:[o.jsx(ir,{className:"h-4 w-4 text-purple-400"}),o.jsxs("span",{children:[v.name," (",v.code,")"]})]}),o.jsxs("p",{className:"text-muted-foreground text-sm flex items-center space-x-2",children:[o.jsx(vr,{className:"h-3 w-3 text-cyan-400"}),o.jsxs("span",{children:["Kelas ",v.min_grade," - ",v.max_grade]})]})]})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(V,{size:"sm",variant:"ghost",className:"text-blue-400 hover:bg-blue-400/10",onClick:()=>f(v),children:o.jsx(my,{className:"h-4 w-4"})}),o.jsxs(Q$e,{children:[o.jsx(Y$e,{asChild:!0,children:o.jsx(V,{size:"sm",variant:"ghost",className:"text-red-400 hover:bg-red-400/10",children:o.jsx(er,{className:"h-4 w-4"})})}),o.jsxs(EW,{className:"bg-background border-border",children:[o.jsxs(CW,{children:[o.jsx(PW,{className:"text-foreground",children:"Hapus Jenjang Pendidikan"}),o.jsxs(TW,{className:"text-muted-foreground",children:['Apakah Anda yakin ingin menghapus jenjang "',v.name,'"? Tindakan ini tidak dapat dibatalkan dan akan menghapus semua tingkat kelas yang terkait.']})]}),o.jsxs(AW,{children:[o.jsx(MW,{className:"bg-background border-border text-foreground hover:bg-accent",children:"Batal"}),o.jsx(DW,{className:"bg-red-500 hover:bg-red-600 text-white",onClick:()=>m(v.id),children:"Hapus"})]})]})]})]})]},v.id))}),o.jsxs("div",{className:"border-t border-border pt-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(mt,{className:"h-5 w-5 text-lime-400"}),o.jsx("h3",{className:"text-lg font-medium text-foreground",children:"Tambah Jenjang Baru"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(xe,{placeholder:"Nama Jenjang (contoh: SMA)",value:e.name,onChange:v=>t(p=>({...p,name:v.target.value})),className:"bg-background border-border text-foreground placeholder-muted-foreground"}),o.jsx(xe,{placeholder:"Kode (contoh: SMA)",value:e.code,onChange:v=>t(p=>({...p,code:v.target.value})),className:"bg-background border-border text-foreground placeholder-muted-foreground"}),o.jsx(xe,{placeholder:"Kelas Minimum (contoh: 10)",type:"number",value:e.min_grade,onChange:v=>t(p=>({...p,min_grade:v.target.value})),className:"bg-background border-border text-foreground placeholder-muted-foreground"}),o.jsx(xe,{placeholder:"Kelas Maksimum (contoh: 12)",type:"number",value:e.max_grade,onChange:v=>t(p=>({...p,max_grade:v.target.value})),className:"bg-background border-border text-foreground placeholder-muted-foreground"})]}),o.jsxs(V,{onClick:d,className:"w-full bg-lime-500 hover:bg-lime-600 text-white",disabled:l.isPending,children:[o.jsx(mt,{className:"h-4 w-4 mr-2"}),"Tambah Jenjang"]})]}),o.jsx(Ft,{open:a,onOpenChange:s,children:o.jsxs(Ct,{className:"bg-background border-border",children:[o.jsx(At,{children:o.jsxs(Pt,{className:"text-foreground flex items-center space-x-2",children:[o.jsx(my,{className:"h-5 w-5 text-blue-400"}),o.jsx("span",{children:"Edit Jenjang Pendidikan"})]})}),r&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsx(xe,{placeholder:"Nama Jenjang",value:r.name,onChange:v=>n(p=>({...p,name:v.target.value})),className:"bg-background border-border text-foreground placeholder-muted-foreground"}),o.jsx(xe,{placeholder:"Kode",value:r.code,onChange:v=>n(p=>({...p,code:v.target.value})),className:"bg-background border-border text-foreground placeholder-muted-foreground"}),o.jsx(xe,{placeholder:"Kelas Minimum",type:"number",value:r.min_grade,onChange:v=>n(p=>({...p,min_grade:v.target.value})),className:"bg-background border-border text-foreground placeholder-muted-foreground"}),o.jsx(xe,{placeholder:"Kelas Maksimum",type:"number",value:r.max_grade,onChange:v=>n(p=>({...p,max_grade:v.target.value})),className:"bg-background border-border text-foreground placeholder-muted-foreground"})]}),o.jsxs(an,{children:[o.jsx(V,{variant:"outline",onClick:()=>s(!1),className:"bg-background border-border text-foreground hover:bg-accent",children:"Batal"}),o.jsx(V,{onClick:h,className:"bg-blue-500 hover:bg-blue-600 text-white",disabled:c.isPending,children:"Simpan"})]})]})})]})})},Z$e=()=>{const{profile:e}=ct();return Ze({queryKey:["general-settings"],queryFn:async()=>{if(!(e!=null&&e.school_id))return null;const{data:t,error:r}=await G.from("general_settings").select("*").eq("school_id",e.school_id).single();if(r&&r.code!=="PGRST116")throw r;return t},enabled:!!(e!=null&&e.school_id)})},e4e=()=>{const e=Ce(),{toast:t}=Te(),{profile:r}=ct();return Ee({mutationFn:async n=>{if(!(r!=null&&r.school_id))throw new Error("School ID not found");const{data:a}=await G.from("general_settings").select("id").eq("school_id",r.school_id).single();if(a){const{data:s,error:i}=await G.from("general_settings").update(n).eq("id",a.id).select().single();if(i)throw i;return s}else{const{data:s,error:i}=await G.from("general_settings").insert({...n,school_id:r.school_id,academic_year_id:n.active_academic_year_id||r.school_id}).select().single();if(i)throw i;return s}},onSuccess:()=>{e.invalidateQueries({queryKey:["general-settings"]}),t({title:"Berhasil",description:"Pengaturan berhasil disimpan"})},onError:n=>{t({title:"Error",description:"Gagal menyimpan pengaturan",variant:"destructive"}),console.error("Error updating general settings:",n)}})},OW=()=>{const[e,t]=x.useState(45),{data:r,isLoading:n}=Z$e(),a=e4e(),s=()=>{r?a.mutate({...r,lesson_duration_minutes:e}):a.mutate({lesson_duration_minutes:e})};return L.useEffect(()=>{r&&t(r.lesson_duration_minutes)},[r]),n?o.jsx("div",{className:"min-h-screen bg-background p-6 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(_a,{className:"h-12 w-12 animate-spin text-purple-400 mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Memuat pengaturan..."})]})}):o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between px-[40px]",children:[o.jsxs("div",{children:[o.jsx("div",{className:"flex items-center space-x-4 mb-2",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(x0,{className:"h-8 w-8 text-purple-400"}),o.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Pengaturan Umum"})]})}),o.jsx("p",{className:"text-muted-foreground",children:"Kelola pengaturan sistem dan preferensi aplikasi"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(V,{variant:"outline",className:"bg-red-400/10 border border-red-400/20 text-red-400 hover:bg-ref-400/20 flex items-center justify-center space-x-2",children:[o.jsx(rJ,{className:"h-5 w-5 mr-2"}),"Reset"]}),o.jsxs(V,{onClick:s,disabled:a.isPending,className:"bg-lime-400/10 border border-lime-400/20 text-lime-400 hover:bg-lime-400/20 flex items-center justify-center space-x-2",children:[a.isPending?o.jsx(_a,{className:"h-5 w-5 mr-2 animate-spin"}):o.jsx(hf,{className:"h-5 w-5 mr-2"}),"Simpan"]})]})]}),o.jsx(le,{className:"bg-card backdrop-blur-sm border-border",children:o.jsx(ce,{className:"p-6",children:o.jsxs(Rc,{defaultValue:"academic",className:"space-y-6",children:[o.jsxs(Xo,{className:"grid w-full grid-cols-2 bg-muted border-border rounded-xl p-1 backdrop-blur-sm",children:[o.jsx(Yr,{value:"academic",className:"data-[state=active]:bg-sky-500 data-[state=active]:text-white text-muted-foreground rounded-lg font-medium transition-all duration-300",children:"Pengaturan Akademik"}),o.jsx(Yr,{value:"education-levels",className:"data-[state=active]:bg-sky-500 data-[state=active]:text-white text-muted-foreground rounded-lg font-medium transition-all duration-300",children:"Jenjang Pendidikan"})]}),o.jsx(Jr,{value:"academic",className:"space-y-6 mt-6",children:o.jsx($$e,{lessonDuration:e,setLessonDuration:t})}),o.jsx(Jr,{value:"education-levels",className:"space-y-6 mt-6",children:o.jsx(X$e,{})})]})})})]})})},RW=()=>{const{data:e,isLoading:t}=Rf(),r=Hq(),n=j$e(),a=x.useRef(null),[s,i]=x.useState({name:"",principal_name:"",address:"",phone:"",email:""}),[l,c]=x.useState(null);L.useEffect(()=>{e&&i({name:e.name||"",principal_name:e.principal_name||"",address:e.address||"",phone:e.phone||"",email:e.email||""})},[e]);const u=(g,b)=>{i(y=>({...y,[g]:b}))},d=g=>{var _;const b=(_=g.target.files)==null?void 0:_[0];if(!b)return;if(!["image/jpeg","image/jpg","image/png"].includes(b.type)){ot({title:"Error",description:"Format file harus PNG, JPG, atau JPEG",variant:"destructive"});return}if(b.size>5*1024*1024){ot({title:"Error",description:"Ukuran file maksimal 5MB",variant:"destructive"});return}const w=new FileReader;w.onload=()=>{c(w.result)},w.readAsDataURL(b),n.mutate(b,{onSuccess:()=>{c(null),a.current&&(a.current.value="")},onError:()=>{c(null),a.current&&(a.current.value="")}})},f=()=>{var g;(g=a.current)==null||g.click()},h=()=>{r.mutate(s)},m=l||(e==null?void 0:e.logo_url),v=r.isPending,p=n.isPending;return t?o.jsx("div",{className:"min-h-screen bg-background p-6 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(_a,{className:"h-12 w-12 animate-spin text-cyan-400 mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Memuat data sekolah..."})]})}):o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"flex items-center space-x-4 mb-2",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xo,{className:"h-8 w-8 text-cyan-400"}),o.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Info Sekolah"})]})}),o.jsx("p",{className:"text-muted-foreground",children:"Kelola informasi dan identitas sekolah"})]}),o.jsxs(V,{onClick:h,disabled:v,className:"bg-cyan-500 hover:bg-cyan-600 text-gray-900 font-semibold shadow-lg transition-all duration-300 transform hover:scale-105",children:[v?o.jsx(_a,{className:"h-6 w-6 mr-3 animate-spin"}):o.jsx(hf,{className:"h-6 w-6 mr-3"}),"Simpan Perubahan"]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs(le,{className:"bg-card backdrop-blur-sm border-border",children:[o.jsxs(ke,{children:[o.jsxs(Pe,{className:"text-card-foreground flex items-center text-xl",children:[o.jsx(i2,{className:"h-6 w-6 text-cyan-400 mr-3"}),"Logo Sekolah"]}),o.jsx(Nn,{className:"text-muted-foreground",children:"Upload logo sekolah (PNG, JPG, JPEG - Max 5MB)"})]}),o.jsx(ce,{className:"space-y-4",children:o.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[o.jsx("div",{className:"w-36 h-36 bg-muted/50 rounded-xl flex items-center justify-center overflow-hidden border border-border backdrop-blur-sm",children:m?o.jsx("img",{src:m,alt:"Logo Sekolah",className:"w-full h-full object-cover rounded-xl"}):o.jsx(xo,{className:"h-20 w-20 text-cyan-400"})}),o.jsx("input",{type:"file",ref:a,onChange:d,accept:"image/*",className:"hidden"}),o.jsxs(V,{variant:"outline",onClick:f,disabled:p,className:"bg-cyan-400/10 border border-cyan-400/20 text-cyan-400 hover:bg-cyan-400/20 flex items-center justify-center space-x-2",children:[p?o.jsx(_a,{className:"h-5 w-5 mr-2 animate-spin"}):o.jsx(i2,{className:"h-5 w-5 mr-2"}),p?"Mengupload...":"Upload Logo"]})]})})]}),o.jsxs(le,{className:"lg:col-span-2 bg-card backdrop-blur-sm border-border",children:[o.jsxs(ke,{children:[o.jsxs(Pe,{className:"text-card-foreground flex items-center text-xl",children:[o.jsx(q5,{className:"h-6 w-6 text-lime-400 mr-3"}),"Informasi Dasar"]}),o.jsx(Nn,{className:"text-muted-foreground",children:"Data dasar sekolah dan informasi kontak"})]}),o.jsxs(ce,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs(oe,{htmlFor:"school-name",className:"text-foreground flex items-center mb-2",children:[o.jsx(xo,{className:"h-4 w-4 text-lime-400 mr-2"}),"Nama Sekolah"]}),o.jsx(xe,{id:"school-name",value:s.name,onChange:g=>u("name",g.target.value),placeholder:"Masukkan nama sekolah",className:"bg-background border-lime-400/30 text-foreground placeholder-muted-foreground focus:border-lime-400/50 focus:ring-lime-400/20 focus:ring-2 backdrop-blur-sm h-12"})]}),o.jsxs("div",{children:[o.jsxs(oe,{htmlFor:"principal-name",className:"text-foreground flex items-center mb-2",children:[o.jsx(Iu,{className:"h-4 w-4 text-cyan-400 mr-2"}),"Nama Kepala Sekolah"]}),o.jsx(xe,{id:"principal-name",value:s.principal_name,onChange:g=>u("principal_name",g.target.value),placeholder:"Masukkan nama kepala sekolah",className:"bg-background border-cyan-400/30 text-foreground placeholder-muted-foreground focus:border-cyan-400/50 focus:ring-cyan-400/20 focus:ring-2 backdrop-blur-sm h-12"})]})]}),o.jsxs("div",{children:[o.jsxs(oe,{htmlFor:"address",className:"text-foreground flex items-center mb-2",children:[o.jsx(y0,{className:"h-4 w-4 text-blue-400 mr-2"}),"Alamat"]}),o.jsx(Ns,{id:"address",value:s.address,onChange:g=>u("address",g.target.value),placeholder:"Masukkan alamat lengkap",className:"bg-background border-blue-400/30 text-foreground placeholder-muted-foreground focus:border-blue-400/50 focus:ring-blue-400/20 focus:ring-2 backdrop-blur-sm",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs(oe,{htmlFor:"phone",className:"text-foreground flex items-center mb-2",children:[o.jsx(xE,{className:"h-4 w-4 text-purple-400 mr-2"}),"Nomor Telepon"]}),o.jsx(xe,{id:"phone",value:s.phone,onChange:g=>u("phone",g.target.value),placeholder:"Masukkan nomor telepon",className:"bg-background border-purple-400/30 text-foreground placeholder-muted-foreground focus:border-purple-400/50 focus:ring-purple-400/20 focus:ring-2 backdrop-blur-sm h-12"})]}),o.jsxs("div",{children:[o.jsxs(oe,{htmlFor:"email",className:"text-foreground flex items-center mb-2",children:[o.jsx(Q5,{className:"h-4 w-4 text-pink-400 mr-2"}),"Email"]}),o.jsx(xe,{id:"email",type:"email",value:s.email,onChange:g=>u("email",g.target.value),placeholder:"Masukkan email",className:"bg-background border-pink-400/30 text-foreground placeholder-muted-foreground focus:border-pink-400/50 focus:ring-pink-400/20 focus:ring-2 backdrop-blur-sm h-12"})]})]})]})]})]})]})})},t4e=()=>{const{profile:e}=ct(),{data:t}=$r(),r=t==null?void 0:t.find(n=>n.is_active);return Ze({queryKey:["kbm-subjects",e==null?void 0:e.school_id,r==null?void 0:r.id],queryFn:async()=>{if(!(e!=null&&e.school_id)||!(r!=null&&r.id))throw new Error("Missing required data");console.log(" Fetching KBM subjects for:",{school_id:e.school_id,academic_year_id:r.id,timestamp:new Date().toISOString()});const{data:n,error:a}=await G.from("schedule_subjects").select(`
          id,
          name,
          code,
          color,
          total_hours_per_year,
          session_category_id,
          school_id,
          academic_year_id,
          created_at,
          updated_at,
          session_categories (
            id,
            name,
            color
          )
        `).eq("school_id",e.school_id).eq("academic_year_id",r.id).order("name",{ascending:!0});if(a)throw console.error(" Error fetching KBM subjects:",a),a;console.log(" Raw schedule_subjects data:",{totalCount:(n==null?void 0:n.length)||0,data:n==null?void 0:n.map(i=>{var l;return{id:i.id,name:i.name,session_category_id:i.session_category_id,category_name:(l=i.session_categories)==null?void 0:l.name}})});const s=(n==null?void 0:n.map(i=>{var l,c;return{...i,type:"kbm",category_name:(l=i.session_categories)==null?void 0:l.name,category_color:(c=i.session_categories)==null?void 0:c.color}}))||[];return console.log(" KBM subjects transformed:",{totalCount:s.length,subjects:s.map(i=>({id:i.id,name:i.name,category_name:i.category_name,session_category_id:i.session_category_id}))}),s},enabled:!!(e!=null&&e.school_id)&&!!(r!=null&&r.id),staleTime:0,gcTime:0,retry:2,refetchOnWindowFocus:!0,refetchOnMount:!0})},r4e=t4e,n4e=()=>{const{profile:e}=ct(),{data:t}=$r(),r=t==null?void 0:t.find(n=>n.is_active);return Ze({queryKey:["matrix-class-subjects",e==null?void 0:e.school_id,r==null?void 0:r.id],queryFn:async()=>{if(!(e!=null&&e.school_id)||!(r!=null&&r.id))throw new Error("Missing required data");console.log("Fetching matrix class subjects for:",{school_id:e.school_id,academic_year_id:r.id});try{const{data:n,error:a}=await G.from("schedule_class_subjects").select("*");if(a)return console.error("Error fetching schedule_class_subjects:",a),[];const{data:s,error:i}=await G.from("schedule_subjects").select("id, school_id, academic_year_id").eq("school_id",e.school_id).eq("academic_year_id",r.id);if(i)return console.error("Error fetching schedule_subjects:",i),[];const l=new Set((s==null?void 0:s.map(d=>d.id))||[]),u=((n==null?void 0:n.filter(d=>l.has(d.schedule_subject_id)))||[]).map(d=>({id:d.id,class_id:d.class_id,subject_id:d.schedule_subject_id,hours_per_week:d.hours_per_week||0,hours_per_year:d.hours_per_year||0,created_at:d.created_at,updated_at:d.updated_at}));return console.log("Matrix class subjects fetched successfully:",{totalClassSubjects:(n==null?void 0:n.length)||0,validSubjects:(s==null?void 0:s.length)||0,filteredResults:u.length}),u}catch(n){return console.error("Error in useMatrixClassSubjects:",n),[]}},enabled:!!(e!=null&&e.school_id)&&!!(r!=null&&r.id),staleTime:0,gcTime:0,retry:1,refetchOnWindowFocus:!1,refetchOnMount:!0})},a4e=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async r=>{console.log("Creating matrix class subject with data:",r);const n={schedule_subject_id:r.subject_id,class_id:r.class_id,hours_per_week:Math.round(r.hours_per_year/36)||0,hours_per_year:r.hours_per_year||0},{data:a,error:s}=await G.from("schedule_class_subjects").insert(n).select(`
          id,
          schedule_subject_id,
          class_id,
          hours_per_week,
          hours_per_year,
          created_at,
          updated_at
        `).single();if(s)throw console.error("Error creating matrix class subject:",s),s;return console.log("Matrix class subject created:",a),a},onSuccess:async()=>{await e.invalidateQueries({queryKey:["matrix-subjects"]}),await e.invalidateQueries({queryKey:["matrix-class-subjects"]}),await e.invalidateQueries({queryKey:["schedule-subjects"]}),await e.invalidateQueries({queryKey:["schedule-subjects-by-category"]}),await e.invalidateQueries({queryKey:["schedule-class-subjects"]}),await e.invalidateQueries({queryKey:["subjects"]}),await e.invalidateQueries({queryKey:["all-subjects-by-category"]}),e.refetchQueries({queryKey:["matrix-subjects"]}),e.refetchQueries({queryKey:["matrix-class-subjects"]}),e.refetchQueries({queryKey:["schedule-subjects-by-category"]}),t({title:"Berhasil",description:"Mata pelajaran berhasil ditambahkan ke kelas"})},onError:r=>{console.error("Error in useCreateMatrixClassSubject:",r),t({title:"Gagal",description:(r==null?void 0:r.message)||"Gagal menambahkan mata pelajaran ke kelas",variant:"destructive"})}})},s4e=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async({id:r,hours_per_year:n})=>{console.log(" Updating matrix class subject:",{id:r,hours_per_year:n});const{data:a,error:s}=await G.from("schedule_class_subjects").update({hours_per_year:n,hours_per_week:Math.round(n/36)||0}).eq("id",r).select().single();if(s)throw console.error(" Error updating matrix class subject:",s),s;return console.log(" Matrix class subject updated successfully:",a),a},onSuccess:async()=>{console.log(" Matrix class subject update success - invalidating caches..."),await Promise.all([e.invalidateQueries({queryKey:["matrix-subjects"]}),e.invalidateQueries({queryKey:["matrix-class-subjects"]}),e.invalidateQueries({queryKey:["schedule-subjects"]}),e.invalidateQueries({queryKey:["schedule-subjects-by-category"]}),e.invalidateQueries({queryKey:["schedule-class-subjects"]}),e.invalidateQueries({queryKey:["subjects"]}),e.invalidateQueries({queryKey:["all-subjects-by-category"]})]),setTimeout(()=>{e.refetchQueries({queryKey:["matrix-subjects"]}),e.refetchQueries({queryKey:["matrix-class-subjects"]}),e.refetchQueries({queryKey:["schedule-subjects-by-category"]})},100),t({title:"Berhasil",description:"JP berhasil diperbarui"})},onError:r=>{console.error(" Matrix class subject update failed:",r),t({title:"Gagal",description:(r==null?void 0:r.message)||"Gagal memperbarui JP",variant:"destructive"})}})},IW=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async r=>{const{error:n}=await G.from("schedule_class_subjects").delete().eq("id",r);if(n)throw console.error("Error deleting matrix class subject:",n),n},onSuccess:async()=>{await e.invalidateQueries({queryKey:["matrix-subjects"]}),await e.invalidateQueries({queryKey:["matrix-class-subjects"]}),await e.invalidateQueries({queryKey:["schedule-subjects"]}),await e.invalidateQueries({queryKey:["schedule-subjects-by-category"]}),await e.invalidateQueries({queryKey:["schedule-class-subjects"]}),await e.invalidateQueries({queryKey:["subjects"]}),await e.invalidateQueries({queryKey:["all-subjects-by-category"]}),e.refetchQueries({queryKey:["matrix-subjects"]}),e.refetchQueries({queryKey:["matrix-class-subjects"]}),e.refetchQueries({queryKey:["schedule-subjects-by-category"]}),t({title:"Berhasil",description:"Assignment berhasil dihapus"})},onError:r=>{console.error("Error in useDeleteMatrixClassSubject:",r),t({title:"Gagal",description:(r==null?void 0:r.message)||"Gagal menghapus assignment",variant:"destructive"})}})},Xp=()=>{const{profile:e}=ct(),{data:t}=$r(),r=t==null?void 0:t.find(n=>n.is_active);return Ze({queryKey:["extracurriculars",e==null?void 0:e.school_id,r==null?void 0:r.id],queryFn:async()=>{if(!(e!=null&&e.school_id)||!(r!=null&&r.id))throw new Error("Missing required data");console.log(" Fetching extracurriculars for:",{school_id:e.school_id,academic_year_id:r.id,profile:!!e,activeYear:!!r});const{data:n,error:a}=await G.from("extracurriculars").select(`
          *,
          session_categories (
            id,
            name,
            color
          )
        `).eq("school_id",e.school_id).eq("academic_year_id",r.id).order("name",{ascending:!0});if(a)throw console.error("Error fetching extracurriculars:",a),a;return console.log(" Extracurriculars fetched:",{count:(n==null?void 0:n.length)||0,data:n==null?void 0:n.map(s=>({name:s.name,session_category_id:s.session_category_id}))}),n||[]},enabled:!!(e!=null&&e.school_id)&&!!(r!=null&&r.id),staleTime:0,gcTime:0,retry:2,refetchOnWindowFocus:!0,refetchOnMount:!0})},i4e=()=>{const e=Ce(),{toast:t}=Te(),{profile:r}=ct(),{data:n}=$r(),a=n==null?void 0:n.find(s=>s.is_active);return Ee({mutationFn:async s=>{console.log("Creating extracurricular with data:",s);try{if(!(r!=null&&r.school_id)||!(a!=null&&a.id))throw new Error("Data sekolah atau tahun akademik tidak ditemukan");const{data:i}=await G.from("session_categories").select("id, name").eq("school_id",r.school_id).eq("academic_year_id",a.id).eq("name","Ekskul").single();console.log(" Found ekstrakurikuler category:",i);const l={name:s.name,description:s.description||`Ekstrakurikuler ${s.name}`,hours_per_year:s.hours_per_year,color:s.color||"#F97316",session_category_id:(i==null?void 0:i.id)||null,school_id:r.school_id,academic_year_id:a.id};console.log("Clean extracurricular data:",l);const{data:c,error:u}=await G.from("extracurriculars").insert(l).select().single();if(u)throw console.error("Error creating extracurricular:",u),u;return console.log("Extracurricular created:",c),c}catch(i){throw console.error("Full error in createExtracurricular:",i),i}},onSuccess:()=>{e.invalidateQueries({queryKey:["extracurriculars"]}),t({title:"Berhasil",description:"Data ekstrakurikuler berhasil ditambahkan"})},onError:s=>{console.error("Error in onError:",s),t({title:"Gagal",description:"Gagal menambahkan data ekstrakurikuler: "+(s.message||"Unknown error"),variant:"destructive"})}})},o4e=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async({id:r,...n})=>{console.log("Updating extracurricular:",r,n);const a={name:n.name,hours_per_year:n.hours_per_year||0,color:n.color||"#F97316",session_category_id:n.session_category_id||null},{data:s,error:i}=await G.from("extracurriculars").update(a).eq("id",r).select().single();if(i)throw console.error("Error updating extracurricular:",i),i;return console.log("Extracurricular updated:",s),s},onSuccess:()=>{e.invalidateQueries({queryKey:["extracurriculars"]}),t({title:"Berhasil",description:"Data ekstrakurikuler berhasil diperbarui"})},onError:r=>{console.error("Error updating extracurricular:",r),t({title:"Gagal",description:"Gagal memperbarui data ekstrakurikuler: "+(r.message||"Unknown error"),variant:"destructive"})}})},l4e=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async r=>{console.log("Deleting extracurricular:",r);const{error:n}=await G.from("extracurriculars").delete().eq("id",r);if(n)throw console.error("Error deleting extracurricular:",n),n},onSuccess:()=>{e.invalidateQueries({queryKey:["extracurriculars"]}),t({title:"Berhasil",description:"Data ekstrakurikuler berhasil dihapus"})},onError:r=>{console.error("Error deleting extracurricular:",r),t({title:"Gagal",description:"Gagal menghapus data ekstrakurikuler: "+(r.message||"Unknown error"),variant:"destructive"})}})},ZA=()=>{const{profile:e}=ct();return Ze({queryKey:["extracurricular-classes"],queryFn:async()=>{if(!(e!=null&&e.school_id))return[];const{data:t,error:r}=await G.from("extracurricular_classes").select("*").eq("school_id",e.school_id);if(r)throw r;return t},enabled:!!(e!=null&&e.school_id)})},$W=()=>{const e=Ce(),{toast:t}=Te(),{profile:r}=ct();return Ee({mutationFn:async n=>{if(!(r!=null&&r.school_id))throw new Error("School ID not found");const{data:a,error:s}=await G.from("extracurricular_classes").insert({...n,hours_per_week:Math.round(n.hours_per_year/36),school_id:r.school_id}).select().single();if(s)throw s;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["extracurricular-classes"]}),t({title:"Berhasil",description:"Ekstrakurikuler berhasil ditambahkan ke kelas"})},onError:n=>{console.error("Error creating extracurricular class:",n),t({title:"Error",description:"Gagal menambahkan ekstrakurikuler ke kelas",variant:"destructive"})}})},c4e=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async({id:r,hours_per_year:n})=>{const{data:a,error:s}=await G.from("extracurricular_classes").update({hours_per_year:n,hours_per_week:Math.round(n/36)}).eq("id",r).select().single();if(s)throw s;return a},onSuccess:()=>{e.invalidateQueries({queryKey:["extracurricular-classes"]}),t({title:"Berhasil",description:"JP ekstrakurikuler berhasil diperbarui"})},onError:r=>{console.error("Error updating extracurricular class:",r),t({title:"Error",description:"Gagal memperbarui JP ekstrakurikuler",variant:"destructive"})}})},LW=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async r=>{console.log(" Deleting extracurricular class:",r);const{error:n}=await G.from("extracurricular_classes").delete().eq("id",r);if(n)throw console.error(" Error deleting extracurricular class:",n),n;return console.log(" Extracurricular class deleted successfully"),r},onSuccess:()=>{e.invalidateQueries({queryKey:["extracurricular-classes"]}),e.invalidateQueries({queryKey:["extracurriculars"]}),e.invalidateQueries({queryKey:["jp-progress"]}),e.invalidateQueries({queryKey:["jp-progress-simple"]}),t({title:"Berhasil",description:"Ekstrakurikuler berhasil dihapus dari kelas"}),console.log(" Extracurricular class delete successful - cache invalidated")},onError:r=>{console.error(" Extracurricular class delete failed:",r),t({title:"Gagal",description:"Gagal menghapus ekstrakurikuler: "+r.message,variant:"destructive"})}})},ev=["#8B5CF6","#F97316","#3B82F6","#22C55E","#06B6D4","#EC4899","#EAB308","#EF4444","#84CC16","#F59E0B","#14B8A6","#6366F1"],FW=({open:e,onOpenChange:t,editingSubject:r})=>{const[n,a]=x.useState([]),[s,i]=x.useState({name:"",code:"",schedule_category_id:"",color:ev[0],total_hours_per_year:"0",standard_duration:"45"}),{data:l=[]}=xn(),c=MA(),u=aq(),{toast:d}=Te(),f=Ce();x.useEffect(()=>{var v,p;i(r?{name:r.name||"",code:r.code||"",schedule_category_id:r.session_category_id||"",color:r.color||ev[0],total_hours_per_year:((v=r.total_hours_per_year)==null?void 0:v.toString())||"0",standard_duration:((p=r.standard_duration)==null?void 0:p.toString())||"45"}:{name:"",code:"",schedule_category_id:"",color:ev[0],total_hours_per_year:"0",standard_duration:"45"})},[r]);const h=async v=>{if(v.preventDefault(),!s.name.trim()||!s.code.trim()){d({title:"Error",description:"Nama dan kode mata pelajaran harus diisi",variant:"destructive"});return}const p=parseInt(s.total_hours_per_year);if(isNaN(p)||p<0){d({title:"Error",description:"JP/Tahun harus berupa angka yang valid (0 atau lebih)",variant:"destructive"});return}console.log("Form data:",s);try{const g={name:s.name.trim(),code:s.code.trim(),color:s.color,total_hours_per_year:p,standard_duration:parseInt(s.standard_duration)||45,schedule_category_id:s.schedule_category_id,selected_classes:n};r?await u.mutateAsync({id:r.id,...g}):await c.mutateAsync(g),console.log(" Modal: Starting aggressive cache refresh..."),await Promise.all([f.invalidateQueries({queryKey:["schedule-subjects"]}),f.invalidateQueries({queryKey:["schedule-subjects-by-category"]}),f.invalidateQueries({queryKey:["all-subjects-by-category"]}),f.invalidateQueries({queryKey:["matrix-subjects"]}),f.invalidateQueries({queryKey:["kbm-subjects"]}),f.invalidateQueries({queryKey:["unified-subjects"]}),f.invalidateQueries({queryKey:["subjects"]})]),setTimeout(async()=>{console.log(" Modal: Force refetching all queries..."),await Promise.all([f.refetchQueries({queryKey:["schedule-subjects"]}),f.refetchQueries({queryKey:["schedule-subjects-by-category"]}),f.refetchQueries({queryKey:["all-subjects-by-category"]}),f.refetchQueries({queryKey:["matrix-subjects"]}),f.refetchQueries({queryKey:["kbm-subjects"]}),f.refetchQueries({queryKey:["unified-subjects"]})]),console.log(" Modal: All queries refetched")},100),setTimeout(()=>{console.log(" Modal: Additional refresh cycle..."),f.invalidateQueries(),f.refetchQueries({queryKey:["kbm-subjects"]}),f.refetchQueries({queryKey:["matrix-subjects"]})},500),t(!1)}catch(g){console.error("Error in handleSubmit:",g)}},m=c.isPending||u.isPending;return o.jsx(Ft,{open:e,onOpenChange:t,children:o.jsxs(Ct,{className:"max-w-2xl",children:[o.jsx(At,{children:o.jsx(Pt,{children:r?"Edit Mata Pelajaran":"Tambah Mata Pelajaran Baru"})}),o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"name",children:"Nama Mata Pelajaran*"}),o.jsx(xe,{id:"name",value:s.name,onChange:v=>i(p=>({...p,name:v.target.value})),placeholder:"Contoh: Matematika",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"code",children:"Kode Mata Pelajaran*"}),o.jsx(xe,{id:"code",value:s.code,onChange:v=>i(p=>({...p,code:v.target.value})),placeholder:"Contoh: MAT",required:!0})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"schedule_category_id",children:"Kategori Jadwal"}),o.jsxs(ze,{value:s.schedule_category_id,onValueChange:v=>i(p=>({...p,schedule_category_id:v})),children:[o.jsx($e,{children:o.jsx(Ue,{placeholder:"Pilih kategori sesi"})}),o.jsx(Le,{children:l.map(v=>o.jsx(pe,{value:v.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:v.color}}),v.name]})},v.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"standard_duration",children:"Durasi Standar (menit)"}),o.jsx(xe,{id:"standard_duration",type:"number",value:s.standard_duration,onChange:v=>i(p=>({...p,standard_duration:v.target.value})),placeholder:"45",min:"1"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"total_hours_per_year",children:"JP/Tahun*"}),o.jsx(xe,{id:"total_hours_per_year",type:"number",value:s.total_hours_per_year,onChange:v=>i(p=>({...p,total_hours_per_year:v.target.value})),placeholder:"Contoh: 144 (atau 0 jika belum direncanakan)",min:"0",required:!0})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Masukkan 0 jika belum ada perencanaan pasti. Nanti akan otomatis terhitung dari menu Jadwal."}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{children:"Warna Mata Pelajaran"}),o.jsx("div",{className:"grid grid-cols-8 gap-2",children:ev.map(v=>o.jsx("button",{type:"button",className:`w-10 h-10 rounded-lg border-2 transition-all duration-200 hover:scale-105 ${s.color===v?"border-foreground ring-2 ring-offset-2 ring-foreground":"border-border hover:border-muted-foreground"}`,style:{backgroundColor:v},onClick:()=>i(p=>({...p,color:v})),title:`Pilih warna ${v}`},v))}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:s.color}}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Warna terpilih: ",s.color]})]})]}),o.jsxs(an,{className:"gap-2",children:[o.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:m,children:"Batal"}),o.jsx(V,{type:"submit",disabled:m,children:m?"Menyimpan...":r?"Update":"Simpan"})]})]})]})})},tv=["#F97316","#EAB308","#84CC16","#22C55E","#14B8A6","#06B6D4","#3B82F6","#6366F1","#8B5CF6","#EC4899","#EF4444","#F59E0B"],BW=({open:e,onOpenChange:t,editingExtracurricular:r})=>{const[n,a]=x.useState({name:"",hours_per_year:"",session_category_id:"",color:tv[0]}),s=i4e(),i=o4e(),{data:l=[]}=xn(),{toast:c}=Te(),u=l.filter(h=>h.name==="Ekskul");x.useEffect(()=>{var h,m,v;e&&a(r?{name:r.name||"",hours_per_year:((h=r.hours_per_year)==null?void 0:h.toString())||"",session_category_id:r.session_category_id||((m=u[0])==null?void 0:m.id)||"",color:r.color||tv[0]}:{name:"",hours_per_year:"",session_category_id:((v=u[0])==null?void 0:v.id)||"",color:tv[0]})},[r==null?void 0:r.id,e]);const d=async h=>{if(h.preventDefault(),!n.name.trim()||n.hours_per_year.trim()===""){c({title:"Error",description:"Nama ekstrakurikuler dan JP/Tahun harus diisi",variant:"destructive"});return}const m=parseInt(n.hours_per_year);if(isNaN(m)||m<0){c({title:"Error",description:"JP/Tahun harus berupa angka yang valid (0 atau lebih)",variant:"destructive"});return}console.log("Form data:",{...n,hours_per_year:m});try{const v={name:n.name.trim(),hours_per_year:m,color:n.color,session_category_id:n.session_category_id};console.log(" Submitting extracurricular data:",v),r?(await i.mutateAsync({id:r.id,...v}),c({title:" Berhasil",description:"Ekstrakurikuler berhasil diperbarui"})):(await s.mutateAsync(v),c({title:" Berhasil",description:"Ekstrakurikuler berhasil ditambahkan"})),t(!1)}catch(v){console.error(" Error in handleSubmit:",v),c({title:" Gagal",description:`Gagal menyimpan ekstrakurikuler: ${v.message}`,variant:"destructive"})}},f=s.isPending||i.isPending;return o.jsx(Ft,{open:e,onOpenChange:t,children:o.jsxs(Ct,{className:"max-w-lg",children:[o.jsx(At,{children:o.jsx(Pt,{children:r?"Edit Ekstrakurikuler":"Tambah Ekstrakurikuler Baru"})}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"name",children:"Nama Ekstrakurikuler*"}),o.jsx(xe,{id:"name",value:n.name,onChange:h=>a(m=>({...m,name:h.target.value})),placeholder:"Contoh: Pramuka, Basket, Musik",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"hours_per_year",children:"JP/Tahun*"}),o.jsx(xe,{id:"hours_per_year",type:"number",value:n.hours_per_year,onChange:h=>a(m=>({...m,hours_per_year:h.target.value})),placeholder:"Contoh: 72 (atau 0 jika belum direncanakan)",min:"0",required:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"category",children:"Kategori*"}),o.jsxs(ze,{value:n.session_category_id,onValueChange:h=>a(m=>({...m,session_category_id:h})),children:[o.jsx($e,{children:o.jsx(Ue,{placeholder:"Pilih kategori"})}),o.jsx(Le,{children:u.map(h=>o.jsx(pe,{value:h.id,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:h.color}}),h.name]})},h.id))})]})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Masukkan 0 jika belum ada perencanaan pasti. Nanti akan otomatis terhitung dari menu Jadwal."}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{children:"Warna Ekstrakurikuler"}),o.jsx("div",{className:"grid grid-cols-6 gap-2",children:tv.map(h=>o.jsx("button",{type:"button",className:`w-10 h-10 rounded-lg border-2 transition-all duration-200 hover:scale-105 ${n.color===h?"border-foreground ring-2 ring-offset-2 ring-foreground":"border-border hover:border-muted-foreground"}`,style:{backgroundColor:h},onClick:()=>a(m=>({...m,color:h})),title:`Pilih warna ${h}`},h))}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx("div",{className:"w-4 h-4 rounded border",style:{backgroundColor:n.color}}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Warna terpilih: ",n.color]})]})]}),o.jsxs(an,{className:"gap-2",children:[o.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:f,children:"Batal"}),o.jsx(V,{type:"submit",disabled:f,children:f?"Menyimpan...":r?"Update":"Simpan"})]})]})]})})},zW=()=>Ze({queryKey:["class-subjects"],queryFn:async()=>{console.log(" useClassSubjects: Fetching class subjects...");const{data:e,error:t}=await G.from("class_schedules").select(`
          *,
          classes(*),
          schedule_subjects(*)
        `).is("day_of_week",null).order("created_at",{ascending:!1});return t?(console.error(" useClassSubjects error:",t),console.log(" Falling back to empty array to prevent 400 errors"),[]):(console.log(" useClassSubjects: Found",(e==null?void 0:e.length)||0,"class subjects"),e)},retry:1,retryDelay:1e3,staleTime:5*60*1e3}),UW=(e=!0)=>{const t=Ce(),{toast:r}=Te();return Ee({mutationFn:async n=>{try{console.log("Creating class subject with data:",n);const a={class_id:n.class_id,subject_id:n.subject_id,hours_per_week:Math.round(n.hours_per_year/36)||0,hours_per_year:n.hours_per_year||0};console.log("Insert data for class_subjects:",a);const{data:s,error:i}=await G.from("class_schedules").insert(a).select().single();if(i)throw console.error("Supabase error creating class subject:",i),console.error("Error details:",{message:i.message,details:i.details,hint:i.hint,code:i.code}),i;return console.log("Class subject created successfully:",s),s}catch(a){throw console.error("Full error in createClassSubject mutationFn:",a),a}},onSuccess:n=>{console.log("useCreateClassSubject onSuccess called with:",n),t.invalidateQueries({queryKey:["class-subjects"]}),t.invalidateQueries({queryKey:["subjects"]}),e&&r({title:"Berhasil",description:"Mata pelajaran berhasil ditambahkan ke kelas"})},onError:n=>{console.error("useCreateClassSubject onError called with:",n),e&&r({title:"Gagal",description:"Gagal menambahkan mata pelajaran ke kelas: "+((n==null?void 0:n.message)||"Unknown error"),variant:"destructive"})}})},u4e=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async({id:r,hours_per_year:n})=>{console.log(" Updating class subject:",{id:r,hours_per_year:n});const{data:a,error:s}=await G.from("class_schedules").update({hours_per_year:n,hours_per_week:Math.round(n/36)}).eq("id",r).select().single();if(s)throw console.error(" Error updating class subject:",s),s;return console.log(" Class subject updated successfully:",a),a},onSuccess:()=>{e.invalidateQueries({queryKey:["class-subjects"]}),e.invalidateQueries({queryKey:["subjects"]}),e.invalidateQueries({queryKey:["schedule-subjects"]}),e.invalidateQueries({queryKey:["schedule-class-subjects"]}),e.invalidateQueries({queryKey:["jp-progress"]}),e.invalidateQueries({queryKey:["jp-progress-simple"]}),console.log(" Class subject update successful - cache invalidated")},onError:r=>{console.error(" Class subject update failed:",r),t({title:"Gagal",description:"Gagal memperbarui data mata pelajaran: "+r.message,variant:"destructive"})}})},HW=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async r=>{console.log(" Deleting class subject:",r);const{error:n}=await G.from("class_schedules").delete().eq("id",r);if(n)throw console.error(" Error deleting class subject:",n),n;return console.log(" Class subject deleted successfully"),r},onSuccess:()=>{e.invalidateQueries({queryKey:["class-subjects"]}),e.invalidateQueries({queryKey:["subjects"]}),e.invalidateQueries({queryKey:["schedule-subjects"]}),e.invalidateQueries({queryKey:["schedule-class-subjects"]}),e.invalidateQueries({queryKey:["jp-progress"]}),e.invalidateQueries({queryKey:["jp-progress-simple"]}),t({title:"Berhasil",description:"Mata pelajaran berhasil dihapus dari kelas"}),console.log(" Class subject delete successful - cache invalidated")},onError:r=>{console.error(" Class subject delete failed:",r),t({title:"Gagal",description:"Gagal menghapus mata pelajaran: "+r.message,variant:"destructive"})}})},d4e=({open:e,onOpenChange:t,assignment:r,subjectName:n,className:a,isExtracurricular:s=!1,isMatrixAssignment:i=!1})=>{const[l,c]=x.useState(0),u=u4e(),d=HW(),f=c4e(),h=LW(),m=s4e(),v=IW(),{toast:p}=Te();x.useEffect(()=>{r&&c(r.hours_per_year||(r.hours_per_week||0)*36)},[r]);const g=async()=>{try{console.log(" Saving assignment with hours per year:",l),console.log(" Assignment ID:",r.id),console.log(" Is extracurricular:",s),console.log(" Assignment data:",r),s?(console.log(" Updating extracurricular class assignment..."),await f.mutateAsync({id:r.id,hours_per_year:l})):i?(console.log(" Updating matrix class subject assignment..."),await m.mutateAsync({id:r.id,hours_per_year:l})):(console.log(" Updating class subject assignment..."),await u.mutateAsync({id:r.id,hours_per_year:l})),p({title:" Berhasil",description:`Jam pelajaran berhasil diperbarui menjadi ${l} JP/Tahun`}),console.log(" Assignment update successful"),t(!1)}catch(_){console.error(" Error updating assignment:",_),p({title:" Gagal",description:"Gagal memperbarui jam pelajaran: "+_.message,variant:"destructive"})}},b=async()=>{const _=s?"ekstrakurikuler":"mata pelajaran";if(confirm(`Apakah Anda yakin ingin menghapus ${_} "${n}" dari kelas "${a}"?`))try{console.log(" Deleting assignment:",{id:r.id,type:_,isExtracurricular:s}),s?(console.log(" Deleting extracurricular class assignment..."),await h.mutateAsync(r.id)):i?(console.log(" Deleting matrix class subject assignment..."),await v.mutateAsync(r.id)):(console.log(" Deleting class subject assignment..."),await d.mutateAsync(r.id)),console.log(" Assignment deletion successful"),t(!1)}catch(j){console.error(" Error deleting assignment:",j),p({title:" Gagal",description:`Gagal menghapus ${_}: ${j.message}`,variant:"destructive"})}},y=_=>{const j=_.target.value;if(j==="")c(0);else{const S=parseInt(j);!isNaN(S)&&S>=0&&c(S)}},w=u.isPending||d.isPending||f.isPending||h.isPending||m.isPending||v.isPending;return o.jsx(Ft,{open:e,onOpenChange:t,children:o.jsxs(Ct,{className:"bg-gray-800 border-gray-700 text-white max-w-md",children:[o.jsxs(At,{children:[o.jsxs(Pt,{className:s?"text-orange-400":"text-lime-400",children:["Edit Penugasan ",s?"Ekstrakurikuler":"Mata Pelajaran"]}),o.jsxs("div",{className:"text-gray-300 text-sm",children:[o.jsx("div",{children:n}),o.jsxs("div",{children:["Kelas ",a]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"hoursPerYear",className:"text-gray-300",children:"Jam Pelajaran per Tahun"}),o.jsx(xe,{id:"hoursPerYear",type:"number",min:"0",max:"360",value:l,onChange:y,className:"bg-gray-700 border-gray-600 text-white",placeholder:"0"}),o.jsx("p",{className:"text-xs text-gray-400",children:"Total jam pelajaran dalam satu tahun akademik (0 untuk mata pelajaran yang tidak dijadwalkan)"})]}),o.jsx("div",{className:"border-t border-gray-600 pt-4",children:o.jsxs(V,{type:"button",variant:"destructive",onClick:b,disabled:w,className:"w-full bg-red-600 hover:bg-red-700 text-white",children:[o.jsx(er,{className:"mr-2 h-4 w-4"}),"Hapus dari Kelas"]})})]}),o.jsxs(an,{className:"gap-2",children:[o.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),className:"border-gray-600 text-gray-300",disabled:w,children:"Batal"}),o.jsx(V,{type:"button",onClick:g,className:"bg-lime-400 hover:bg-lime-500 text-gray-900",disabled:w,children:w?"Menyimpan...":"Simpan"})]})]})})},qW=({open:e,onOpenChange:t,onConfirm:r,title:n,description:a,itemName:s,isLoading:i=!1})=>{const l=()=>{r(),t(!1)};return o.jsx(Ft,{open:e,onOpenChange:t,children:o.jsxs(Ct,{className:"bg-gray-800 border-gray-700 text-white max-w-md",children:[o.jsx(At,{children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(jd,{className:"h-6 w-6 text-red-400"})}),o.jsx("div",{children:o.jsx(Pt,{className:"text-red-400 text-lg",children:n})})]})}),o.jsxs("div",{className:"py-4",children:[o.jsx("p",{className:"text-gray-300 mb-3",children:a}),s&&o.jsx("div",{className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600",children:o.jsx("p",{className:"text-white font-medium",children:s})}),o.jsx("p",{className:"text-red-400 text-sm mt-3 font-medium",children:"Tindakan ini tidak dapat dibatalkan."})]}),o.jsxs(an,{className:"gap-2",children:[o.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),className:"border-gray-600 text-gray-300 hover:bg-gray-700",disabled:i,children:"Batal"}),o.jsx(V,{type:"button",onClick:l,className:"bg-red-600 hover:bg-red-700 text-white",disabled:i,children:i?"Menghapus...":"Hapus"})]})]})})},f4e=({subjects:e,sortedClasses:t,getSubjectColor:r,getClassSubject:n,handleAddSubjectToClass:a,handleEditAssignment:s,handleDeleteAssignment:i,createClassSubject:l,onAddSubject:c,onEditSubject:u,onDeleteSubject:d})=>!e||e.length===0?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(ir,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Belum ada mata pelajaran"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Mulai dengan menambahkan mata pelajaran pertama"}),o.jsxs(V,{onClick:c,className:"bg-lime-500 hover:bg-lime-600 text-gray-900 font-semibold",children:[o.jsx(mt,{className:"mr-2 h-4 w-4"}),"Tambah Mata Pelajaran"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("div",{className:"min-w-max",children:[o.jsxs("div",{className:"grid grid-cols-[250px_repeat(auto-fit,minmax(120px,1fr))] gap-2 p-4",children:[o.jsx("div",{className:"flex items-center justify-center bg-muted/20 border border-border rounded-lg p-3 shadow-sm",children:o.jsxs("div",{className:"text-center",children:[o.jsx(ir,{className:"h-5 w-5 text-lime-500 mx-auto mb-1"}),o.jsx("div",{className:"text-foreground font-medium text-sm",children:"MATA PELAJARAN"})]})}),t.map(f=>o.jsxs("div",{className:"text-center bg-muted/10 border border-border rounded-lg p-3 py-[12px] px-0 shadow-sm",children:[o.jsxs("div",{className:"text-foreground font-medium text-sm",children:["Kelas ",f.level]}),o.jsx("div",{className:"text-muted-foreground text-xs",children:f.name})]},f.id))]}),o.jsx("div",{className:"space-y-2 p-4",children:e.map(f=>o.jsxs("div",{className:"grid grid-cols-[250px_repeat(auto-fit,minmax(120px,1fr))] gap-2 items-center",children:[o.jsxs("div",{className:"group relative rounded-xl p-3 h-16 flex flex-col justify-center border-2",style:{backgroundColor:`${f.color}20`,borderColor:`${f.color}40`},children:[o.jsx("div",{className:"text-foreground text-sm font-medium mb-1",children:f.name}),o.jsx("div",{className:"text-muted-foreground text-xs opacity-70",children:f.code}),o.jsxs("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex gap-1",children:[o.jsx(V,{size:"sm",variant:"ghost",onClick:h=>{h.stopPropagation(),u(f)},className:"h-5 w-5 p-0 hover:bg-accent/20 text-muted-foreground hover:text-foreground rounded-sm",children:o.jsx(hy,{className:"h-2.5 w-2.5"})}),o.jsx(V,{size:"sm",variant:"ghost",onClick:h=>{h.stopPropagation(),d(f)},className:"h-5 w-5 p-0 hover:bg-red-500/20 text-muted-foreground hover:text-red-400 rounded-sm",children:o.jsx(er,{className:"h-2.5 w-2.5"})})]})]}),t.map(h=>{const m=n(f.id,h.id);return o.jsx("div",{className:"flex justify-center",children:m?o.jsxs("div",{className:"group relative h-16 w-full",children:[o.jsxs("div",{className:"p-3 h-16 w-full flex flex-col justify-center items-center cursor-pointer hover:opacity-80 transition-opacity rounded-lg border-2",style:{backgroundColor:`${f.color}20`,borderColor:`${f.color}60`},children:[o.jsx("div",{className:"text-foreground text-sm font-medium",children:f.name}),o.jsxs("div",{className:"text-muted-foreground opacity-70 text-xs mt-1",children:[m.hours_per_year||m.hours_per_week*36," JP/Tahun"]})]}),o.jsxs("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex gap-1",children:[o.jsx(V,{size:"sm",onClick:()=>s(m,f.name,`${h.level} ${h.name}`),className:"h-5 w-5 p-0 bg-blue-600/80 hover:bg-blue-700 rounded-sm",children:o.jsx(hy,{className:"w-2.5 h-2.5"})}),o.jsx(V,{size:"sm",onClick:()=>i(m),className:"h-5 w-5 p-0 bg-red-600/80 hover:bg-red-700 rounded-sm",children:o.jsx(er,{className:"w-2.5 h-2.5"})})]})]}):o.jsxs(V,{variant:"ghost",onClick:()=>a(f,h),disabled:l.isPending,className:"h-16 w-full text-primary hover:bg-primary/10 border border-dashed border-primary/30 flex flex-col items-center justify-center rounded-lg my-0 bg-muted/5",children:[o.jsx(mt,{className:"h-4 w-4 mb-1"}),o.jsx("span",{className:"text-xs",children:"Tambah"})]})},h.id)})]},f.id))})]})}),h4e=({activeAcademicYear:e,onEditAssignment:t})=>{const[r,n]=x.useState(!1),[a,s]=x.useState(!1),[i,l]=x.useState(null),[c,u]=x.useState(null),{data:d=[]}=jr(),{data:f=[]}=Xp(),{data:h=[]}=ZA(),m=$W(),v=LW(),p=l4e(),g=[...d].sort((E,P)=>E.level!==P.level?E.level.localeCompare(P.level):E.grade!==P.grade?E.grade-P.grade:E.name.localeCompare(P.name)),b=(E,P)=>h.find(A=>A.extracurricular_id===E&&A.class_id===P),y=(E,P)=>{m.mutate({extracurricular_id:E,class_id:P,hours_per_year:36})},w=(E,P,A)=>{t&&t(E,P,A)},_=E=>{confirm("Apakah Anda yakin ingin menghapus assignment ini?")&&v.mutate(E.id)},j=E=>{l(E),n(!0)},S=E=>{u(E),s(!0)},k=()=>{c&&(p.mutate(c.id),u(null))},N=E=>{n(E),E||l(null)};return e?o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("div",{className:"min-w-max",children:[o.jsxs("div",{className:"grid grid-cols-[250px_repeat(auto-fit,minmax(120px,1fr))] gap-2 p-4",children:[o.jsx("div",{className:"flex items-center justify-center bg-muted/20 border border-border rounded-lg p-3 shadow-sm",children:o.jsxs("div",{className:"text-center",children:[o.jsx(J5,{className:"h-5 w-5 text-orange-500 mx-auto mb-1"}),o.jsx("div",{className:"text-foreground font-medium text-sm",children:"EKSTRAKURIKULER"})]})}),g.map(E=>o.jsxs("div",{className:"text-center bg-muted/10 border border-border rounded-lg p-3 py-[12px] px-0 shadow-sm",children:[o.jsxs("div",{className:"text-foreground font-medium text-sm",children:["Kelas ",E.level]}),o.jsx("div",{className:"text-muted-foreground text-xs",children:E.name})]},E.id))]}),o.jsx("div",{className:"space-y-2 p-4",children:f.map(E=>o.jsxs("div",{className:"grid grid-cols-[250px_repeat(auto-fit,minmax(120px,1fr))] gap-2 items-center",children:[o.jsxs("div",{className:"group relative rounded-xl p-3 h-16 flex flex-col justify-center border-2",style:{backgroundColor:`${E.color||"#F97316"}20`,borderColor:`${E.color||"#F97316"}40`},children:[o.jsx("div",{className:"text-foreground text-sm font-medium",children:E.name}),o.jsxs("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex gap-1",children:[o.jsx(V,{size:"sm",variant:"ghost",onClick:P=>{P.stopPropagation(),j(E)},className:"h-5 w-5 p-0 hover:bg-accent/20 text-muted-foreground hover:text-foreground rounded-sm",children:o.jsx(hy,{className:"h-2.5 w-2.5"})}),o.jsx(V,{size:"sm",variant:"ghost",onClick:P=>{P.stopPropagation(),S(E)},className:"h-5 w-5 p-0 hover:bg-red-500/20 text-muted-foreground hover:text-red-400 rounded-sm",children:o.jsx(er,{className:"h-2.5 w-2.5"})})]})]}),g.map(P=>{const A=b(E.id,P.id);return o.jsx("div",{className:"flex justify-center",children:A?o.jsxs("div",{className:"group relative h-16 w-full",children:[o.jsxs("div",{className:"p-3 h-16 w-full flex flex-col justify-center items-center cursor-pointer hover:opacity-80 transition-opacity rounded-lg border-2",style:{backgroundColor:`${E.color||"#F97316"}20`,borderColor:`${E.color||"#F97316"}60`},children:[o.jsx("div",{className:"text-foreground text-sm font-medium",children:E.name}),o.jsxs("div",{className:"text-muted-foreground opacity-70 text-xs mt-1",children:[A.hours_per_year||A.hours_per_week*36," JP/Tahun"]})]}),o.jsxs("div",{className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex gap-1",children:[o.jsx(V,{size:"sm",onClick:()=>w(A,E.name,`${P.level} ${P.name}`),className:"h-5 w-5 p-0 bg-blue-600/80 hover:bg-blue-700 rounded-sm",children:o.jsx(hy,{className:"w-2.5 h-2.5"})}),o.jsx(V,{size:"sm",onClick:()=>_(A),className:"h-5 w-5 p-0 bg-red-600/80 hover:bg-red-700 rounded-sm",children:o.jsx(er,{className:"w-2.5 h-2.5"})})]})]}):o.jsxs(V,{variant:"ghost",onClick:()=>y(E.id,P.id),className:"h-16 w-full text-primary hover:bg-primary/10 border border-dashed border-primary/30 flex flex-col items-center justify-center rounded-lg my-0 bg-muted/5",children:[o.jsx(mt,{className:"h-4 w-4 mb-1"}),o.jsx("span",{className:"text-xs",children:"Tambah"})]})},P.id)})]},E.id))})]}),o.jsx(BW,{open:r,onOpenChange:N,editingExtracurricular:i}),o.jsx(qW,{open:a,onOpenChange:s,onConfirm:k,title:"Hapus Ekstrakurikuler",description:"Apakah Anda yakin ingin menghapus ekstrakurikuler ini? Semua data terkait akan ikut terhapus.",itemName:c==null?void 0:c.name,isLoading:p.isPending})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 p-6",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"bg-orange-500/10 border border-orange-500/20 rounded-lg p-6",children:o.jsx("p",{className:"text-orange-400",children:"Tidak ada tahun akademik yang aktif. Silakan buat tahun akademik terlebih dahulu."})})})})})},WW=()=>{OA();const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[a,s]=x.useState(!1),[i,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(""),[h,m]=x.useState(""),[v,p]=x.useState(!1),[g,b]=x.useState(null),[y,w]=x.useState(null),{data:_}=$r(),j=_==null?void 0:_.find(Se=>Se.is_active),{data:S,isLoading:k,error:N}=r4e(),{data:E,isLoading:P,error:A}=n4e(),{data:O,isLoading:T,error:C}=jr(),{data:I,isLoading:$,error:M}=Xp(),{data:D,isLoading:F,error:z}=ZA(),{data:U,isLoading:R,error:B}=xn(),K=a4e();$W();const J=sq(),X=IW(),te=x.useMemo(()=>O?O.sort((Se,We)=>{const Ie=["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII"],Lr=Ie.indexOf(Se.level),Da=Ie.indexOf(We.level);return Lr!==Da?Lr-Da:Se.name.localeCompare(We.name)}):[],[O]),q=x.useMemo(()=>{if(console.log(" Filtering KBM subjects...",{matrixSubjectsCount:(S==null?void 0:S.length)||0,sessionCategoriesCount:(U==null?void 0:U.length)||0,timestamp:new Date().toISOString()}),!S||!U)return console.log(" Missing data for KBM filtering:",{hasMatrixSubjects:!!S,hasSessionCategories:!!U}),[];const Se=U.find(Ie=>Ie.name==="KBM");if(console.log(" KBM Category found:",{found:!!Se,category:Se?{id:Se.id,name:Se.name}:null,allCategories:U.map(Ie=>({id:Ie.id,name:Ie.name}))}),!Se)return console.log(" No KBM category found"),[];const We=S.filter(Ie=>Ie.session_category_id===Se.id);return console.log(" KBM subjects filtering result:",{totalMatrixSubjects:S.length,kbmCategoryId:Se.id,filteredCount:We.length,allSubjects:S.map(Ie=>({id:Ie.id,name:Ie.name,session_category_id:Ie.session_category_id,category_name:Ie.category_name})),filteredSubjects:We.map(Ie=>({id:Ie.id,name:Ie.name,session_category_id:Ie.session_category_id,category_name:Ie.category_name}))}),We},[S,U]),Q=x.useMemo(()=>["bg-purple-400/10 border-purple-400/20 text-purple-400","bg-orange-400/10 border-orange-400/20 text-orange-400","bg-blue-400/10 border-blue-400/20 text-blue-400","bg-green-400/10 border-green-400/20 text-green-400","bg-cyan-400/10 border-cyan-400/20 text-cyan-400","bg-pink-400/10 border-pink-400/20 text-pink-400","bg-yellow-400/10 border-yellow-400/20 text-yellow-400","bg-red-400/10 border-red-400/20 text-red-400"],[]),ie=x.useMemo(()=>["bg-orange-400/10 border-orange-400/20 text-orange-400","bg-amber-400/10 border-amber-400/20 text-amber-400","bg-yellow-400/10 border-yellow-400/20 text-yellow-400","bg-lime-400/10 border-lime-400/20 text-lime-400","bg-emerald-400/10 border-emerald-400/20 text-emerald-400","bg-teal-400/10 border-teal-400/20 text-teal-400","bg-cyan-400/10 border-cyan-400/20 text-cyan-400","bg-sky-400/10 border-sky-400/20 text-sky-400"],[]);x.useMemo(()=>Se=>Q[Se%Q.length],[Q]),x.useMemo(()=>Se=>ie[Se%ie.length],[ie]);const de=x.useMemo(()=>{if(!E)return()=>{};const Se=new Map;return E.forEach(We=>{const Ie=`${We.subject_id}-${We.class_id}`;Se.set(Ie,We)}),(We,Ie)=>Se.get(`${We}-${Ie}`)},[E]);x.useMemo(()=>{if(!D)return()=>{};const Se=new Map;return D.forEach(We=>{const Ie=`${We.extracurricular_id}-${We.class_id}`;Se.set(Ie,We)}),(We,Ie)=>Se.get(`${We}-${Ie}`)},[D]);const ee=(Se,We)=>{de(Se.id,We.id)||K.mutate({subject_id:Se.id,class_id:We.id,hours_per_year:72})},Z=(Se,We,Ie)=>{u(Se),f(We),m(Ie),p(!1),s(!0)},Y=Se=>{confirm("Apakah Anda yakin ingin menghapus assignment ini?")&&X.mutate(Se.id)},ne=(Se,We,Ie)=>{u(Se),f(We),m(Ie),p(!0),s(!0)},fe=Se=>{b(Se),t(!0)},ve=Se=>{w(Se),l(!0)},be=()=>{y&&(J.mutate(y.id),w(null))},je=Se=>{t(Se),Se||b(null)},dt=N||A||C||M||z||B,pt=k||P||T||$||F||R;return dt?(console.error("Errors in SubjectsContentPage:",{matrixSubjectsError:N,matrixClassSubjectsError:A,classesError:C,extracurricularsError:M,extracurricularClassesError:z,sessionCategoriesError:B}),o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-foreground",children:[o.jsx("h2",{className:"text-xl mb-4",children:" Error Loading Data"}),o.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[N&&o.jsxs("p",{children:["Matrix Subjects: ",N.message]}),A&&o.jsxs("p",{children:["Matrix Class Subjects: ",A.message]}),C&&o.jsxs("p",{children:["Classes: ",C.message]}),B&&o.jsxs("p",{children:["Session Categories: ",B.message]}),M&&o.jsxs("p",{children:["Extracurriculars: ",M.message]})]})]})})):pt?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsx("div",{className:"text-foreground",children:"Memuat data..."})}):o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[o.jsx("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:o.jsxs("div",{children:[o.jsx("div",{className:"flex items-center space-x-4 mb-2",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ir,{className:"h-8 w-8 text-lime-400"}),o.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Mata Pelajaran"})]})}),o.jsx("p",{className:"text-muted-foreground",children:"Kelola penugasan mata pelajaran untuk setiap kelas"})]})}),o.jsxs(Rc,{defaultValue:"subjects",className:"w-full",children:[o.jsxs(Xo,{className:"bg-muted/30 border-border/30",children:[o.jsxs(Yr,{value:"subjects",className:"data-[state=active]:bg-lime-400/20 data-[state=active]:text-lime-400",children:[o.jsx(ir,{className:"mr-2 h-4 w-4"}),"Mata Pelajaran"]}),o.jsxs(Yr,{value:"extracurriculars",className:"data-[state=active]:bg-orange-400/20 data-[state=active]:text-orange-400",children:[o.jsx(J5,{className:"mr-2 h-4 w-4"}),"Ekstrakurikuler"]})]}),o.jsxs(Jr,{value:"subjects",className:"bg-transparent",children:[o.jsx("div",{className:"flex justify-end",children:o.jsxs(V,{onClick:()=>t(!0),className:"bg-lime-500 hover:bg-lime-600 text-gray-900 font-semibold shadow-lg transition-all duration-300 transform hover:scale-105",children:[o.jsx(mt,{className:"mr-2 h-5 w-5"}),"Tambah Mata Pelajaran"]})}),o.jsx(le,{className:"bg-card backdrop-blur-sm border-border",children:o.jsx(ce,{className:"p-6",children:te.length===0?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(vr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Belum ada kelas"}),o.jsx("p",{className:"text-muted-foreground",children:"Silakan tambah kelas terlebih dahulu di menu Kelas"})]}):o.jsx(f4e,{subjects:q||[],extracurriculars:[],sortedClasses:te,getSubjectColor:()=>"",getClassSubject:de,handleAddSubjectToClass:ee,handleEditAssignment:Z,handleDeleteAssignment:Y,createClassSubject:K,onAddSubject:()=>t(!0),onAddExtracurricular:()=>{},onEditSubject:fe,onDeleteSubject:ve})})})]}),o.jsxs(Jr,{value:"extracurriculars",className:"space-y-4",children:[o.jsx("div",{className:"flex justify-end",children:o.jsxs(V,{onClick:()=>n(!0),className:"bg-orange-500 hover:bg-orange-600 text-gray-900 font-semibold shadow-lg transition-all duration-300 transform hover:scale-105",children:[o.jsx(mt,{className:"mr-2 h-5 w-5"}),"Tambah Ekstrakurikuler"]})}),o.jsx(le,{className:"bg-card backdrop-blur-sm border-border",children:o.jsx(ce,{className:"p-6",children:te.length===0?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(vr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Belum ada kelas"}),o.jsx("p",{className:"text-muted-foreground",children:"Silakan tambah kelas terlebih dahulu di menu Kelas"})]}):o.jsx(h4e,{activeAcademicYear:j,onEditAssignment:ne})})})]})]}),o.jsx(FW,{open:e,onOpenChange:je,editingSubject:g}),o.jsx(BW,{open:r,onOpenChange:n}),o.jsx(d4e,{open:a,onOpenChange:s,assignment:c,subjectName:d,className:h,isExtracurricular:v,isMatrixAssignment:!0}),o.jsx(qW,{open:i,onOpenChange:l,onConfirm:be,title:"Hapus Mata Pelajaran",description:"Apakah Anda yakin ingin menghapus mata pelajaran ini? Semua data terkait akan ikut terhapus.",itemName:y==null?void 0:y.name,isLoading:J.isPending})]})})};var ew,De,KW,GW,rf,yl,kI,VW,QW,Pb={},YW=[],m4e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function lo(e,t){for(var r in t)e[r]=t[r];return e}function JW(e){var t=e.parentNode;t&&t.removeChild(e)}function H(e,t,r){var n,a,s,i={};for(s in t)s=="key"?n=t[s]:s=="ref"?a=t[s]:i[s]=t[s];if(arguments.length>2&&(i.children=arguments.length>3?ew.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)i[s]===void 0&&(i[s]=e.defaultProps[s]);return Iv(e,i,n,a,null)}function Iv(e,t,r,n,a){var s={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a??++KW};return a==null&&De.vnode!=null&&De.vnode(s),s}function pn(){return{current:null}}function It(e){return e.children}function p4e(e,t,r,n,a){var s;for(s in r)s==="children"||s==="key"||s in t||Tb(e,s,null,r[s],n);for(s in t)a&&typeof t[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===t[s]||Tb(e,s,t[s],r[s],n)}function NI(e,t,r){t[0]==="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||m4e.test(t)?r:r+"px"}function Tb(e,t,r,n,a){var s;e:if(t==="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||NI(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||NI(e.style,t,r[t])}else if(t[0]==="o"&&t[1]==="n")s=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=r,r?n||e.addEventListener(t,s?CI:EI,s):e.removeEventListener(t,s?CI:EI,s);else if(t!=="dangerouslySetInnerHTML"){if(a)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t.indexOf("-")==-1?e.removeAttribute(t):e.setAttribute(t,r))}}function EI(e){rf=!0;try{return this.l[e.type+!1](De.event?De.event(e):e)}finally{rf=!1}}function CI(e){rf=!0;try{return this.l[e.type+!0](De.event?De.event(e):e)}finally{rf=!1}}function ra(e,t){this.props=e,this.context=t}function sp(e,t){if(t==null)return e.__?sp(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?sp(e):null}function XW(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return XW(e)}}function g4e(e){rf?setTimeout(e):VW(e)}function Wk(e){(!e.__d&&(e.__d=!0)&&yl.push(e)&&!Db.__r++||kI!==De.debounceRendering)&&((kI=De.debounceRendering)||g4e)(Db)}function Db(){var e,t,r,n,a,s,i,l;for(yl.sort(function(c,u){return c.__v.__b-u.__v.__b});e=yl.shift();)e.__d&&(t=yl.length,n=void 0,a=void 0,i=(s=(r=e).__v).__e,(l=r.__P)&&(n=[],(a=lo({},s)).__v=s.__v+1,eP(l,s,a,r.__n,l.ownerSVGElement!==void 0,s.__h!=null?[i]:null,n,i??sp(s),s.__h),nK(n,s),s.__e!=i&&XW(s)),yl.length>t&&yl.sort(function(c,u){return c.__v.__b-u.__v.__b}));Db.__r=0}function ZW(e,t,r,n,a,s,i,l,c,u){var d,f,h,m,v,p,g,b=n&&n.__k||YW,y=b.length;for(r.__k=[],d=0;d<t.length;d++)if((m=r.__k[d]=(m=t[d])==null||typeof m=="boolean"?null:typeof m=="string"||typeof m=="number"||typeof m=="bigint"?Iv(null,m,null,null,m):Array.isArray(m)?Iv(It,{children:m},null,null,null):m.__b>0?Iv(m.type,m.props,m.key,m.ref?m.ref:null,m.__v):m)!=null){if(m.__=r,m.__b=r.__b+1,(h=b[d])===null||h&&m.key==h.key&&m.type===h.type)b[d]=void 0;else for(f=0;f<y;f++){if((h=b[f])&&m.key==h.key&&m.type===h.type){b[f]=void 0;break}h=null}eP(e,m,h=h||Pb,a,s,i,l,c,u),v=m.__e,(f=m.ref)&&h.ref!=f&&(g||(g=[]),h.ref&&g.push(h.ref,null,m),g.push(f,m.__c||v,m)),v!=null?(p==null&&(p=v),typeof m.type=="function"&&m.__k===h.__k?m.__d=c=eK(m,c,e):c=tK(e,m,h,b,v,c),typeof r.type=="function"&&(r.__d=c)):c&&h.__e==c&&c.parentNode!=e&&(c=sp(h))}for(r.__e=p,d=y;d--;)b[d]!=null&&(typeof r.type=="function"&&b[d].__e!=null&&b[d].__e==r.__d&&(r.__d=rK(n).nextSibling),sK(b[d],b[d]));if(g)for(d=0;d<g.length;d++)aK(g[d],g[++d],g[++d])}function eK(e,t,r){for(var n,a=e.__k,s=0;a&&s<a.length;s++)(n=a[s])&&(n.__=e,t=typeof n.type=="function"?eK(n,t,r):tK(r,n,n,a,n.__e,t));return t}function Mb(e,t){return t=t||[],e==null||typeof e=="boolean"||(Array.isArray(e)?e.some(function(r){Mb(r,t)}):t.push(e)),t}function tK(e,t,r,n,a,s){var i,l,c;if(t.__d!==void 0)i=t.__d,t.__d=void 0;else if(r==null||a!=s||a.parentNode==null)e:if(s==null||s.parentNode!==e)e.appendChild(a),i=null;else{for(l=s,c=0;(l=l.nextSibling)&&c<n.length;c+=1)if(l==a)break e;e.insertBefore(a,s),i=s}return i!==void 0?i:a.nextSibling}function rK(e){var t,r,n;if(e.type==null||typeof e.type=="string")return e.__e;if(e.__k){for(t=e.__k.length-1;t>=0;t--)if((r=e.__k[t])&&(n=rK(r)))return n}return null}function eP(e,t,r,n,a,s,i,l,c){var u,d,f,h,m,v,p,g,b,y,w,_,j,S,k,N=t.type;if(t.constructor!==void 0)return null;r.__h!=null&&(c=r.__h,l=t.__e=r.__e,t.__h=null,s=[l]),(u=De.__b)&&u(t);try{e:if(typeof N=="function"){if(g=t.props,b=(u=N.contextType)&&n[u.__c],y=u?b?b.props.value:u.__:n,r.__c?p=(d=t.__c=r.__c).__=d.__E:("prototype"in N&&N.prototype.render?t.__c=d=new N(g,y):(t.__c=d=new ra(g,y),d.constructor=N,d.render=y4e),b&&b.sub(d),d.props=g,d.state||(d.state={}),d.context=y,d.__n=n,f=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),N.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=lo({},d.__s)),lo(d.__s,N.getDerivedStateFromProps(g,d.__s))),h=d.props,m=d.state,d.__v=t,f)N.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(N.getDerivedStateFromProps==null&&g!==h&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(g,y),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(g,d.__s,y)===!1||t.__v===r.__v){for(t.__v!==r.__v&&(d.props=g,d.state=d.__s,d.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(E){E&&(E.__=t)}),w=0;w<d._sb.length;w++)d.__h.push(d._sb[w]);d._sb=[],d.__h.length&&i.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(g,d.__s,y),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(h,m,v)})}if(d.context=y,d.props=g,d.__P=e,_=De.__r,j=0,"prototype"in N&&N.prototype.render){for(d.state=d.__s,d.__d=!1,_&&_(t),u=d.render(d.props,d.state,d.context),S=0;S<d._sb.length;S++)d.__h.push(d._sb[S]);d._sb=[]}else do d.__d=!1,_&&_(t),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++j<25);d.state=d.__s,d.getChildContext!=null&&(n=lo(lo({},n),d.getChildContext())),f||d.getSnapshotBeforeUpdate==null||(v=d.getSnapshotBeforeUpdate(h,m)),k=u!=null&&u.type===It&&u.key==null?u.props.children:u,ZW(e,Array.isArray(k)?k:[k],t,r,n,a,s,i,l,c),d.base=t.__e,t.__h=null,d.__h.length&&i.push(d),p&&(d.__E=d.__=null),d.__e=!1}else s==null&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=v4e(r.__e,t,r,n,a,s,i,c);(u=De.diffed)&&u(t)}catch(E){t.__v=null,(c||s!=null)&&(t.__e=l,t.__h=!!c,s[s.indexOf(l)]=null),De.__e(E,t,r)}}function nK(e,t){De.__c&&De.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(n){n.call(r)})}catch(n){De.__e(n,r.__v)}})}function v4e(e,t,r,n,a,s,i,l){var c,u,d,f=r.props,h=t.props,m=t.type,v=0;if(m==="svg"&&(a=!0),s!=null){for(;v<s.length;v++)if((c=s[v])&&"setAttribute"in c==!!m&&(m?c.localName===m:c.nodeType===3)){e=c,s[v]=null;break}}if(e==null){if(m===null)return document.createTextNode(h);e=a?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,h.is&&h),s=null,l=!1}if(m===null)f===h||l&&e.data===h||(e.data=h);else{if(s=s&&ew.call(e.childNodes),u=(f=r.props||Pb).dangerouslySetInnerHTML,d=h.dangerouslySetInnerHTML,!l){if(s!=null)for(f={},v=0;v<e.attributes.length;v++)f[e.attributes[v].name]=e.attributes[v].value;(d||u)&&(d&&(u&&d.__html==u.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}if(p4e(e,h,f,a,l),d)t.__k=[];else if(v=t.props.children,ZW(e,Array.isArray(v)?v:[v],t,r,n,a&&m!=="foreignObject",s,i,s?s[0]:r.__k&&sp(r,0),l),s!=null)for(v=s.length;v--;)s[v]!=null&&JW(s[v]);l||("value"in h&&(v=h.value)!==void 0&&(v!==e.value||m==="progress"&&!v||m==="option"&&v!==f.value)&&Tb(e,"value",v,f.value,!1),"checked"in h&&(v=h.checked)!==void 0&&v!==e.checked&&Tb(e,"checked",v,f.checked,!1))}return e}function aK(e,t,r){try{typeof e=="function"?e(t):e.current=t}catch(n){De.__e(n,r)}}function sK(e,t,r){var n,a;if(De.unmount&&De.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||aK(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){De.__e(s,t)}n.base=n.__P=null,e.__c=void 0}if(n=e.__k)for(a=0;a<n.length;a++)n[a]&&sK(n[a],t,r||typeof e.type!="function");r||e.__e==null||JW(e.__e),e.__=e.__e=e.__d=void 0}function y4e(e,t,r){return this.constructor(e,r)}function ip(e,t,r){var n,a,s;De.__&&De.__(e,t),a=(n=typeof r=="function")?null:t.__k,s=[],eP(t,e=(!n&&r||t).__k=H(It,null,[e]),a||Pb,Pb,t.ownerSVGElement!==void 0,!n&&r?[r]:a?null:t.firstChild?ew.call(t.childNodes):null,s,!n&&r?r:a?a.__e:t.firstChild,n),nK(s,e)}function b4e(e,t){var r={__c:t="__cC"+QW++,__:e,Consumer:function(n,a){return n.children(a)},Provider:function(n){var a,s;return this.getChildContext||(a=[],(s={})[t]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(i){this.props.value!==i.value&&a.some(function(l){l.__e=!0,Wk(l)})},this.sub=function(i){a.push(i);var l=i.componentWillUnmount;i.componentWillUnmount=function(){a.splice(a.indexOf(i),1),l&&l.call(i)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}ew=YW.slice,De={__e:function(e,t,r,n){for(var a,s,i;t=t.__;)if((a=t.__c)&&!a.__)try{if((s=a.constructor)&&s.getDerivedStateFromError!=null&&(a.setState(s.getDerivedStateFromError(e)),i=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(e,n||{}),i=a.__d),i)return a.__E=a}catch(l){e=l}throw e}},KW=0,GW=function(e){return e!=null&&e.constructor===void 0},rf=!1,ra.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=lo({},this.state),typeof e=="function"&&(e=e(lo({},r),this.props)),e&&lo(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),Wk(this))},ra.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Wk(this))},ra.prototype.render=It,yl=[],VW=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Db.__r=0,QW=0;var gs,Z_,AI,iK=[],ej=[],PI=De.__b,TI=De.__r,DI=De.diffed,MI=De.__c,OI=De.unmount;function x4e(){for(var e;e=iK.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach($v),e.__H.__h.forEach(Kk),e.__H.__h=[]}catch(t){e.__H.__h=[],De.__e(t,e.__v)}}De.__b=function(e){gs=null,PI&&PI(e)},De.__r=function(e){TI&&TI(e);var t=(gs=e.__c).__H;t&&(Z_===gs?(t.__h=[],gs.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=ej,r.__N=r.i=void 0})):(t.__h.forEach($v),t.__h.forEach(Kk),t.__h=[])),Z_=gs},De.diffed=function(e){DI&&DI(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(iK.push(t)!==1&&AI===De.requestAnimationFrame||((AI=De.requestAnimationFrame)||w4e)(x4e)),t.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==ej&&(r.__=r.__V),r.i=void 0,r.__V=ej})),Z_=gs=null},De.__c=function(e,t){t.some(function(r){try{r.__h.forEach($v),r.__h=r.__h.filter(function(n){return!n.__||Kk(n)})}catch(n){t.some(function(a){a.__h&&(a.__h=[])}),t=[],De.__e(n,r.__v)}}),MI&&MI(e,t)},De.unmount=function(e){OI&&OI(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{$v(n)}catch(a){t=a}}),r.__H=void 0,t&&De.__e(t,r.__v))};var RI=typeof requestAnimationFrame=="function";function w4e(e){var t,r=function(){clearTimeout(n),RI&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);RI&&(t=requestAnimationFrame(r))}function $v(e){var t=gs,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),gs=t}function Kk(e){var t=gs;e.__c=e.__(),gs=t}function _4e(e,t){for(var r in t)e[r]=t[r];return e}function II(e,t){for(var r in e)if(r!=="__source"&&!(r in t))return!0;for(var n in t)if(n!=="__source"&&e[n]!==t[n])return!0;return!1}function $I(e){this.props=e}($I.prototype=new ra).isPureReactComponent=!0,$I.prototype.shouldComponentUpdate=function(e,t){return II(this.props,e)||II(this.state,t)};var LI=De.__b;De.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),LI&&LI(e)};var j4e=De.__e;De.__e=function(e,t,r,n){if(e.then){for(var a,s=t;s=s.__;)if((a=s.__c)&&a.__c)return t.__e==null&&(t.__e=r.__e,t.__k=r.__k),a.__c(e,t)}j4e(e,t,r,n)};var FI=De.unmount;function oK(e,t,r){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),e.__c.__H=null),(e=_4e({},e)).__c!=null&&(e.__c.__P===r&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(n){return oK(n,t,r)})),e}function lK(e,t,r){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(n){return lK(n,t,r)}),e.__c&&e.__c.__P===t&&(e.__e&&r.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=r)),e}function tj(){this.__u=0,this.t=null,this.__b=null}function cK(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function rv(){this.u=null,this.o=null}De.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&e.__h===!0&&(e.type=null),FI&&FI(e)},(tj.prototype=new ra).__c=function(e,t){var r=t.__c,n=this;n.t==null&&(n.t=[]),n.t.push(r);var a=cK(n.__v),s=!1,i=function(){s||(s=!0,r.__R=null,a?a(l):l())};r.__R=i;var l=function(){if(!--n.__u){if(n.state.__a){var u=n.state.__a;n.__v.__k[0]=lK(u,u.__c.__P,u.__c.__O)}var d;for(n.setState({__a:n.__b=null});d=n.t.pop();)d.forceUpdate()}},c=t.__h===!0;n.__u++||c||n.setState({__a:n.__b=n.__v.__k[0]}),e.then(i,i)},tj.prototype.componentWillUnmount=function(){this.t=[]},tj.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=oK(this.__b,r,n.__O=n.__P)}this.__b=null}var a=t.__a&&H(It,null,e.fallback);return a&&(a.__h=null),[H(It,null,t.__a?null:e.children),a]};var BI=function(e,t,r){if(++r[1]===r[0]&&e.o.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.o.size))for(r=e.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.u=r=r[2]}};function S4e(e){return this.getChildContext=function(){return e.context},e.children}function k4e(e){var t=this,r=e.i;t.componentWillUnmount=function(){ip(null,t.l),t.l=null,t.i=null},t.i&&t.i!==r&&t.componentWillUnmount(),e.__v?(t.l||(t.i=r,t.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,a){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),ip(H(S4e,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function N4e(e,t){var r=H(k4e,{__v:e,i:t});return r.containerInfo=t,r}(rv.prototype=new ra).__a=function(e){var t=this,r=cK(t.__v),n=t.o.get(e);return n[0]++,function(a){var s=function(){t.props.revealOrder?(n.push(a),BI(t,e,n)):a()};r?r(s):s()}},rv.prototype.render=function(e){this.u=null,this.o=new Map;var t=Mb(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var r=t.length;r--;)this.o.set(t[r],this.u=[1,0,this.u]);return e.children},rv.prototype.componentDidUpdate=rv.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,r){BI(e,r,t)})};var E4e=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,C4e=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,A4e=typeof document<"u",P4e=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(e)};ra.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(ra.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var zI=De.event;function T4e(){}function D4e(){return this.cancelBubble}function M4e(){return this.defaultPrevented}De.event=function(e){return zI&&(e=zI(e)),e.persist=T4e,e.isPropagationStopped=D4e,e.isDefaultPrevented=M4e,e.nativeEvent=e};var UI={configurable:!0,get:function(){return this.class}},HI=De.vnode;De.vnode=function(e){var t=e.type,r=e.props,n=r;if(typeof t=="string"){var a=t.indexOf("-")===-1;for(var s in n={},r){var i=r[s];A4e&&s==="children"&&t==="noscript"||s==="value"&&"defaultValue"in r&&i==null||(s==="defaultValue"&&"value"in r&&r.value==null?s="value":s==="download"&&i===!0?i="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+t)&&!P4e(r.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():a&&C4e.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():i===null&&(i=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),n[s]&&(s="oninputCapture")),n[s]=i)}t=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=Mb(r.children).forEach(function(l){l.props.selected=n.value.indexOf(l.props.value)!=-1})),t=="select"&&n.defaultValue!=null&&(n.value=Mb(r.children).forEach(function(l){l.props.selected=n.multiple?n.defaultValue.indexOf(l.props.value)!=-1:n.defaultValue==l.props.value})),e.props=n,r.class!=r.className&&(UI.enumerable="className"in r,r.className!=null&&(n.class=r.className),Object.defineProperty(n,"className",UI))}e.$$typeof=E4e,HI&&HI(e)};var qI=De.__r;De.__r=function(e){qI&&qI(e),e.__c};const uK=[],Gk=new Map;function tP(e){uK.push(e),Gk.forEach(t=>{fK(t,e)})}function O4e(e){e.isConnected&&e.getRootNode&&dK(e.getRootNode())}function dK(e){let t=Gk.get(e);if(!t||!t.isConnected){if(t=e.querySelector("style[data-fullcalendar]"),!t){t=document.createElement("style"),t.setAttribute("data-fullcalendar","");const r=I4e();r&&(t.nonce=r);const n=e===document?document.head:e,a=e===document?n.querySelector("script,link[rel=stylesheet],link[as=style],style"):n.firstChild;n.insertBefore(t,a)}Gk.set(e,t),R4e(t)}}function R4e(e){for(const t of uK)fK(e,t)}function fK(e,t){const{sheet:r}=e,n=r.cssRules.length;t.split("}").forEach((a,s)=>{a=a.trim(),a&&r.insertRule(a+"}",n+s)})}let rj;function I4e(){return rj===void 0&&(rj=$4e()),rj}function $4e(){const e=document.querySelector('meta[name="csp-nonce"]');if(e&&e.hasAttribute("content"))return e.getAttribute("content");const t=document.querySelector("script[nonce]");return t&&t.nonce||""}typeof document<"u"&&dK(document);var L4e=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';tP(L4e);class rP{constructor(t){this.drainedOption=t,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(t){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),t==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),t))}pause(t=""){let{pauseDepths:r}=this;r[t]=(r[t]||0)+1,this.clearTimeout()}resume(t="",r){let{pauseDepths:n}=this;t in n&&(r?delete n[t]:(n[t]-=1,n[t]<=0&&delete n[t]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function nP(e){e.parentNode&&e.parentNode.removeChild(e)}function Vr(e,t){if(e.closest)return e.closest(t);if(!document.documentElement.contains(e))return null;do{if(hK(e,t))return e;e=e.parentElement||e.parentNode}while(e!==null&&e.nodeType===1);return null}function hK(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector).call(e,t)}function F4e(e,t){let r=e instanceof HTMLElement?[e]:e,n=[];for(let a=0;a<r.length;a+=1){let s=r[a].querySelectorAll(t);for(let i=0;i<s.length;i+=1)n.push(s[i])}return n}const B4e=/(top|left|right|bottom|width|height)$/i;function Vh(e,t){for(let r in t)mK(e,r,t[r])}function mK(e,t,r){r==null?e.style[t]="":typeof r=="number"&&B4e.test(t)?e.style[t]=`${r}px`:e.style[t]=r}function pK(e){var t,r;return(r=(t=e.composedPath)===null||t===void 0?void 0:t.call(e)[0])!==null&&r!==void 0?r:e.target}let WI=0;function tw(){return WI+=1,"fc-dom-"+WI}function rw(e){e.preventDefault()}function z4e(e,t){return r=>{let n=Vr(r.target,e);n&&t.call(n,r,n)}}function gK(e,t,r,n){let a=z4e(r,n);return e.addEventListener(t,a),()=>{e.removeEventListener(t,a)}}function U4e(e,t,r,n){let a;return gK(e,"mouseover",t,(s,i)=>{if(i!==a){a=i,r(s,i);let l=c=>{a=null,n(c,i),i.removeEventListener("mouseleave",l)};i.addEventListener("mouseleave",l)}})}const KI=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function H4e(e,t){let r=n=>{t(n),KI.forEach(a=>{e.removeEventListener(a,r)})};KI.forEach(n=>{e.addEventListener(n,r)})}function vK(e){return Object.assign({onClick:e},yK(e))}function yK(e){return{tabIndex:0,onKeyDown(t){(t.key==="Enter"||t.key===" ")&&(e(t),t.preventDefault())}}}let GI=0;function Ic(){return GI+=1,String(GI)}function nw(){document.body.classList.add("fc-not-allowed")}function aw(){document.body.classList.remove("fc-not-allowed")}function q4e(e){e.style.userSelect="none",e.style.webkitUserSelect="none",e.addEventListener("selectstart",rw)}function W4e(e){e.style.userSelect="",e.style.webkitUserSelect="",e.removeEventListener("selectstart",rw)}function K4e(e){e.addEventListener("contextmenu",rw)}function G4e(e){e.removeEventListener("contextmenu",rw)}function V4e(e){let t=[],r=[],n,a;for(typeof e=="string"?r=e.split(/\s*,\s*/):typeof e=="function"?r=[e]:Array.isArray(e)&&(r=e),n=0;n<r.length;n+=1)a=r[n],typeof a=="string"?t.push(a.charAt(0)==="-"?{field:a.substring(1),order:-1}:{field:a,order:1}):typeof a=="function"&&t.push({func:a});return t}function Q4e(e,t,r){let n,a;for(n=0;n<r.length;n+=1)if(a=Y4e(e,t,r[n]),a)return a;return 0}function Y4e(e,t,r){return r.func?r.func(e,t):J4e(e[r.field],t[r.field])*(r.order||1)}function J4e(e,t){return!e&&!t?0:t==null?-1:e==null?1:typeof e=="string"||typeof t=="string"?String(e).localeCompare(String(t)):e-t}function Vu(e,t){let r=String(e);return"000".substr(0,t-r.length)+r}function Qh(e,t,r){return typeof e=="function"?e(...t):typeof e=="string"?t.reduce((n,a,s)=>n.replace("$"+s,a||""),e):r}function X4e(e,t){return e-t}function Lv(e){return e%1===0}function Z4e(e){let t=e.querySelector(".fc-scrollgrid-shrink-frame"),r=e.querySelector(".fc-scrollgrid-shrink-cushion");if(!t)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!r)throw new Error("needs fc-scrollgrid-shrink-cushion className");return e.getBoundingClientRect().width-t.getBoundingClientRect().width+r.getBoundingClientRect().width}const VI=["years","months","days","milliseconds"],e3e=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function at(e,t){return typeof e=="string"?t3e(e):typeof e=="object"&&e?QI(e):typeof e=="number"?QI({[t||"milliseconds"]:e}):null}function t3e(e){let t=e3e.exec(e);if(t){let r=t[1]?-1:1;return{years:0,months:0,days:r*(t[2]?parseInt(t[2],10):0),milliseconds:r*((t[3]?parseInt(t[3],10):0)*60*60*1e3+(t[4]?parseInt(t[4],10):0)*60*1e3+(t[5]?parseInt(t[5],10):0)*1e3+(t[6]?parseInt(t[6],10):0))}}return null}function QI(e){let t={years:e.years||e.year||0,months:e.months||e.month||0,days:e.days||e.day||0,milliseconds:(e.hours||e.hour||0)*60*60*1e3+(e.minutes||e.minute||0)*60*1e3+(e.seconds||e.second||0)*1e3+(e.milliseconds||e.millisecond||e.ms||0)},r=e.weeks||e.week;return r&&(t.days+=r*7,t.specifiedWeeks=!0),t}function r3e(e,t){return e.years===t.years&&e.months===t.months&&e.days===t.days&&e.milliseconds===t.milliseconds}function Vk(e,t){return{years:e.years+t.years,months:e.months+t.months,days:e.days+t.days,milliseconds:e.milliseconds+t.milliseconds}}function n3e(e,t){return{years:e.years-t.years,months:e.months-t.months,days:e.days-t.days,milliseconds:e.milliseconds-t.milliseconds}}function a3e(e,t){return{years:e.years*t,months:e.months*t,days:e.days*t,milliseconds:e.milliseconds*t}}function s3e(e){return Qu(e)/365}function i3e(e){return Qu(e)/30}function Qu(e){return Wa(e)/864e5}function Wa(e){return e.years*(365*864e5)+e.months*(30*864e5)+e.days*864e5+e.milliseconds}function aP(e,t){let r=null;for(let n=0;n<VI.length;n+=1){let a=VI[n];if(t[a]){let s=e[a]/t[a];if(!Lv(s)||r!==null&&r!==s)return null;r=s}else if(e[a])return null}return r}function Qk(e){let t=e.milliseconds;if(t){if(t%1e3!==0)return{unit:"millisecond",value:t};if(t%(1e3*60)!==0)return{unit:"second",value:t/1e3};if(t%(1e3*60*60)!==0)return{unit:"minute",value:t/(1e3*60)};if(t)return{unit:"hour",value:t/(1e3*60*60)}}return e.days?e.specifiedWeeks&&e.days%7===0?{unit:"week",value:e.days/7}:{unit:"day",value:e.days}:e.months?{unit:"month",value:e.months}:e.years?{unit:"year",value:e.years}:{unit:"millisecond",value:0}}function Io(e,t,r){if(e===t)return!0;let n=e.length,a;if(n!==t.length)return!1;for(a=0;a<n;a+=1)if(!(r?r(e[a],t[a]):e[a]===t[a]))return!1;return!0}const o3e=["sun","mon","tue","wed","thu","fri","sat"];function YI(e,t){let r=co(e);return r[2]+=t*7,Dn(r)}function Xr(e,t){let r=co(e);return r[2]+=t,Dn(r)}function $o(e,t){let r=co(e);return r[6]+=t,Dn(r)}function l3e(e,t){return $c(e,t)/7}function $c(e,t){return(t.valueOf()-e.valueOf())/(1e3*60*60*24)}function c3e(e,t){return(t.valueOf()-e.valueOf())/(1e3*60*60)}function u3e(e,t){return(t.valueOf()-e.valueOf())/(1e3*60)}function d3e(e,t){return(t.valueOf()-e.valueOf())/1e3}function f3e(e,t){let r=Lt(e),n=Lt(t);return{years:0,months:0,days:Math.round($c(r,n)),milliseconds:t.valueOf()-n.valueOf()-(e.valueOf()-r.valueOf())}}function h3e(e,t){let r=Ob(e,t);return r!==null&&r%7===0?r/7:null}function Ob(e,t){return uo(e)===uo(t)?Math.round($c(e,t)):null}function Lt(e){return Dn([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()])}function m3e(e){return Dn([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours()])}function p3e(e){return Dn([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes()])}function g3e(e){return Dn([e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()])}function v3e(e,t,r){let n=e.getUTCFullYear(),a=nj(e,n,t,r);if(a<1)return nj(e,n-1,t,r);let s=nj(e,n+1,t,r);return s>=1?Math.min(a,s):a}function nj(e,t,r,n){let a=Dn([t,0,1+y3e(t,r,n)]),s=Lt(e),i=Math.round($c(a,s));return Math.floor(i/7)+1}function y3e(e,t,r){let n=7+t-r;return-((7+Dn([e,0,n]).getUTCDay()-t)%7)+n-1}function JI(e){return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]}function XI(e){return new Date(e[0],e[1]||0,e[2]==null?1:e[2],e[3]||0,e[4]||0,e[5]||0)}function co(e){return[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()]}function Dn(e){return e.length===1&&(e=e.concat([0])),new Date(Date.UTC(...e))}function bK(e){return!isNaN(e.valueOf())}function uo(e){return e.getUTCHours()*1e3*60*60+e.getUTCMinutes()*1e3*60+e.getUTCSeconds()*1e3+e.getUTCMilliseconds()}function xK(e,t,r=!1){let n=e.toISOString();return n=n.replace(".000",""),r&&(n=n.replace("T00:00:00Z","")),n.length>10&&(t==null?n=n.replace("Z",""):t!==0&&(n=n.replace("Z",iP(t,!0)))),n}function sP(e){return e.toISOString().replace(/T.*$/,"")}function b3e(e){return e.toISOString().match(/^\d{4}-\d{2}/)[0]}function x3e(e){return Vu(e.getUTCHours(),2)+":"+Vu(e.getUTCMinutes(),2)+":"+Vu(e.getUTCSeconds(),2)}function iP(e,t=!1){let r=e<0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),s=Math.round(n%60);return t?`${r+Vu(a,2)}:${Vu(s,2)}`:`GMT${r}${a}${s?`:${Vu(s,2)}`:""}`}function Re(e,t,r){let n,a;return function(...s){if(!n)a=e.apply(this,s);else if(!Io(n,s)){let i=e.apply(this,s);(!t||!t(i,a))&&(a=i)}return n=s,a}}function Fv(e,t,r){let n,a;return s=>(n?Ts(n,s)||(a=e.call(this,s)):a=e.call(this,s),n=s,a)}const aj={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},Rb={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},nv=/\s*([ap])\.?m\.?/i,w3e=/,/g,_3e=/\s+/g,j3e=/\u200e/g,S3e=/UTC|GMT/;class k3e{constructor(t){let r={},n={},a=9;for(let s in t)s in aj?(n[s]=t[s],aj[s]<9&&(a=Math.min(aj[s],a))):(r[s]=t[s],s in Rb&&(a=Math.min(Rb[s],a)));this.standardDateProps=r,this.extendedSettings=n,this.smallestUnitNum=a,this.buildFormattingFunc=Re(ZI)}format(t,r){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,r)(t)}formatRange(t,r,n,a){let{standardDateProps:s,extendedSettings:i}=this,l=T3e(t.marker,r.marker,n.calendarSystem);if(!l)return this.format(t,n);let c=l;c>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(c=1);let u=this.format(t,n),d=this.format(r,n);if(u===d)return u;let f=D3e(s,c),h=ZI(f,i,n),m=h(t),v=h(r),p=M3e(u,m,d,v),g=i.separator||a||n.defaultSeparator||"";return p?p.before+m+g+v+p.after:u+g+d}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function ZI(e,t,r){let n=Object.keys(e).length;return n===1&&e.timeZoneName==="short"?a=>iP(a.timeZoneOffset):n===0&&t.week?a=>P3e(r.computeWeekNumber(a.marker),r.weekText,r.weekTextLong,r.locale,t.week):N3e(e,t,r)}function N3e(e,t,r){e=Object.assign({},e),t=Object.assign({},t),E3e(e,t),e.timeZone="UTC";let n=new Intl.DateTimeFormat(r.locale.codes,e),a;if(t.omitZeroMinute){let s=Object.assign({},e);delete s.minute,a=new Intl.DateTimeFormat(r.locale.codes,s)}return s=>{let{marker:i}=s,l;a&&!i.getUTCMinutes()?l=a:l=n;let c=l.format(i);return C3e(c,s,e,t,r)}}function E3e(e,t){e.timeZoneName&&(e.hour||(e.hour="2-digit"),e.minute||(e.minute="2-digit")),e.timeZoneName==="long"&&(e.timeZoneName="short"),t.omitZeroMinute&&(e.second||e.millisecond)&&delete t.omitZeroMinute}function C3e(e,t,r,n,a){return e=e.replace(j3e,""),r.timeZoneName==="short"&&(e=A3e(e,a.timeZone==="UTC"||t.timeZoneOffset==null?"UTC":iP(t.timeZoneOffset))),n.omitCommas&&(e=e.replace(w3e,"").trim()),n.omitZeroMinute&&(e=e.replace(":00","")),n.meridiem===!1?e=e.replace(nv,"").trim():n.meridiem==="narrow"?e=e.replace(nv,(s,i)=>i.toLocaleLowerCase()):n.meridiem==="short"?e=e.replace(nv,(s,i)=>`${i.toLocaleLowerCase()}m`):n.meridiem==="lowercase"&&(e=e.replace(nv,s=>s.toLocaleLowerCase())),e=e.replace(_3e," "),e=e.trim(),e}function A3e(e,t){let r=!1;return e=e.replace(S3e,()=>(r=!0,t)),r||(e+=` ${t}`),e}function P3e(e,t,r,n,a){let s=[];return a==="long"?s.push(r):(a==="short"||a==="narrow")&&s.push(t),(a==="long"||a==="short")&&s.push(" "),s.push(n.simpleNumberFormat.format(e)),n.options.direction==="rtl"&&s.reverse(),s.join("")}function T3e(e,t,r){return r.getMarkerYear(e)!==r.getMarkerYear(t)?5:r.getMarkerMonth(e)!==r.getMarkerMonth(t)?4:r.getMarkerDay(e)!==r.getMarkerDay(t)?2:uo(e)!==uo(t)?1:0}function D3e(e,t){let r={};for(let n in e)(!(n in Rb)||Rb[n]<=t)&&(r[n]=e[n]);return r}function M3e(e,t,r,n){let a=0;for(;a<e.length;){let s=e.indexOf(t,a);if(s===-1)break;let i=e.substr(0,s);a=s+t.length;let l=e.substr(a),c=0;for(;c<r.length;){let u=r.indexOf(n,c);if(u===-1)break;let d=r.substr(0,u);c=u+n.length;let f=r.substr(c);if(i===d&&l===f)return{before:i,after:l}}}return null}function e$(e,t){let r=t.markerToArray(e.marker);return{marker:e.marker,timeZoneOffset:e.timeZoneOffset,array:r,year:r[0],month:r[1],day:r[2],hour:r[3],minute:r[4],second:r[5],millisecond:r[6]}}function Ib(e,t,r,n){let a=e$(e,r.calendarSystem),s=t?e$(t,r.calendarSystem):null;return{date:a,start:a,end:s,timeZone:r.timeZone,localeCodes:r.locale.codes,defaultSeparator:n||r.defaultSeparator}}class O3e{constructor(t){this.cmdStr=t}format(t,r,n){return r.cmdFormatter(this.cmdStr,Ib(t,null,r,n))}formatRange(t,r,n,a){return n.cmdFormatter(this.cmdStr,Ib(t,r,n,a))}}class R3e{constructor(t){this.func=t}format(t,r,n){return this.func(Ib(t,null,r,n))}formatRange(t,r,n,a){return this.func(Ib(t,r,n,a))}}function Xt(e){return typeof e=="object"&&e?new k3e(e):typeof e=="string"?new O3e(e):typeof e=="function"?new R3e(e):null}const t$={navLinkDayClick:re,navLinkWeekClick:re,duration:at,bootstrapFontAwesome:re,buttonIcons:re,customButtons:re,defaultAllDayEventDuration:at,defaultTimedEventDuration:at,nextDayThreshold:at,scrollTime:at,scrollTimeReset:Boolean,slotMinTime:at,slotMaxTime:at,dayPopoverFormat:Xt,slotDuration:at,snapDuration:at,headerToolbar:re,footerToolbar:re,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Xt,dayHeaderClassNames:re,dayHeaderContent:re,dayHeaderDidMount:re,dayHeaderWillUnmount:re,dayCellClassNames:re,dayCellContent:re,dayCellDidMount:re,dayCellWillUnmount:re,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:re,weekNumbers:Boolean,weekNumberClassNames:re,weekNumberContent:re,weekNumberDidMount:re,weekNumberWillUnmount:re,editable:Boolean,viewClassNames:re,viewDidMount:re,viewWillUnmount:re,nowIndicator:Boolean,nowIndicatorClassNames:re,nowIndicatorContent:re,nowIndicatorDidMount:re,nowIndicatorWillUnmount:re,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:re,locale:re,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:re,eventOrder:V4e,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:re,contentHeight:re,direction:String,weekNumberFormat:Xt,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:re,initialDate:re,now:re,eventDataTransform:re,stickyHeaderDates:re,stickyFooterScrollbar:re,viewHeight:re,defaultAllDay:Boolean,eventSourceFailure:re,eventSourceSuccess:re,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:re,eventConstraint:re,eventAllow:re,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:re,eventContent:re,eventDidMount:re,eventWillUnmount:re,selectConstraint:re,selectOverlap:re,selectAllow:re,droppable:Boolean,unselectCancel:String,slotLabelFormat:re,slotLaneClassNames:re,slotLaneContent:re,slotLaneDidMount:re,slotLaneWillUnmount:re,slotLabelClassNames:re,slotLabelContent:re,slotLabelDidMount:re,slotLabelWillUnmount:re,dayMaxEvents:re,dayMaxEventRows:re,dayMinWidth:Number,slotLabelInterval:at,allDayText:String,allDayClassNames:re,allDayContent:re,allDayDidMount:re,allDayWillUnmount:re,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Xt,rerenderDelay:Number,moreLinkText:re,moreLinkHint:re,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:re,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:at,hiddenDays:re,fixedWeekCount:Boolean,validRange:re,visibleRange:re,titleFormat:re,eventInteractive:Boolean,noEventsText:String,viewHint:re,navLinkHint:re,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:re,moreLinkClassNames:re,moreLinkContent:re,moreLinkDidMount:re,moreLinkWillUnmount:re,monthStartFormat:Xt,handleCustomRendering:re,customRenderingMetaMap:re,customRenderingReplaces:Boolean},Hl={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},r$={datesSet:re,eventsSet:re,eventAdd:re,eventChange:re,eventRemove:re,windowResize:re,eventClick:re,eventMouseEnter:re,eventMouseLeave:re,select:re,unselect:re,loading:re,_unmount:re,_beforeprint:re,_afterprint:re,_noEventDrop:re,_noEventResize:re,_resize:re,_scrollRequest:re},n$={buttonText:re,buttonHints:re,views:re,plugins:re,initialEvents:re,events:re,eventSources:re},fl={headerToolbar:hl,footerToolbar:hl,buttonText:hl,buttonHints:hl,buttonIcons:hl,dateIncrement:hl,plugins:av,events:av,eventSources:av,resources:av};function hl(e,t){return typeof e=="object"&&typeof t=="object"&&e&&t?Ts(e,t):e===t}function av(e,t){return Array.isArray(e)&&Array.isArray(t)?Io(e,t):e===t}const I3e={type:String,component:re,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:re,usesMinMaxTime:Boolean,classNames:re,content:re,didMount:re,willUnmount:re};function sj(e){return oP(e,fl)}function sw(e,t){let r={},n={};for(let a in t)a in e&&(r[a]=t[a](e[a]));for(let a in e)a in t||(n[a]=e[a]);return{refined:r,extra:n}}function re(e){return e}const{hasOwnProperty:$b}=Object.prototype;function oP(e,t){let r={};if(t){for(let n in t)if(t[n]===hl){let a=[];for(let s=e.length-1;s>=0;s-=1){let i=e[s][n];if(typeof i=="object"&&i)a.unshift(i);else if(i!==void 0){r[n]=i;break}}a.length&&(r[n]=oP(a))}}for(let n=e.length-1;n>=0;n-=1){let a=e[n];for(let s in a)s in r||(r[s]=a[s])}return r}function mc(e,t){let r={};for(let n in e)t(e[n],n)&&(r[n]=e[n]);return r}function gi(e,t){let r={};for(let n in e)r[n]=t(e[n],n);return r}function wK(e){let t={};for(let r of e)t[r]=!0;return t}function lP(e){let t=[];for(let r in e)t.push(e[r]);return t}function Ts(e,t){if(e===t)return!0;for(let r in e)if($b.call(e,r)&&!(r in t))return!1;for(let r in t)if($b.call(t,r)&&e[r]!==t[r])return!1;return!0}const $3e=/^on[A-Z]/;function L3e(e,t){const r=Yk(e,t);for(let n of r)if(!$3e.test(n))return!1;return!0}function Yk(e,t){let r=[];for(let n in e)$b.call(e,n)&&(n in t||r.push(n));for(let n in t)$b.call(t,n)&&e[n]!==t[n]&&r.push(n);return r}function ij(e,t,r={}){if(e===t)return!0;for(let n in t)if(!(n in e&&F3e(e[n],t[n],r[n])))return!1;for(let n in e)if(!(n in t))return!1;return!0}function F3e(e,t,r){return e===t||r===!0?!0:r?r(e,t):!1}function B3e(e,t=0,r,n=1){let a=[];r==null&&(r=Object.keys(e).length);for(let s=t;s<r;s+=n){let i=e[s];i!==void 0&&a.push(i)}return a}let _K={};function z3e(e,t){_K[e]=t}function U3e(e){return new _K[e]}class H3e{getMarkerYear(t){return t.getUTCFullYear()}getMarkerMonth(t){return t.getUTCMonth()}getMarkerDay(t){return t.getUTCDate()}arrayToMarker(t){return Dn(t)}markerToArray(t){return co(t)}}z3e("gregory",H3e);const q3e=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function W3e(e){let t=q3e.exec(e);if(t){let r=new Date(Date.UTC(Number(t[1]),t[3]?Number(t[3])-1:0,Number(t[5]||1),Number(t[7]||0),Number(t[8]||0),Number(t[10]||0),t[12]?+`0.${t[12]}`*1e3:0));if(bK(r)){let n=null;return t[13]&&(n=(t[15]==="-"?-1:1)*(Number(t[16]||0)*60+Number(t[18]||0))),{marker:r,isTimeUnspecified:!t[6],timeZoneOffset:n}}}return null}class K3e{constructor(t){let r=this.timeZone=t.timeZone,n=r!=="local"&&r!=="UTC";t.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new t.namedTimeZoneImpl(r)),this.canComputeOffset=!!(!n||this.namedTimeZoneImpl),this.calendarSystem=U3e(t.calendarSystem),this.locale=t.locale,this.weekDow=t.locale.week.dow,this.weekDoy=t.locale.week.doy,t.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof t.firstDay=="number"&&(this.weekDow=t.firstDay),typeof t.weekNumberCalculation=="function"&&(this.weekNumberFunc=t.weekNumberCalculation),this.weekText=t.weekText!=null?t.weekText:t.locale.options.weekText,this.weekTextLong=(t.weekTextLong!=null?t.weekTextLong:t.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=t.cmdFormatter,this.defaultSeparator=t.defaultSeparator}createMarker(t){let r=this.createMarkerMeta(t);return r===null?null:r.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Dn(JI(new Date))}createMarkerMeta(t){if(typeof t=="string")return this.parse(t);let r=null;return typeof t=="number"?r=this.timestampToMarker(t):t instanceof Date?(t=t.valueOf(),isNaN(t)||(r=this.timestampToMarker(t))):Array.isArray(t)&&(r=Dn(t)),r===null||!bK(r)?null:{marker:r,isTimeUnspecified:!1,forcedTzo:null}}parse(t){let r=W3e(t);if(r===null)return null;let{marker:n}=r,a=null;return r.timeZoneOffset!==null&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-r.timeZoneOffset*60*1e3):a=r.timeZoneOffset),{marker:n,isTimeUnspecified:r.isTimeUnspecified,forcedTzo:a}}getYear(t){return this.calendarSystem.getMarkerYear(t)}getMonth(t){return this.calendarSystem.getMarkerMonth(t)}getDay(t){return this.calendarSystem.getMarkerDay(t)}add(t,r){let n=this.calendarSystem.markerToArray(t);return n[0]+=r.years,n[1]+=r.months,n[2]+=r.days,n[6]+=r.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(t,r){let n=this.calendarSystem.markerToArray(t);return n[0]-=r.years,n[1]-=r.months,n[2]-=r.days,n[6]-=r.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(t,r){let n=this.calendarSystem.markerToArray(t);return n[0]+=r,this.calendarSystem.arrayToMarker(n)}addMonths(t,r){let n=this.calendarSystem.markerToArray(t);return n[1]+=r,this.calendarSystem.arrayToMarker(n)}diffWholeYears(t,r){let{calendarSystem:n}=this;return uo(t)===uo(r)&&n.getMarkerDay(t)===n.getMarkerDay(r)&&n.getMarkerMonth(t)===n.getMarkerMonth(r)?n.getMarkerYear(r)-n.getMarkerYear(t):null}diffWholeMonths(t,r){let{calendarSystem:n}=this;return uo(t)===uo(r)&&n.getMarkerDay(t)===n.getMarkerDay(r)?n.getMarkerMonth(r)-n.getMarkerMonth(t)+(n.getMarkerYear(r)-n.getMarkerYear(t))*12:null}greatestWholeUnit(t,r){let n=this.diffWholeYears(t,r);return n!==null?{unit:"year",value:n}:(n=this.diffWholeMonths(t,r),n!==null?{unit:"month",value:n}:(n=h3e(t,r),n!==null?{unit:"week",value:n}:(n=Ob(t,r),n!==null?{unit:"day",value:n}:(n=c3e(t,r),Lv(n)?{unit:"hour",value:n}:(n=u3e(t,r),Lv(n)?{unit:"minute",value:n}:(n=d3e(t,r),Lv(n)?{unit:"second",value:n}:{unit:"millisecond",value:r.valueOf()-t.valueOf()}))))))}countDurationsBetween(t,r,n){let a;return n.years&&(a=this.diffWholeYears(t,r),a!==null)?a/s3e(n):n.months&&(a=this.diffWholeMonths(t,r),a!==null)?a/i3e(n):n.days&&(a=Ob(t,r),a!==null)?a/Qu(n):(r.valueOf()-t.valueOf())/Wa(n)}startOf(t,r){return r==="year"?this.startOfYear(t):r==="month"?this.startOfMonth(t):r==="week"?this.startOfWeek(t):r==="day"?Lt(t):r==="hour"?m3e(t):r==="minute"?p3e(t):r==="second"?g3e(t):null}startOfYear(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t)])}startOfMonth(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t)])}startOfWeek(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t),t.getUTCDate()-(t.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(t){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(t)):v3e(t,this.weekDow,this.weekDoy)}format(t,r,n={}){return r.format({marker:t,timeZoneOffset:n.forcedTzo!=null?n.forcedTzo:this.offsetForMarker(t)},this)}formatRange(t,r,n,a={}){return a.isEndExclusive&&(r=$o(r,-1)),n.formatRange({marker:t,timeZoneOffset:a.forcedStartTzo!=null?a.forcedStartTzo:this.offsetForMarker(t)},{marker:r,timeZoneOffset:a.forcedEndTzo!=null?a.forcedEndTzo:this.offsetForMarker(r)},this,a.defaultSeparator)}formatIso(t,r={}){let n=null;return r.omitTimeZoneOffset||(r.forcedTzo!=null?n=r.forcedTzo:n=this.offsetForMarker(t)),xK(t,n,r.omitTime)}timestampToMarker(t){return this.timeZone==="local"?Dn(JI(new Date(t))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(t):Dn(this.namedTimeZoneImpl.timestampToArray(t))}offsetForMarker(t){return this.timeZone==="local"?-XI(co(t)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(co(t)):null}toDate(t,r){return this.timeZone==="local"?XI(co(t)):this.timeZone==="UTC"?new Date(t.valueOf()):this.namedTimeZoneImpl?new Date(t.valueOf()-this.namedTimeZoneImpl.offsetForArray(co(t))*1e3*60):new Date(t.valueOf()-(r||0))}}class Zp{constructor(t){this.iconOverrideOption&&this.setIconOverride(t[this.iconOverrideOption])}setIconOverride(t){let r,n;if(typeof t=="object"&&t){r=Object.assign({},this.iconClasses);for(n in t)r[n]=this.applyIconOverridePrefix(t[n]);this.iconClasses=r}else t===!1&&(this.iconClasses={})}applyIconOverridePrefix(t){let r=this.iconOverridePrefix;return r&&t.indexOf(r)!==0&&(t=r+t),t}getClass(t){return this.classes[t]||""}getIconClass(t,r){let n;return r&&this.rtlIconClasses?n=this.rtlIconClasses[t]||this.iconClasses[t]:n=this.iconClasses[t],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(t){let r;return this.iconOverrideCustomButtonOption&&(r=t[this.iconOverrideCustomButtonOption],r)?`${this.baseIconClass} ${this.applyIconOverridePrefix(r)}`:""}}Zp.prototype.classes={};Zp.prototype.iconClasses={};Zp.prototype.baseIconClass="";Zp.prototype.iconOverridePrefix="";function Lb(e){e();let t=De.debounceRendering,r=[];function n(a){r.push(a)}for(De.debounceRendering=n,ip(H(G3e,{}),document.createElement("div"));r.length;)r.shift()();De.debounceRendering=t}class G3e extends ra{render(){return H("div",{})}componentDidMount(){this.setState({})}}function jK(e){let t=b4e(e),r=t.Provider;return t.Provider=function(){let n=!this.getChildContext,a=r.apply(this,arguments);if(n){let s=[];this.shouldComponentUpdate=i=>{this.props.value!==i.value&&s.forEach(l=>{l.context=i.value,l.forceUpdate()})},this.sub=i=>{s.push(i);let l=i.componentWillUnmount;i.componentWillUnmount=()=>{s.splice(s.indexOf(i),1),l&&l.call(i)}}}return a},t}class V3e{constructor(t,r,n,a){this.execFunc=t,this.emitter=r,this.scrollTime=n,this.scrollTimeReset=a,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},r.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(t){t&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const Ni=jK({});function Q3e(e,t,r,n,a,s,i,l,c,u,d,f,h,m){return{dateEnv:a,nowManager:s,options:r,pluginHooks:l,emitter:d,dispatch:c,getCurrentData:u,calendarApi:f,viewSpec:e,viewApi:t,dateProfileGenerator:n,theme:i,isRtl:r.direction==="rtl",addResizeHandler(v){d.on("_resize",v)},removeResizeHandler(v){d.off("_resize",v)},createScrollResponder(v){return new V3e(v,d,at(r.scrollTime),r.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:m}}class Lc extends ra{shouldComponentUpdate(t,r){return this.debug&&console.log(Yk(t,this.props),Yk(r,this.state)),!ij(this.props,t,this.propEquality)||!ij(this.state,r,this.stateEquality)}safeSetState(t){ij(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}Lc.addPropsEquality=Y3e;Lc.addStateEquality=J3e;Lc.contextType=Ni;Lc.prototype.propEquality={};Lc.prototype.stateEquality={};class bt extends Lc{}bt.contextType=Ni;function Y3e(e){let t=Object.create(this.prototype.propEquality);Object.assign(t,e),this.prototype.propEquality=t}function J3e(e){let t=Object.create(this.prototype.stateEquality);Object.assign(t,e),this.prototype.stateEquality=t}function vi(e,t){typeof e=="function"?e(t):e&&(e.current=t)}class cP extends bt{constructor(){super(...arguments),this.id=Ic(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=t=>{const{options:r}=this.context,{generatorName:n}=this.props;(!r.customRenderingReplaces||!Jk(n,r))&&this.updateElRef(t)},this.updateElRef=t=>{this.props.elRef&&vi(this.props.elRef,t)}}render(){const{props:t,context:r}=this,{options:n}=r,{customGenerator:a,defaultGenerator:s,renderProps:i}=t,l=SK(t,[],this.handleEl);let c=!1,u,d=[],f;if(a!=null){const h=typeof a=="function"?a(i,H):a;if(h===!0)c=!0;else{const m=h&&typeof h=="object";m&&"html"in h?l.dangerouslySetInnerHTML={__html:h.html}:m&&"domNodes"in h?d=Array.prototype.slice.call(h.domNodes):(m?GW(h):typeof h!="function")?u=h:f=h}}else c=!Jk(t.generatorName,n);return c&&s&&(u=s(i)),this.queuedDomNodes=d,this.currentGeneratorMeta=f,H(t.elTag,l,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(t){var r;const{props:n,context:a}=this,{handleCustomRendering:s,customRenderingMetaMap:i}=a.options;if(s){const l=(r=this.currentGeneratorMeta)!==null&&r!==void 0?r:i==null?void 0:i[n.generatorName];l&&s(Object.assign(Object.assign({id:this.id,isActive:t,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:l},n),{elClasses:(n.elClasses||[]).filter(X3e)}))}}applyQueueudDomNodes(){const{queuedDomNodes:t,currentDomNodes:r}=this,n=this.base;if(!Io(t,r)){r.forEach(nP);for(let a of t)n.appendChild(a);this.currentDomNodes=t}}}cP.addPropsEquality({elClasses:Io,elStyle:Ts,elAttrs:L3e,renderProps:Ts});function Jk(e,t){var r;return!!(t.handleCustomRendering&&e&&(!((r=t.customRenderingMetaMap)===null||r===void 0)&&r[e]))}function SK(e,t,r){const n=Object.assign(Object.assign({},e.elAttrs),{ref:r});return(e.elClasses||t)&&(n.className=(e.elClasses||[]).concat(t||[]).concat(n.className||[]).filter(Boolean).join(" ")),e.elStyle&&(n.style=e.elStyle),n}function X3e(e){return!!e}const kK=jK(0);class oa extends ra{constructor(){super(...arguments),this.InnerContent=Z3e.bind(void 0,this),this.handleEl=t=>{this.el=t,this.props.elRef&&(vi(this.props.elRef,t),t&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:t}=this,r=e5e(t.classNameGenerator,t.renderProps);if(t.children){const n=SK(t,r,this.handleEl),a=t.children(this.InnerContent,t.renderProps,n);return t.elTag?H(t.elTag,n,a):a}else return H(cP,Object.assign(Object.assign({},t),{elRef:this.handleEl,elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(r),renderId:this.context}))}componentDidMount(){var t,r;this.el?(r=(t=this.props).didMount)===null||r===void 0||r.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var t,r;(r=(t=this.props).willUnmount)===null||r===void 0||r.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}oa.contextType=kK;function Z3e(e,t){const r=e.props;return H(cP,Object.assign({renderProps:r.renderProps,generatorName:r.generatorName,customGenerator:r.customGenerator,defaultGenerator:r.defaultGenerator,renderId:e.context},t))}function e5e(e,t){const r=typeof e=="function"?e(t):e||[];return typeof r=="string"?[r]:r}class Fb extends bt{render(){let{props:t,context:r}=this,{options:n}=r,a={view:r.viewApi};return H(oa,Object.assign({},t,{elTag:t.elTag||"div",elClasses:[...NK(t.viewSpec),...t.elClasses||[]],renderProps:a,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount}),()=>t.children)}}function NK(e){return[`fc-${e.type}-view`,"fc-view"]}function t5e(e,t){let r=null,n=null;return e.start&&(r=t.createMarker(e.start)),e.end&&(n=t.createMarker(e.end)),!r&&!n||r&&n&&n<r?null:{start:r,end:n}}function a$(e,t){let r=[],{start:n}=t,a,s;for(e.sort(r5e),a=0;a<e.length;a+=1)s=e[a],s.start>n&&r.push({start:n,end:s.start}),s.end>n&&(n=s.end);return n<t.end&&r.push({start:n,end:t.end}),r}function r5e(e,t){return e.start.valueOf()-t.start.valueOf()}function pc(e,t){let{start:r,end:n}=e,a=null;return t.start!==null&&(r===null?r=t.start:r=new Date(Math.max(r.valueOf(),t.start.valueOf()))),t.end!=null&&(n===null?n=t.end:n=new Date(Math.min(n.valueOf(),t.end.valueOf()))),(r===null||n===null||r<n)&&(a={start:r,end:n}),a}function n5e(e,t){return(e.start===null?null:e.start.valueOf())===(t.start===null?null:t.start.valueOf())&&(e.end===null?null:e.end.valueOf())===(t.end===null?null:t.end.valueOf())}function uP(e,t){return(e.end===null||t.start===null||e.end>t.start)&&(e.start===null||t.end===null||e.start<t.end)}function iw(e,t){return(e.start===null||t.start!==null&&t.start>=e.start)&&(e.end===null||t.end!==null&&t.end<=e.end)}function ni(e,t){return(e.start===null||t>=e.start)&&(e.end===null||t<e.end)}function a5e(e,t){return t.start!=null&&e<t.start?t.start:t.end!=null&&e>=t.end?new Date(t.end.valueOf()-1):e}function EK(e){let t=Math.floor($c(e.start,e.end))||1,r=Lt(e.start),n=Xr(r,t);return{start:r,end:n}}function CK(e,t=at(0)){let r=null,n=null;if(e.end){n=Lt(e.end);let a=e.end.valueOf()-n.valueOf();a&&a>=Wa(t)&&(n=Xr(n,1))}return e.start&&(r=Lt(e.start),n&&n<=r&&(n=Xr(r,1))),{start:r,end:n}}function Nu(e,t,r,n){return n==="year"?at(r.diffWholeYears(e,t),"year"):n==="month"?at(r.diffWholeMonths(e,t),"month"):f3e(e,t)}class AK{constructor(t){this.props=t,this.initHiddenDays()}buildPrev(t,r,n){let{dateEnv:a}=this.props,s=a.subtract(a.startOf(r,t.currentRangeUnit),t.dateIncrement);return this.build(s,-1,n)}buildNext(t,r,n){let{dateEnv:a}=this.props,s=a.add(a.startOf(r,t.currentRangeUnit),t.dateIncrement);return this.build(s,1,n)}build(t,r,n=!0){let{props:a}=this,s,i,l,c,u,d;return s=this.buildValidRange(),s=this.trimHiddenDays(s),n&&(t=a5e(t,s)),i=this.buildCurrentRangeInfo(t,r),l=/^(year|month|week|day)$/.test(i.unit),c=this.buildRenderRange(this.trimHiddenDays(i.range),i.unit,l),c=this.trimHiddenDays(c),u=c,a.showNonCurrentDates||(u=pc(u,i.range)),u=this.adjustActiveRange(u),u=pc(u,s),d=uP(i.range,s),ni(c,t)||(t=c.start),{currentDate:t,validRange:s,currentRange:i.range,currentRangeUnit:i.unit,isRangeAllDay:l,activeRange:u,renderRange:c,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(i.duration)}}buildValidRange(){let t=this.props.validRangeInput,r=typeof t=="function"?t.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):t;return this.refineRange(r)||{start:null,end:null}}buildCurrentRangeInfo(t,r){let{props:n}=this,a=null,s=null,i=null,l;return n.duration?(a=n.duration,s=n.durationUnit,i=this.buildRangeFromDuration(t,r,a,s)):(l=this.props.dayCount)?(s="day",i=this.buildRangeFromDayCount(t,r,l)):(i=this.buildCustomVisibleRange(t))?s=n.dateEnv.greatestWholeUnit(i.start,i.end).unit:(a=this.getFallbackDuration(),s=Qk(a).unit,i=this.buildRangeFromDuration(t,r,a,s)),{duration:a,unit:s,range:i}}getFallbackDuration(){return at({day:1})}adjustActiveRange(t){let{dateEnv:r,usesMinMaxTime:n,slotMinTime:a,slotMaxTime:s}=this.props,{start:i,end:l}=t;return n&&(Qu(a)<0&&(i=Lt(i),i=r.add(i,a)),Qu(s)>1&&(l=Lt(l),l=Xr(l,-1),l=r.add(l,s))),{start:i,end:l}}buildRangeFromDuration(t,r,n,a){let{dateEnv:s,dateAlignment:i}=this.props,l,c,u;if(!i){let{dateIncrement:f}=this.props;f&&Wa(f)<Wa(n)?i=Qk(f).unit:i=a}Qu(n)<=1&&this.isHiddenDay(l)&&(l=this.skipHiddenDays(l,r),l=Lt(l));function d(){l=s.startOf(t,i),c=s.add(l,n),u={start:l,end:c}}return d(),this.trimHiddenDays(u)||(t=this.skipHiddenDays(t,r),d()),u}buildRangeFromDayCount(t,r,n){let{dateEnv:a,dateAlignment:s}=this.props,i=0,l=t,c;s&&(l=a.startOf(l,s)),l=Lt(l),l=this.skipHiddenDays(l,r),c=l;do c=Xr(c,1),this.isHiddenDay(c)||(i+=1);while(i<n);return{start:l,end:c}}buildCustomVisibleRange(t){let{props:r}=this,n=r.visibleRangeInput,a=typeof n=="function"?n.call(r.calendarApi,r.dateEnv.toDate(t)):n,s=this.refineRange(a);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(t,r,n){return t}buildDateIncrement(t){let{dateIncrement:r}=this.props,n;return r||((n=this.props.dateAlignment)?at(1,n):t||at({days:1}))}refineRange(t){if(t){let r=t5e(t,this.props.dateEnv);return r&&(r=CK(r)),r}return null}initHiddenDays(){let t=this.props.hiddenDays||[],r=[],n=0,a;for(this.props.weekends===!1&&t.push(0,6),a=0;a<7;a+=1)(r[a]=t.indexOf(a)!==-1)||(n+=1);if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=r}trimHiddenDays(t){let{start:r,end:n}=t;return r&&(r=this.skipHiddenDays(r)),n&&(n=this.skipHiddenDays(n,-1,!0)),r==null||n==null||r<n?{start:r,end:n}:null}isHiddenDay(t){return t instanceof Date&&(t=t.getUTCDay()),this.isHiddenDayHash[t]}skipHiddenDays(t,r=1,n=!1){for(;this.isHiddenDayHash[(t.getUTCDay()+(n?r:0)+7)%7];)t=Xr(t,r);return t}}function ow(e,t,r,n){return{instanceId:Ic(),defId:e,range:t,forcedStartTzo:r??null,forcedEndTzo:n??null}}function s5e(e,t,r,n){for(let a=0;a<n.length;a+=1){let s=n[a].parse(e,r);if(s){let{allDay:i}=e;return i==null&&(i=t,i==null&&(i=s.allDayGuess,i==null&&(i=!1))),{allDay:i,duration:s.duration,typeData:s.typeData,typeId:a}}}return null}function gc(e,t,r){let{dateEnv:n,pluginHooks:a,options:s}=r,{defs:i,instances:l}=e;l=mc(l,c=>!i[c.defId].recurringDef);for(let c in i){let u=i[c];if(u.recurringDef){let{duration:d}=u.recurringDef;d||(d=u.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let f=i5e(u,d,t,n,a.recurringTypes);for(let h of f){let m=ow(c,{start:h,end:n.add(h,d)});l[m.instanceId]=m}}}return{defs:i,instances:l}}function i5e(e,t,r,n,a){let i=a[e.recurringDef.typeId].expand(e.recurringDef.typeData,{start:n.subtract(r.start,t),end:r.end},n);return e.allDay&&(i=i.map(Lt)),i}const Bv={id:String,groupId:String,title:String,url:String,interactive:Boolean},PK={start:re,end:re,date:re,allDay:Boolean},o5e=Object.assign(Object.assign(Object.assign({},Bv),PK),{extendedProps:re});function TK(e,t,r,n,a=fP(r),s,i){let{refined:l,extra:c}=dP(e,r,a),u=c5e(t,r),d=s5e(l,u,r.dateEnv,r.pluginHooks.recurringTypes);if(d){let h=Bb(l,c,t?t.sourceId:"",d.allDay,!!d.duration,r,s);return h.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:h,instance:null}}let f=l5e(l,u,r,n);if(f){let h=Bb(l,c,t?t.sourceId:"",f.allDay,f.hasEnd,r,s),m=ow(h.defId,f.range,f.forcedStartTzo,f.forcedEndTzo);return i&&h.publicId&&i[h.publicId]&&(m.instanceId=i[h.publicId]),{def:h,instance:m}}return null}function dP(e,t,r=fP(t)){return sw(e,r)}function fP(e){return Object.assign(Object.assign(Object.assign({},zb),o5e),e.pluginHooks.eventRefiners)}function Bb(e,t,r,n,a,s,i){let l={title:e.title||"",groupId:e.groupId||"",publicId:e.id||"",url:e.url||"",recurringDef:null,defId:(i&&e.id?i[e.id]:"")||Ic(),sourceId:r,allDay:n,hasEnd:a,interactive:e.interactive,ui:Ub(e,s),extendedProps:Object.assign(Object.assign({},e.extendedProps||{}),t)};for(let c of s.pluginHooks.eventDefMemberAdders)Object.assign(l,c(e));return Object.freeze(l.ui.classNames),Object.freeze(l.extendedProps),l}function l5e(e,t,r,n){let{allDay:a}=e,s,i=null,l=!1,c,u=null,d=e.start!=null?e.start:e.date;if(s=r.dateEnv.createMarkerMeta(d),s)i=s.marker;else if(!n)return null;return e.end!=null&&(c=r.dateEnv.createMarkerMeta(e.end)),a==null&&(t!=null?a=t:a=(!s||s.isTimeUnspecified)&&(!c||c.isTimeUnspecified)),a&&i&&(i=Lt(i)),c&&(u=c.marker,a&&(u=Lt(u)),i&&u<=i&&(u=null)),u?l=!0:n||(l=r.options.forceEventDuration||!1,u=r.dateEnv.add(i,a?r.options.defaultAllDayEventDuration:r.options.defaultTimedEventDuration)),{allDay:a,hasEnd:l,range:{start:i,end:u},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:c?c.forcedTzo:null}}function c5e(e,t){let r=null;return e&&(r=e.defaultAllDay),r==null&&(r=t.options.defaultAllDay),r}function op(e,t,r,n,a,s){let i=Zr(),l=fP(r);for(let c of e){let u=TK(c,t,r,n,l,a,s);u&&lp(u,i)}return i}function lp(e,t=Zr()){return t.defs[e.def.defId]=e.def,e.instance&&(t.instances[e.instance.instanceId]=e.instance),t}function hP(e,t){let r=e.instances[t];if(r){let n=e.defs[r.defId],a=lw(e,s=>u5e(n,s));return a.defs[n.defId]=n,a.instances[r.instanceId]=r,a}return Zr()}function u5e(e,t){return!!(e.groupId&&e.groupId===t.groupId)}function Zr(){return{defs:{},instances:{}}}function mP(e,t){return{defs:Object.assign(Object.assign({},e.defs),t.defs),instances:Object.assign(Object.assign({},e.instances),t.instances)}}function lw(e,t){let r=mc(e.defs,t),n=mc(e.instances,a=>r[a.defId]);return{defs:r,instances:n}}function d5e(e,t){let{defs:r,instances:n}=e,a={},s={};for(let i in r)t.defs[i]||(a[i]=r[i]);for(let i in n)!t.instances[i]&&a[n[i].defId]&&(s[i]=n[i]);return{defs:a,instances:s}}function f5e(e,t){return Array.isArray(e)?op(e,null,t,!0):typeof e=="object"&&e?op([e],null,t,!0):e!=null?String(e):null}function s$(e){return Array.isArray(e)?e:typeof e=="string"?e.split(/\s+/):[]}const zb={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:re,overlap:re,allow:re,className:s$,classNames:s$,color:String,backgroundColor:String,borderColor:String,textColor:String},h5e={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Ub(e,t){let r=f5e(e.constraint,t);return{display:e.display||null,startEditable:e.startEditable!=null?e.startEditable:e.editable,durationEditable:e.durationEditable!=null?e.durationEditable:e.editable,constraints:r!=null?[r]:[],overlap:e.overlap!=null?e.overlap:null,allows:e.allow!=null?[e.allow]:[],backgroundColor:e.backgroundColor||e.color||"",borderColor:e.borderColor||e.color||"",textColor:e.textColor||"",classNames:(e.className||[]).concat(e.classNames||[])}}function DK(e){return e.reduce(m5e,h5e)}function m5e(e,t){return{display:t.display!=null?t.display:e.display,startEditable:t.startEditable!=null?t.startEditable:e.startEditable,durationEditable:t.durationEditable!=null?t.durationEditable:e.durationEditable,constraints:e.constraints.concat(t.constraints),overlap:typeof t.overlap=="boolean"?t.overlap:e.overlap,allows:e.allows.concat(t.allows),backgroundColor:t.backgroundColor||e.backgroundColor,borderColor:t.borderColor||e.borderColor,textColor:t.textColor||e.textColor,classNames:e.classNames.concat(t.classNames)}}const p5e={id:String,defaultAllDay:Boolean,url:String,format:String,events:re,eventDataTransform:re,success:re,failure:re};function MK(e,t,r=OK(t)){let n;if(typeof e=="string"?n={url:e}:typeof e=="function"||Array.isArray(e)?n={events:e}:typeof e=="object"&&e&&(n=e),n){let{refined:a,extra:s}=sw(n,r),i=g5e(a,t);if(i)return{_raw:e,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:a.defaultAllDay,eventDataTransform:a.eventDataTransform,success:a.success,failure:a.failure,publicId:a.id||"",sourceId:Ic(),sourceDefId:i.sourceDefId,meta:i.meta,ui:Ub(a,t),extendedProps:s}}return null}function OK(e){return Object.assign(Object.assign(Object.assign({},zb),p5e),e.pluginHooks.eventSourceRefiners)}function g5e(e,t){let r=t.pluginHooks.eventSourceDefs;for(let n=r.length-1;n>=0;n-=1){let s=r[n].parseMeta(e);if(s)return{sourceDefId:n,meta:s}}return null}function v5e(e,t,r,n,a){switch(t.type){case"RECEIVE_EVENTS":return y5e(e,r[t.sourceId],t.fetchId,t.fetchRange,t.rawEvents,a);case"RESET_RAW_EVENTS":return b5e(e,r[t.sourceId],t.rawEvents,n.activeRange,a);case"ADD_EVENTS":return x5e(e,t.eventStore,n?n.activeRange:null,a);case"RESET_EVENTS":return t.eventStore;case"MERGE_EVENTS":return mP(e,t.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?gc(e,n.activeRange,a):e;case"REMOVE_EVENTS":return d5e(e,t.eventStore);case"REMOVE_EVENT_SOURCE":return IK(e,t.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return lw(e,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return Zr();default:return e}}function y5e(e,t,r,n,a,s){if(t&&r===t.latestFetchId){let i=op(RK(a,t,s),t,s);return n&&(i=gc(i,n,s)),mP(IK(e,t.sourceId),i)}return e}function b5e(e,t,r,n,a){const{defIdMap:s,instanceIdMap:i}=_5e(e);let l=op(RK(r,t,a),t,a,!1,s,i);return gc(l,n,a)}function RK(e,t,r){let n=r.options.eventDataTransform,a=t?t.eventDataTransform:null;return a&&(e=i$(e,a)),n&&(e=i$(e,n)),e}function i$(e,t){let r;if(!t)r=e;else{r=[];for(let n of e){let a=t(n);a?r.push(a):a==null&&r.push(n)}}return r}function x5e(e,t,r,n){return r&&(t=gc(t,r,n)),mP(e,t)}function o$(e,t,r){let{defs:n}=e,a=gi(e.instances,s=>n[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:r.createMarker(t.toDate(s.range.start,s.forcedStartTzo)),end:r.createMarker(t.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:r.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:r.canComputeOffset?null:s.forcedEndTzo}));return{defs:n,instances:a}}function IK(e,t){return lw(e,r=>r.sourceId!==t)}function w5e(e,t){return{defs:e.defs,instances:mc(e.instances,r=>!t[r.instanceId])}}function _5e(e){const{defs:t,instances:r}=e,n={},a={};for(let s in t){const i=t[s],{publicId:l}=i;l&&(n[l]=s)}for(let s in r){const i=r[s],l=t[i.defId],{publicId:c}=l;c&&(a[c]=s)}return{defIdMap:n,instanceIdMap:a}}class cw{constructor(){this.handlers={},this.thisContext=null}setThisContext(t){this.thisContext=t}setOptions(t){this.options=t}on(t,r){j5e(this.handlers,t,r)}off(t,r){S5e(this.handlers,t,r)}trigger(t,...r){let n=this.handlers[t]||[],a=this.options&&this.options[t],s=[].concat(a||[],n);for(let i of s)i.apply(this.thisContext,r)}hasHandlers(t){return!!(this.handlers[t]&&this.handlers[t].length||this.options&&this.options[t])}}function j5e(e,t,r){(e[t]||(e[t]=[])).push(r)}function S5e(e,t,r){r?e[t]&&(e[t]=e[t].filter(n=>n!==r)):delete e[t]}const k5e={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function N5e(e,t){return op(E5e(e),null,t)}function E5e(e){let t;return e===!0?t=[{}]:Array.isArray(e)?t=e.filter(r=>r.daysOfWeek):typeof e=="object"&&e?t=[e]:t=[],t=t.map(r=>Object.assign(Object.assign({},k5e),r)),t}function $K(e,t,r){r.emitter.trigger("select",Object.assign(Object.assign({},pP(e,r)),{jsEvent:t?t.origEvent:null,view:r.viewApi||r.calendarApi.view}))}function C5e(e,t){t.emitter.trigger("unselect",{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view})}function pP(e,t){let r={};for(let n of t.pluginHooks.dateSpanTransforms)Object.assign(r,n(e,t));return Object.assign(r,U5e(e,t.dateEnv)),r}function Xk(e,t,r){let{dateEnv:n,options:a}=r,s=t;return e?(s=Lt(s),s=n.add(s,a.defaultAllDayEventDuration)):s=n.add(s,a.defaultTimedEventDuration),s}function gP(e,t,r,n){let a=Hb(e.defs,t),s=Zr();for(let i in e.defs){let l=e.defs[i];s.defs[i]=A5e(l,a[i],r,n)}for(let i in e.instances){let l=e.instances[i],c=s.defs[l.defId];s.instances[i]=P5e(l,c,a[l.defId],r,n)}return s}function A5e(e,t,r,n){let a=r.standardProps||{};a.hasEnd==null&&t.durationEditable&&(r.startDelta||r.endDelta)&&(a.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},e),a),{ui:Object.assign(Object.assign({},e.ui),a.ui)});r.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),r.extendedProps));for(let i of n.pluginHooks.eventDefMutationAppliers)i(s,r,n);return!s.hasEnd&&n.options.forceEventDuration&&(s.hasEnd=!0),s}function P5e(e,t,r,n,a){let{dateEnv:s}=a,i=n.standardProps&&n.standardProps.allDay===!0,l=n.standardProps&&n.standardProps.hasEnd===!1,c=Object.assign({},e);return i&&(c.range=EK(c.range)),n.datesDelta&&r.startEditable&&(c.range={start:s.add(c.range.start,n.datesDelta),end:s.add(c.range.end,n.datesDelta)}),n.startDelta&&r.durationEditable&&(c.range={start:s.add(c.range.start,n.startDelta),end:c.range.end}),n.endDelta&&r.durationEditable&&(c.range={start:c.range.start,end:s.add(c.range.end,n.endDelta)}),l&&(c.range={start:c.range.start,end:Xk(t.allDay,c.range.start,a)}),t.allDay&&(c.range={start:Lt(c.range.start),end:Lt(c.range.end)}),c.range.end<c.range.start&&(c.range.end=Xk(t.allDay,c.range.start,a)),c}class iu{constructor(t,r){this.context=t,this.internalEventSource=r}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Vt{constructor(t,r,n){this._context=t,this._def=r,this._instance=n||null}setProp(t,r){if(t in PK)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(t==="id")r=Bv[t](r),this.mutate({standardProps:{publicId:r}});else if(t in Bv)r=Bv[t](r),this.mutate({standardProps:{[t]:r}});else if(t in zb){let n=zb[t](r);t==="color"?n={backgroundColor:r,borderColor:r}:t==="editable"?n={startEditable:r,durationEditable:r}:n={[t]:r},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${t}'. Use setExtendedProp instead.`)}setExtendedProp(t,r){this.mutate({extendedProps:{[t]:r}})}setStart(t,r={}){let{dateEnv:n}=this._context,a=n.createMarker(t);if(a&&this._instance){let s=this._instance.range,i=Nu(s.start,a,n,r.granularity);r.maintainDuration?this.mutate({datesDelta:i}):this.mutate({startDelta:i})}}setEnd(t,r={}){let{dateEnv:n}=this._context,a;if(!(t!=null&&(a=n.createMarker(t),!a))&&this._instance)if(a){let s=Nu(this._instance.range.end,a,n,r.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(t,r,n={}){let{dateEnv:a}=this._context,s={allDay:n.allDay},i=a.createMarker(t),l;if(i&&!(r!=null&&(l=a.createMarker(r),!l))&&this._instance){let c=this._instance.range;n.allDay===!0&&(c=EK(c));let u=Nu(c.start,i,a,n.granularity);if(l){let d=Nu(c.end,l,a,n.granularity);r3e(u,d)?this.mutate({datesDelta:u,standardProps:s}):this.mutate({startDelta:u,endDelta:d,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:u,standardProps:s})}}moveStart(t){let r=at(t);r&&this.mutate({startDelta:r})}moveEnd(t){let r=at(t);r&&this.mutate({endDelta:r})}moveDates(t){let r=at(t);r&&this.mutate({datesDelta:r})}setAllDay(t,r={}){let n={allDay:t},{maintainDuration:a}=r;a==null&&(a=this._context.options.allDayMaintainDuration),this._def.allDay!==t&&(n.hasEnd=a),this.mutate({standardProps:n})}formatRange(t){let{dateEnv:r}=this._context,n=this._instance,a=Xt(t);return this._def.hasEnd?r.formatRange(n.range.start,n.range.end,a,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):r.format(n.range.start,a,{forcedTzo:n.forcedStartTzo})}mutate(t){let r=this._instance;if(r){let n=this._def,a=this._context,{eventStore:s}=a.getCurrentData(),i=hP(s,r.instanceId);i=gP(i,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},t,a);let c=new Vt(a,n,r);this._def=i.defs[n.defId],this._instance=i.instances[r.instanceId],a.dispatch({type:"MERGE_EVENTS",eventStore:i}),a.emitter.trigger("eventChange",{oldEvent:c,event:this,relatedEvents:ql(i,a,r),revert(){a.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let t=this._context,r=LK(this);t.dispatch({type:"REMOVE_EVENTS",eventStore:r}),t.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:r})}})}get source(){let{sourceId:t}=this._def;return t?new iu(this._context,this._context.getCurrentData().eventSources[t]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let t=this._instance;return t?this._context.dateEnv.formatIso(t.range.start,{omitTime:this._def.allDay,forcedTzo:t.forcedStartTzo}):""}get endStr(){let t=this._instance;return t&&this._def.hasEnd?this._context.dateEnv.formatIso(t.range.end,{omitTime:this._def.allDay,forcedTzo:t.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(t={}){let r=this._def,{ui:n}=r,{startStr:a,endStr:s}=this,i={allDay:r.allDay};return r.title&&(i.title=r.title),a&&(i.start=a),s&&(i.end=s),r.publicId&&(i.id=r.publicId),r.groupId&&(i.groupId=r.groupId),r.url&&(i.url=r.url),n.display&&n.display!=="auto"&&(i.display=n.display),t.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?i.color=n.backgroundColor:(n.backgroundColor&&(i.backgroundColor=n.backgroundColor),n.borderColor&&(i.borderColor=n.borderColor)),n.textColor&&(i.textColor=n.textColor),n.classNames.length&&(i.classNames=n.classNames),Object.keys(r.extendedProps).length&&(t.collapseExtendedProps?Object.assign(i,r.extendedProps):i.extendedProps=r.extendedProps),i}toJSON(){return this.toPlainObject()}}function LK(e){let t=e._def,r=e._instance;return{defs:{[t.defId]:t},instances:r?{[r.instanceId]:r}:{}}}function ql(e,t,r){let{defs:n,instances:a}=e,s=[],i=r?r.instanceId:"";for(let l in a){let c=a[l],u=n[c.defId];c.instanceId!==i&&s.push(new Vt(t,u,c))}return s}function l$(e,t,r,n){let a={},s={},i={},l=[],c=[],u=Hb(e.defs,t);for(let d in e.defs){let f=e.defs[d];u[f.defId].display==="inverse-background"&&(f.groupId?(a[f.groupId]=[],i[f.groupId]||(i[f.groupId]=f)):s[d]=[])}for(let d in e.instances){let f=e.instances[d],h=e.defs[f.defId],m=u[h.defId],v=f.range,p=!h.allDay&&n?CK(v,n):v,g=pc(p,r);g&&(m.display==="inverse-background"?h.groupId?a[h.groupId].push(g):s[f.defId].push(g):m.display!=="none"&&(m.display==="background"?l:c).push({def:h,ui:m,instance:f,range:g,isStart:p.start&&p.start.valueOf()===g.start.valueOf(),isEnd:p.end&&p.end.valueOf()===g.end.valueOf()}))}for(let d in a){let f=a[d],h=a$(f,r);for(let m of h){let v=i[d],p=u[v.defId];l.push({def:v,ui:p,instance:null,range:m,isStart:!1,isEnd:!1})}}for(let d in s){let f=s[d],h=a$(f,r);for(let m of h)l.push({def:e.defs[d],ui:u[d],instance:null,range:m,isStart:!1,isEnd:!1})}return{bg:l,fg:c}}function T5e(e){return e.ui.display==="background"||e.ui.display==="inverse-background"}function c$(e,t){e.fcSeg=t}function nf(e){return e.fcSeg||e.parentNode.fcSeg||null}function Hb(e,t){return gi(e,r=>FK(r,t))}function FK(e,t){let r=[];return t[""]&&r.push(t[""]),t[e.defId]&&r.push(t[e.defId]),r.push(e.ui),DK(r)}function BK(e,t){let r=e.map(D5e);return r.sort((n,a)=>Q4e(n,a,t)),r.map(n=>n._seg)}function D5e(e){let{eventRange:t}=e,r=t.def,n=t.instance?t.instance.range:t.range,a=n.start?n.start.valueOf():0,s=n.end?n.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},r.extendedProps),r),{id:r.publicId,start:a,end:s,duration:s-a,allDay:Number(r.allDay),_seg:e})}function M5e(e,t){let{pluginHooks:r}=t,n=r.isDraggableTransformers,{def:a,ui:s}=e.eventRange,i=s.startEditable;for(let l of n)i=l(i,a,s,t);return i}function O5e(e,t){return e.isStart&&e.eventRange.ui.durationEditable&&t.options.eventResizableFromStart}function R5e(e,t){return e.isEnd&&e.eventRange.ui.durationEditable}function zK(e,t,r,n,a,s,i){let{dateEnv:l,options:c}=r,{displayEventTime:u,displayEventEnd:d}=c,f=e.eventRange.def,h=e.eventRange.instance;u==null&&(u=n!==!1),d==null&&(d=a!==!1);let m=h.range.start,v=h.range.end,p=e.start||e.eventRange.range.start,g=e.end||e.eventRange.range.end,b=Lt(m).valueOf()===Lt(p).valueOf(),y=Lt($o(v,-1)).valueOf()===Lt($o(g,-1)).valueOf();return u&&!f.allDay&&(b||y)?(p=b?m:p,g=y?v:g,d&&f.hasEnd?l.formatRange(p,g,t,{forcedStartTzo:h.forcedStartTzo,forcedEndTzo:h.forcedEndTzo}):l.format(p,t,{forcedTzo:h.forcedStartTzo})):""}function So(e,t,r){let n=e.eventRange.range;return{isPast:n.end<=(r||t.start),isFuture:n.start>=(r||t.end),isToday:t&&ni(t,n.start)}}function I5e(e){let t=["fc-event"];return e.isMirror&&t.push("fc-event-mirror"),e.isDraggable&&t.push("fc-event-draggable"),(e.isStartResizable||e.isEndResizable)&&t.push("fc-event-resizable"),e.isDragging&&t.push("fc-event-dragging"),e.isResizing&&t.push("fc-event-resizing"),e.isSelected&&t.push("fc-event-selected"),e.isStart&&t.push("fc-event-start"),e.isEnd&&t.push("fc-event-end"),e.isPast&&t.push("fc-event-past"),e.isToday&&t.push("fc-event-today"),e.isFuture&&t.push("fc-event-future"),t}function UK(e){return e.instance?e.instance.instanceId:`${e.def.defId}:${e.range.start.toISOString()}`}function HK(e,t){let{def:r,instance:n}=e.eventRange,{url:a}=r;if(a)return{href:a};let{emitter:s,options:i}=t,{eventInteractive:l}=i;return l==null&&(l=r.interactive,l==null&&(l=!!s.hasHandlers("eventClick"))),l?yK(c=>{s.trigger("eventClick",{el:c.target,event:new Vt(t,r,n),jsEvent:c,view:t.viewApi})}):{}}const $5e={start:re,end:re,allDay:Boolean};function L5e(e,t,r){let n=F5e(e,t),{range:a}=n;if(!a.start)return null;if(!a.end){if(r==null)return null;a.end=t.add(a.start,r)}return n}function F5e(e,t){let{refined:r,extra:n}=sw(e,$5e),a=r.start?t.createMarkerMeta(r.start):null,s=r.end?t.createMarkerMeta(r.end):null,{allDay:i}=r;return i==null&&(i=a&&a.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:a?a.marker:null,end:s?s.marker:null},allDay:i},n)}function B5e(e,t){return n5e(e.range,t.range)&&e.allDay===t.allDay&&z5e(e,t)}function z5e(e,t){for(let r in t)if(r!=="range"&&r!=="allDay"&&e[r]!==t[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}function U5e(e,t){return Object.assign(Object.assign({},WK(e.range,t,e.allDay)),{allDay:e.allDay})}function qK(e,t,r){return Object.assign(Object.assign({},WK(e,t,r)),{timeZone:t.timeZone})}function WK(e,t,r){return{start:t.toDate(e.start),end:t.toDate(e.end),startStr:t.formatIso(e.start,{omitTime:r}),endStr:t.formatIso(e.end,{omitTime:r})}}function H5e(e,t,r){let n=dP({editable:!1},r),a=Bb(n.refined,n.extra,"",e.allDay,!0,r);return{def:a,ui:FK(a,t),instance:ow(a.defId,e.range),range:e.range,isStart:!0,isEnd:!0}}function q5e(e,t,r){let n=!1,a=function(l){n||(n=!0,t(l))},s=function(l){n||(n=!0,r(l))},i=e(a,s);i&&typeof i.then=="function"&&i.then(a,s)}class u$ extends Error{constructor(t,r){super(t),this.response=r}}function W5e(e,t,r){e=e.toUpperCase();const n={method:e};return e==="GET"?t+=(t.indexOf("?")===-1?"?":"&")+new URLSearchParams(r):(n.body=new URLSearchParams(r),n.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(t,n).then(a=>{if(a.ok)return a.json().then(s=>[s,a],()=>{throw new u$("Failure parsing JSON",a)});throw new u$("Request failed",a)})}let oj;function KK(){return oj==null&&(oj=K5e()),oj}function K5e(){if(typeof document>"u")return!0;let e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.innerHTML="<table><tr><td><div></div></td></tr></table>",e.querySelector("table").style.height="100px",e.querySelector("div").style.height="100%",document.body.appendChild(e);let r=e.querySelector("div").offsetHeight>0;return document.body.removeChild(e),r}class G5e extends bt{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Lb(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Lb(()=>{this.setState({forPrint:!1})})}}render(){let{props:t}=this,{options:r}=t,{forPrint:n}=this.state,a=n||r.height==="auto"||r.contentHeight==="auto",s=!a&&r.height!=null?r.height:"",i=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${r.direction}`,t.theme.getClass("root")];return KK()||i.push("fc-liquid-hack"),t.children(i,s,a,n)}componentDidMount(){let{emitter:t}=this.props;t.on("_beforeprint",this.handleBeforePrint),t.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:t}=this.props;t.off("_beforeprint",this.handleBeforePrint),t.off("_afterprint",this.handleAfterPrint)}}class If{constructor(t){this.component=t.component,this.isHitComboAllowed=t.isHitComboAllowed||null}destroy(){}}function V5e(e,t){return{component:e,el:t.el,useEventCenter:t.useEventCenter!=null?t.useEventCenter:!0,isHitComboAllowed:t.isHitComboAllowed||null}}function vP(e){return{[e.component.uid]:e}}const qb={};class $f extends ra{constructor(t,r){super(t,r),this.handleRefresh=()=>{let n=this.computeTiming();n.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(n.state),this.clearTimeout(),this.setTimeout(n.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:t,state:r}=this;return t.children(r.nowDate,r.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:t,context:r}=this,n=r.nowManager.getDateMarker(),a=r.dateEnv.startOf(n,t.unit),i=r.dateEnv.add(a,at(1,t.unit)).valueOf()-n.valueOf();return i=Math.min(1e3*60*60*24,i),{state:{nowDate:a,todayRange:Q5e(a)},waitMs:i}}setTimeout(t=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const r=this.computeTiming();this.setState(r.state,()=>{this.setTimeout(r.waitMs)})},t)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}$f.contextType=Ni;function Q5e(e){let t=Lt(e),r=Xr(t,1);return{start:t,end:r}}class Y5e{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(t){this.currentDataManager.dispatch(t)}get view(){return this.getCurrentData().viewApi}batchRendering(t){t()}updateSize(){this.trigger("_resize",!0)}setOption(t,r){this.dispatch({type:"SET_OPTION",optionName:t,rawOptionValue:r})}getOption(t){return this.currentDataManager.currentCalendarOptionsInput[t]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(t,r){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[t]?n.emitter.on(t,r):console.warn(`Unknown listener name '${t}'`)}off(t,r){this.currentDataManager.emitter.off(t,r)}trigger(t,...r){this.currentDataManager.emitter.trigger(t,...r)}changeView(t,r){this.batchRendering(()=>{if(this.unselect(),r)if(r.start&&r.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:r});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t,dateMarker:n.createMarker(r)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t})})}zoomTo(t,r){let n=this.getCurrentData(),a;r=r||"day",a=n.viewSpecs[r]||this.getUnitViewSpec(r),this.unselect(),a?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:a.type,dateMarker:t}):this.dispatch({type:"CHANGE_DATE",dateMarker:t})}getUnitViewSpec(t){let{viewSpecs:r,toolbarConfig:n}=this.getCurrentData(),a=[].concat(n.header?n.header.viewsWithButtons:[],n.footer?n.footer.viewsWithButtons:[]),s,i;for(let l in r)a.push(l);for(s=0;s<a.length;s+=1)if(i=r[a[s]],i&&i.singleUnit===t)return i;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,-1)})}nextYear(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,1)})}today(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.nowManager.getDateMarker()})}gotoDate(t){let r=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:r.dateEnv.createMarker(t)})}incrementDate(t){let r=this.getCurrentData(),n=at(t);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:r.dateEnv.add(r.currentDate,n)}))}getDate(){let t=this.getCurrentData();return t.dateEnv.toDate(t.currentDate)}formatDate(t,r){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(t),Xt(r))}formatRange(t,r,n){let{dateEnv:a}=this.getCurrentData();return a.formatRange(a.createMarker(t),a.createMarker(r),Xt(n),n)}formatIso(t,r){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(t),{omitTime:r})}select(t,r){let n;r==null?t.start!=null?n=t:n={start:t,end:null}:n={start:t,end:r};let a=this.getCurrentData(),s=L5e(n,a.dateEnv,at({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),$K(s,null,a))}unselect(t){let r=this.getCurrentData();r.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),C5e(t,r))}addEvent(t,r){if(t instanceof Vt){let i=t._def,l=t._instance;return this.getCurrentData().eventStore.defs[i.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:lp({def:i,instance:l})}),this.triggerEventAdd(t)),t}let n=this.getCurrentData(),a;if(r instanceof iu)a=r.internalEventSource;else if(typeof r=="boolean")r&&([a]=lP(n.eventSources));else if(r!=null){let i=this.getEventSourceById(r);if(!i)return console.warn(`Could not find an event source with ID "${r}"`),null;a=i.internalEventSource}let s=TK(t,a,n,!1);if(s){let i=new Vt(n,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:lp(s)}),this.triggerEventAdd(i),i}return null}triggerEventAdd(t){let{emitter:r}=this.getCurrentData();r.trigger("eventAdd",{event:t,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:LK(t)})}})}getEventById(t){let r=this.getCurrentData(),{defs:n,instances:a}=r.eventStore;t=String(t);for(let s in n){let i=n[s];if(i.publicId===t){if(i.recurringDef)return new Vt(r,i,null);for(let l in a){let c=a[l];if(c.defId===i.defId)return new Vt(r,i,c)}}}return null}getEvents(){let t=this.getCurrentData();return ql(t.eventStore,t)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let t=this.getCurrentData(),r=t.eventSources,n=[];for(let a in r)n.push(new iu(t,r[a]));return n}getEventSourceById(t){let r=this.getCurrentData(),n=r.eventSources;t=String(t);for(let a in n)if(n[a].publicId===t)return new iu(r,n[a]);return null}addEventSource(t){let r=this.getCurrentData();if(t instanceof iu)return r.eventSources[t.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[t.internalEventSource]}),t;let n=MK(t,r);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new iu(r,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(t){let r=at(t);r&&this.trigger("_scrollRequest",{time:r})}}function J5e(e,t){return e.left>=t.left&&e.left<t.right&&e.top>=t.top&&e.top<t.bottom}function GK(e,t){let r={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return r.left<r.right&&r.top<r.bottom?r:!1}function X5e(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function Z5e(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function eLe(e,t){return{left:e.left-t.left,top:e.top-t.top}}const lj=Zr();class tLe{constructor(){this.getKeysForEventDefs=Re(this._getKeysForEventDefs),this.splitDateSelection=Re(this._splitDateSpan),this.splitEventStore=Re(this._splitEventStore),this.splitIndividualUi=Re(this._splitIndividualUi),this.splitEventDrag=Re(this._splitInteraction),this.splitEventResize=Re(this._splitInteraction),this.eventUiBuilders={}}splitProps(t){let r=this.getKeyInfo(t),n=this.getKeysForEventDefs(t.eventStore),a=this.splitDateSelection(t.dateSelection),s=this.splitIndividualUi(t.eventUiBases,n),i=this.splitEventStore(t.eventStore,n),l=this.splitEventDrag(t.eventDrag),c=this.splitEventResize(t.eventResize),u={};this.eventUiBuilders=gi(r,(d,f)=>this.eventUiBuilders[f]||Re(rLe));for(let d in r){let f=r[d],h=i[d]||lj,m=this.eventUiBuilders[d];u[d]={businessHours:f.businessHours||t.businessHours,dateSelection:a[d]||null,eventStore:h,eventUiBases:m(t.eventUiBases[""],f.ui,s[d]),eventSelection:h.instances[t.eventSelection]?t.eventSelection:"",eventDrag:l[d]||null,eventResize:c[d]||null}}return u}_splitDateSpan(t){let r={};if(t){let n=this.getKeysForDateSpan(t);for(let a of n)r[a]=t}return r}_getKeysForEventDefs(t){return gi(t.defs,r=>this.getKeysForEventDef(r))}_splitEventStore(t,r){let{defs:n,instances:a}=t,s={};for(let i in n)for(let l of r[i])s[l]||(s[l]=Zr()),s[l].defs[i]=n[i];for(let i in a){let l=a[i];for(let c of r[l.defId])s[c]&&(s[c].instances[i]=l)}return s}_splitIndividualUi(t,r){let n={};for(let a in t)if(a)for(let s of r[a])n[s]||(n[s]={}),n[s][a]=t[a];return n}_splitInteraction(t){let r={};if(t){let n=this._splitEventStore(t.affectedEvents,this._getKeysForEventDefs(t.affectedEvents)),a=this._getKeysForEventDefs(t.mutatedEvents),s=this._splitEventStore(t.mutatedEvents,a),i=l=>{r[l]||(r[l]={affectedEvents:n[l]||lj,mutatedEvents:s[l]||lj,isEvent:t.isEvent})};for(let l in n)i(l);for(let l in s)i(l)}return r}}function rLe(e,t,r){let n=[];e&&n.push(e),t&&n.push(t);let a={"":DK(n)};return r&&Object.assign(a,r),a}function VK(e,t,r,n){return{dow:e.getUTCDay(),isDisabled:!!(n&&(!n.activeRange||!ni(n.activeRange,e))),isOther:!!(n&&!ni(n.currentRange,e)),isToday:!!(t&&ni(t,e)),isPast:!!(t&&e<t.start),isFuture:!!(t&&e>=t.end)}}function yP(e,t){let r=["fc-day",`fc-day-${o3e[e.dow]}`];return e.isDisabled?r.push("fc-day-disabled"):(e.isToday&&(r.push("fc-day-today"),r.push(t.getClass("today"))),e.isPast&&r.push("fc-day-past"),e.isFuture&&r.push("fc-day-future"),e.isOther&&r.push("fc-day-other")),r}const nLe=Xt({year:"numeric",month:"long",day:"numeric"}),aLe=Xt({week:"long"});function Wb(e,t,r="day",n=!0){const{dateEnv:a,options:s,calendarApi:i}=e;let l=a.format(t,r==="week"?aLe:nLe);if(s.navLinks){let c=a.toDate(t);const u=d=>{let f=r==="day"?s.navLinkDayClick:r==="week"?s.navLinkWeekClick:null;typeof f=="function"?f.call(i,a.toDate(t),d):(typeof f=="string"&&(r=f),i.zoomTo(t,r))};return Object.assign({title:Qh(s.navLinkHint,[l,c],l),"data-navlink":""},n?vK(u):{onClick:u})}return{"aria-label":l}}let cj=null;function sLe(){return cj===null&&(cj=iLe()),cj}function iLe(){let e=document.createElement("div");Vh(e,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),e.innerHTML="<div></div>",document.body.appendChild(e);let r=e.firstChild.getBoundingClientRect().left>e.getBoundingClientRect().left;return nP(e),r}let uj;function oLe(){return uj||(uj=lLe()),uj}function lLe(){let e=document.createElement("div");e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",e.style.left="-9999px",document.body.appendChild(e);let t=QK(e);return document.body.removeChild(e),t}function QK(e){return{x:e.offsetHeight-e.clientHeight,y:e.offsetWidth-e.clientWidth}}function cLe(e,t=!1){let r=window.getComputedStyle(e),n=parseInt(r.borderLeftWidth,10)||0,a=parseInt(r.borderRightWidth,10)||0,s=parseInt(r.borderTopWidth,10)||0,i=parseInt(r.borderBottomWidth,10)||0,l=QK(e),c=l.y-n-a,u=l.x-s-i,d={borderLeft:n,borderRight:a,borderTop:s,borderBottom:i,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return sLe()&&r.direction==="rtl"?d.scrollbarLeft=c:d.scrollbarRight=c,t&&(d.paddingLeft=parseInt(r.paddingLeft,10)||0,d.paddingRight=parseInt(r.paddingRight,10)||0,d.paddingTop=parseInt(r.paddingTop,10)||0,d.paddingBottom=parseInt(r.paddingBottom,10)||0),d}function uLe(e,t=!1,r){let n=bP(e),a=cLe(e,t),s={left:n.left+a.borderLeft+a.scrollbarLeft,right:n.right-a.borderRight-a.scrollbarRight,top:n.top+a.borderTop,bottom:n.bottom-a.borderBottom-a.scrollbarBottom};return t&&(s.left+=a.paddingLeft,s.right-=a.paddingRight,s.top+=a.paddingTop,s.bottom-=a.paddingBottom),s}function bP(e){let t=e.getBoundingClientRect();return{left:t.left+window.scrollX,top:t.top+window.scrollY,right:t.right+window.scrollX,bottom:t.bottom+window.scrollY}}function dLe(e){let t=YK(e),r=e.getBoundingClientRect();for(let n of t){let a=GK(r,n.getBoundingClientRect());if(a)r=a;else return null}return r}function YK(e){let t=[];for(;e instanceof HTMLElement;){let r=window.getComputedStyle(e);if(r.position==="fixed")break;/(auto|scroll)/.test(r.overflow+r.overflowY+r.overflowX)&&t.push(e),e=e.parentNode}return t}class af{constructor(t,r,n,a){this.els=r;let s=this.originClientRect=t.getBoundingClientRect();n&&this.buildElHorizontals(s.left),a&&this.buildElVerticals(s.top)}buildElHorizontals(t){let r=[],n=[];for(let a of this.els){let s=a.getBoundingClientRect();r.push(s.left-t),n.push(s.right-t)}this.lefts=r,this.rights=n}buildElVerticals(t){let r=[],n=[];for(let a of this.els){let s=a.getBoundingClientRect();r.push(s.top-t),n.push(s.bottom-t)}this.tops=r,this.bottoms=n}leftToIndex(t){let{lefts:r,rights:n}=this,a=r.length,s;for(s=0;s<a;s+=1)if(t>=r[s]&&t<n[s])return s}topToIndex(t){let{tops:r,bottoms:n}=this,a=r.length,s;for(s=0;s<a;s+=1)if(t>=r[s]&&t<n[s])return s}getWidth(t){return this.rights[t]-this.lefts[t]}getHeight(t){return this.bottoms[t]-this.tops[t]}similarTo(t){return sv(this.tops||[],t.tops||[])&&sv(this.bottoms||[],t.bottoms||[])&&sv(this.lefts||[],t.lefts||[])&&sv(this.rights||[],t.rights||[])}}function sv(e,t){const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(Math.round(e[n])!==Math.round(t[n]))return!1;return!0}class xP{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class fLe extends xP{constructor(t){super(),this.el=t}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(t){this.el.scrollTop=t}setScrollLeft(t){this.el.scrollLeft=t}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class hLe extends xP{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(t){window.scroll(window.scrollX,t)}setScrollLeft(t){window.scroll(t,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Rs extends bt{constructor(){super(...arguments),this.uid=Ic()}prepareHits(){}queryHit(t,r,n,a){return null}isValidSegDownEl(t){return!this.props.eventDrag&&!this.props.eventResize&&!Vr(t,".fc-event-mirror")}isValidDateDownEl(t){return!Vr(t,".fc-event:not(.fc-bg-event)")&&!Vr(t,".fc-more-link")&&!Vr(t,"a[data-navlink]")&&!Vr(t,".fc-popover")}}class JK{constructor(t=r=>r.thickness||1){this.getEntryThickness=t,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(t){let r=[];for(let n of t)this.insertEntry(n,r);return r}insertEntry(t,r){let n=this.findInsertion(t);this.isInsertionValid(n,t)?this.insertEntryAt(t,n):this.handleInvalidInsertion(n,t,r)}isInsertionValid(t,r){return(this.maxCoord===-1||t.levelCoord+this.getEntryThickness(r)<=this.maxCoord)&&(this.maxStackCnt===-1||t.stackCnt<this.maxStackCnt)}handleInvalidInsertion(t,r,n){if(this.allowReslicing&&t.touchingEntry){const a=Object.assign(Object.assign({},r),{span:wP(r.span,t.touchingEntry.span)});n.push(a),this.splitEntry(r,t.touchingEntry,n)}else n.push(r)}splitEntry(t,r,n){let a=t.span,s=r.span;a.start<s.start&&this.insertEntry({index:t.index,thickness:t.thickness,span:{start:a.start,end:s.start}},n),a.end>s.end&&this.insertEntry({index:t.index,thickness:t.thickness,span:{start:s.end,end:a.end}},n)}insertEntryAt(t,r){let{entriesByLevel:n,levelCoords:a}=this;r.lateral===-1?(dj(a,r.level,r.levelCoord),dj(n,r.level,[t])):dj(n[r.level],r.lateral,t),this.stackCnts[Wl(t)]=r.stackCnt}findInsertion(t){let{levelCoords:r,entriesByLevel:n,strictOrder:a,stackCnts:s}=this,i=r.length,l=0,c=-1,u=-1,d=null,f=0;for(let v=0;v<i;v+=1){const p=r[v];if(!a&&p>=l+this.getEntryThickness(t))break;let g=n[v],b,y=eN(g,t.span.start,Zk),w=y[0]+y[1];for(;(b=g[w])&&b.span.start<t.span.end;){let _=p+this.getEntryThickness(b);_>l&&(l=_,d=b,c=v,u=w),_===l&&(f=Math.max(f,s[Wl(b)]+1)),w+=1}}let h=0;if(d)for(h=c+1;h<i&&r[h]<l;)h+=1;let m=-1;return h<i&&r[h]===l&&(m=eN(n[h],t.span.end,Zk)[0]),{touchingLevel:c,touchingLateral:u,touchingEntry:d,stackCnt:f,levelCoord:l,level:h,lateral:m}}toRects(){let{entriesByLevel:t,levelCoords:r}=this,n=t.length,a=[];for(let s=0;s<n;s+=1){let i=t[s],l=r[s];for(let c of i)a.push(Object.assign(Object.assign({},c),{thickness:this.getEntryThickness(c),levelCoord:l}))}return a}}function Zk(e){return e.span.end}function Wl(e){return e.index+":"+e.span.start}function mLe(e){let t=[];for(let r of e){let n=[],a={span:r.span,entries:[r]};for(let s of t)wP(s.span,a.span)?a={entries:s.entries.concat(a.entries),span:pLe(s.span,a.span)}:n.push(s);n.push(a),t=n}return t}function pLe(e,t){return{start:Math.min(e.start,t.start),end:Math.max(e.end,t.end)}}function wP(e,t){let r=Math.max(e.start,t.start),n=Math.min(e.end,t.end);return r<n?{start:r,end:n}:null}function dj(e,t,r){e.splice(t,0,r)}function eN(e,t,r){let n=0,a=e.length;if(!a||t<r(e[n]))return[0,0];if(t>r(e[a-1]))return[a,0];for(;n<a;){let s=Math.floor(n+(a-n)/2),i=r(e[s]);if(t<i)a=s;else if(t>i)n=s+1;else return[s,1]}return[n,0]}class gLe{constructor(t,r){this.emitter=new cw}destroy(){}setMirrorIsVisible(t){}setMirrorNeedsRevert(t){}setAutoScrollEnabled(t){}}const uw={},vLe={startTime:at,duration:at,create:Boolean,sourceId:String};function tN(e){let{refined:t,extra:r}=sw(e,vLe);return{startTime:t.startTime||null,duration:t.duration||null,create:t.create!=null?t.create:!0,sourceId:t.sourceId,leftoverProps:r}}function yLe(e,t){return!e||t>10?Xt({weekday:"short"}):t>1?Xt({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Xt({weekday:"long"})}const XK="fc-col-header-cell";function ZK(e){return e.text}class bLe extends bt{render(){let{dateEnv:t,options:r,theme:n,viewApi:a}=this.context,{props:s}=this,{date:i,dateProfile:l}=s,c=VK(i,s.todayRange,null,l),u=[XK].concat(yP(c,n)),d=t.format(i,s.dayHeaderFormat),f=!c.isDisabled&&s.colCnt>1?Wb(this.context,i):{},h=t.toDate(i);t.namedTimeZoneImpl&&(h=$o(h,36e5));let m=Object.assign(Object.assign(Object.assign({date:h,view:a},s.extraRenderProps),{text:d}),c);return H(oa,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":c.isDisabled?void 0:sP(i)},s.extraDataAttrs),renderProps:m,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:ZK,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},v=>H("div",{className:"fc-scrollgrid-sync-inner"},!c.isDisabled&&H(v,{elTag:"a",elAttrs:f,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const xLe=Xt({weekday:"long"});class wLe extends bt{render(){let{props:t}=this,{dateEnv:r,theme:n,viewApi:a,options:s}=this.context,i=Xr(new Date(2592e5),t.dow),l={dow:t.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},c=r.format(i,t.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:i},l),{view:a}),t.extraRenderProps),{text:c});return H(oa,{elTag:"th",elClasses:[XK,...yP(l,n),...t.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:t.colSpan},t.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:ZK,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},d=>H("div",{className:"fc-scrollgrid-sync-inner"},H(d,{elTag:"a",elClasses:["fc-col-header-cell-cushion",t.isSticky&&"fc-sticky"],elAttrs:{"aria-label":r.format(i,xLe)}})))}}class e7 extends bt{constructor(){super(...arguments),this.createDayHeaderFormatter=Re(_Le)}render(){let{context:t}=this,{dates:r,dateProfile:n,datesRepDistinctDays:a,renderIntro:s}=this.props,i=this.createDayHeaderFormatter(t.options.dayHeaderFormat,a,r.length);return H($f,{unit:"day"},(l,c)=>H("tr",{role:"row"},s&&s("day"),r.map(u=>a?H(bLe,{key:u.toISOString(),date:u,dateProfile:n,todayRange:c,colCnt:r.length,dayHeaderFormat:i}):H(wLe,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:i}))))}}function _Le(e,t,r){return e||yLe(t,r)}class t7{constructor(t,r){let n=t.start,{end:a}=t,s=[],i=[],l=-1;for(;n<a;)r.isHiddenDay(n)?s.push(l+.5):(l+=1,s.push(l),i.push(n)),n=Xr(n,1);this.dates=i,this.indices=s,this.cnt=i.length}sliceRange(t){let r=this.getDateDayIndex(t.start),n=this.getDateDayIndex(Xr(t.end,-1)),a=Math.max(0,r),s=Math.min(this.cnt-1,n);return a=Math.ceil(a),s=Math.floor(s),a<=s?{firstIndex:a,lastIndex:s,isStart:r===a,isEnd:n===s}:null}getDateDayIndex(t){let{indices:r}=this,n=Math.floor($c(this.dates[0],t));return n<0?r[0]-1:n>=r.length?r[r.length-1]+1:r[n]}}class r7{constructor(t,r){let{dates:n}=t,a,s,i;if(r){for(s=n[0].getUTCDay(),a=1;a<n.length&&n[a].getUTCDay()!==s;a+=1);i=Math.ceil(n.length/a)}else i=1,a=n.length;this.rowCnt=i,this.colCnt=a,this.daySeries=t,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let t=[];for(let r=0;r<this.rowCnt;r+=1){let n=[];for(let a=0;a<this.colCnt;a+=1)n.push(this.buildCell(r,a));t.push(n)}return t}buildCell(t,r){let n=this.daySeries.dates[t*this.colCnt+r];return{key:n.toISOString(),date:n}}buildHeaderDates(){let t=[];for(let r=0;r<this.colCnt;r+=1)t.push(this.cells[0][r].date);return t}sliceRange(t){let{colCnt:r}=this,n=this.daySeries.sliceRange(t),a=[];if(n){let{firstIndex:s,lastIndex:i}=n,l=s;for(;l<=i;){let c=Math.floor(l/r),u=Math.min((c+1)*r,i+1);a.push({row:c,firstCol:l%r,lastCol:(u-1)%r,isStart:n.isStart&&l===s,isEnd:n.isEnd&&u-1===i}),l=u}}return a}}class n7{constructor(){this.sliceBusinessHours=Re(this._sliceBusinessHours),this.sliceDateSelection=Re(this._sliceDateSpan),this.sliceEventStore=Re(this._sliceEventStore),this.sliceEventDrag=Re(this._sliceInteraction),this.sliceEventResize=Re(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(t,r,n,a,...s){let{eventUiBases:i}=t,l=this.sliceEventStore(t.eventStore,i,r,n,...s);return{dateSelectionSegs:this.sliceDateSelection(t.dateSelection,r,n,i,a,...s),businessHourSegs:this.sliceBusinessHours(t.businessHours,r,n,a,...s),fgEventSegs:l.fg,bgEventSegs:l.bg,eventDrag:this.sliceEventDrag(t.eventDrag,i,r,n,...s),eventResize:this.sliceEventResize(t.eventResize,i,r,n,...s),eventSelection:t.eventSelection}}sliceNowDate(t,r,n,a,...s){return this._sliceDateSpan({range:{start:t,end:$o(t,1)},allDay:!1},r,n,{},a,...s)}_sliceBusinessHours(t,r,n,a,...s){return t?this._sliceEventStore(gc(t,iv(r,!!n),a),{},r,n,...s).bg:[]}_sliceEventStore(t,r,n,a,...s){if(t){let i=l$(t,r,iv(n,!!a),a);return{bg:this.sliceEventRanges(i.bg,s),fg:this.sliceEventRanges(i.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(t,r,n,a,...s){if(!t)return null;let i=l$(t.mutatedEvents,r,iv(n,!!a),a);return{segs:this.sliceEventRanges(i.fg,s),affectedInstances:t.affectedEvents.instances,isEvent:t.isEvent}}_sliceDateSpan(t,r,n,a,s,...i){if(!t)return[];let l=iv(r,!!n),c=pc(t.range,l);if(c){t=Object.assign(Object.assign({},t),{range:c});let u=H5e(t,a,s),d=this.sliceRange(t.range,...i);for(let f of d)f.eventRange=u;return d}return[]}sliceEventRanges(t,r){let n=[];for(let a of t)n.push(...this.sliceEventRange(a,r));return n}sliceEventRange(t,r){let n=t.range;this.forceDayIfListItem&&t.ui.display==="list-item"&&(n={start:n.start,end:Xr(n.start,1)});let a=this.sliceRange(n,...r);for(let s of a)s.eventRange=t,s.isStart=t.isStart&&s.isStart,s.isEnd=t.isEnd&&s.isEnd;return a}}function iv(e,t){let r=e.activeRange;return t?r:{start:$o(r.start,e.slotMinTime.milliseconds),end:$o(r.end,e.slotMaxTime.milliseconds-864e5)}}function _P(e,t,r){let{instances:n}=e.mutatedEvents;for(let a in n)if(!iw(t.validRange,n[a].range))return!1;return a7({eventDrag:e},r)}function jLe(e,t,r){return iw(t.validRange,e.range)?a7({dateSelection:e},r):!1}function a7(e,t){let r=t.getCurrentData(),n=Object.assign({businessHours:r.businessHours,dateSelection:"",eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},e);return(t.pluginHooks.isPropsValid||SLe)(n,t)}function SLe(e,t,r={},n){return!(e.eventDrag&&!kLe(e,t,r,n)||e.dateSelection&&!NLe(e,t,r,n))}function kLe(e,t,r,n){let a=t.getCurrentData(),s=e.eventDrag,i=s.mutatedEvents,l=i.defs,c=i.instances,u=Hb(l,s.isEvent?e.eventUiBases:{"":a.selectionConfig});n&&(u=gi(u,n));let d=w5e(e.eventStore,s.affectedEvents.instances),f=d.defs,h=d.instances,m=Hb(f,e.eventUiBases);for(let v in c){let p=c[v],g=p.range,b=u[p.defId],y=l[p.defId];if(!s7(b.constraints,g,d,e.businessHours,t))return!1;let{eventOverlap:w}=t.options,_=typeof w=="function"?w:null;for(let S in h){let k=h[S];if(uP(g,k.range)&&(m[k.defId].overlap===!1&&s.isEvent||b.overlap===!1||_&&!_(new Vt(t,f[k.defId],k),new Vt(t,y,p))))return!1}let j=a.eventStore;for(let S of b.allows){let k=Object.assign(Object.assign({},r),{range:p.range,allDay:y.allDay}),N=j.defs[y.defId],E=j.instances[v],P;if(N?P=new Vt(t,N,E):P=new Vt(t,y),!S(pP(k,t),P))return!1}}return!0}function NLe(e,t,r,n){let a=e.eventStore,s=a.defs,i=a.instances,l=e.dateSelection,c=l.range,{selectionConfig:u}=t.getCurrentData();if(n&&(u=n(u)),!s7(u.constraints,c,a,e.businessHours,t))return!1;let{selectOverlap:d}=t.options,f=typeof d=="function"?d:null;for(let h in i){let m=i[h];if(uP(c,m.range)&&(u.overlap===!1||f&&!f(new Vt(t,s[m.defId],m),null)))return!1}for(let h of u.allows){let m=Object.assign(Object.assign({},r),l);if(!h(pP(m,t),null))return!1}return!0}function s7(e,t,r,n,a){for(let s of e)if(!CLe(ELe(s,t,r,n,a),t))return!1;return!0}function ELe(e,t,r,n,a){return e==="businessHours"?fj(gc(n,t,a)):typeof e=="string"?fj(lw(r,s=>s.groupId===e)):typeof e=="object"&&e?fj(gc(e,t,a)):[]}function fj(e){let{instances:t}=e,r=[];for(let n in t)r.push(t[n].range);return r}function CLe(e,t){for(let r of e)if(iw(r,t))return!0;return!1}const ov=/^(visible|hidden)$/;class ALe extends bt{constructor(){super(...arguments),this.handleEl=t=>{this.el=t,vi(this.props.elRef,t)}}render(){let{props:t}=this,{liquid:r,liquidIsAbsolute:n}=t,a=r&&n,s=["fc-scroller"];return r&&(n?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),H("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:t.overflowX,overflowY:t.overflowY,left:a&&-(t.overcomeLeft||0)||"",right:a&&-(t.overcomeRight||0)||"",bottom:a&&-(t.overcomeBottom||0)||"",marginLeft:!a&&-(t.overcomeLeft||0)||"",marginRight:!a&&-(t.overcomeRight||0)||"",marginBottom:!a&&-(t.overcomeBottom||0)||"",maxHeight:t.maxHeight||""}},t.children)}needsXScrolling(){if(ov.test(this.props.overflowX))return!1;let{el:t}=this,r=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=t;for(let a=0;a<n.length;a+=1)if(n[a].getBoundingClientRect().width>r)return!0;return!1}needsYScrolling(){if(ov.test(this.props.overflowY))return!1;let{el:t}=this,r=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=t;for(let a=0;a<n.length;a+=1)if(n[a].getBoundingClientRect().height>r)return!0;return!1}getXScrollbarWidth(){return ov.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return ov.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Js{constructor(t){this.masterCallback=t,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(r,n)=>{let{depths:a,currentMap:s}=this,i=!1,l=!1;r!==null?(i=n in s,s[n]=r,a[n]=(a[n]||0)+1,l=!0):(a[n]-=1,a[n]||(delete s[n],delete this.callbackMap[n],i=!0)),this.masterCallback&&(i&&this.masterCallback(null,String(n)),l&&this.masterCallback(r,String(n)))}}createRef(t){let r=this.callbackMap[t];return r||(r=this.callbackMap[t]=n=>{this.handleValue(n,String(t))}),r}collect(t,r,n){return B3e(this.currentMap,t,r,n)}getAll(){return lP(this.currentMap)}}function PLe(e){let t=F4e(e,".fc-scrollgrid-shrink"),r=0;for(let n of t)r=Math.max(r,Z4e(n));return Math.ceil(r)}function i7(e,t){return e.liquid&&t.liquid}function TLe(e,t){return t.maxHeight!=null||i7(e,t)}function DLe(e,t,r,n){let{expandRows:a}=r;return typeof t.content=="function"?t.content(r):H("table",{role:"presentation",className:[t.tableClassName,e.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:r.tableMinWidth,width:r.clientWidth,height:a?r.clientHeight:""}},r.tableColGroupNode,H(n?"thead":"tbody",{role:"presentation"},typeof t.rowContent=="function"?t.rowContent(r):t.rowContent))}function MLe(e,t){return Io(e,t,Ts)}function OLe(e,t){let r=[];for(let n of e){let a=n.span||1;for(let s=0;s<a;s+=1)r.push(H("col",{style:{width:n.width==="shrink"?RLe(t):n.width||"",minWidth:n.minWidth||""}}))}return H("colgroup",{},...r)}function RLe(e){return e??4}function ILe(e){for(let t of e)if(t.width==="shrink")return!0;return!1}function $Le(e,t){let r=["fc-scrollgrid",t.theme.getClass("table")];return e&&r.push("fc-scrollgrid-liquid"),r}function LLe(e,t){let r=["fc-scrollgrid-section",`fc-scrollgrid-section-${e.type}`,e.className];return t&&e.liquid&&e.maxHeight==null&&r.push("fc-scrollgrid-section-liquid"),e.isSticky&&r.push("fc-scrollgrid-section-sticky"),r}function rN(e){return H("div",{className:"fc-scrollgrid-sticky-shim",style:{width:e.clientWidth,minWidth:e.tableMinWidth}})}function Kb(e){let{stickyHeaderDates:t}=e;return(t==null||t==="auto")&&(t=e.height==="auto"||e.viewHeight==="auto"),t}function o7(e){let{stickyFooterScrollbar:t}=e;return(t==null||t==="auto")&&(t=e.height==="auto"||e.viewHeight==="auto"),t}class jP extends bt{constructor(){super(...arguments),this.processCols=Re(t=>t,MLe),this.renderMicroColGroup=Re(OLe),this.scrollerRefs=new Js,this.scrollerElRefs=new Js(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:t,state:r,context:n}=this,a=t.sections||[],s=this.processCols(t.cols),i=this.renderMicroColGroup(s,r.shrinkWidth),l=$Le(t.liquid,n);t.collapsibleWidth&&l.push("fc-scrollgrid-collapsible");let c=a.length,u=0,d,f=[],h=[],m=[];for(;u<c&&(d=a[u]).type==="header";)f.push(this.renderSection(d,i,!0)),u+=1;for(;u<c&&(d=a[u]).type==="body";)h.push(this.renderSection(d,i,!1)),u+=1;for(;u<c&&(d=a[u]).type==="footer";)m.push(this.renderSection(d,i,!0)),u+=1;let v=!KK();const p={role:"rowgroup"};return H("table",{role:"grid",className:l.join(" "),style:{height:t.height}},!!(!v&&f.length)&&H("thead",p,...f),!!(!v&&h.length)&&H("tbody",p,...h),!!(!v&&m.length)&&H("tfoot",p,...m),v&&H("tbody",p,...f,...h,...m))}renderSection(t,r,n){return"outerContent"in t?H(It,{key:t.key},t.outerContent):H("tr",{key:t.key,role:"presentation",className:LLe(t,this.props.liquid).join(" ")},this.renderChunkTd(t,r,t.chunk,n))}renderChunkTd(t,r,n,a){if("outerContent"in n)return n.outerContent;let{props:s}=this,{forceYScrollbars:i,scrollerClientWidths:l,scrollerClientHeights:c}=this.state,u=TLe(s,t),d=i7(s,t),f=s.liquid?i?"scroll":u?"auto":"hidden":"visible",h=t.key,m=DLe(t,n,{tableColGroupNode:r,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&l[h]!==void 0?l[h]:null,clientHeight:c[h]!==void 0?c[h]:null,expandRows:t.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},a);return H(a?"th":"td",{ref:n.elRef,role:"presentation"},H("div",{className:`fc-scroller-harness${d?" fc-scroller-harness-liquid":""}`},H(ALe,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:f,overflowX:s.liquid?"hidden":"visible",maxHeight:t.maxHeight,liquid:d,liquidIsAbsolute:!0},m)))}_handleScrollerEl(t,r){let n=FLe(this.props.sections,r);n&&vi(n.chunk.scrollerElRef,t)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return ILe(this.props.cols)?PLe(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let t=oLe(),{scrollerRefs:r,scrollerElRefs:n}=this,a=!1,s={},i={};for(let l in r.currentMap){let c=r.currentMap[l];if(c&&c.needsYScrolling()){a=!0;break}}for(let l of this.props.sections){let c=l.key,u=n.currentMap[c];if(u){let d=u.parentNode;s[c]=Math.floor(d.getBoundingClientRect().width-(a?t.y:0)),i[c]=Math.floor(d.getBoundingClientRect().height)}}return{forceYScrollbars:a,scrollerClientWidths:s,scrollerClientHeights:i}}}jP.addStateEquality({scrollerClientWidths:Ts,scrollerClientHeights:Ts});function FLe(e,t){for(let r of e)if(r.key===t)return r;return null}class SP extends bt{constructor(){super(...arguments),this.handleEl=t=>{this.el=t,t&&c$(t,this.props.seg)}}render(){const{props:t,context:r}=this,{options:n}=r,{seg:a}=t,{eventRange:s}=a,{ui:i}=s,l={event:new Vt(r,s.def,s.instance),view:r.viewApi,timeText:t.timeText,textColor:i.textColor,backgroundColor:i.backgroundColor,borderColor:i.borderColor,isDraggable:!t.disableDragging&&M5e(a,r),isStartResizable:!t.disableResizing&&O5e(a,r),isEndResizable:!t.disableResizing&&R5e(a),isMirror:!!(t.isDragging||t.isResizing||t.isDateSelecting),isStart:!!a.isStart,isEnd:!!a.isEnd,isPast:!!t.isPast,isFuture:!!t.isFuture,isToday:!!t.isToday,isSelected:!!t.isSelected,isDragging:!!t.isDragging,isResizing:!!t.isResizing};return H(oa,Object.assign({},t,{elRef:this.handleEl,elClasses:[...I5e(l),...a.eventRange.ui.classNames,...t.elClasses||[]],renderProps:l,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:t.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount}))}componentDidUpdate(t){this.el&&this.props.seg!==t.seg&&c$(this.el,this.props.seg)}}class l7 extends bt{render(){let{props:t,context:r}=this,{options:n}=r,{seg:a}=t,{ui:s}=a.eventRange,i=n.eventTimeFormat||t.defaultTimeFormat,l=zK(a,i,r,t.defaultDisplayEventTime,t.defaultDisplayEventEnd);return H(SP,Object.assign({},t,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:HK(a,r),defaultGenerator:BLe,timeText:l}),(c,u)=>H(It,null,H(c,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&H("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&H("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function BLe(e){return H("div",{className:"fc-event-main-frame"},e.timeText&&H("div",{className:"fc-event-time"},e.timeText),H("div",{className:"fc-event-title-container"},H("div",{className:"fc-event-title fc-sticky"},e.event.title||H(It,null,""))))}const kP=e=>H(Ni.Consumer,null,t=>{let{options:r}=t,n={isAxis:e.isAxis,date:t.dateEnv.toDate(e.date),view:t.viewApi};return H(oa,Object.assign({},e,{elTag:e.elTag||"div",renderProps:n,generatorName:"nowIndicatorContent",customGenerator:r.nowIndicatorContent,classNameGenerator:r.nowIndicatorClassNames,didMount:r.nowIndicatorDidMount,willUnmount:r.nowIndicatorWillUnmount}))}),zLe=Xt({day:"numeric"});class NP extends bt{constructor(){super(...arguments),this.refineRenderProps=Fv(ULe)}render(){let{props:t,context:r}=this,{options:n}=r,a=this.refineRenderProps({date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,isMonthStart:t.isMonthStart||!1,showDayNumber:t.showDayNumber,extraRenderProps:t.extraRenderProps,viewApi:r.viewApi,dateEnv:r.dateEnv,monthStartFormat:n.monthStartFormat});return H(oa,Object.assign({},t,{elClasses:[...yP(a,r.theme),...t.elClasses||[]],elAttrs:Object.assign(Object.assign({},t.elAttrs),a.isDisabled?{}:{"data-date":sP(t.date)}),renderProps:a,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:t.defaultGenerator,classNameGenerator:a.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount}))}}function EP(e){return!!(e.dayCellContent||Jk("dayCellContent",e))}function ULe(e){let{date:t,dateEnv:r,dateProfile:n,isMonthStart:a}=e,s=VK(t,e.todayRange,null,n),i=e.showDayNumber?r.format(t,a?e.monthStartFormat:zLe):"";return Object.assign(Object.assign(Object.assign({date:r.toDate(t),view:e.viewApi},s),{isMonthStart:a,dayNumberText:i}),e.extraRenderProps)}class c7 extends bt{render(){let{props:t}=this,{seg:r}=t;return H(SP,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:r.eventRange.ui.backgroundColor},defaultGenerator:HLe,seg:r,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:t.isPast,isFuture:t.isFuture,isToday:t.isToday,disableDragging:!0,disableResizing:!0})}}function HLe(e){let{title:t}=e.event;return t&&H("div",{className:"fc-event-title"},e.event.title)}function u7(e){return H("div",{className:`fc-${e}`})}const d7=e=>H(Ni.Consumer,null,t=>{let{dateEnv:r,options:n}=t,{date:a}=e,s=n.weekNumberFormat||e.defaultFormat,i=r.computeWeekNumber(a),l=r.format(a,s);return H(oa,Object.assign({},e,{renderProps:{num:i,text:l,date:a},generatorName:"weekNumberContent",customGenerator:n.weekNumberContent,defaultGenerator:qLe,classNameGenerator:n.weekNumberClassNames,didMount:n.weekNumberDidMount,willUnmount:n.weekNumberWillUnmount}))});function qLe(e){return e.text}const hj=10;class WLe extends bt{constructor(){super(...arguments),this.state={titleId:tw()},this.handleRootEl=t=>{this.rootEl=t,this.props.elRef&&vi(this.props.elRef,t)},this.handleDocumentMouseDown=t=>{const r=pK(t);this.rootEl.contains(r)||this.handleCloseClick()},this.handleDocumentKeyDown=t=>{t.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:t}=this.props;t&&t()}}render(){let{theme:t,options:r}=this.context,{props:n,state:a}=this,s=["fc-popover",t.getClass("popover")].concat(n.extraClassNames||[]);return N4e(H("div",Object.assign({},n.extraAttrs,{id:n.id,className:s.join(" "),"aria-labelledby":a.titleId,ref:this.handleRootEl}),H("div",{className:"fc-popover-header "+t.getClass("popoverHeader")},H("span",{className:"fc-popover-title",id:a.titleId},n.title),H("span",{className:"fc-popover-close "+t.getIconClass("close"),title:r.closeHint,onClick:this.handleCloseClick})),H("div",{className:"fc-popover-body "+t.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:t}=this.context,{alignmentEl:r,alignGridTop:n}=this.props,{rootEl:a}=this,s=dLe(r);if(s){let i=a.getBoundingClientRect(),l=n?Vr(r,".fc-scrollgrid").getBoundingClientRect().top:s.top,c=t?s.right-i.width:s.left;l=Math.max(l,hj),c=Math.min(c,document.documentElement.clientWidth-hj-i.width),c=Math.max(c,hj);let u=a.offsetParent.getBoundingClientRect();Vh(a,{top:l-u.top,left:c-u.left})}}}class KLe extends Rs{constructor(){super(...arguments),this.handleRootEl=t=>{this.rootEl=t,t?this.context.registerInteractiveComponent(this,{el:t,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:t,dateEnv:r}=this.context,{props:n}=this,{startDate:a,todayRange:s,dateProfile:i}=n,l=r.format(a,t.dayPopoverFormat);return H(NP,{elRef:this.handleRootEl,date:a,dateProfile:i,todayRange:s},(c,u,d)=>H(WLe,{elRef:d.ref,id:n.id,title:l,extraClassNames:["fc-more-popover"].concat(d.className||[]),extraAttrs:d,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},EP(t)&&H(c,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(t,r,n,a){let{rootEl:s,props:i}=this;return t>=0&&t<n&&r>=0&&r<a?{dateProfile:i.dateProfile,dateSpan:Object.assign({allDay:!i.forceTimed,range:{start:i.startDate,end:i.endDate}},i.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:n,bottom:a},layer:1}:null}}class f7 extends bt{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:tw()},this.handleLinkEl=t=>{this.linkEl=t,this.props.elRef&&vi(this.props.elRef,t)},this.handleClick=t=>{let{props:r,context:n}=this,{moreLinkClick:a}=n.options,s=d$(r).start;function i(l){let{def:c,instance:u,range:d}=l.eventRange;return{event:new Vt(n,c,u),start:n.dateEnv.toDate(d.start),end:n.dateEnv.toDate(d.end),isStart:l.isStart,isEnd:l.isEnd}}typeof a=="function"&&(a=a({date:s,allDay:!!r.allDayDate,allSegs:r.allSegs.map(i),hiddenSegs:r.hiddenSegs.map(i),jsEvent:t,view:n.viewApi})),!a||a==="popover"?this.setState({isPopoverOpen:!0}):typeof a=="string"&&n.calendarApi.zoomTo(s,a)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:t,state:r}=this;return H(Ni.Consumer,null,n=>{let{viewApi:a,options:s,calendarApi:i}=n,{moreLinkText:l}=s,{moreCnt:c}=t,u=d$(t),d=typeof l=="function"?l.call(i,c):`+${c} ${l}`,f=Qh(s.moreLinkHint,[c],d),h={num:c,shortText:`+${c}`,text:d,view:a};return H(It,null,!!t.moreCnt&&H(oa,{elTag:t.elTag||"a",elRef:this.handleLinkEl,elClasses:[...t.elClasses||[],"fc-more-link"],elStyle:t.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},t.elAttrs),vK(this.handleClick)),{title:f,"aria-expanded":r.isPopoverOpen,"aria-controls":r.isPopoverOpen?r.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:t.defaultGenerator||GLe,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},t.children),r.isPopoverOpen&&H(KLe,{id:r.popoverId,startDate:u.start,endDate:u.end,dateProfile:t.dateProfile,todayRange:t.todayRange,extraDateSpan:t.extraDateSpan,parentEl:this.parentEl,alignmentEl:t.alignmentElRef?t.alignmentElRef.current:this.linkEl,alignGridTop:t.alignGridTop,forceTimed:t.forceTimed,onClose:this.handlePopoverClose},t.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=Vr(this.linkEl,".fc-view-harness"))}}function GLe(e){return e.text}function d$(e){if(e.allDayDate)return{start:e.allDayDate,end:Xr(e.allDayDate,1)};let{hiddenSegs:t}=e;return{start:h7(t),end:QLe(t)}}function h7(e){return e.reduce(VLe).eventRange.range.start}function VLe(e,t){return e.eventRange.range.start<t.eventRange.range.start?e:t}function QLe(e){return e.reduce(YLe).eventRange.range.end}function YLe(e,t){return e.eventRange.range.end>t.eventRange.range.end?e:t}class JLe{constructor(){this.handlers=[]}set(t){this.currentValue=t;for(let r of this.handlers)r(t)}subscribe(t){this.handlers.push(t),this.currentValue!==void 0&&t(this.currentValue)}}class XLe extends JLe{constructor(){super(...arguments),this.map=new Map}handle(t){const{map:r}=this;let n=!1;t.isActive?(r.set(t.id,t),n=!0):r.has(t.id)&&(r.delete(t.id),n=!0),n&&this.set(r)}}const ZLe=[],m7={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},p7=Object.assign(Object.assign({},m7),{buttonHints:{prev:"Previous $0",next:"Next $0",today(e,t){return t==="day"?"Today":`This ${e}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(e){return`Show ${e} more event${e===1?"":"s"}`}});function eFe(e){let t=e.length>0?e[0].code:"en",r=ZLe.concat(e),n={en:p7};for(let a of r)n[a.code]=a;return{map:n,defaultCode:t}}function g7(e,t){return typeof e=="object"&&!Array.isArray(e)?v7(e.code,[e.code],e):tFe(e,t)}function tFe(e,t){let r=[].concat(e||[]),n=rFe(r,t)||p7;return v7(e,r,n)}function rFe(e,t){for(let r=0;r<e.length;r+=1){let n=e[r].toLocaleLowerCase().split("-");for(let a=n.length;a>0;a-=1){let s=n.slice(0,a).join("-");if(t[s])return t[s]}}return null}function v7(e,t,r){let n=oP([m7,r],["buttonText"]);delete n.code;let{week:a}=n;return delete n.week,{codeArg:e,codes:t,week:a,simpleNumberFormat:new Intl.NumberFormat(e),options:n}}function Ei(e){return{id:Ic(),name:e.name,premiumReleaseDate:e.premiumReleaseDate?new Date(e.premiumReleaseDate):void 0,deps:e.deps||[],reducers:e.reducers||[],isLoadingFuncs:e.isLoadingFuncs||[],contextInit:[].concat(e.contextInit||[]),eventRefiners:e.eventRefiners||{},eventDefMemberAdders:e.eventDefMemberAdders||[],eventSourceRefiners:e.eventSourceRefiners||{},isDraggableTransformers:e.isDraggableTransformers||[],eventDragMutationMassagers:e.eventDragMutationMassagers||[],eventDefMutationAppliers:e.eventDefMutationAppliers||[],dateSelectionTransformers:e.dateSelectionTransformers||[],datePointTransforms:e.datePointTransforms||[],dateSpanTransforms:e.dateSpanTransforms||[],views:e.views||{},viewPropsTransformers:e.viewPropsTransformers||[],isPropsValid:e.isPropsValid||null,externalDefTransforms:e.externalDefTransforms||[],viewContainerAppends:e.viewContainerAppends||[],eventDropTransformers:e.eventDropTransformers||[],componentInteractions:e.componentInteractions||[],calendarInteractions:e.calendarInteractions||[],themeClasses:e.themeClasses||{},eventSourceDefs:e.eventSourceDefs||[],cmdFormatter:e.cmdFormatter,recurringTypes:e.recurringTypes||[],namedTimeZonedImpl:e.namedTimeZonedImpl,initialView:e.initialView||"",elementDraggingImpl:e.elementDraggingImpl,optionChangeHandlers:e.optionChangeHandlers||{},scrollGridImpl:e.scrollGridImpl||null,listenerRefiners:e.listenerRefiners||{},optionRefiners:e.optionRefiners||{},propSetHandlers:e.propSetHandlers||{}}}function nFe(e,t){let r={},n={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function a(s){for(let i of s){const l=i.name,c=r[l];c===void 0?(r[l]=i.id,a(i.deps),n=sFe(n,i)):c!==i.id&&console.warn(`Duplicate plugin '${l}'`)}}return e&&a(e),a(t),n}function aFe(){let e=[],t=[],r;return(n,a)=>((!r||!Io(n,e)||!Io(a,t))&&(r=nFe(n,a)),e=n,t=a,r)}function sFe(e,t){return{premiumReleaseDate:iFe(e.premiumReleaseDate,t.premiumReleaseDate),reducers:e.reducers.concat(t.reducers),isLoadingFuncs:e.isLoadingFuncs.concat(t.isLoadingFuncs),contextInit:e.contextInit.concat(t.contextInit),eventRefiners:Object.assign(Object.assign({},e.eventRefiners),t.eventRefiners),eventDefMemberAdders:e.eventDefMemberAdders.concat(t.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},e.eventSourceRefiners),t.eventSourceRefiners),isDraggableTransformers:e.isDraggableTransformers.concat(t.isDraggableTransformers),eventDragMutationMassagers:e.eventDragMutationMassagers.concat(t.eventDragMutationMassagers),eventDefMutationAppliers:e.eventDefMutationAppliers.concat(t.eventDefMutationAppliers),dateSelectionTransformers:e.dateSelectionTransformers.concat(t.dateSelectionTransformers),datePointTransforms:e.datePointTransforms.concat(t.datePointTransforms),dateSpanTransforms:e.dateSpanTransforms.concat(t.dateSpanTransforms),views:Object.assign(Object.assign({},e.views),t.views),viewPropsTransformers:e.viewPropsTransformers.concat(t.viewPropsTransformers),isPropsValid:t.isPropsValid||e.isPropsValid,externalDefTransforms:e.externalDefTransforms.concat(t.externalDefTransforms),viewContainerAppends:e.viewContainerAppends.concat(t.viewContainerAppends),eventDropTransformers:e.eventDropTransformers.concat(t.eventDropTransformers),calendarInteractions:e.calendarInteractions.concat(t.calendarInteractions),componentInteractions:e.componentInteractions.concat(t.componentInteractions),themeClasses:Object.assign(Object.assign({},e.themeClasses),t.themeClasses),eventSourceDefs:e.eventSourceDefs.concat(t.eventSourceDefs),cmdFormatter:t.cmdFormatter||e.cmdFormatter,recurringTypes:e.recurringTypes.concat(t.recurringTypes),namedTimeZonedImpl:t.namedTimeZonedImpl||e.namedTimeZonedImpl,initialView:e.initialView||t.initialView,elementDraggingImpl:e.elementDraggingImpl||t.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},e.optionChangeHandlers),t.optionChangeHandlers),scrollGridImpl:t.scrollGridImpl||e.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},e.listenerRefiners),t.listenerRefiners),optionRefiners:Object.assign(Object.assign({},e.optionRefiners),t.optionRefiners),propSetHandlers:Object.assign(Object.assign({},e.propSetHandlers),t.propSetHandlers)}}function iFe(e,t){return e===void 0?t:t===void 0?e:new Date(Math.max(e.valueOf(),t.valueOf()))}class Zo extends Zp{}Zo.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Zo.prototype.baseIconClass="fc-icon";Zo.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Zo.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Zo.prototype.iconOverrideOption="buttonIcons";Zo.prototype.iconOverrideCustomButtonOption="icon";Zo.prototype.iconOverridePrefix="fc-icon-";function oFe(e,t){let r={},n;for(n in e)nN(n,r,e,t);for(n in t)nN(n,r,e,t);return r}function nN(e,t,r,n){if(t[e])return t[e];let a=lFe(e,t,r,n);return a&&(t[e]=a),a}function lFe(e,t,r,n){let a=r[e],s=n[e],i=d=>a&&a[d]!==null?a[d]:s&&s[d]!==null?s[d]:null,l=i("component"),c=i("superType"),u=null;if(c){if(c===e)throw new Error("Can't have a custom view type that references itself");u=nN(c,t,r,n)}return!l&&u&&(l=u.component),l?{type:e,component:l,defaults:Object.assign(Object.assign({},u?u.defaults:{}),a?a.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),s?s.rawOptions:{})}:null}function f$(e){return gi(e,cFe)}function cFe(e){let t=typeof e=="function"?{component:e}:e,{component:r}=t;return t.content?r=h$(t):r&&!(r.prototype instanceof bt)&&(r=h$(Object.assign(Object.assign({},t),{content:r}))),{superType:t.type,component:r,rawOptions:t}}function h$(e){return t=>H(Ni.Consumer,null,r=>H(oa,{elTag:"div",elClasses:NK(r.viewSpec),renderProps:Object.assign(Object.assign({},t),{nextDayThreshold:r.options.nextDayThreshold}),generatorName:void 0,customGenerator:e.content,classNameGenerator:e.classNames,didMount:e.didMount,willUnmount:e.willUnmount}))}function uFe(e,t,r,n){let a=f$(e),s=f$(t.views),i=oFe(a,s);return gi(i,l=>dFe(l,s,t,r,n))}function dFe(e,t,r,n,a){let s=e.overrides.duration||e.defaults.duration||n.duration||r.duration,i=null,l="",c="",u={};if(s&&(i=fFe(s),i)){let h=Qk(i);l=h.unit,h.value===1&&(c=l,u=t[l]?t[l].rawOptions:{})}let d=h=>{let m=h.buttonText||{},v=e.defaults.buttonTextKey;return v!=null&&m[v]!=null?m[v]:m[e.type]!=null?m[e.type]:m[c]!=null?m[c]:null},f=h=>{let m=h.buttonHints||{},v=e.defaults.buttonTextKey;return v!=null&&m[v]!=null?m[v]:m[e.type]!=null?m[e.type]:m[c]!=null?m[c]:null};return{type:e.type,component:e.component,duration:i,durationUnit:l,singleUnit:c,optionDefaults:e.defaults,optionOverrides:Object.assign(Object.assign({},u),e.overrides),buttonTextOverride:d(n)||d(r)||e.overrides.buttonText,buttonTextDefault:d(a)||e.defaults.buttonText||d(Hl)||e.type,buttonTitleOverride:f(n)||f(r)||e.overrides.buttonHint,buttonTitleDefault:f(a)||e.defaults.buttonHint||f(Hl)}}let m$={};function fFe(e){let t=JSON.stringify(e),r=m$[t];return r===void 0&&(r=at(e),m$[t]=r),r}function hFe(e,t){switch(t.type){case"CHANGE_VIEW_TYPE":e=t.viewType}return e}function mFe(e,t){switch(t.type){case"CHANGE_DATE":return t.dateMarker;default:return e}}function pFe(e,t,r){let n=e.initialDate;return n!=null?t.createMarker(n):r.getDateMarker()}function gFe(e,t){switch(t.type){case"SET_OPTION":return Object.assign(Object.assign({},e),{[t.optionName]:t.rawOptionValue});default:return e}}function vFe(e,t,r,n){let a;switch(t.type){case"CHANGE_VIEW_TYPE":return n.build(t.dateMarker||r);case"CHANGE_DATE":return n.build(t.dateMarker);case"PREV":if(a=n.buildPrev(e,r),a.isValid)return a;break;case"NEXT":if(a=n.buildNext(e,r),a.isValid)return a;break}return e}function yFe(e,t,r){let n=t?t.activeRange:null;return b7({},kFe(e,r),n,r)}function bFe(e,t,r,n){let a=r?r.activeRange:null;switch(t.type){case"ADD_EVENT_SOURCES":return b7(e,t.sources,a,n);case"REMOVE_EVENT_SOURCE":return wFe(e,t.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?x7(e,a,n):e;case"FETCH_EVENT_SOURCES":return CP(e,t.sourceIds?wK(t.sourceIds):w7(e,n),a,t.isRefetch||!1,n);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return SFe(e,t.sourceId,t.fetchId,t.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return e}}function xFe(e,t,r){let n=t?t.activeRange:null;return CP(e,w7(e,r),n,!0,r)}function y7(e){for(let t in e)if(e[t].isFetching)return!0;return!1}function b7(e,t,r,n){let a={};for(let s of t)a[s.sourceId]=s;return r&&(a=x7(a,r,n)),Object.assign(Object.assign({},e),a)}function wFe(e,t){return mc(e,r=>r.sourceId!==t)}function x7(e,t,r){return CP(e,mc(e,n=>_Fe(n,t,r)),t,!1,r)}function _Fe(e,t,r){return _7(e,r)?!r.options.lazyFetching||!e.fetchRange||e.isFetching||t.start<e.fetchRange.start||t.end>e.fetchRange.end:!e.latestFetchId}function CP(e,t,r,n,a){let s={};for(let i in e){let l=e[i];t[i]?s[i]=jFe(l,r,n,a):s[i]=l}return s}function jFe(e,t,r,n){let{options:a,calendarApi:s}=n,i=n.pluginHooks.eventSourceDefs[e.sourceDefId],l=Ic();return i.fetch({eventSource:e,range:t,isRefetch:r,context:n},c=>{let{rawEvents:u}=c;a.eventSourceSuccess&&(u=a.eventSourceSuccess.call(s,u,c.response)||u),e.success&&(u=e.success.call(s,u,c.response)||u),n.dispatch({type:"RECEIVE_EVENTS",sourceId:e.sourceId,fetchId:l,fetchRange:t,rawEvents:u})},c=>{let u=!1;a.eventSourceFailure&&(a.eventSourceFailure.call(s,c),u=!0),e.failure&&(e.failure(c),u=!0),u||console.warn(c.message,c),n.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:e.sourceId,fetchId:l,fetchRange:t,error:c})}),Object.assign(Object.assign({},e),{isFetching:!0,latestFetchId:l})}function SFe(e,t,r,n){let a=e[t];return a&&r===a.latestFetchId?Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},a),{isFetching:!1,fetchRange:n})}):e}function w7(e,t){return mc(e,r=>_7(r,t))}function kFe(e,t){let r=OK(t),n=[].concat(e.eventSources||[]),a=[];e.initialEvents&&n.unshift(e.initialEvents),e.events&&n.unshift(e.events);for(let s of n){let i=MK(s,t,r);i&&a.push(i)}return a}function _7(e,t){return!t.pluginHooks.eventSourceDefs[e.sourceDefId].ignoreRange}function NFe(e,t){switch(t.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return t.selection;default:return e}}function EFe(e,t){switch(t.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return t.eventInstanceId;default:return e}}function CFe(e,t){let r;switch(t.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return r=t.state,{affectedEvents:r.affectedEvents,mutatedEvents:r.mutatedEvents,isEvent:r.isEvent};default:return e}}function AFe(e,t){let r;switch(t.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return r=t.state,{affectedEvents:r.affectedEvents,mutatedEvents:r.mutatedEvents,isEvent:r.isEvent};default:return e}}function PFe(e,t,r,n,a){let s=e.headerToolbar?p$(e.headerToolbar,e,t,r,n,a):null,i=e.footerToolbar?p$(e.footerToolbar,e,t,r,n,a):null;return{header:s,footer:i}}function p$(e,t,r,n,a,s){let i={},l=[],c=!1;for(let u in e){let d=e[u],f=TFe(d,t,r,n,a,s);i[u]=f.widgets,l.push(...f.viewsWithButtons),c=c||f.hasTitle}return{sectionWidgets:i,viewsWithButtons:l,hasTitle:c}}function TFe(e,t,r,n,a,s){let i=t.direction==="rtl",l=t.customButtons||{},c=r.buttonText||{},u=t.buttonText||{},d=r.buttonHints||{},f=t.buttonHints||{},h=e?e.split(" "):[],m=[],v=!1;return{widgets:h.map(g=>g.split(",").map(b=>{if(b==="title")return v=!0,{buttonName:b};let y,w,_,j,S,k;if(y=l[b])_=N=>{y.click&&y.click.call(N.target,N,N.target)},(j=n.getCustomButtonIconClass(y))||(j=n.getIconClass(b,i))||(S=y.text),k=y.hint||y.text;else if(w=a[b]){m.push(b),_=()=>{s.changeView(b)},(S=w.buttonTextOverride)||(j=n.getIconClass(b,i))||(S=w.buttonTextDefault);let N=w.buttonTextOverride||w.buttonTextDefault;k=Qh(w.buttonTitleOverride||w.buttonTitleDefault||t.viewHint,[N,b],N)}else if(s[b])if(_=()=>{s[b]()},(S=c[b])||(j=n.getIconClass(b,i))||(S=u[b]),b==="prevYear"||b==="nextYear"){let N=b==="prevYear"?"prev":"next";k=Qh(d[N]||f[N],[u.year||"year","year"],u[b])}else k=N=>Qh(d[b]||f[b],[u[N]||N,N],u[b]);return{buttonName:b,buttonClick:_,buttonIcon:j,buttonText:S,buttonHint:k}})),viewsWithButtons:m,hasTitle:v}}class DFe{constructor(t,r,n){this.type=t,this.getCurrentData=r,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(t){return this.getCurrentData().options[t]}}let MFe={ignoreRange:!0,parseMeta(e){return Array.isArray(e.events)?e.events:null},fetch(e,t){t({rawEvents:e.eventSource.meta})}};const OFe=Ei({name:"array-event-source",eventSourceDefs:[MFe]});let RFe={parseMeta(e){return typeof e.events=="function"?e.events:null},fetch(e,t,r){const{dateEnv:n}=e.context,a=e.eventSource.meta;q5e(a.bind(null,qK(e.range,n)),s=>t({rawEvents:s}),r)}};const IFe=Ei({name:"func-event-source",eventSourceDefs:[RFe]}),$Fe={method:String,extraParams:re,startParam:String,endParam:String,timeZoneParam:String};let LFe={parseMeta(e){return e.url&&(e.format==="json"||!e.format)?{url:e.url,format:"json",method:(e.method||"GET").toUpperCase(),extraParams:e.extraParams,startParam:e.startParam,endParam:e.endParam,timeZoneParam:e.timeZoneParam}:null},fetch(e,t,r){const{meta:n}=e.eventSource,a=BFe(n,e.range,e.context);W5e(n.method,n.url,a).then(([s,i])=>{t({rawEvents:s,response:i})},r)}};const FFe=Ei({name:"json-event-source",eventSourceRefiners:$Fe,eventSourceDefs:[LFe]});function BFe(e,t,r){let{dateEnv:n,options:a}=r,s,i,l,c,u={};return s=e.startParam,s==null&&(s=a.startParam),i=e.endParam,i==null&&(i=a.endParam),l=e.timeZoneParam,l==null&&(l=a.timeZoneParam),typeof e.extraParams=="function"?c=e.extraParams():c=e.extraParams||{},Object.assign(u,c),u[s]=n.formatIso(t.start),u[i]=n.formatIso(t.end),n.timeZone!=="local"&&(u[l]=n.timeZone),u}const zFe={daysOfWeek:re,startTime:at,endTime:at,duration:at,startRecur:re,endRecur:re};let UFe={parse(e,t){if(e.daysOfWeek||e.startTime||e.endTime||e.startRecur||e.endRecur){let r={daysOfWeek:e.daysOfWeek||null,startTime:e.startTime||null,endTime:e.endTime||null,startRecur:e.startRecur?t.createMarker(e.startRecur):null,endRecur:e.endRecur?t.createMarker(e.endRecur):null,dateEnv:t},n;return e.duration&&(n=e.duration),!n&&e.startTime&&e.endTime&&(n=n3e(e.endTime,e.startTime)),{allDayGuess:!e.startTime&&!e.endTime,duration:n,typeData:r}}return null},expand(e,t,r){let n=pc(t,{start:e.startRecur,end:e.endRecur});return n?qFe(e.daysOfWeek,e.startTime,e.dateEnv,r,n):[]}};const HFe=Ei({name:"simple-recurring-event",recurringTypes:[UFe],eventRefiners:zFe});function qFe(e,t,r,n,a){let s=e?wK(e):null,i=Lt(a.start),l=a.end,c=[];for(;i<l;){let u;(!s||s[i.getUTCDay()])&&(t?u=n.add(i,t):u=i,c.push(n.createMarker(r.toDate(u)))),i=Xr(i,1)}return c}const WFe=Ei({name:"change-handler",optionChangeHandlers:{events(e,t){g$([e],t)},eventSources:g$}});function g$(e,t){let r=lP(t.getCurrentData().eventSources);if(r.length===1&&e.length===1&&Array.isArray(r[0]._raw)&&Array.isArray(e[0])){t.dispatch({type:"RESET_RAW_EVENTS",sourceId:r[0].sourceId,rawEvents:e[0]});return}let n=[];for(let a of e){let s=!1;for(let i=0;i<r.length;i+=1)if(r[i]._raw===a){r.splice(i,1),s=!0;break}s||n.push(a)}for(let a of r)t.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:a.sourceId});for(let a of n)t.calendarApi.addEventSource(a)}function KFe(e,t){t.emitter.trigger("datesSet",Object.assign(Object.assign({},qK(e.activeRange,t.dateEnv)),{view:t.viewApi}))}function GFe(e,t){let{emitter:r}=t;r.hasHandlers("eventsSet")&&r.trigger("eventsSet",ql(e,t))}const VFe=[OFe,IFe,FFe,HFe,WFe,Ei({name:"misc",isLoadingFuncs:[e=>y7(e.eventSources)],propSetHandlers:{dateProfile:KFe,eventStore:GFe}})];class QFe{constructor(t,r){this.runTaskOption=t,this.drainedOption=r,this.queue=[],this.delayedRunner=new rP(this.drain.bind(this))}request(t,r){this.queue.push(t),this.delayedRunner.request(r)}pause(t){this.delayedRunner.pause(t)}resume(t,r){this.delayedRunner.resume(t,r)}drain(){let{queue:t}=this;for(;t.length;){let r=[],n;for(;n=t.shift();)this.runTask(n),r.push(n);this.drained(r)}}runTask(t){this.runTaskOption&&this.runTaskOption(t)}drained(t){this.drainedOption&&this.drainedOption(t)}}function YFe(e,t,r){let n;return/^(year|month)$/.test(e.currentRangeUnit)?n=e.currentRange:n=e.activeRange,r.formatRange(n.start,n.end,Xt(t.titleFormat||JFe(e)),{isEndExclusive:e.isRangeAllDay,defaultSeparator:t.titleRangeSeparator})}function JFe(e){let{currentRangeUnit:t}=e;if(t==="year")return{year:"numeric"};if(t==="month")return{year:"numeric",month:"long"};let r=Ob(e.currentRange.start,e.currentRange.end);return r!==null&&r>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class v${constructor(){this.resetListeners=new Set}handleInput(t,r){const n=this.dateEnv;if(t!==n&&(typeof r=="function"?this.nowFn=r:n||(this.nowAnchorDate=t.toDate(r?t.createMarker(r):t.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=t,n))for(const a of this.resetListeners.values())a()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(t){this.resetListeners.add(t)}removeResetListener(t){this.resetListeners.delete(t)}}class XFe{constructor(t){this.computeCurrentViewData=Re(this._computeCurrentViewData),this.organizeRawLocales=Re(eFe),this.buildLocale=Re(g7),this.buildPluginHooks=aFe(),this.buildDateEnv=Re(ZFe),this.buildTheme=Re(e6e),this.parseToolbars=Re(PFe),this.buildViewSpecs=Re(uFe),this.buildDateProfileGenerator=Fv(t6e),this.buildViewApi=Re(r6e),this.buildViewUiProps=Fv(s6e),this.buildEventUiBySource=Re(n6e,Ts),this.buildEventUiBases=Re(a6e),this.parseContextBusinessHours=Fv(i6e),this.buildTitle=Re(YFe),this.nowManager=new v$,this.emitter=new cw,this.actionRunner=new QFe(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=t,this.actionRunner.pause(),this.nowManager=new v$;let r={},n=this.computeOptionsData(t.optionOverrides,r,t.calendarApi),a=n.calendarOptions.initialView||n.pluginHooks.initialView,s=this.computeCurrentViewData(a,n,t.optionOverrides,r);t.calendarApi.currentDataManager=this,this.emitter.setThisContext(t.calendarApi),this.emitter.setOptions(s.options);let i={nowManager:this.nowManager,dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},l=pFe(n.calendarOptions,n.dateEnv,this.nowManager),c=s.dateProfileGenerator.build(l);ni(c.activeRange,l)||(l=c.currentRange.start);for(let h of n.pluginHooks.contextInit)h(i);let u=yFe(n.calendarOptions,c,i),d={dynamicOptionOverrides:r,currentViewType:a,currentDate:l,dateProfile:c,businessHours:this.parseContextBusinessHours(i),eventSources:u,eventUiBases:{},eventStore:Zr(),renderableEventStore:Zr(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(i).selectionConfig},f=Object.assign(Object.assign({},i),d);for(let h of n.pluginHooks.reducers)Object.assign(d,h(null,null,f));mj(d,i)&&this.emitter.trigger("loading",!0),this.state=d,this.updateData(),this.actionRunner.resume()}resetOptions(t,r){let{props:n}=this;r===void 0?n.optionOverrides=t:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),t),this.optionsForRefining.push(...r)),(r===void 0||r.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(t){let{props:r,state:n,emitter:a}=this,s=gFe(n.dynamicOptionOverrides,t),i=this.computeOptionsData(r.optionOverrides,s,r.calendarApi),l=hFe(n.currentViewType,t),c=this.computeCurrentViewData(l,i,r.optionOverrides,s);r.calendarApi.currentDataManager=this,a.setThisContext(r.calendarApi),a.setOptions(c.options);let u={nowManager:this.nowManager,dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:r.calendarApi,dispatch:this.dispatch,emitter:a,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:f}=n;this.data&&this.data.dateProfileGenerator!==c.dateProfileGenerator&&(f=c.dateProfileGenerator.build(d)),d=mFe(d,t),f=vFe(f,t,d,c.dateProfileGenerator),(t.type==="PREV"||t.type==="NEXT"||!ni(f.currentRange,d))&&(d=f.currentRange.start);let h=bFe(n.eventSources,t,f,u),m=v5e(n.eventStore,t,h,f,u),p=y7(h)&&!c.options.progressiveEventRendering&&n.renderableEventStore||m,{eventUiSingleBase:g,selectionConfig:b}=this.buildViewUiProps(u),y=this.buildEventUiBySource(h),w=this.buildEventUiBases(p.defs,g,y),_={dynamicOptionOverrides:s,currentViewType:l,currentDate:d,dateProfile:f,eventSources:h,eventStore:m,renderableEventStore:p,selectionConfig:b,eventUiBases:w,businessHours:this.parseContextBusinessHours(u),dateSelection:NFe(n.dateSelection,t),eventSelection:EFe(n.eventSelection,t),eventDrag:CFe(n.eventDrag,t),eventResize:AFe(n.eventResize,t)},j=Object.assign(Object.assign({},u),_);for(let N of i.pluginHooks.reducers)Object.assign(_,N(n,t,j));let S=mj(n,u),k=mj(_,u);!S&&k?a.trigger("loading",!0):S&&!k&&a.trigger("loading",!1),this.state=_,r.onAction&&r.onAction(t)}updateData(){let{props:t,state:r}=this,n=this.data,a=this.computeOptionsData(t.optionOverrides,r.dynamicOptionOverrides,t.calendarApi),s=this.computeCurrentViewData(r.currentViewType,a,t.optionOverrides,r.dynamicOptionOverrides),i=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(r.dateProfile,s.options,a.dateEnv),calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},a),s),r),l=a.pluginHooks.optionChangeHandlers,c=n&&n.calendarOptions,u=a.calendarOptions;if(c&&c!==u){c.timeZone!==u.timeZone&&(r.eventSources=i.eventSources=xFe(i.eventSources,r.dateProfile,i),r.eventStore=i.eventStore=o$(i.eventStore,n.dateEnv,i.dateEnv),r.renderableEventStore=i.renderableEventStore=o$(i.renderableEventStore,n.dateEnv,i.dateEnv));for(let d in l)(this.optionsForHandling.indexOf(d)!==-1||c[d]!==u[d])&&l[d](u[d],i)}this.optionsForHandling=[],t.onData&&t.onData(i)}computeOptionsData(t,r,n){if(!this.optionsForRefining.length&&t===this.stableOptionOverrides&&r===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:a,pluginHooks:s,localeDefaults:i,availableLocaleData:l,extra:c}=this.processRawCalendarOptions(t,r);y$(c);let u=this.buildDateEnv(a.timeZone,a.locale,a.weekNumberCalculation,a.firstDay,a.weekText,s,l,a.defaultRangeSeparator),d=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,i),f=this.buildTheme(a,s),h=this.parseToolbars(a,this.stableOptionOverrides,f,d,n);return this.stableCalendarOptionsData={calendarOptions:a,pluginHooks:s,dateEnv:u,viewSpecs:d,theme:f,toolbarConfig:h,localeDefaults:i,availableRawLocales:l.map}}processRawCalendarOptions(t,r){let{locales:n,locale:a}=sj([Hl,t,r]),s=this.organizeRawLocales(n),i=s.map,l=this.buildLocale(a||s.defaultCode,i).options,c=this.buildPluginHooks(t.plugins||[],VFe),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t$),r$),n$),c.listenerRefiners),c.optionRefiners),d={},f=sj([Hl,l,t,r]),h={},m=this.currentCalendarOptionsInput,v=this.currentCalendarOptionsRefined,p=!1;for(let g in f)this.optionsForRefining.indexOf(g)===-1&&(f[g]===m[g]||fl[g]&&g in m&&fl[g](m[g],f[g]))?h[g]=v[g]:u[g]?(h[g]=u[g](f[g]),p=!0):d[g]=m[g];return p&&(this.currentCalendarOptionsInput=f,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=t,this.stableDynamicOptionOverrides=r),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:c,availableLocaleData:s,localeDefaults:l,extra:d}}_computeCurrentViewData(t,r,n,a){let s=r.viewSpecs[t];if(!s)throw new Error(`viewType "${t}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:i,extra:l}=this.processRawViewOptions(s,r.pluginHooks,r.localeDefaults,n,a);y$(l),this.nowManager.handleInput(r.dateEnv,i.now);let c=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:r.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,showNonCurrentDates:i.showNonCurrentDates,dayCount:i.dayCount,dateAlignment:i.dateAlignment,dateIncrement:i.dateIncrement,hiddenDays:i.hiddenDays,weekends:i.weekends,validRangeInput:i.validRange,visibleRangeInput:i.visibleRange,fixedWeekCount:i.fixedWeekCount}),u=this.buildViewApi(t,this.getCurrentData,r.dateEnv);return{viewSpec:s,options:i,dateProfileGenerator:c,viewApi:u}}processRawViewOptions(t,r,n,a,s){let i=sj([Hl,t.optionDefaults,n,a,t.optionOverrides,s]),l=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t$),r$),n$),I3e),r.listenerRefiners),r.optionRefiners),c={},u=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,f=!1,h={};for(let m in i)i[m]===u[m]||fl[m]&&fl[m](i[m],u[m])?c[m]=d[m]:(i[m]===this.currentCalendarOptionsInput[m]||fl[m]&&fl[m](i[m],this.currentCalendarOptionsInput[m])?m in this.currentCalendarOptionsRefined&&(c[m]=this.currentCalendarOptionsRefined[m]):l[m]?c[m]=l[m](i[m]):h[m]=i[m],f=!0);return f&&(this.currentViewOptionsInput=i,this.currentViewOptionsRefined=c),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function ZFe(e,t,r,n,a,s,i,l){let c=g7(t||i.defaultCode,i.map);return new K3e({calendarSystem:"gregory",timeZone:e,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:c,weekNumberCalculation:r,firstDay:n,weekText:a,cmdFormatter:s.cmdFormatter,defaultSeparator:l})}function e6e(e,t){let r=t.themeClasses[e.themeSystem]||Zo;return new r(e)}function t6e(e){let t=e.dateProfileGeneratorClass||AK;return new t(e)}function r6e(e,t,r){return new DFe(e,t,r)}function n6e(e){return gi(e,t=>t.ui)}function a6e(e,t,r){let n={"":t};for(let a in e){let s=e[a];s.sourceId&&r[s.sourceId]&&(n[a]=r[s.sourceId])}return n}function s6e(e){let{options:t}=e;return{eventUiSingleBase:Ub({display:t.eventDisplay,editable:t.editable,startEditable:t.eventStartEditable,durationEditable:t.eventDurationEditable,constraint:t.eventConstraint,overlap:typeof t.eventOverlap=="boolean"?t.eventOverlap:void 0,allow:t.eventAllow,backgroundColor:t.eventBackgroundColor,borderColor:t.eventBorderColor,textColor:t.eventTextColor,color:t.eventColor},e),selectionConfig:Ub({constraint:t.selectConstraint,overlap:typeof t.selectOverlap=="boolean"?t.selectOverlap:void 0,allow:t.selectAllow},e)}}function mj(e,t){for(let r of t.pluginHooks.isLoadingFuncs)if(r(e))return!0;return!1}function i6e(e){return N5e(e.options.businessHours,e)}function y$(e,t){for(let r in e)console.warn(`Unknown option '${r}'`)}class o6e extends bt{render(){let t=this.props.widgetGroups.map(r=>this.renderWidgetGroup(r));return H("div",{className:"fc-toolbar-chunk"},...t)}renderWidgetGroup(t){let{props:r}=this,{theme:n}=this.context,a=[],s=!0;for(let i of t){let{buttonName:l,buttonClick:c,buttonText:u,buttonIcon:d,buttonHint:f}=i;if(l==="title")s=!1,a.push(H("h2",{className:"fc-toolbar-title",id:r.titleId},r.title));else{let h=l===r.activeButton,m=!r.isTodayEnabled&&l==="today"||!r.isPrevEnabled&&l==="prev"||!r.isNextEnabled&&l==="next",v=[`fc-${l}-button`,n.getClass("button")];h&&v.push(n.getClass("buttonActive")),a.push(H("button",{type:"button",title:typeof f=="function"?f(r.navUnit):f,disabled:m,"aria-pressed":h,className:v.join(" "),onClick:c},u||(d?H("span",{className:d,role:"img"}):"")))}}if(a.length>1){let i=s&&n.getClass("buttonGroup")||"";return H("div",{className:i},...a)}return a[0]}}class b$ extends bt{render(){let{model:t,extraClassName:r}=this.props,n=!1,a,s,i=t.sectionWidgets,l=i.center;return i.left?(n=!0,a=i.left):a=i.start,i.right?(n=!0,s=i.right):s=i.end,H("div",{className:[r||"","fc-toolbar",n?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",a||[]),this.renderSection("center",l||[]),this.renderSection("end",s||[]))}renderSection(t,r){let{props:n}=this;return H(o6e,{key:t,widgetGroups:r,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class l6e extends bt{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=t=>{this.el=t,vi(this.props.elRef,t),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:t,state:r}=this,{aspectRatio:n}=t,a=["fc-view-harness",n||t.liquid||t.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",i="";return n?r.availableWidth!==null?s=r.availableWidth/n:i=`${1/n*100}%`:s=t.height||"",H("div",{"aria-labelledby":t.labeledById,ref:this.handleEl,className:a.join(" "),style:{height:s,paddingBottom:i}},t.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class c6e extends If{constructor(t){super(t),this.handleSegClick=(r,n)=>{let{component:a}=this,{context:s}=a,i=nf(n);if(i&&a.isValidSegDownEl(r.target)){let l=Vr(r.target,".fc-event-forced-url"),c=l?l.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:n,event:new Vt(a.context,i.eventRange.def,i.eventRange.instance),jsEvent:r,view:s.viewApi}),c&&!r.defaultPrevented&&(window.location.href=c)}},this.destroy=gK(t.el,"click",".fc-event",this.handleSegClick)}}class u6e extends If{constructor(t){super(t),this.handleEventElRemove=r=>{r===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(r,n)=>{nf(n)&&(this.currentSegEl=n,this.triggerEvent("eventMouseEnter",r,n))},this.handleSegLeave=(r,n)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",r,n))},this.removeHoverListeners=U4e(t.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(t,r,n){let{component:a}=this,{context:s}=a,i=nf(n);(!r||a.isValidSegDownEl(r.target))&&s.emitter.trigger(t,{el:n,event:new Vt(s,i.eventRange.def,i.eventRange.instance),jsEvent:r,view:s.viewApi})}}class d6e extends Lc{constructor(){super(...arguments),this.buildViewContext=Re(Q3e),this.buildViewPropTransformers=Re(h6e),this.buildToolbarProps=Re(f6e),this.headerRef=pn(),this.footerRef=pn(),this.interactionsStore={},this.state={viewLabelId:tw()},this.registerInteractiveComponent=(t,r)=>{let n=V5e(t,r),i=[c6e,u6e].concat(this.props.pluginHooks.componentInteractions).map(l=>new l(n));this.interactionsStore[t.uid]=i,qb[t.uid]=n},this.unregisterInteractiveComponent=t=>{let r=this.interactionsStore[t.uid];if(r){for(let n of r)n.destroy();delete this.interactionsStore[t.uid]}delete qb[t.uid]},this.resizeRunner=new rP(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=t=>{let{options:r}=this.props;r.handleWindowResize&&t.target===window&&this.resizeRunner.request(r.windowResizeDelay)}}render(){let{props:t}=this,{toolbarConfig:r,options:n}=t,a=!1,s="",i;t.isHeightAuto||t.forPrint?s="":n.height!=null?a=!0:n.contentHeight!=null?s=n.contentHeight:i=Math.max(n.aspectRatio,.5);let l=this.buildViewContext(t.viewSpec,t.viewApi,t.options,t.dateProfileGenerator,t.dateEnv,t.nowManager,t.theme,t.pluginHooks,t.dispatch,t.getCurrentData,t.emitter,t.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),c=r.header&&r.header.hasTitle?this.state.viewLabelId:void 0;return H(Ni.Provider,{value:l},H($f,{unit:"day"},u=>{let d=this.buildToolbarProps(t.viewSpec,t.dateProfile,t.dateProfileGenerator,t.currentDate,u,t.viewTitle);return H(It,null,r.header&&H(b$,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:r.header,titleId:c},d)),H(l6e,{liquid:a,height:s,aspectRatio:i,labeledById:c},this.renderView(t),this.buildAppendContent()),r.footer&&H(b$,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:r.footer,titleId:""},d)))}))}componentDidMount(){let{props:t}=this;this.calendarInteractions=t.pluginHooks.calendarInteractions.map(n=>new n(t)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:r}=t.pluginHooks;for(let n in r)r[n](t[n],t)}componentDidUpdate(t){let{props:r}=this,{propSetHandlers:n}=r.pluginHooks;for(let a in n)r[a]!==t[a]&&n[a](r[a],r)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let t of this.calendarInteractions)t.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:t}=this,r=t.pluginHooks.viewContainerAppends.map(n=>n(t));return H(It,{},...r)}renderView(t){let{pluginHooks:r}=t,{viewSpec:n}=t,a={dateProfile:t.dateProfile,businessHours:t.businessHours,eventStore:t.renderableEventStore,eventUiBases:t.eventUiBases,dateSelection:t.dateSelection,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,isHeightAuto:t.isHeightAuto,forPrint:t.forPrint},s=this.buildViewPropTransformers(r.viewPropsTransformers);for(let l of s)Object.assign(a,l.transform(a,t));let i=n.component;return H(i,Object.assign({},a))}}function f6e(e,t,r,n,a,s){let i=r.build(a,void 0,!1),l=r.buildPrev(t,n,!1),c=r.buildNext(t,n,!1);return{title:s,activeButton:e.type,navUnit:e.singleUnit,isTodayEnabled:i.isValid&&!ni(t.currentRange,a),isPrevEnabled:l.isValid,isNextEnabled:c.isValid}}function h6e(e){return e.map(t=>new t)}class m6e extends Y5e{constructor(t,r={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=n=>{switch(n.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=n=>{this.currentData=n,this.renderRunner.request(n.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:n}=this;Lb(()=>{ip(H(G5e,{options:n.calendarOptions,theme:n.theme,emitter:n.emitter},(a,s,i,l)=>(this.setClassNames(a),this.setHeight(s),H(kK.Provider,{value:this.customContentRenderId},H(d6e,Object.assign({isHeightAuto:i,forPrint:l},n))))),this.el)})}else this.isRendered&&(this.isRendered=!1,ip(null,this.el),this.setClassNames([]),this.setHeight(""))},O4e(t),this.el=t,this.renderRunner=new rP(this.handleRenderRequest),new XFe({optionOverrides:r,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let t=this.isRendering;t?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),t&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Lb(()=>{super.updateSize()})}batchRendering(t){this.renderRunner.pause("batchRendering"),t(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(t,r){this.currentDataManager.resetOptions(t,r)}setClassNames(t){if(!Io(t,this.currentClassNames)){let{classList:r}=this.el;for(let n of this.currentClassNames)r.remove(n);for(let n of t)r.add(n);this.currentClassNames=t}}setHeight(t){mK(this.el,"height",t)}}const p6e=parseInt(String(L.version).split(".")[0]),g6e=p6e<18;class Lf extends x.Component{constructor(){super(...arguments),this.elRef=x.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const t=[];for(const r of this.state.customRenderingMap.values())t.push(L.createElement(v6e,{key:r.id,customRendering:r}));return L.createElement("div",{ref:this.elRef},t)}componentDidMount(){this.isUnmounting=!1;const t=new XLe;this.handleCustomRendering=t.handle.bind(t),this.calendar=new m6e(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Ea.flushSync(()=>{})});let r;t.subscribe(n=>{const a=Date.now(),s=!r;(g6e||s||this.isUpdating||this.isUnmounting||a-r<100?j7:Ea.flushSync)(()=>{this.setState({customRenderingMap:n},()=>{r=a,s?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}Lf.act=j7;class v6e extends x.PureComponent{render(){const{customRendering:t}=this.props,{generatorMeta:r}=t,n=typeof r=="function"?r(t.renderProps):r;return Ea.createPortal(n,t.containerEl)}}function j7(e){e()}class y6e extends Rs{constructor(){super(...arguments),this.headerElRef=pn()}renderSimpleLayout(t,r){let{props:n,context:a}=this,s=[],i=Kb(a.options);return t&&s.push({type:"header",key:"header",isSticky:i,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:r}}),H(Fb,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},H(jP,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:s}))}renderHScrollLayout(t,r,n,a){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:i,context:l}=this,c=!i.forPrint&&Kb(l.options),u=!i.forPrint&&o7(l.options),d=[];return t&&d.push({type:"header",key:"header",isSticky:c,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:r}]}),u&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:rN}]}),H(Fb,{elClasses:["fc-daygrid"],viewSpec:l.viewSpec},H(s,{liquid:!i.isHeightAuto&&!i.forPrint,forPrint:i.forPrint,collapsibleWidth:i.forPrint,colGroups:[{cols:[{span:n,minWidth:a}]}],sections:d}))}}function lv(e,t){let r=[];for(let n=0;n<t;n+=1)r[n]=[];for(let n of e)r[n.row].push(n);return r}function cv(e,t){let r=[];for(let n=0;n<t;n+=1)r[n]=[];for(let n of e)r[n.firstCol].push(n);return r}function x$(e,t){let r=[];if(e){for(let n=0;n<t;n+=1)r[n]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let n of e.segs)r[n.row].segs.push(n)}else for(let n=0;n<t;n+=1)r[n]=null;return r}const S7=Xt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function k7(e){let{display:t}=e.eventRange.ui;return t==="list-item"||t==="auto"&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}class N7 extends bt{render(){let{props:t}=this;return H(l7,Object.assign({},t,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:S7,defaultDisplayEventEnd:t.defaultDisplayEventEnd,disableResizing:!t.seg.eventRange.def.allDay}))}}class E7 extends bt{render(){let{props:t,context:r}=this,{options:n}=r,{seg:a}=t,s=n.eventTimeFormat||S7,i=zK(a,s,r,!0,t.defaultDisplayEventEnd);return H(SP,Object.assign({},t,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:HK(t.seg,r),defaultGenerator:b6e,timeText:i,isResizing:!1,isDateSelecting:!1}))}}function b6e(e){return H(It,null,H("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&H("div",{className:"fc-event-time"},e.timeText),H("div",{className:"fc-event-title"},e.event.title||H(It,null,"")))}class x6e extends bt{constructor(){super(...arguments),this.compileSegs=Re(w6e)}render(){let{props:t}=this,{allSegs:r,invisibleSegs:n}=this.compileSegs(t.singlePlacements);return H(f7,{elClasses:["fc-daygrid-more-link"],dateProfile:t.dateProfile,todayRange:t.todayRange,allDayDate:t.allDayDate,moreCnt:t.moreCnt,allSegs:r,hiddenSegs:n,alignmentElRef:t.alignmentElRef,alignGridTop:t.alignGridTop,extraDateSpan:t.extraDateSpan,popoverContent:()=>{let a=(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{};return H(It,null,r.map(s=>{let i=s.eventRange.instance.instanceId;return H("div",{className:"fc-daygrid-event-harness",key:i,style:{visibility:a[i]?"hidden":""}},k7(s)?H(E7,Object.assign({seg:s,isDragging:!1,isSelected:i===t.eventSelection,defaultDisplayEventEnd:!1},So(s,t.todayRange))):H(N7,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:i===t.eventSelection,defaultDisplayEventEnd:!1},So(s,t.todayRange))))}))}})}}function w6e(e){let t=[],r=[];for(let n of e)t.push(n.seg),n.isVisible||r.push(n.seg);return{allSegs:t,invisibleSegs:r}}const _6e=Xt({week:"narrow"});class j6e extends Rs{constructor(){super(...arguments),this.rootElRef=pn(),this.state={dayNumberId:tw()},this.handleRootEl=t=>{vi(this.rootElRef,t),vi(this.props.elRef,t)}}render(){let{context:t,props:r,state:n,rootElRef:a}=this,{options:s,dateEnv:i}=t,{date:l,dateProfile:c}=r;const u=r.showDayNumber&&k6e(l,c.currentRange,i);return H(NP,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...r.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},r.extraDataAttrs),r.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:S6e,date:l,dateProfile:c,todayRange:r.todayRange,showDayNumber:r.showDayNumber,isMonthStart:u,extraRenderProps:r.extraRenderProps},(d,f)=>H("div",{ref:r.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:r.minHeight}},r.showWeekNumber&&H(d7,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Wb(t,l,"week"),date:l,defaultFormat:_6e}),!f.isDisabled&&(r.showDayNumber||EP(s)||r.forceDayTop)?H("div",{className:"fc-daygrid-day-top"},H(d,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Wb(t,l)),{id:n.dayNumberId})})):r.showDayNumber?H("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},H("a",{className:"fc-daygrid-day-number"},"")):void 0,H("div",{className:"fc-daygrid-day-events",ref:r.fgContentElRef},r.fgContent,H("div",{className:"fc-daygrid-day-bottom",style:{marginTop:r.moreMarginTop}},H(x6e,{allDayDate:l,singlePlacements:r.singlePlacements,moreCnt:r.moreCnt,alignmentElRef:a,alignGridTop:!r.showDayNumber,extraDateSpan:r.extraDateSpan,dateProfile:r.dateProfile,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,todayRange:r.todayRange}))),H("div",{className:"fc-daygrid-day-bg"},r.bgContent)))}}function S6e(e){return e.dayNumberText||H(It,null,"")}function k6e(e,t,r){const{start:n,end:a}=t,s=$o(a,-1),i=r.getYear(n),l=r.getMonth(n),c=r.getYear(s),u=r.getMonth(s);return!(i===c&&l===u)&&(e.valueOf()===n.valueOf()||r.getDay(e)===1&&e.valueOf()<a.valueOf())}function C7(e){return e.eventRange.instance.instanceId+":"+e.firstCol}function A7(e){return C7(e)+":"+e.lastCol}function N6e(e,t,r,n,a,s,i){let l=new A6e(b=>{let y=e[b.index].eventRange.instance.instanceId+":"+b.span.start+":"+(b.span.end-1);return a[y]||1});l.allowReslicing=!0,l.strictOrder=n,t===!0||r===!0?(l.maxCoord=s,l.hiddenConsumes=!0):typeof t=="number"?l.maxStackCnt=t:typeof r=="number"&&(l.maxStackCnt=r,l.hiddenConsumes=!0);let c=[],u=[];for(let b=0;b<e.length;b+=1){let y=e[b],w=A7(y);a[w]!=null?c.push({index:b,span:{start:y.firstCol,end:y.lastCol+1}}):u.push(y)}let d=l.addSegs(c),f=l.toRects(),{singleColPlacements:h,multiColPlacements:m,leftoverMargins:v}=E6e(f,e,i),p=[],g=[];for(let b of u){m[b.firstCol].push({seg:b,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let y=b.firstCol;y<=b.lastCol;y+=1)h[y].push({seg:Yu(b,y,y+1,i),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let b=0;b<i.length;b+=1)p.push(0);for(let b of d){let y=e[b.index],w=b.span;m[w.start].push({seg:Yu(y,w.start,w.end,i),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let _=w.start;_<w.end;_+=1)p[_]+=1,h[_].push({seg:Yu(y,_,_+1,i),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let b=0;b<i.length;b+=1)g.push(v[b]);return{singleColPlacements:h,multiColPlacements:m,moreCnts:p,moreMarginTops:g}}function E6e(e,t,r){let n=C6e(e,r.length),a=[],s=[],i=[];for(let l=0;l<r.length;l+=1){let c=n[l],u=[],d=0,f=0;for(let m of c){let v=t[m.index];u.push({seg:Yu(v,l,l+1,r),isVisible:!0,isAbsolute:!1,absoluteTop:m.levelCoord,marginTop:m.levelCoord-d}),d=m.levelCoord+m.thickness}let h=[];d=0,f=0;for(let m of c){let v=t[m.index],p=m.span.end-m.span.start>1,g=m.span.start===l;f+=m.levelCoord-d,d=m.levelCoord+m.thickness,p?(f+=m.thickness,g&&h.push({seg:Yu(v,m.span.start,m.span.end,r),isVisible:!0,isAbsolute:!0,absoluteTop:m.levelCoord,marginTop:0})):g&&(h.push({seg:Yu(v,m.span.start,m.span.end,r),isVisible:!0,isAbsolute:!1,absoluteTop:m.levelCoord,marginTop:f}),f=0)}a.push(u),s.push(h),i.push(f)}return{singleColPlacements:a,multiColPlacements:s,leftoverMargins:i}}function C6e(e,t){let r=[];for(let n=0;n<t;n+=1)r.push([]);for(let n of e)for(let a=n.span.start;a<n.span.end;a+=1)r[a].push(n);return r}function Yu(e,t,r,n){if(e.firstCol===t&&e.lastCol===r-1)return e;let a=e.eventRange,s=a.range,i=pc(s,{start:n[t].date,end:Xr(n[r-1].date,1)});return Object.assign(Object.assign({},e),{firstCol:t,lastCol:r-1,eventRange:{def:a.def,ui:Object.assign(Object.assign({},a.ui),{durationEditable:!1}),instance:a.instance,range:i},isStart:e.isStart&&i.start.valueOf()===s.start.valueOf(),isEnd:e.isEnd&&i.end.valueOf()===s.end.valueOf()})}class A6e extends JK{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(t){const r=super.addSegs(t),{entriesByLevel:n}=this,a=s=>!this.forceHidden[Wl(s)];for(let s=0;s<n.length;s+=1)n[s]=n[s].filter(a);return r}handleInvalidInsertion(t,r,n){const{entriesByLevel:a,forceHidden:s}=this,{touchingEntry:i,touchingLevel:l,touchingLateral:c}=t;if(this.hiddenConsumes&&i){const u=Wl(i);if(!s[u])if(this.allowReslicing){const d=Object.assign(Object.assign({},i),{span:wP(i.span,r.span)}),f=Wl(d);s[f]=!0,a[l][c]=d,n.push(d),this.splitEntry(i,r,n)}else s[u]=!0,n.push(i)}super.handleInvalidInsertion(t,r,n)}}class P7 extends Rs{constructor(){super(...arguments),this.cellElRefs=new Js,this.frameElRefs=new Js,this.fgElRefs=new Js,this.segHarnessRefs=new Js,this.rootElRef=pn(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=t=>{t&&this.updateSizing(!0)}}render(){let{props:t,state:r,context:n}=this,{options:a}=n,s=t.cells.length,i=cv(t.businessHourSegs,s),l=cv(t.bgEventSegs,s),c=cv(this.getHighlightSegs(),s),u=cv(this.getMirrorSegs(),s),{singleColPlacements:d,multiColPlacements:f,moreCnts:h,moreMarginTops:m}=N6e(BK(t.fgEventSegs,a.eventOrder),t.dayMaxEvents,t.dayMaxEventRows,a.eventOrderStrict,r.segHeights,r.maxContentHeight,t.cells),v=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{};return H("tr",{ref:this.rootElRef,role:"row"},t.renderIntro&&t.renderIntro(),t.cells.map((p,g)=>{let b=this.renderFgSegs(g,t.forPrint?d[g]:f[g],t.todayRange,v),y=this.renderFgSegs(g,P6e(u[g],f),t.todayRange,{},!!t.eventDrag,!!t.eventResize,!1);return H(j6e,{key:p.key,elRef:this.cellElRefs.createRef(p.key),innerElRef:this.frameElRefs.createRef(p.key),dateProfile:t.dateProfile,date:p.date,showDayNumber:t.showDayNumbers,showWeekNumber:t.showWeekNumbers&&g===0,forceDayTop:t.showWeekNumbers,todayRange:t.todayRange,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,extraRenderProps:p.extraRenderProps,extraDataAttrs:p.extraDataAttrs,extraClassNames:p.extraClassNames,extraDateSpan:p.extraDateSpan,moreCnt:h[g],moreMarginTop:m[g],singlePlacements:d[g],fgContentElRef:this.fgElRefs.createRef(p.key),fgContent:H(It,null,H(It,null,b),H(It,null,y)),bgContent:H(It,null,this.renderFillSegs(c[g],"highlight"),this.renderFillSegs(i[g],"non-business"),this.renderFillSegs(l[g],"bg-event")),minHeight:t.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(t,r){let n=this.props;this.updateSizing(!Ts(t,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:t}=this;return t.eventDrag&&t.eventDrag.segs.length?t.eventDrag.segs:t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:t.dateSelectionSegs}getMirrorSegs(){let{props:t}=this;return t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:[]}renderFgSegs(t,r,n,a,s,i,l){let{context:c}=this,{eventSelection:u}=this.props,{framePositions:d}=this.state,f=this.props.cells.length===1,h=s||i||l,m=[];if(d)for(let v of r){let{seg:p}=v,{instanceId:g}=p.eventRange.instance,b=v.isVisible&&!a[g],y=v.isAbsolute,w="",_="";y&&(c.isRtl?(_=0,w=d.lefts[p.lastCol]-d.lefts[p.firstCol]):(w=0,_=d.rights[p.firstCol]-d.rights[p.lastCol])),m.push(H("div",{className:"fc-daygrid-event-harness"+(y?" fc-daygrid-event-harness-abs":""),key:C7(p),ref:h?null:this.segHarnessRefs.createRef(A7(p)),style:{visibility:b?"":"hidden",marginTop:y?"":v.marginTop,top:y?v.absoluteTop:"",left:w,right:_}},k7(p)?H(E7,Object.assign({seg:p,isDragging:s,isSelected:g===u,defaultDisplayEventEnd:f},So(p,n))):H(N7,Object.assign({seg:p,isDragging:s,isResizing:i,isDateSelecting:l,isSelected:g===u,defaultDisplayEventEnd:f},So(p,n)))))}return m}renderFillSegs(t,r){let{isRtl:n}=this.context,{todayRange:a}=this.props,{framePositions:s}=this.state,i=[];if(s)for(let l of t){let c=n?{right:0,left:s.lefts[l.lastCol]-s.lefts[l.firstCol]}:{left:0,right:s.rights[l.firstCol]-s.rights[l.lastCol]};i.push(H("div",{key:UK(l.eventRange),className:"fc-daygrid-bg-harness",style:c},r==="bg-event"?H(c7,Object.assign({seg:l},So(l,a))):u7(r)))}return H(It,{},...i)}updateSizing(t){let{props:r,state:n,frameElRefs:a}=this;if(!r.forPrint&&r.clientWidth!==null){if(t){let c=r.cells.map(u=>a.currentMap[u.key]);if(c.length){let u=this.rootElRef.current,d=new af(u,c,!0,!1);(!n.framePositions||!n.framePositions.similarTo(d))&&this.setState({framePositions:new af(u,c,!0,!1)})}}const s=this.state.segHeights,i=this.querySegHeights(),l=r.dayMaxEvents===!0||r.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),i),maxContentHeight:l?this.computeMaxContentHeight():null})}}querySegHeights(){let t=this.segHarnessRefs.currentMap,r={};for(let n in t){let a=Math.round(t[n].getBoundingClientRect().height);r[n]=Math.max(r[n]||0,a)}return r}computeMaxContentHeight(){let t=this.props.cells[0].key,r=this.cellElRefs.currentMap[t],n=this.fgElRefs.currentMap[t];return r.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let t=this.cellElRefs.currentMap;return this.props.cells.map(r=>t[r.key])}}P7.addStateEquality({segHeights:Ts});function P6e(e,t){if(!e.length)return[];let r=T6e(t);return e.map(n=>({seg:n,isVisible:!0,isAbsolute:!0,absoluteTop:r[n.eventRange.instance.instanceId],marginTop:0}))}function T6e(e){let t={};for(let r of e)for(let n of r)t[n.seg.eventRange.instance.instanceId]=n.absoluteTop;return t}class D6e extends Rs{constructor(){super(...arguments),this.splitBusinessHourSegs=Re(lv),this.splitBgEventSegs=Re(lv),this.splitFgEventSegs=Re(lv),this.splitDateSelectionSegs=Re(lv),this.splitEventDrag=Re(x$),this.splitEventResize=Re(x$),this.rowRefs=new Js}render(){let{props:t,context:r}=this,n=t.cells.length,a=this.splitBusinessHourSegs(t.businessHourSegs,n),s=this.splitBgEventSegs(t.bgEventSegs,n),i=this.splitFgEventSegs(t.fgEventSegs,n),l=this.splitDateSelectionSegs(t.dateSelectionSegs,n),c=this.splitEventDrag(t.eventDrag,n),u=this.splitEventResize(t.eventResize,n),d=n>=7&&t.clientWidth?t.clientWidth/r.options.aspectRatio/6:null;return H($f,{unit:"day"},(f,h)=>H(It,null,t.cells.map((m,v)=>H(P7,{ref:this.rowRefs.createRef(v),key:m.length?m[0].date.toISOString():v,showDayNumbers:n>1,showWeekNumbers:t.showWeekNumbers,todayRange:h,dateProfile:t.dateProfile,cells:m,renderIntro:t.renderRowIntro,businessHourSegs:a[v],eventSelection:t.eventSelection,bgEventSegs:s[v].filter(M6e),fgEventSegs:i[v],dateSelectionSegs:l[v],eventDrag:c[v],eventResize:u[v],dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,clientWidth:t.clientWidth,clientHeight:t.clientHeight,cellMinHeight:d,forPrint:t.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const t=this.rowRefs.currentMap[0].getCellEls()[0],r=t?t.closest(".fc-daygrid-body"):null;r&&(this.rootEl=r,this.context.registerInteractiveComponent(this,{el:r,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new af(this.rootEl,this.rowRefs.collect().map(t=>t.getCellEls()[0]),!1,!0),this.colPositions=new af(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(t,r){let{colPositions:n,rowPositions:a}=this,s=n.leftToIndex(t),i=a.topToIndex(r);if(i!=null&&s!=null){let l=this.props.cells[i][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(i,s),allDay:!0},l.extraDateSpan),dayEl:this.getCellEl(i,s),rect:{left:n.lefts[s],right:n.rights[s],top:a.tops[i],bottom:a.bottoms[i]},layer:0}}return null}getCellEl(t,r){return this.rowRefs.currentMap[t].getCellEls()[r]}getCellRange(t,r){let n=this.props.cells[t][r].date,a=Xr(n,1);return{start:n,end:a}}}function M6e(e){return e.eventRange.def.allDay}class O6e extends Rs{constructor(){super(...arguments),this.elRef=pn(),this.needsScrollReset=!1}render(){let{props:t}=this,{dayMaxEventRows:r,dayMaxEvents:n,expandRows:a}=t,s=n===!0||r===!0;s&&!a&&(s=!1,r=null,n=null);let i=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",a?"":"fc-daygrid-body-natural"];return H("div",{ref:this.elRef,className:i.join(" "),style:{width:t.clientWidth,minWidth:t.tableMinWidth}},H("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:a?t.clientHeight:""}},t.colGroupNode,H("tbody",{role:"presentation"},H(D6e,{dateProfile:t.dateProfile,cells:t.cells,renderRowIntro:t.renderRowIntro,showWeekNumbers:t.showWeekNumbers,clientWidth:t.clientWidth,clientHeight:t.clientHeight,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,dayMaxEvents:n,dayMaxEventRows:r,forPrint:t.forPrint,isHitComboAllowed:t.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(t){t.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const t=R6e(this.elRef.current,this.props.dateProfile);if(t){const r=t.closest(".fc-daygrid-body"),n=r.closest(".fc-scroller"),a=t.getBoundingClientRect().top-r.getBoundingClientRect().top;n.scrollTop=a?a+1:0}this.needsScrollReset=!1}}}function R6e(e,t){let r;return t.currentRangeUnit.match(/year|month/)&&(r=e.querySelector(`[data-date="${b3e(t.currentDate)}-01"]`)),r||(r=e.querySelector(`[data-date="${sP(t.currentDate)}"]`)),r}class I6e extends n7{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(t,r){return r.sliceRange(t)}}class T7 extends Rs{constructor(){super(...arguments),this.slicer=new I6e,this.tableRef=pn()}render(){let{props:t,context:r}=this;return H(O6e,Object.assign({ref:this.tableRef},this.slicer.sliceProps(t,t.dateProfile,t.nextDayThreshold,r,t.dayTableModel),{dateProfile:t.dateProfile,cells:t.dayTableModel.cells,colGroupNode:t.colGroupNode,tableMinWidth:t.tableMinWidth,renderRowIntro:t.renderRowIntro,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.showWeekNumbers,expandRows:t.expandRows,headerAlignElRef:t.headerAlignElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:t.forPrint}))}}class $6e extends y6e{constructor(){super(...arguments),this.buildDayTableModel=Re(L6e),this.headerRef=pn(),this.tableRef=pn()}render(){let{options:t,dateProfileGenerator:r}=this.context,{props:n}=this,a=this.buildDayTableModel(n.dateProfile,r),s=t.dayHeaders&&H(e7,{ref:this.headerRef,dateProfile:n.dateProfile,dates:a.headerDates,datesRepDistinctDays:a.rowCnt===1}),i=l=>H(T7,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:a,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:t.nextDayThreshold,colGroupNode:l.tableColGroupNode,tableMinWidth:l.tableMinWidth,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:l.clientWidth,clientHeight:l.clientHeight,forPrint:n.forPrint});return t.dayMinWidth?this.renderHScrollLayout(s,i,a.colCnt,t.dayMinWidth):this.renderSimpleLayout(s,i)}}function L6e(e,t){let r=new t7(e.renderRange,t);return new r7(r,/year|month|week/.test(e.currentRangeUnit))}class F6e extends AK{buildRenderRange(t,r,n){let a=super.buildRenderRange(t,r,n),{props:s}=this;return B6e({currentRange:a,snapToWeek:/^(year|month)$/.test(r),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function B6e(e){let{dateEnv:t,currentRange:r}=e,{start:n,end:a}=r,s;if(e.snapToWeek&&(n=t.startOfWeek(n),s=t.startOfWeek(a),s.valueOf()!==a.valueOf()&&(a=YI(s,1))),e.fixedWeekCount){let i=t.startOfWeek(t.startOfMonth(Xr(r.end,-1))),l=Math.ceil(l3e(i,a));a=YI(a,6-l)}return{start:n,end:a}}var z6e=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';tP(z6e);class U6e extends tLe{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(t){return t.allDay?["allDay"]:["timed"]}getKeysForEventDef(t){return t.allDay?T5e(t)?["timed","allDay"]:["allDay"]:["timed"]}}const H6e=Xt({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function D7(e){let t=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return H(Ni.Consumer,null,r=>{if(!e.isLabeled)return H("td",{className:t.join(" "),"data-time":e.isoTimeStr});let{dateEnv:n,options:a,viewApi:s}=r,i=a.slotLabelFormat==null?H6e:Array.isArray(a.slotLabelFormat)?Xt(a.slotLabelFormat[0]):Xt(a.slotLabelFormat),l={level:0,time:e.time,date:n.toDate(e.date),view:s,text:n.format(e.date,i)};return H(oa,{elTag:"td",elClasses:t,elAttrs:{"data-time":e.isoTimeStr},renderProps:l,generatorName:"slotLabelContent",customGenerator:a.slotLabelContent,defaultGenerator:q6e,classNameGenerator:a.slotLabelClassNames,didMount:a.slotLabelDidMount,willUnmount:a.slotLabelWillUnmount},c=>H("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},H(c,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function q6e(e){return e.text}class W6e extends bt{render(){return this.props.slatMetas.map(t=>H("tr",{key:t.key},H(D7,Object.assign({},t))))}}const K6e=Xt({week:"short"}),G6e=5;class V6e extends Rs{constructor(){super(...arguments),this.allDaySplitter=new U6e,this.headerElRef=pn(),this.rootElRef=pn(),this.scrollerElRef=pn(),this.state={slatCoords:null},this.handleScrollTopRequest=t=>{let r=this.scrollerElRef.current;r&&(r.scrollTop=t)},this.renderHeadAxis=(t,r="")=>{let{options:n}=this.context,{dateProfile:a}=this.props,s=a.renderRange,l=$c(s.start,s.end)===1?Wb(this.context,s.start,"week"):{};return n.weekNumbers&&t==="day"?H(d7,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:K6e},c=>H("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:r}},H(c,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:l}))):H("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},H("div",{className:"fc-timegrid-axis-frame",style:{height:r}}))},this.renderTableRowAxis=t=>{let{options:r,viewApi:n}=this.context,a={text:r.allDayText,view:n};return H(oa,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:a,generatorName:"allDayContent",customGenerator:r.allDayContent,defaultGenerator:Q6e,classNameGenerator:r.allDayClassNames,didMount:r.allDayDidMount,willUnmount:r.allDayWillUnmount},s=>H("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",t==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:t}},H(s,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=t=>{this.setState({slatCoords:t})}}renderSimpleLayout(t,r,n){let{context:a,props:s}=this,i=[],l=Kb(a.options);return t&&i.push({type:"header",key:"header",isSticky:l,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),r&&(i.push({type:"body",key:"all-day",chunk:{content:r}}),i.push({type:"body",key:"all-day-divider",outerContent:H("tr",{role:"presentation",className:"fc-scrollgrid-section"},H("td",{className:"fc-timegrid-divider "+a.theme.getClass("tableCellShaded")}))})),i.push({type:"body",key:"body",liquid:!0,expandRows:!!a.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:n}}),H(Fb,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:a.viewSpec},H(jP,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:i}))}renderHScrollLayout(t,r,n,a,s,i,l){let c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");let{context:u,props:d}=this,f=!d.forPrint&&Kb(u.options),h=!d.forPrint&&o7(u.options),m=[];t&&m.push({type:"header",key:"header",isSticky:f,syncRowHeights:!0,chunks:[{key:"axis",rowContent:p=>H("tr",{role:"presentation"},this.renderHeadAxis("day",p.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),r&&(m.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:p=>H("tr",{role:"presentation"},this.renderTableRowAxis(p.rowSyncHeights[0]))},{key:"cols",content:r}]}),m.push({key:"all-day-divider",type:"body",outerContent:H("tr",{role:"presentation",className:"fc-scrollgrid-section"},H("td",{colSpan:2,className:"fc-timegrid-divider "+u.theme.getClass("tableCellShaded")}))}));let v=u.options.nowIndicator;return m.push({type:"body",key:"body",liquid:!0,expandRows:!!u.options.expandRows,chunks:[{key:"axis",content:p=>H("div",{className:"fc-timegrid-axis-chunk"},H("table",{"aria-hidden":!0,style:{height:p.expandRows?p.clientHeight:""}},p.tableColGroupNode,H("tbody",null,H(W6e,{slatMetas:i}))),H("div",{className:"fc-timegrid-now-indicator-container"},H($f,{unit:v?"minute":"day"},g=>{let b=v&&l&&l.safeComputeTop(g);return typeof b=="number"?H(kP,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:b},isAxis:!0,date:g}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),h&&m.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:rN},{key:"cols",content:rN}]}),H(Fb,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:u.viewSpec},H(c,{liquid:!d.isHeightAuto&&!d.forPrint,forPrint:d.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:a,minWidth:s}]}],sections:m}))}getAllDayMaxEventProps(){let{dayMaxEvents:t,dayMaxEventRows:r}=this.context.options;return(t===!0||r===!0)&&(t=void 0,r=G6e),{dayMaxEvents:t,dayMaxEventRows:r}}}function Q6e(e){return e.text}class Y6e{constructor(t,r,n){this.positions=t,this.dateProfile=r,this.slotDuration=n}safeComputeTop(t){let{dateProfile:r}=this;if(ni(r.currentRange,t)){let n=Lt(t),a=t.valueOf()-n.valueOf();if(a>=Wa(r.slotMinTime)&&a<Wa(r.slotMaxTime))return this.computeTimeTop(at(a))}return null}computeDateTop(t,r){return r||(r=Lt(t)),this.computeTimeTop(at(t.valueOf()-r.valueOf()))}computeTimeTop(t){let{positions:r,dateProfile:n}=this,a=r.els.length,s=(t.milliseconds-Wa(n.slotMinTime))/Wa(this.slotDuration),i,l;return s=Math.max(0,s),s=Math.min(a,s),i=Math.floor(s),i=Math.min(i,a-1),l=s-i,r.tops[i]+r.getHeight(i)*l}}class J6e extends bt{render(){let{props:t,context:r}=this,{options:n}=r,{slatElRefs:a}=t;return H("tbody",null,t.slatMetas.map((s,i)=>{let l={time:s.time,date:r.dateEnv.toDate(s.date),view:r.viewApi};return H("tr",{key:s.key,ref:a.createRef(s.key)},t.axis&&H(D7,Object.assign({},s)),H(oa,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:l,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))}))}}class X6e extends bt{constructor(){super(...arguments),this.rootElRef=pn(),this.slatElRefs=new Js}render(){let{props:t,context:r}=this;return H("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},H("table",{"aria-hidden":!0,className:r.theme.getClass("table"),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:t.minHeight}},t.tableColGroupNode,H(J6e,{slatElRefs:this.slatElRefs,axis:t.axis,slatMetas:t.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:t,props:r}=this;r.onCoords&&r.clientWidth!==null&&this.rootElRef.current.offsetHeight&&r.onCoords(new Y6e(new af(this.rootElRef.current,Z6e(this.slatElRefs.currentMap,r.slatMetas),!1,!0),this.props.dateProfile,t.options.slotDuration))}}function Z6e(e,t){return t.map(r=>e[r.key])}function uh(e,t){let r=[],n;for(n=0;n<t;n+=1)r.push([]);if(e)for(n=0;n<e.length;n+=1)r[e[n].col].push(e[n]);return r}function w$(e,t){let r=[];if(e){for(let n=0;n<t;n+=1)r[n]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let n of e.segs)r[n.col].segs.push(n)}else for(let n=0;n<t;n+=1)r[n]=null;return r}class eBe extends bt{render(){let{props:t}=this;return H(f7,{elClasses:["fc-timegrid-more-link"],elStyle:{top:t.top,bottom:t.bottom},allDayDate:null,moreCnt:t.hiddenSegs.length,allSegs:t.hiddenSegs,hiddenSegs:t.hiddenSegs,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,todayRange:t.todayRange,popoverContent:()=>O7(t.hiddenSegs,t),defaultGenerator:tBe,forceTimed:!0},r=>H(r,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function tBe(e){return e.shortText}function rBe(e,t,r){let n=new JK;t!=null&&(n.strictOrder=t),r!=null&&(n.maxStackCnt=r);let a=n.addSegs(e),s=mLe(a),i=nBe(n);return i=oBe(i,1),{segRects:lBe(i),hiddenGroups:s}}function nBe(e){const{entriesByLevel:t}=e,r=AP((n,a)=>n+":"+a,(n,a)=>{let s=iBe(e,n,a),i=_$(s,r),l=t[n][a];return[Object.assign(Object.assign({},l),{nextLevelNodes:i[0]}),l.thickness+i[1]]});return _$(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,r)[0]}function _$(e,t){if(!e)return[[],0];let{level:r,lateralStart:n,lateralEnd:a}=e,s=n,i=[];for(;s<a;)i.push(t(r,s)),s+=1;return i.sort(aBe),[i.map(sBe),i[0][1]]}function aBe(e,t){return t[1]-e[1]}function sBe(e){return e[0]}function iBe(e,t,r){let{levelCoords:n,entriesByLevel:a}=e,s=a[t][r],i=n[t]+s.thickness,l=n.length,c=t;for(;c<l&&n[c]<i;c+=1);for(;c<l;c+=1){let u=a[c],d,f=eN(u,s.span.start,Zk),h=f[0]+f[1],m=h;for(;(d=u[m])&&d.span.start<s.span.end;)m+=1;if(h<m)return{level:c,lateralStart:h,lateralEnd:m}}return null}function oBe(e,t){const r=AP((n,a,s)=>Wl(n),(n,a,s)=>{let{nextLevelNodes:i,thickness:l}=n,c=l+s,u=l/c,d,f=[];if(!i.length)d=t;else for(let m of i)if(d===void 0){let v=r(m,a,c);d=v[0],f.push(v[1])}else{let v=r(m,d,0);f.push(v[1])}let h=(d-a)*u;return[d-h,Object.assign(Object.assign({},n),{thickness:h,nextLevelNodes:f})]});return e.map(n=>r(n,0,0)[1])}function lBe(e){let t=[];const r=AP((a,s,i)=>Wl(a),(a,s,i)=>{let l=Object.assign(Object.assign({},a),{levelCoord:s,stackDepth:i,stackForward:0});return t.push(l),l.stackForward=n(a.nextLevelNodes,s+a.thickness,i+1)+1});function n(a,s,i){let l=0;for(let c of a)l=Math.max(r(c,s,i),l);return l}return n(e,0,0),t}function AP(e,t){const r={};return(...n)=>{let a=e(...n);return a in r?r[a]:r[a]=t(...n)}}function j$(e,t,r=null,n=0){let a=[];if(r)for(let s=0;s<e.length;s+=1){let i=e[s],l=r.computeDateTop(i.start,t),c=Math.max(l+(n||0),r.computeDateTop(i.end,t));a.push({start:Math.round(l),end:Math.round(c)})}return a}function cBe(e,t,r,n){let a=[],s=[];for(let u=0;u<e.length;u+=1){let d=t[u];d?a.push({index:u,thickness:1,span:d}):s.push(e[u])}let{segRects:i,hiddenGroups:l}=rBe(a,r,n),c=[];for(let u of i)c.push({seg:e[u.index],rect:u});for(let u of s)c.push({seg:u,rect:null});return{segPlacements:c,hiddenGroups:l}}const uBe=Xt({hour:"numeric",minute:"2-digit",meridiem:!1});class M7 extends bt{render(){return H(l7,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:uBe}))}}class dBe extends bt{constructor(){super(...arguments),this.sortEventSegs=Re(BK)}render(){let{props:t,context:r}=this,{options:n}=r,a=n.selectMirror,s=t.eventDrag&&t.eventDrag.segs||t.eventResize&&t.eventResize.segs||a&&t.dateSelectionSegs||[],i=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{},l=this.sortEventSegs(t.fgEventSegs,n.eventOrder);return H(NP,{elTag:"td",elRef:t.elRef,elClasses:["fc-timegrid-col",...t.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},t.extraDataAttrs),date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraRenderProps:t.extraRenderProps},c=>H("div",{className:"fc-timegrid-col-frame"},H("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(t.businessHourSegs,"non-business"),this.renderFillSegs(t.bgEventSegs,"bg-event"),this.renderFillSegs(t.dateSelectionSegs,"highlight")),H("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(l,i,!1,!1,!1)),H("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},!!t.eventDrag,!!t.eventResize,!!a,"mirror")),H("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(t.nowIndicatorSegs)),EP(n)&&H(c,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(t,r,n,a,s,i){let{props:l}=this;return l.forPrint?O7(t,l):this.renderPositionedFgSegs(t,r,n,a,s,i)}renderPositionedFgSegs(t,r,n,a,s,i){let{eventMaxStack:l,eventShortHeight:c,eventOrderStrict:u,eventMinHeight:d}=this.context.options,{date:f,slatCoords:h,eventSelection:m,todayRange:v,nowDate:p}=this.props,g=n||a||s,b=j$(t,f,h,d),{segPlacements:y,hiddenGroups:w}=cBe(t,b,u,l);return H(It,null,this.renderHiddenGroups(w,t),y.map(_=>{let{seg:j,rect:S}=_,k=j.eventRange.instance.instanceId,N=g||!!(!r[k]&&S),E=pj(S&&S.span),P=!g&&S?this.computeSegHStyle(S):{left:0,right:0},A=!!S&&S.stackForward>0,O=!!S&&S.span.end-S.span.start<c;return H("div",{className:"fc-timegrid-event-harness"+(A?" fc-timegrid-event-harness-inset":""),key:i||k,style:Object.assign(Object.assign({visibility:N?"":"hidden"},E),P)},H(M7,Object.assign({seg:j,isDragging:n,isResizing:a,isDateSelecting:s,isSelected:k===m,isShort:O},So(j,v,p))))}))}renderHiddenGroups(t,r){let{extraDateSpan:n,dateProfile:a,todayRange:s,nowDate:i,eventSelection:l,eventDrag:c,eventResize:u}=this.props;return H(It,null,t.map(d=>{let f=pj(d.span),h=fBe(d.entries,r);return H(eBe,{key:xK(h7(h)),hiddenSegs:h,top:f.top,bottom:f.bottom,extraDateSpan:n,dateProfile:a,todayRange:s,nowDate:i,eventSelection:l,eventDrag:c,eventResize:u})}))}renderFillSegs(t,r){let{props:n,context:a}=this,i=j$(t,n.date,n.slatCoords,a.options.eventMinHeight).map((l,c)=>{let u=t[c];return H("div",{key:UK(u.eventRange),className:"fc-timegrid-bg-harness",style:pj(l)},r==="bg-event"?H(c7,Object.assign({seg:u},So(u,n.todayRange,n.nowDate))):u7(r))});return H(It,null,i)}renderNowIndicator(t){let{slatCoords:r,date:n}=this.props;return r?t.map((a,s)=>H(kP,{key:s,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:r.computeDateTop(a.start,n)},isAxis:!1,date:n})):null}computeSegHStyle(t){let{isRtl:r,options:n}=this.context,a=n.slotEventOverlap,s=t.levelCoord,i=t.levelCoord+t.thickness,l,c;a&&(i=Math.min(1,s+(i-s)*2)),r?(l=1-i,c=s):(l=s,c=1-i);let u={zIndex:t.stackDepth+1,left:l*100+"%",right:c*100+"%"};return a&&!t.stackForward&&(u[r?"marginLeft":"marginRight"]=10*2),u}}function O7(e,{todayRange:t,nowDate:r,eventSelection:n,eventDrag:a,eventResize:s}){let i=(a?a.affectedInstances:null)||(s?s.affectedInstances:null)||{};return H(It,null,e.map(l=>{let c=l.eventRange.instance.instanceId;return H("div",{key:c,style:{visibility:i[c]?"hidden":""}},H(M7,Object.assign({seg:l,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===n,isShort:!1},So(l,t,r))))}))}function pj(e){return e?{top:e.start,bottom:-e.end}:{top:"",bottom:""}}function fBe(e,t){return e.map(r=>t[r.index])}class hBe extends bt{constructor(){super(...arguments),this.splitFgEventSegs=Re(uh),this.splitBgEventSegs=Re(uh),this.splitBusinessHourSegs=Re(uh),this.splitNowIndicatorSegs=Re(uh),this.splitDateSelectionSegs=Re(uh),this.splitEventDrag=Re(w$),this.splitEventResize=Re(w$),this.rootElRef=pn(),this.cellElRefs=new Js}render(){let{props:t,context:r}=this,n=r.options.nowIndicator&&t.slatCoords&&t.slatCoords.safeComputeTop(t.nowDate),a=t.cells.length,s=this.splitFgEventSegs(t.fgEventSegs,a),i=this.splitBgEventSegs(t.bgEventSegs,a),l=this.splitBusinessHourSegs(t.businessHourSegs,a),c=this.splitNowIndicatorSegs(t.nowIndicatorSegs,a),u=this.splitDateSelectionSegs(t.dateSelectionSegs,a),d=this.splitEventDrag(t.eventDrag,a),f=this.splitEventResize(t.eventResize,a);return H("div",{className:"fc-timegrid-cols",ref:this.rootElRef},H("table",{role:"presentation",style:{minWidth:t.tableMinWidth,width:t.clientWidth}},t.tableColGroupNode,H("tbody",{role:"presentation"},H("tr",{role:"row"},t.axis&&H("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},H("div",{className:"fc-timegrid-col-frame"},H("div",{className:"fc-timegrid-now-indicator-container"},typeof n=="number"&&H(kP,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:n},isAxis:!0,date:t.nowDate})))),t.cells.map((h,m)=>H(dBe,{key:h.key,elRef:this.cellElRefs.createRef(h.key),dateProfile:t.dateProfile,date:h.date,nowDate:t.nowDate,todayRange:t.todayRange,extraRenderProps:h.extraRenderProps,extraDataAttrs:h.extraDataAttrs,extraClassNames:h.extraClassNames,extraDateSpan:h.extraDateSpan,fgEventSegs:s[m],bgEventSegs:i[m],businessHourSegs:l[m],nowIndicatorSegs:c[m],dateSelectionSegs:u[m],eventDrag:d[m],eventResize:f[m],slatCoords:t.slatCoords,eventSelection:t.eventSelection,forPrint:t.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:t}=this;t.onColCoords&&t.clientWidth!==null&&t.onColCoords(new af(this.rootElRef.current,mBe(this.cellElRefs.currentMap,t.cells),!0,!1))}}function mBe(e,t){return t.map(r=>e[r.key])}class pBe extends Rs{constructor(){super(...arguments),this.processSlotOptions=Re(gBe),this.state={slatCoords:null},this.handleRootEl=t=>{t?this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=t=>{let{onScrollTopRequest:r}=this.props,{slatCoords:n}=this.state;if(r&&n){if(t.time){let a=n.computeTimeTop(t.time);a=Math.ceil(a),a&&(a+=1),r(a)}return!0}return!1},this.handleColCoords=t=>{this.colCoords=t},this.handleSlatCoords=t=>{this.setState({slatCoords:t}),this.props.onSlatCoords&&this.props.onSlatCoords(t)}}render(){let{props:t,state:r}=this;return H("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},H(X6e,{axis:t.axis,dateProfile:t.dateProfile,slatMetas:t.slatMetas,clientWidth:t.clientWidth,minHeight:t.expandRows?t.clientHeight:"",tableMinWidth:t.tableMinWidth,tableColGroupNode:t.axis?t.tableColGroupNode:null,onCoords:this.handleSlatCoords}),H(hBe,{cells:t.cells,axis:t.axis,dateProfile:t.dateProfile,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange,nowDate:t.nowDate,nowIndicatorSegs:t.nowIndicatorSegs,clientWidth:t.clientWidth,tableMinWidth:t.tableMinWidth,tableColGroupNode:t.tableColGroupNode,slatCoords:r.slatCoords,onColCoords:this.handleColCoords,forPrint:t.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(t){this.scrollResponder.update(t.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(t,r){let{dateEnv:n,options:a}=this.context,{colCoords:s}=this,{dateProfile:i}=this.props,{slatCoords:l}=this.state,{snapDuration:c,snapsPerSlot:u}=this.processSlotOptions(this.props.slotDuration,a.snapDuration),d=s.leftToIndex(t),f=l.positions.topToIndex(r);if(d!=null&&f!=null){let h=this.props.cells[d],m=l.positions.tops[f],v=l.positions.getHeight(f),p=(r-m)/v,g=Math.floor(p*u),b=f*u+g,y=this.props.cells[d].date,w=Vk(i.slotMinTime,a3e(c,b)),_=n.add(y,w),j=n.add(_,c);return{dateProfile:i,dateSpan:Object.assign({range:{start:_,end:j},allDay:!1},h.extraDateSpan),dayEl:s.els[d],rect:{left:s.lefts[d],right:s.rights[d],top:m,bottom:m+v},layer:0}}return null}}function gBe(e,t){let r=t||e,n=aP(e,r);return n===null&&(r=e,n=1),{snapDuration:r,snapsPerSlot:n}}class vBe extends n7{sliceRange(t,r){let n=[];for(let a=0;a<r.length;a+=1){let s=pc(t,r[a]);s&&n.push({start:s.start,end:s.end,isStart:s.start.valueOf()===t.start.valueOf(),isEnd:s.end.valueOf()===t.end.valueOf(),col:a})}return n}}class yBe extends Rs{constructor(){super(...arguments),this.buildDayRanges=Re(bBe),this.slicer=new vBe,this.timeColsRef=pn()}render(){let{props:t,context:r}=this,{dateProfile:n,dayTableModel:a}=t,{nowIndicator:s,nextDayThreshold:i}=r.options,l=this.buildDayRanges(a,n,r.dateEnv);return H($f,{unit:s?"minute":"day"},(c,u)=>H(pBe,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(t,n,null,r,l),{forPrint:t.forPrint,axis:t.axis,dateProfile:n,slatMetas:t.slatMetas,slotDuration:t.slotDuration,cells:a.cells[0],tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,expandRows:t.expandRows,nowDate:c,nowIndicatorSegs:s&&this.slicer.sliceNowDate(c,n,i,r,l),todayRange:u,onScrollTopRequest:t.onScrollTopRequest,onSlatCoords:t.onSlatCoords})))}}function bBe(e,t,r){let n=[];for(let a of e.headerDates)n.push({start:r.add(a,t.slotMinTime),end:r.add(a,t.slotMaxTime)});return n}const S$=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function xBe(e,t,r,n,a){let s=new Date(0),i=e,l=at(0),c=r||wBe(n),u=[];for(;Wa(i)<Wa(t);){let d=a.add(s,i),f=aP(l,c)!==null;u.push({date:d,time:i,key:d.toISOString(),isoTimeStr:x3e(d),isLabeled:f}),i=Vk(i,n),l=Vk(l,n)}return u}function wBe(e){let t,r,n;for(t=S$.length-1;t>=0;t-=1)if(r=at(S$[t]),n=aP(r,e),n!==null&&n>1)return r;return e}class _Be extends V6e{constructor(){super(...arguments),this.buildTimeColsModel=Re(jBe),this.buildSlatMetas=Re(xBe)}render(){let{options:t,dateEnv:r,dateProfileGenerator:n}=this.context,{props:a}=this,{dateProfile:s}=a,i=this.buildTimeColsModel(s,n),l=this.allDaySplitter.splitProps(a),c=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,t.slotLabelInterval,t.slotDuration,r),{dayMinWidth:u}=t,d=!u,f=u,h=t.dayHeaders&&H(e7,{dates:i.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:d?this.renderHeadAxis:null}),m=t.allDaySlot!==!1&&(p=>H(T7,Object.assign({},l.allDay,{dateProfile:s,dayTableModel:i,nextDayThreshold:t.nextDayThreshold,tableMinWidth:p.tableMinWidth,colGroupNode:p.tableColGroupNode,renderRowIntro:d?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:p.clientWidth,clientHeight:p.clientHeight,forPrint:a.forPrint},this.getAllDayMaxEventProps()))),v=p=>H(yBe,Object.assign({},l.timed,{dayTableModel:i,dateProfile:s,axis:d,slotDuration:t.slotDuration,slatMetas:c,forPrint:a.forPrint,tableColGroupNode:p.tableColGroupNode,tableMinWidth:p.tableMinWidth,clientWidth:p.clientWidth,clientHeight:p.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:p.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return f?this.renderHScrollLayout(h,m,v,i.colCnt,u,c,this.state.slatCoords):this.renderSimpleLayout(h,m,v)}}function jBe(e,t){let r=new t7(e.renderRange,t);return new r7(r,!1)}var SBe='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';tP(SBe);const kBe={allDaySlot:Boolean};var eg=Ei({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:kBe,views:{timeGrid:{component:_Be,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}}),PP=Ei({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:$6e,dateProfileGeneratorClass:F6e},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});uw.touchMouseIgnoreWait=500;let aN=0,Gb=0,sN=!1;class R7{constructor(t){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=r=>{if(!this.shouldIgnoreMouse()&&NBe(r)&&this.tryStart(r)){let n=this.createEventFromMouse(r,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=r=>{let n=this.createEventFromMouse(r);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleMouseUp=r=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(r)),this.cleanup()},this.handleTouchStart=r=>{if(this.tryStart(r)){this.isTouchDragging=!0;let n=this.createEventFromTouch(r,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n);let a=r.target;this.shouldIgnoreMove||a.addEventListener("touchmove",this.handleTouchMove),a.addEventListener("touchend",this.handleTouchEnd),a.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=r=>{let n=this.createEventFromTouch(r);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleTouchEnd=r=>{if(this.isDragging){let n=r.target;n.removeEventListener("touchmove",this.handleTouchMove),n.removeEventListener("touchend",this.handleTouchEnd),n.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(r)),this.cleanup(),this.isTouchDragging=!1,EBe()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=r=>{if(!this.shouldIgnoreMove){let n=window.scrollX-this.prevScrollX+this.prevPageX,a=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:r,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:n,pageY:a,deltaX:n-this.origPageX,deltaY:a-this.origPageY})}},this.containerEl=t,this.emitter=new cw,t.addEventListener("mousedown",this.handleMouseDown),t.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),CBe()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),ABe()}tryStart(t){let r=this.querySubjectEl(t),n=t.target;return r&&(!this.handleSelector||Vr(n,this.handleSelector))?(this.subjectEl=r,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){sN=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(t){return this.selector?Vr(t.target,this.selector):this.containerEl}shouldIgnoreMouse(){return aN||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(sN=!0)}initScrollWatch(t){this.shouldWatchScroll&&(this.recordCoords(t),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(t){this.shouldWatchScroll&&(this.prevPageX=t.pageX,this.prevPageY=t.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(t,r){let n=0,a=0;return r?(this.origPageX=t.pageX,this.origPageY=t.pageY):(n=t.pageX-this.origPageX,a=t.pageY-this.origPageY),{origEvent:t,isTouch:!1,subjectEl:this.subjectEl,pageX:t.pageX,pageY:t.pageY,deltaX:n,deltaY:a}}createEventFromTouch(t,r){let n=t.touches,a,s,i=0,l=0;return n&&n.length?(a=n[0].pageX,s=n[0].pageY):(a=t.pageX,s=t.pageY),r?(this.origPageX=a,this.origPageY=s):(i=a-this.origPageX,l=s-this.origPageY),{origEvent:t,isTouch:!0,subjectEl:this.subjectEl,pageX:a,pageY:s,deltaX:i,deltaY:l}}}function NBe(e){return e.button===0&&!e.ctrlKey}function EBe(){aN+=1,setTimeout(()=>{aN-=1},uw.touchMouseIgnoreWait)}function CBe(){Gb+=1,Gb===1&&window.addEventListener("touchmove",I7,{passive:!1})}function ABe(){Gb-=1,Gb||window.removeEventListener("touchmove",I7,{passive:!1})}function I7(e){sN&&e.preventDefault()}class PBe{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(t,r,n){this.sourceEl=t,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=r-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(t,r){this.deltaX=t-window.scrollX-this.origScreenX,this.deltaY=r-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(t){t?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=t,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=t)}stop(t,r){let n=()=>{this.cleanup(),r()};t&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(t,r){let n=this.mirrorEl,a=this.sourceEl.getBoundingClientRect();n.style.transition="top "+r+"ms,left "+r+"ms",Vh(n,{left:a.left,top:a.top}),H4e(n,()=>{n.style.transition="",t()})}cleanup(){this.mirrorEl&&(nP(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Vh(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let t=this.sourceElRect,r=this.mirrorEl;return r||(r=this.mirrorEl=this.sourceEl.cloneNode(!0),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.pointerEvents="none",r.classList.add("fc-event-dragging"),Vh(r,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:t.right-t.left,height:t.bottom-t.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(r)),r}}class $7 extends xP{constructor(t,r){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=t,this.doesListening=r,this.scrollTop=this.origScrollTop=t.getScrollTop(),this.scrollLeft=this.origScrollLeft=t.getScrollLeft(),this.scrollWidth=t.getScrollWidth(),this.scrollHeight=t.getScrollHeight(),this.clientWidth=t.getClientWidth(),this.clientHeight=t.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class L7 extends $7{constructor(t,r){super(new fLe(t),r)}getEventTarget(){return this.scrollController.el}computeClientRect(){return uLe(this.scrollController.el)}}class TBe extends $7{constructor(t){super(new hLe,t)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const k$=typeof performance=="function"?performance.now:Date.now;class DBe{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let t=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(t){let r=k$();this.handleSide(t,(r-this.msSinceRequest)/1e3),this.requestAnimation(r)}else this.isAnimating=!1}}}start(t,r,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(t,r))}handleMove(t,r){if(this.isEnabled){let n=t-window.scrollX,a=r-window.scrollY,s=this.pointerScreenY===null?0:a-this.pointerScreenY,i=this.pointerScreenX===null?0:n-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),i<0?this.everMovedLeft=!0:i>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=a,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(k$()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let t of this.scrollCaches)t.destroy();this.scrollCaches=null}}requestAnimation(t){this.msSinceRequest=t,requestAnimationFrame(this.animate)}handleSide(t,r){let{scrollCache:n}=t,{edgeThreshold:a}=this,s=a-t.distance,i=s*s/(a*a)*this.maxVelocity*r,l=1;switch(t.name){case"left":l=-1;case"right":n.setScrollLeft(n.getScrollLeft()+i*l);break;case"top":l=-1;case"bottom":n.setScrollTop(n.getScrollTop()+i*l);break}}computeBestEdge(t,r){let{edgeThreshold:n}=this,a=null,s=this.scrollCaches||[];for(let i of s){let l=i.clientRect,c=t-l.left,u=l.right-t,d=r-l.top,f=l.bottom-r;c>=0&&u>=0&&d>=0&&f>=0&&(d<=n&&this.everMovedUp&&i.canScrollUp()&&(!a||a.distance>d)&&(a={scrollCache:i,name:"top",distance:d}),f<=n&&this.everMovedDown&&i.canScrollDown()&&(!a||a.distance>f)&&(a={scrollCache:i,name:"bottom",distance:f}),c<=n&&this.everMovedLeft&&i.canScrollLeft()&&(!a||a.distance>c)&&(a={scrollCache:i,name:"left",distance:c}),u<=n&&this.everMovedRight&&i.canScrollRight()&&(!a||a.distance>u)&&(a={scrollCache:i,name:"right",distance:u}))}return a}buildCaches(t){return this.queryScrollEls(t).map(r=>r===window?new TBe(!1):new L7(r,!1))}queryScrollEls(t){let r=[];for(let n of this.scrollQuery)typeof n=="object"?r.push(n):r.push(...Array.prototype.slice.call(t.getRootNode().querySelectorAll(n)));return r}}class Ff extends gLe{constructor(t,r){super(t),this.containerEl=t,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=a=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,q4e(document.body),K4e(document.body),a.isTouch||a.origEvent.preventDefault(),this.emitter.trigger("pointerdown",a),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(a.subjectEl,a.pageX,a.pageY),this.startDelay(a),this.minDistance||this.handleDistanceSurpassed(a)))},this.onPointerMove=a=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",a),!this.isDistanceSurpassed){let s=this.minDistance,i,{deltaX:l,deltaY:c}=a;i=l*l+c*c,i>=s*s&&this.handleDistanceSurpassed(a)}this.isDragging&&(a.origEvent.type!=="scroll"&&(this.mirror.handleMove(a.pageX,a.pageY),this.autoScroller.handleMove(a.pageX,a.pageY)),this.emitter.trigger("dragmove",a))}},this.onPointerUp=a=>{this.isInteracting&&(this.isInteracting=!1,W4e(document.body),G4e(document.body),this.emitter.trigger("pointerup",a),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(a)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new R7(t);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),r&&(n.selector=r),this.mirror=new PBe,this.autoScroller=new DBe}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(t){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)}handleDelayEnd(t){this.isDelayEnded=!0,this.tryStartDrag(t)}handleDistanceSurpassed(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)}tryStartDrag(t){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))}stopDrag(t){this.isDragging=!1,this.emitter.trigger("dragend",t)}setIgnoreMove(t){this.pointer.shouldIgnoreMove=t}setMirrorIsVisible(t){this.mirror.setIsVisible(t)}setMirrorNeedsRevert(t){this.mirrorNeedsRevert=t}setAutoScrollEnabled(t){this.autoScroller.isEnabled=t}}class MBe{constructor(t){this.el=t,this.origRect=bP(t),this.scrollCaches=YK(t).map(r=>new L7(r,!0))}destroy(){for(let t of this.scrollCaches)t.destroy()}computeLeft(){let t=this.origRect.left;for(let r of this.scrollCaches)t+=r.origScrollLeft-r.getScrollLeft();return t}computeTop(){let t=this.origRect.top;for(let r of this.scrollCaches)t+=r.origScrollTop-r.getScrollTop();return t}isWithinClipping(t,r){let n={left:t,top:r};for(let a of this.scrollCaches)if(!OBe(a.getEventTarget())&&!J5e(n,a.clientRect))return!1;return!0}}function OBe(e){let t=e.tagName;return t==="HTML"||t==="BODY"}class tg{constructor(t,r){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=n=>{let{dragging:a}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(n),this.initialHit||!this.requireInitial?(a.setIgnoreMove(!1),this.emitter.trigger("pointerdown",n)):a.setIgnoreMove(!0)},this.handleDragStart=n=>{this.emitter.trigger("dragstart",n),this.handleMove(n,!0)},this.handleDragMove=n=>{this.emitter.trigger("dragmove",n),this.handleMove(n)},this.handlePointerUp=n=>{this.releaseHits(),this.emitter.trigger("pointerup",n)},this.handleDragEnd=n=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,n),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",n)},this.droppableStore=r,t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragstart",this.handleDragStart),t.emitter.on("dragmove",this.handleDragMove),t.emitter.on("pointerup",this.handlePointerUp),t.emitter.on("dragend",this.handleDragEnd),this.dragging=t,this.emitter=new cw}processFirstCoord(t){let r={left:t.pageX,top:t.pageY},n=r,a=t.subjectEl,s;a instanceof HTMLElement&&(s=bP(a),n=X5e(n,s));let i=this.initialHit=this.queryHitForOffset(n.left,n.top);if(i){if(this.useSubjectCenter&&s){let l=GK(s,i.rect);l&&(n=Z5e(l))}this.coordAdjust=eLe(n,r)}else this.coordAdjust={left:0,top:0}}handleMove(t,r){let n=this.queryHitForOffset(t.pageX+this.coordAdjust.left,t.pageY+this.coordAdjust.top);(r||!dw(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,t))}prepareHits(){this.offsetTrackers=gi(this.droppableStore,t=>(t.component.prepareHits(),new MBe(t.el)))}releaseHits(){let{offsetTrackers:t}=this;for(let r in t)t[r].destroy();this.offsetTrackers={}}queryHitForOffset(t,r){let{droppableStore:n,offsetTrackers:a}=this,s=null;for(let i in n){let l=n[i].component,c=a[i];if(c&&c.isWithinClipping(t,r)){let u=c.computeLeft(),d=c.computeTop(),f=t-u,h=r-d,{origRect:m}=c,v=m.right-m.left,p=m.bottom-m.top;if(f>=0&&f<v&&h>=0&&h<p){let g=l.queryHit(f,h,v,p);g&&iw(g.dateProfile.activeRange,g.dateSpan.range)&&(this.disablePointCheck||c.el.contains(c.el.getRootNode().elementFromPoint(f+u-window.scrollX,h+d-window.scrollY)))&&(!s||g.layer>s.layer)&&(g.componentId=i,g.context=l.context,g.rect.left+=u,g.rect.right+=u,g.rect.top+=d,g.rect.bottom+=d,s=g)}}}return s}}function dw(e,t){return!e&&!t?!0:!!e!=!!t?!1:B5e(e.dateSpan,t.dateSpan)}function TP(e,t){let r={};for(let n of t.pluginHooks.datePointTransforms)Object.assign(r,n(e,t));return Object.assign(r,RBe(e,t.dateEnv)),r}function RBe(e,t){return{date:t.toDate(e.range.start),dateStr:t.formatIso(e.range.start,{omitTime:e.allDay}),allDay:e.allDay}}class IBe extends If{constructor(t){super(t),this.handlePointerDown=n=>{let{dragging:a}=this,s=n.origEvent.target;a.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=n=>{let{component:a}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:i,finalHit:l}=this.hitDragging;if(i&&l&&dw(i,l)){let{context:c}=a,u=Object.assign(Object.assign({},TP(i.dateSpan,c)),{dayEl:i.dayEl,jsEvent:n.origEvent,view:c.viewApi||c.calendarApi.view});c.emitter.trigger("dateClick",u)}}},this.dragging=new Ff(t.el),this.dragging.autoScroller.isEnabled=!1;let r=this.hitDragging=new tg(this.dragging,vP(t));r.emitter.on("pointerdown",this.handlePointerDown),r.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class $Be extends If{constructor(t){super(t),this.dragSelection=null,this.handlePointerDown=i=>{let{component:l,dragging:c}=this,{options:u}=l.context,d=u.selectable&&l.isValidDateDownEl(i.origEvent.target);c.setIgnoreMove(!d),c.delay=i.isTouch?LBe(l):null},this.handleDragStart=i=>{this.component.context.calendarApi.unselect(i)},this.handleHitUpdate=(i,l)=>{let{context:c}=this.component,u=null,d=!1;if(i){let f=this.hitDragging.initialHit;i.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,i)||(u=FBe(f,i,c.pluginHooks.dateSelectionTransformers)),(!u||!jLe(u,i.dateProfile,c))&&(d=!0,u=null)}u?c.dispatch({type:"SELECT_DATES",selection:u}):l||c.dispatch({type:"UNSELECT_DATES"}),d?nw():aw(),l||(this.dragSelection=u)},this.handlePointerUp=i=>{this.dragSelection&&($K(this.dragSelection,i,this.component.context),this.dragSelection=null)};let{component:r}=t,{options:n}=r.context,a=this.dragging=new Ff(t.el);a.touchScrollAllowed=!1,a.minDistance=n.selectMinDistance||0,a.autoScroller.isEnabled=n.dragScroll;let s=this.hitDragging=new tg(this.dragging,vP(t));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function LBe(e){let{options:t}=e.context,r=t.selectLongPressDelay;return r==null&&(r=t.longPressDelay),r}function FBe(e,t,r){let n=e.dateSpan,a=t.dateSpan,s=[n.range.start,n.range.end,a.range.start,a.range.end];s.sort(X4e);let i={};for(let l of r){let c=l(e,t);if(c===!1)return null;c&&Object.assign(i,c)}return i.range={start:s[0],end:s[3]},i.allDay=n.allDay,i}class rg extends If{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=i=>{let l=i.origEvent.target,{component:c,dragging:u}=this,{mirror:d}=u,{options:f}=c.context,h=c.context;this.subjectEl=i.subjectEl;let m=this.subjectSeg=nf(i.subjectEl),p=(this.eventRange=m.eventRange).instance.instanceId;this.relevantEvents=hP(h.getCurrentData().eventStore,p),u.minDistance=i.isTouch?0:f.eventDragMinDistance,u.delay=i.isTouch&&p!==c.props.eventSelection?zBe(c):null,f.fixedMirrorParent?d.parentNode=f.fixedMirrorParent:d.parentNode=Vr(l,".fc"),d.revertDuration=f.dragRevertDuration;let g=c.isValidSegDownEl(l)&&!Vr(l,".fc-event-resizer");u.setIgnoreMove(!g),this.isDragging=g&&i.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=i=>{let l=this.component.context,c=this.eventRange,u=c.instance.instanceId;i.isTouch?u!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:u}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(i),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Vt(l,c.def,c.instance),jsEvent:i.origEvent,view:l.viewApi}))},this.handleHitUpdate=(i,l)=>{if(!this.isDragging)return;let c=this.relevantEvents,u=this.hitDragging.initialHit,d=this.component.context,f=null,h=null,m=null,v=!1,p={affectedEvents:c,mutatedEvents:Zr(),isEvent:!0};if(i){f=i.context;let g=f.options;d===f||g.editable&&g.droppable?(h=BBe(u,i,this.eventRange.instance.range.start,f.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(m=gP(c,f.getCurrentData().eventUiBases,h,f),p.mutatedEvents=m,_P(p,i.dateProfile,f)||(v=!0,h=null,m=null,p.mutatedEvents=Zr()))):f=null}this.displayDrag(f,p),v?nw():aw(),l||(d===f&&dw(u,i)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!i||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=f,this.validMutation=h,this.mutatedRelevantEvents=m)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=i=>{if(this.isDragging){let l=this.component.context,c=l.viewApi,{receivingContext:u,validMutation:d}=this,f=this.eventRange.def,h=this.eventRange.instance,m=new Vt(l,f,h),v=this.relevantEvents,p=this.mutatedRelevantEvents,{finalHit:g}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:m,jsEvent:i.origEvent,view:c}),d){if(u===l){let b=new Vt(l,p.defs[f.defId],h?p.instances[h.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:p});let y={oldEvent:m,event:b,relatedEvents:ql(p,l,h),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:v})}},w={};for(let _ of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(w,_(d,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},y),w),{el:i.subjectEl,delta:d.datesDelta,jsEvent:i.origEvent,view:c})),l.emitter.trigger("eventChange",y)}else if(u){let b={event:m,relatedEvents:ql(v,l,h),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:v})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},b),{draggedEl:i.subjectEl,view:c})),l.dispatch({type:"REMOVE_EVENTS",eventStore:v}),l.emitter.trigger("eventRemove",b);let y=p.defs[f.defId],w=p.instances[h.instanceId],_=new Vt(u,y,w);u.dispatch({type:"MERGE_EVENTS",eventStore:p});let j={event:_,relatedEvents:ql(p,u,w),revert(){u.dispatch({type:"REMOVE_EVENTS",eventStore:p})}};u.emitter.trigger("eventAdd",j),i.isTouch&&u.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),u.emitter.trigger("drop",Object.assign(Object.assign({},TP(g.dateSpan,u)),{draggedEl:i.subjectEl,jsEvent:i.origEvent,view:g.context.viewApi})),u.emitter.trigger("eventReceive",Object.assign(Object.assign({},j),{draggedEl:i.subjectEl,view:g.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:r}=this,{options:n}=r.context,a=this.dragging=new Ff(t.el);a.pointer.selector=rg.SELECTOR,a.touchScrollAllowed=!1,a.autoScroller.isEnabled=n.dragScroll;let s=this.hitDragging=new tg(this.dragging,qb);s.useSubjectCenter=t.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(t,r){let n=this.component.context,a=this.receivingContext;a&&a!==t&&(a===n?a.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:Zr(),isEvent:!0}}):a.dispatch({type:"UNSET_EVENT_DRAG"})),t&&t.dispatch({type:"SET_EVENT_DRAG",state:r})}clearDrag(){let t=this.component.context,{receivingContext:r}=this;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),t!==r&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}rg.SELECTOR=".fc-event-draggable, .fc-event-resizable";function BBe(e,t,r,n){let a=e.dateSpan,s=t.dateSpan,i=a.range.start,l=s.range.start,c={};a.allDay!==s.allDay&&(c.allDay=s.allDay,c.hasEnd=t.context.options.allDayMaintainDuration,s.allDay?i=Lt(r):i=r);let u=Nu(i,l,e.context.dateEnv,e.componentId===t.componentId?e.largeUnit:null);u.milliseconds&&(c.allDay=!1);let d={datesDelta:u,standardProps:c};for(let f of n)f(d,e,t);return d}function zBe(e){let{options:t}=e.context,r=t.eventLongPressDelay;return r==null&&(r=t.longPressDelay),r}class UBe extends If{constructor(t){super(t),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:i}=this,l=this.querySegEl(s),c=nf(l),u=this.eventRange=c.eventRange;this.dragging.minDistance=i.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=s=>{let{context:i}=this.component,l=this.eventRange;this.relevantEvents=hP(i.getCurrentData().eventStore,this.eventRange.instance.instanceId);let c=this.querySegEl(s);this.draggingSegEl=c,this.draggingSeg=nf(c),i.calendarApi.unselect(),i.emitter.trigger("eventResizeStart",{el:c,event:new Vt(i,l.def,l.instance),jsEvent:s.origEvent,view:i.viewApi})},this.handleHitUpdate=(s,i,l)=>{let{context:c}=this.component,u=this.relevantEvents,d=this.hitDragging.initialHit,f=this.eventRange.instance,h=null,m=null,v=!1,p={affectedEvents:u,mutatedEvents:Zr(),isEvent:!0};s&&(s.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,s)||(h=HBe(d,s,l.subjectEl.classList.contains("fc-event-resizer-start"),f.range))),h&&(m=gP(u,c.getCurrentData().eventUiBases,h,c),p.mutatedEvents=m,_P(p,s.dateProfile,c)||(v=!0,h=null,m=null,p.mutatedEvents=null)),m?c.dispatch({type:"SET_EVENT_RESIZE",state:p}):c.dispatch({type:"UNSET_EVENT_RESIZE"}),v?nw():aw(),i||(h&&dw(d,s)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=m)},this.handleDragEnd=s=>{let{context:i}=this.component,l=this.eventRange.def,c=this.eventRange.instance,u=new Vt(i,l,c),d=this.relevantEvents,f=this.mutatedRelevantEvents;if(i.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:s.origEvent,view:i.viewApi}),this.validMutation){let h=new Vt(i,f.defs[l.defId],c?f.instances[c.instanceId]:null);i.dispatch({type:"MERGE_EVENTS",eventStore:f});let m={oldEvent:u,event:h,relatedEvents:ql(f,i,c),revert(){i.dispatch({type:"MERGE_EVENTS",eventStore:d})}};i.emitter.trigger("eventResize",Object.assign(Object.assign({},m),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||at(0),endDelta:this.validMutation.endDelta||at(0),jsEvent:s.origEvent,view:i.viewApi})),i.emitter.trigger("eventChange",m)}else i.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:r}=t,n=this.dragging=new Ff(t.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=r.context.options.dragScroll;let a=this.hitDragging=new tg(this.dragging,vP(t));a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("hitupdate",this.handleHitUpdate),a.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(t){return Vr(t.subjectEl,".fc-event")}}function HBe(e,t,r,n){let a=e.context.dateEnv,s=e.dateSpan.range.start,i=t.dateSpan.range.start,l=Nu(s,i,a,e.largeUnit);if(r){if(a.add(n.start,l)<n.end)return{startDelta:l}}else if(a.add(n.end,l)>n.start)return{endDelta:l};return null}class qBe{constructor(t){this.context=t,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=n=>{n.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=n=>{let a=this.context.options.unselectCancel,s=pK(n.origEvent);this.matchesCancel=!!Vr(s,a),this.matchesEvent=!!Vr(s,rg.SELECTOR)},this.onDocumentPointerUp=n=>{let{context:a}=this,{documentPointer:s}=this,i=a.getCurrentData();if(!s.wasTouchScroll){if(i.dateSelection&&!this.isRecentPointerDateSelect){let l=a.options.unselectAuto;l&&(!l||!this.matchesCancel)&&a.calendarApi.unselect(n)}i.eventSelection&&!this.matchesEvent&&a.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let r=this.documentPointer=new R7(document);r.shouldIgnoreMove=!0,r.shouldWatchScroll=!1,r.emitter.on("pointerdown",this.onDocumentPointerDown),r.emitter.on("pointerup",this.onDocumentPointerUp),t.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const WBe={fixedMirrorParent:re},KBe={dateClick:re,eventDragStart:re,eventDragStop:re,eventDrop:re,eventResizeStart:re,eventResizeStop:re,eventResize:re,drop:re,eventReceive:re,eventLeave:re};class GBe{constructor(t,r){this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=a=>{this.dragMeta=this.buildDragMeta(a.subjectEl)},this.handleHitUpdate=(a,s,i)=>{let{dragging:l}=this.hitDragging,c=null,u=null,d=!1,f={affectedEvents:Zr(),mutatedEvents:Zr(),isEvent:this.dragMeta.create};a&&(c=a.context,this.canDropElOnCalendar(i.subjectEl,c)&&(u=VBe(a.dateSpan,this.dragMeta,c),f.mutatedEvents=lp(u),d=!_P(f,a.dateProfile,c),d&&(f.mutatedEvents=Zr(),u=null))),this.displayDrag(c,f),l.setMirrorIsVisible(s||!u||!document.querySelector(".fc-event-mirror")),d?nw():aw(),s||(l.setMirrorNeedsRevert(!u),this.receivingContext=c,this.droppableEvent=u)},this.handleDragEnd=a=>{let{receivingContext:s,droppableEvent:i}=this;if(this.clearDrag(),s&&i){let l=this.hitDragging.finalHit,c=l.context.viewApi,u=this.dragMeta;if(s.emitter.trigger("drop",Object.assign(Object.assign({},TP(l.dateSpan,s)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:c})),u.create){let d=lp(i);s.dispatch({type:"MERGE_EVENTS",eventStore:d}),a.isTouch&&s.dispatch({type:"SELECT_EVENT",eventInstanceId:i.instance.instanceId}),s.emitter.trigger("eventReceive",{event:new Vt(s,i.def,i.instance),relatedEvents:[],revert(){s.dispatch({type:"REMOVE_EVENTS",eventStore:d})},draggedEl:a.subjectEl,view:c})}}this.receivingContext=null,this.droppableEvent=null};let n=this.hitDragging=new tg(t,qb);n.requireInitial=!1,n.emitter.on("dragstart",this.handleDragStart),n.emitter.on("hitupdate",this.handleHitUpdate),n.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=r}buildDragMeta(t){return typeof this.suppliedDragMeta=="object"?tN(this.suppliedDragMeta):typeof this.suppliedDragMeta=="function"?tN(this.suppliedDragMeta(t)):QBe(t)}displayDrag(t,r){let n=this.receivingContext;n&&n!==t&&n.dispatch({type:"UNSET_EVENT_DRAG"}),t&&t.dispatch({type:"SET_EVENT_DRAG",state:r})}clearDrag(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})}canDropElOnCalendar(t,r){let n=r.options.dropAccept;return typeof n=="function"?n.call(r.calendarApi,t):typeof n=="string"&&n?!!hK(t,n):!0}}function VBe(e,t,r){let n=Object.assign({},t.leftoverProps);for(let d of r.pluginHooks.externalDefTransforms)Object.assign(n,d(e,t));let{refined:a,extra:s}=dP(n,r),i=Bb(a,s,t.sourceId,e.allDay,r.options.forceEventDuration||!!t.duration,r),l=e.range.start;e.allDay&&t.startTime&&(l=r.dateEnv.add(l,t.startTime));let c=t.duration?r.dateEnv.add(l,t.duration):Xk(e.allDay,l,r),u=ow(i.defId,{start:l,end:c});return{def:i,instance:u}}function QBe(e){let t=YBe(e,"event"),r=t?JSON.parse(t):{create:!1};return tN(r)}uw.dataAttrPrefix="";function YBe(e,t){let r=uw.dataAttrPrefix,n=(r?r+"-":"")+t;return e.getAttribute("data-"+n)||""}class JBe{constructor(t,r={}){this.handlePointerDown=a=>{let{dragging:s}=this,{minDistance:i,longPressDelay:l}=this.settings;s.minDistance=i??(a.isTouch?0:Hl.eventDragMinDistance),s.delay=a.isTouch?l??Hl.longPressDelay:0},this.handleDragStart=a=>{a.isTouch&&this.dragging.delay&&a.subjectEl.classList.contains("fc-event")&&this.dragging.mirror.getMirrorEl().classList.add("fc-event-selected")},this.settings=r;let n=this.dragging=new Ff(t);n.touchScrollAllowed=!1,r.itemSelector!=null&&(n.pointer.selector=r.itemSelector),r.appendTo!=null&&(n.mirror.parentNode=r.appendTo),n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragstart",this.handleDragStart),new GBe(n,r.eventData)}destroy(){this.dragging.destroy()}}var XBe=Ei({name:"@fullcalendar/interaction",componentInteractions:[IBe,$Be,rg,UBe],calendarInteractions:[qBe],elementDraggingImpl:Ff,optionRefiners:WBe,listenerRefiners:KBe}),fw={code:"id",week:{dow:1,doy:7},buttonText:{prev:"mundur",next:"maju",today:"hari ini",year:"Tahun",month:"Bulan",week:"Minggu",day:"Hari",list:"Agenda"},weekText:"Mg",allDayText:"Sehari penuh",moreLinkText:"lebih",noEventsText:"Tidak ada acara untuk ditampilkan"};const{createElement:sf,createContext:ZBe,createRef:KHe,forwardRef:F7,useCallback:jn,useContext:B7,useEffect:Kl,useImperativeHandle:z7,useLayoutEffect:e8e,useMemo:t8e,useRef:En,useState:Ju}=bp,N$=bp[`useId${Math.random()}`.slice(0,5)],r8e=e8e,hw=ZBe(null);hw.displayName="PanelGroupContext";const Gl=r8e,n8e=typeof N$=="function"?N$:()=>null;let a8e=0;function DP(e=null){const t=n8e(),r=En(e||t||null);return r.current===null&&(r.current=""+a8e++),e??r.current}function U7({children:e,className:t="",collapsedSize:r,collapsible:n,defaultSize:a,forwardedRef:s,id:i,maxSize:l,minSize:c,onCollapse:u,onExpand:d,onResize:f,order:h,style:m,tagName:v="div",...p}){const g=B7(hw);if(g===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:b,expandPanel:y,getPanelSize:w,getPanelStyle:_,groupId:j,isPanelCollapsed:S,reevaluatePanelConstraints:k,registerPanel:N,resizePanel:E,unregisterPanel:P}=g,A=DP(i),O=En({callbacks:{onCollapse:u,onExpand:d,onResize:f},constraints:{collapsedSize:r,collapsible:n,defaultSize:a,maxSize:l,minSize:c},id:A,idIsFromProps:i!==void 0,order:h});En({didLogMissingDefaultSizeWarning:!1}),Gl(()=>{const{callbacks:C,constraints:I}=O.current,$={...I};O.current.id=A,O.current.idIsFromProps=i!==void 0,O.current.order=h,C.onCollapse=u,C.onExpand=d,C.onResize=f,I.collapsedSize=r,I.collapsible=n,I.defaultSize=a,I.maxSize=l,I.minSize=c,($.collapsedSize!==I.collapsedSize||$.collapsible!==I.collapsible||$.maxSize!==I.maxSize||$.minSize!==I.minSize)&&k(O.current,$)}),Gl(()=>{const C=O.current;return N(C),()=>{P(C)}},[h,A,N,P]),z7(s,()=>({collapse:()=>{b(O.current)},expand:C=>{y(O.current,C)},getId(){return A},getSize(){return w(O.current)},isCollapsed(){return S(O.current)},isExpanded(){return!S(O.current)},resize:C=>{E(O.current,C)}}),[b,y,w,S,A,E]);const T=_(O.current,a);return sf(v,{...p,children:e,className:t,id:i,style:{...T,...m},"data-panel":"","data-panel-collapsible":n||void 0,"data-panel-group-id":j,"data-panel-id":A,"data-panel-size":parseFloat(""+T.flexGrow).toFixed(1)})}const H7=F7((e,t)=>sf(U7,{...e,forwardedRef:t}));U7.displayName="Panel";H7.displayName="forwardRef(Panel)";let iN=null,El=null;function s8e(e,t){if(t){const r=(t&V7)!==0,n=(t&Q7)!==0,a=(t&Y7)!==0,s=(t&J7)!==0;if(r)return a?"se-resize":s?"ne-resize":"e-resize";if(n)return a?"sw-resize":s?"nw-resize":"w-resize";if(a)return"s-resize";if(s)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function i8e(){El!==null&&(document.head.removeChild(El),iN=null,El=null)}function gj(e,t){const r=s8e(e,t);iN!==r&&(iN=r,El===null&&(El=document.createElement("style"),document.head.appendChild(El)),El.innerHTML=`*{cursor: ${r}!important;}`)}function q7(e){return e.type==="keydown"}function W7(e){return e.type.startsWith("pointer")}function K7(e){return e.type.startsWith("mouse")}function mw(e){if(W7(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(K7(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function o8e(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function l8e(e,t,r){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function c8e(e,t){if(e===t)throw new Error("Cannot compare node with itself");const r={a:A$(e),b:A$(t)};let n;for(;r.a.at(-1)===r.b.at(-1);)e=r.a.pop(),t=r.b.pop(),n=e;Xe(n,"Stacking order can only be calculated for elements with a common ancestor");const a={a:C$(E$(r.a)),b:C$(E$(r.b))};if(a.a===a.b){const s=n.childNodes,i={a:r.a.at(-1),b:r.b.at(-1)};let l=s.length;for(;l--;){const c=s[l];if(c===i.a)return 1;if(c===i.b)return-1}}return Math.sign(a.a-a.b)}const u8e=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function d8e(e){var t;const r=getComputedStyle((t=G7(e))!==null&&t!==void 0?t:e).display;return r==="flex"||r==="inline-flex"}function f8e(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||d8e(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||u8e.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function E$(e){let t=e.length;for(;t--;){const r=e[t];if(Xe(r,"Missing node"),f8e(r))return r}return null}function C$(e){return e&&Number(getComputedStyle(e).zIndex)||0}function A$(e){const t=[];for(;e;)t.push(e),e=G7(e);return t}function G7(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const V7=1,Q7=2,Y7=4,J7=8,h8e=o8e()==="coarse";let Ja=[],Xu=!1,Vi=new Map,pw=new Map;const cp=new Set;function m8e(e,t,r,n,a){var s;const{ownerDocument:i}=t,l={direction:r,element:t,hitAreaMargins:n,setResizeHandlerState:a},c=(s=Vi.get(i))!==null&&s!==void 0?s:0;return Vi.set(i,c+1),cp.add(l),Vb(),function(){var d;pw.delete(e),cp.delete(l);const f=(d=Vi.get(i))!==null&&d!==void 0?d:1;if(Vi.set(i,f-1),Vb(),f===1&&Vi.delete(i),Ja.includes(l)){const h=Ja.indexOf(l);h>=0&&Ja.splice(h,1),OP(),a("up",!0,null)}}}function P$(e){const{target:t}=e,{x:r,y:n}=mw(e);Xu=!0,MP({target:t,x:r,y:n}),Vb(),Ja.length>0&&(Qb("down",e),e.preventDefault(),e.stopPropagation())}function dh(e){const{x:t,y:r}=mw(e);if(Xu&&e.buttons===0&&(Xu=!1,Qb("up",e)),!Xu){const{target:n}=e;MP({target:n,x:t,y:r})}Qb("move",e),OP(),Ja.length>0&&e.preventDefault()}function Zc(e){const{target:t}=e,{x:r,y:n}=mw(e);pw.clear(),Xu=!1,Ja.length>0&&e.preventDefault(),Qb("up",e),MP({target:t,x:r,y:n}),OP(),Vb()}function MP({target:e,x:t,y:r}){Ja.splice(0);let n=null;e instanceof HTMLElement&&(n=e),cp.forEach(a=>{const{element:s,hitAreaMargins:i}=a,l=s.getBoundingClientRect(),{bottom:c,left:u,right:d,top:f}=l,h=h8e?i.coarse:i.fine;if(t>=u-h&&t<=d+h&&r>=f-h&&r<=c+h){if(n!==null&&document.contains(n)&&s!==n&&!s.contains(n)&&!n.contains(s)&&c8e(n,s)>0){let v=n,p=!1;for(;v&&!v.contains(s);){if(l8e(v.getBoundingClientRect(),l)){p=!0;break}v=v.parentElement}if(p)return}Ja.push(a)}})}function vj(e,t){pw.set(e,t)}function OP(){let e=!1,t=!1;Ja.forEach(n=>{const{direction:a}=n;a==="horizontal"?e=!0:t=!0});let r=0;pw.forEach(n=>{r|=n}),e&&t?gj("intersection",r):e?gj("horizontal",r):t?gj("vertical",r):i8e()}function Vb(){Vi.forEach((e,t)=>{const{body:r}=t;r.removeEventListener("contextmenu",Zc),r.removeEventListener("pointerdown",P$),r.removeEventListener("pointerleave",dh),r.removeEventListener("pointermove",dh)}),window.removeEventListener("pointerup",Zc),window.removeEventListener("pointercancel",Zc),cp.size>0&&(Xu?(Ja.length>0&&Vi.forEach((e,t)=>{const{body:r}=t;e>0&&(r.addEventListener("contextmenu",Zc),r.addEventListener("pointerleave",dh),r.addEventListener("pointermove",dh))}),window.addEventListener("pointerup",Zc),window.addEventListener("pointercancel",Zc)):Vi.forEach((e,t)=>{const{body:r}=t;e>0&&(r.addEventListener("pointerdown",P$,{capture:!0}),r.addEventListener("pointermove",dh))}))}function Qb(e,t){cp.forEach(r=>{const{setResizeHandlerState:n}=r,a=Ja.includes(r);n(e,a,t)})}function p8e(){const[e,t]=Ju(0);return jn(()=>t(r=>r+1),[])}function Xe(e,t){if(!e)throw console.error(t),Error(t)}const RP=10;function vc(e,t,r=RP){return e.toFixed(r)===t.toFixed(r)?0:e>t?1:-1}function Ws(e,t,r=RP){return vc(e,t,r)===0}function Vn(e,t,r){return vc(e,t,r)===0}function g8e(e,t,r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){const a=e[n],s=t[n];if(!Vn(a,s,r))return!1}return!0}function Eu({panelConstraints:e,panelIndex:t,size:r}){const n=e[t];Xe(n!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:a=0,collapsible:s,maxSize:i=100,minSize:l=0}=n;if(vc(r,l)<0)if(s){const c=(a+l)/2;vc(r,c)<0?r=a:r=l}else r=l;return r=Math.min(i,r),r=parseFloat(r.toFixed(RP)),r}function kh({delta:e,initialLayout:t,panelConstraints:r,pivotIndices:n,prevLayout:a,trigger:s}){if(Vn(e,0))return t;const i=[...t],[l,c]=n;Xe(l!=null,"Invalid first pivot index"),Xe(c!=null,"Invalid second pivot index");let u=0;if(s==="keyboard"){{const f=e<0?c:l,h=r[f];Xe(h,`Panel constraints not found for index ${f}`);const{collapsedSize:m=0,collapsible:v,minSize:p=0}=h;if(v){const g=t[f];if(Xe(g!=null,`Previous layout not found for panel index ${f}`),Vn(g,m)){const b=p-g;vc(b,Math.abs(e))>0&&(e=e<0?0-b:b)}}}{const f=e<0?l:c,h=r[f];Xe(h,`No panel constraints found for index ${f}`);const{collapsedSize:m=0,collapsible:v,minSize:p=0}=h;if(v){const g=t[f];if(Xe(g!=null,`Previous layout not found for panel index ${f}`),Vn(g,p)){const b=g-m;vc(b,Math.abs(e))>0&&(e=e<0?0-b:b)}}}}{const f=e<0?1:-1;let h=e<0?c:l,m=0;for(;;){const p=t[h];Xe(p!=null,`Previous layout not found for panel index ${h}`);const b=Eu({panelConstraints:r,panelIndex:h,size:100})-p;if(m+=b,h+=f,h<0||h>=r.length)break}const v=Math.min(Math.abs(e),Math.abs(m));e=e<0?0-v:v}{let h=e<0?l:c;for(;h>=0&&h<r.length;){const m=Math.abs(e)-Math.abs(u),v=t[h];Xe(v!=null,`Previous layout not found for panel index ${h}`);const p=v-m,g=Eu({panelConstraints:r,panelIndex:h,size:p});if(!Vn(v,g)&&(u+=v-g,i[h]=g,u.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?h--:h++}}if(g8e(a,i))return a;{const f=e<0?c:l,h=t[f];Xe(h!=null,`Previous layout not found for panel index ${f}`);const m=h+u,v=Eu({panelConstraints:r,panelIndex:f,size:m});if(i[f]=v,!Vn(v,m)){let p=m-v,b=e<0?c:l;for(;b>=0&&b<r.length;){const y=i[b];Xe(y!=null,`Previous layout not found for panel index ${b}`);const w=y+p,_=Eu({panelConstraints:r,panelIndex:b,size:w});if(Vn(y,_)||(p-=_-y,i[b]=_),Vn(p,0))break;e>0?b--:b++}}}const d=i.reduce((f,h)=>h+f,0);return Vn(d,100)?i:a}function v8e({layout:e,panelsArray:t,pivotIndices:r}){let n=0,a=100,s=0,i=0;const l=r[0];Xe(l!=null,"No pivot index found"),t.forEach((f,h)=>{const{constraints:m}=f,{maxSize:v=100,minSize:p=0}=m;h===l?(n=p,a=v):(s+=p,i+=v)});const c=Math.min(a,100-s),u=Math.max(n,100-i),d=e[l];return{valueMax:c,valueMin:u,valueNow:d}}function up(e,t=document){return Array.from(t.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function X7(e,t,r=document){const a=up(e,r).findIndex(s=>s.getAttribute("data-panel-resize-handle-id")===t);return a??null}function Z7(e,t,r){const n=X7(e,t,r);return n!=null?[n,n+1]:[-1,-1]}function e9(e,t=document){var r;if(t instanceof HTMLElement&&(t==null||(r=t.dataset)===null||r===void 0?void 0:r.panelGroupId)==e)return t;const n=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return n||null}function gw(e,t=document){const r=t.querySelector(`[data-panel-resize-handle-id="${e}"]`);return r||null}function y8e(e,t,r,n=document){var a,s,i,l;const c=gw(t,n),u=up(e,n),d=c?u.indexOf(c):-1,f=(a=(s=r[d])===null||s===void 0?void 0:s.id)!==null&&a!==void 0?a:null,h=(i=(l=r[d+1])===null||l===void 0?void 0:l.id)!==null&&i!==void 0?i:null;return[f,h]}function b8e({committedValuesRef:e,eagerValuesRef:t,groupId:r,layout:n,panelDataArray:a,panelGroupElement:s,setLayout:i}){En({didWarnAboutMissingResizeHandle:!1}),Gl(()=>{if(!s)return;const l=up(r,s);for(let c=0;c<a.length-1;c++){const{valueMax:u,valueMin:d,valueNow:f}=v8e({layout:n,panelsArray:a,pivotIndices:[c,c+1]}),h=l[c];if(h!=null){const m=a[c];Xe(m,`No panel data found for index "${c}"`),h.setAttribute("aria-controls",m.id),h.setAttribute("aria-valuemax",""+Math.round(u)),h.setAttribute("aria-valuemin",""+Math.round(d)),h.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{l.forEach((c,u)=>{c.removeAttribute("aria-controls"),c.removeAttribute("aria-valuemax"),c.removeAttribute("aria-valuemin"),c.removeAttribute("aria-valuenow")})}},[r,n,a,s]),Kl(()=>{if(!s)return;const l=t.current;Xe(l,"Eager values not found");const{panelDataArray:c}=l,u=e9(r,s);Xe(u!=null,`No group found for id "${r}"`);const d=up(r,s);Xe(d,`No resize handles found for group id "${r}"`);const f=d.map(h=>{const m=h.getAttribute("data-panel-resize-handle-id");Xe(m,"Resize handle element has no handle id attribute");const[v,p]=y8e(r,m,c,s);if(v==null||p==null)return()=>{};const g=b=>{if(!b.defaultPrevented)switch(b.key){case"Enter":{b.preventDefault();const y=c.findIndex(w=>w.id===v);if(y>=0){const w=c[y];Xe(w,`No panel data found for index ${y}`);const _=n[y],{collapsedSize:j=0,collapsible:S,minSize:k=0}=w.constraints;if(_!=null&&S){const N=kh({delta:Vn(_,j)?k-j:j-_,initialLayout:n,panelConstraints:c.map(E=>E.constraints),pivotIndices:Z7(r,m,s),prevLayout:n,trigger:"keyboard"});n!==N&&i(N)}}break}}};return h.addEventListener("keydown",g),()=>{h.removeEventListener("keydown",g)}});return()=>{f.forEach(h=>h())}},[s,e,t,r,n,a,i])}function T$(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function t9(e,t){const r=e==="horizontal",{x:n,y:a}=mw(t);return r?n:a}function x8e(e,t,r,n,a){const s=r==="horizontal",i=gw(t,a);Xe(i,`No resize handle element found for id "${t}"`);const l=i.getAttribute("data-panel-group-id");Xe(l,"Resize handle element has no group id attribute");let{initialCursorPosition:c}=n;const u=t9(r,e),d=e9(l,a);Xe(d,`No group element found for id "${l}"`);const f=d.getBoundingClientRect(),h=s?f.width:f.height;return(u-c)/h*100}function w8e(e,t,r,n,a,s){if(q7(e)){const i=r==="horizontal";let l=0;e.shiftKey?l=100:a!=null?l=a:l=10;let c=0;switch(e.key){case"ArrowDown":c=i?0:l;break;case"ArrowLeft":c=i?-l:0;break;case"ArrowRight":c=i?l:0;break;case"ArrowUp":c=i?0:-l;break;case"End":c=100;break;case"Home":c=-100;break}return c}else return n==null?0:x8e(e,t,r,n,s)}function _8e({panelDataArray:e}){const t=Array(e.length),r=e.map(s=>s.constraints);let n=0,a=100;for(let s=0;s<e.length;s++){const i=r[s];Xe(i,`Panel constraints not found for index ${s}`);const{defaultSize:l}=i;l!=null&&(n++,t[s]=l,a-=l)}for(let s=0;s<e.length;s++){const i=r[s];Xe(i,`Panel constraints not found for index ${s}`);const{defaultSize:l}=i;if(l!=null)continue;const c=e.length-n,u=a/c;n++,t[s]=u,a-=u}return t}function eu(e,t,r){t.forEach((n,a)=>{const s=e[a];Xe(s,`Panel data not found for index ${a}`);const{callbacks:i,constraints:l,id:c}=s,{collapsedSize:u=0,collapsible:d}=l,f=r[c];if(f==null||n!==f){r[c]=n;const{onCollapse:h,onExpand:m,onResize:v}=i;v&&v(n,f),d&&(h||m)&&(m&&(f==null||Ws(f,u))&&!Ws(n,u)&&m(),h&&(f==null||!Ws(f,u))&&Ws(n,u)&&h())}})}function uv(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}function j8e({defaultSize:e,dragState:t,layout:r,panelData:n,panelIndex:a,precision:s=3}){const i=r[a];let l;return i==null?l=e!=null?e.toPrecision(s):"1":n.length===1?l="1":l=i.toPrecision(s),{flexBasis:0,flexGrow:l,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function S8e(e,t=10){let r=null;return(...a)=>{r!==null&&clearTimeout(r),r=setTimeout(()=>{e(...a)},t)}}function D$(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,r)=>{localStorage.setItem(t,r)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function r9(e){return`react-resizable-panels:${e}`}function n9(e){return e.map(t=>{const{constraints:r,id:n,idIsFromProps:a,order:s}=t;return a?n:s?`${s}:${JSON.stringify(r)}`:JSON.stringify(r)}).sort((t,r)=>t.localeCompare(r)).join(",")}function a9(e,t){try{const r=r9(e),n=t.getItem(r);if(n){const a=JSON.parse(n);if(typeof a=="object"&&a!=null)return a}}catch{}return null}function k8e(e,t,r){var n,a;const s=(n=a9(e,r))!==null&&n!==void 0?n:{},i=n9(t);return(a=s[i])!==null&&a!==void 0?a:null}function N8e(e,t,r,n,a){var s;const i=r9(e),l=n9(t),c=(s=a9(e,a))!==null&&s!==void 0?s:{};c[l]={expandToSizes:Object.fromEntries(r.entries()),layout:n};try{a.setItem(i,JSON.stringify(c))}catch(u){console.error(u)}}function M$({layout:e,panelConstraints:t}){const r=[...e],n=r.reduce((s,i)=>s+i,0);if(r.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${r.map(s=>`${s}%`).join(", ")}`);if(!Vn(n,100)&&r.length>0)for(let s=0;s<t.length;s++){const i=r[s];Xe(i!=null,`No layout data found for index ${s}`);const l=100/n*i;r[s]=l}let a=0;for(let s=0;s<t.length;s++){const i=r[s];Xe(i!=null,`No layout data found for index ${s}`);const l=Eu({panelConstraints:t,panelIndex:s,size:i});i!=l&&(a+=i-l,r[s]=l)}if(!Vn(a,0))for(let s=0;s<t.length;s++){const i=r[s];Xe(i!=null,`No layout data found for index ${s}`);const l=i+a,c=Eu({panelConstraints:t,panelIndex:s,size:l});if(i!==c&&(a-=c-i,r[s]=c,Vn(a,0)))break}return r}const E8e=100,Nh={getItem:e=>(D$(Nh),Nh.getItem(e)),setItem:(e,t)=>{D$(Nh),Nh.setItem(e,t)}},O$={};function s9({autoSaveId:e=null,children:t,className:r="",direction:n,forwardedRef:a,id:s=null,onLayout:i=null,keyboardResizeBy:l=null,storage:c=Nh,style:u,tagName:d="div",...f}){const h=DP(s),m=En(null),[v,p]=Ju(null),[g,b]=Ju([]),y=p8e(),w=En({}),_=En(new Map),j=En(0),S=En({autoSaveId:e,direction:n,dragState:v,id:h,keyboardResizeBy:l,onLayout:i,storage:c}),k=En({layout:g,panelDataArray:[],panelDataArrayChanged:!1});En({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),z7(a,()=>({getId:()=>S.current.id,getLayout:()=>{const{layout:B}=k.current;return B},setLayout:B=>{const{onLayout:K}=S.current,{layout:J,panelDataArray:X}=k.current,te=M$({layout:B,panelConstraints:X.map(q=>q.constraints)});T$(J,te)||(b(te),k.current.layout=te,K&&K(te),eu(X,te,w.current))}}),[]),Gl(()=>{S.current.autoSaveId=e,S.current.direction=n,S.current.dragState=v,S.current.id=h,S.current.onLayout=i,S.current.storage=c}),b8e({committedValuesRef:S,eagerValuesRef:k,groupId:h,layout:g,panelDataArray:k.current.panelDataArray,setLayout:b,panelGroupElement:m.current}),Kl(()=>{const{panelDataArray:B}=k.current;if(e){if(g.length===0||g.length!==B.length)return;let K=O$[e];K==null&&(K=S8e(N8e,E8e),O$[e]=K);const J=[...B],X=new Map(_.current);K(e,J,X,g,c)}},[e,g,c]),Kl(()=>{});const N=jn(B=>{const{onLayout:K}=S.current,{layout:J,panelDataArray:X}=k.current;if(B.constraints.collapsible){const te=X.map(de=>de.constraints),{collapsedSize:q=0,panelSize:Q,pivotIndices:ie}=al(X,B,J);if(Xe(Q!=null,`Panel size not found for panel "${B.id}"`),!Ws(Q,q)){_.current.set(B.id,Q);const ee=ou(X,B)===X.length-1?Q-q:q-Q,Z=kh({delta:ee,initialLayout:J,panelConstraints:te,pivotIndices:ie,prevLayout:J,trigger:"imperative-api"});uv(J,Z)||(b(Z),k.current.layout=Z,K&&K(Z),eu(X,Z,w.current))}}},[]),E=jn((B,K)=>{const{onLayout:J}=S.current,{layout:X,panelDataArray:te}=k.current;if(B.constraints.collapsible){const q=te.map(Y=>Y.constraints),{collapsedSize:Q=0,panelSize:ie=0,minSize:de=0,pivotIndices:ee}=al(te,B,X),Z=K??de;if(Ws(ie,Q)){const Y=_.current.get(B.id),ne=Y!=null&&Y>=Z?Y:Z,ve=ou(te,B)===te.length-1?ie-ne:ne-ie,be=kh({delta:ve,initialLayout:X,panelConstraints:q,pivotIndices:ee,prevLayout:X,trigger:"imperative-api"});uv(X,be)||(b(be),k.current.layout=be,J&&J(be),eu(te,be,w.current))}}},[]),P=jn(B=>{const{layout:K,panelDataArray:J}=k.current,{panelSize:X}=al(J,B,K);return Xe(X!=null,`Panel size not found for panel "${B.id}"`),X},[]),A=jn((B,K)=>{const{panelDataArray:J}=k.current,X=ou(J,B);return j8e({defaultSize:K,dragState:v,layout:g,panelData:J,panelIndex:X})},[v,g]),O=jn(B=>{const{layout:K,panelDataArray:J}=k.current,{collapsedSize:X=0,collapsible:te,panelSize:q}=al(J,B,K);return Xe(q!=null,`Panel size not found for panel "${B.id}"`),te===!0&&Ws(q,X)},[]),T=jn(B=>{const{layout:K,panelDataArray:J}=k.current,{collapsedSize:X=0,collapsible:te,panelSize:q}=al(J,B,K);return Xe(q!=null,`Panel size not found for panel "${B.id}"`),!te||vc(q,X)>0},[]),C=jn(B=>{const{panelDataArray:K}=k.current;K.push(B),K.sort((J,X)=>{const te=J.order,q=X.order;return te==null&&q==null?0:te==null?-1:q==null?1:te-q}),k.current.panelDataArrayChanged=!0,y()},[y]);Gl(()=>{if(k.current.panelDataArrayChanged){k.current.panelDataArrayChanged=!1;const{autoSaveId:B,onLayout:K,storage:J}=S.current,{layout:X,panelDataArray:te}=k.current;let q=null;if(B){const ie=k8e(B,te,J);ie&&(_.current=new Map(Object.entries(ie.expandToSizes)),q=ie.layout)}q==null&&(q=_8e({panelDataArray:te}));const Q=M$({layout:q,panelConstraints:te.map(ie=>ie.constraints)});T$(X,Q)||(b(Q),k.current.layout=Q,K&&K(Q),eu(te,Q,w.current))}}),Gl(()=>{const B=k.current;return()=>{B.layout=[]}},[]);const I=jn(B=>function(J){J.preventDefault();const X=m.current;if(!X)return()=>null;const{direction:te,dragState:q,id:Q,keyboardResizeBy:ie,onLayout:de}=S.current,{layout:ee,panelDataArray:Z}=k.current,{initialLayout:Y}=q??{},ne=Z7(Q,B,X);let fe=w8e(J,B,te,q,ie,X);const ve=te==="horizontal";document.dir==="rtl"&&ve&&(fe=-fe);const be=Z.map(pt=>pt.constraints),je=kh({delta:fe,initialLayout:Y??ee,panelConstraints:be,pivotIndices:ne,prevLayout:ee,trigger:q7(J)?"keyboard":"mouse-or-touch"}),dt=!uv(ee,je);(W7(J)||K7(J))&&j.current!=fe&&(j.current=fe,!dt&&fe!==0?ve?vj(B,fe<0?V7:Q7):vj(B,fe<0?Y7:J7):vj(B,0)),dt&&(b(je),k.current.layout=je,de&&de(je),eu(Z,je,w.current))},[]),$=jn((B,K)=>{const{onLayout:J}=S.current,{layout:X,panelDataArray:te}=k.current,q=te.map(Y=>Y.constraints),{panelSize:Q,pivotIndices:ie}=al(te,B,X);Xe(Q!=null,`Panel size not found for panel "${B.id}"`);const ee=ou(te,B)===te.length-1?Q-K:K-Q,Z=kh({delta:ee,initialLayout:X,panelConstraints:q,pivotIndices:ie,prevLayout:X,trigger:"imperative-api"});uv(X,Z)||(b(Z),k.current.layout=Z,J&&J(Z),eu(te,Z,w.current))},[]),M=jn((B,K)=>{const{layout:J,panelDataArray:X}=k.current,{collapsedSize:te=0,collapsible:q}=K,{collapsedSize:Q=0,collapsible:ie,maxSize:de=100,minSize:ee=0}=B.constraints,{panelSize:Z}=al(X,B,J);Z!=null&&(q&&ie&&Ws(Z,te)?Ws(te,Q)||$(B,Q):Z<ee?$(B,ee):Z>de&&$(B,de))},[$]),D=jn((B,K)=>{const{direction:J}=S.current,{layout:X}=k.current;if(!m.current)return;const te=gw(B,m.current);Xe(te,`Drag handle element not found for id "${B}"`);const q=t9(J,K);p({dragHandleId:B,dragHandleRect:te.getBoundingClientRect(),initialCursorPosition:q,initialLayout:X})},[]),F=jn(()=>{p(null)},[]),z=jn(B=>{const{panelDataArray:K}=k.current,J=ou(K,B);J>=0&&(K.splice(J,1),delete w.current[B.id],k.current.panelDataArrayChanged=!0,y())},[y]),U=t8e(()=>({collapsePanel:N,direction:n,dragState:v,expandPanel:E,getPanelSize:P,getPanelStyle:A,groupId:h,isPanelCollapsed:O,isPanelExpanded:T,reevaluatePanelConstraints:M,registerPanel:C,registerResizeHandle:I,resizePanel:$,startDragging:D,stopDragging:F,unregisterPanel:z,panelGroupElement:m.current}),[N,v,n,E,P,A,h,O,T,M,C,I,$,D,F,z]),R={display:"flex",flexDirection:n==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return sf(hw.Provider,{value:U},sf(d,{...f,children:t,className:r,id:s,ref:m,style:{...R,...u},"data-panel-group":"","data-panel-group-direction":n,"data-panel-group-id":h}))}const i9=F7((e,t)=>sf(s9,{...e,forwardedRef:t}));s9.displayName="PanelGroup";i9.displayName="forwardRef(PanelGroup)";function ou(e,t){return e.findIndex(r=>r===t||r.id===t.id)}function al(e,t,r){const n=ou(e,t),s=n===e.length-1?[n-1,n]:[n,n+1],i=r[n];return{...t.constraints,panelSize:i,pivotIndices:s}}function C8e({disabled:e,handleId:t,resizeHandler:r,panelGroupElement:n}){Kl(()=>{if(e||r==null||n==null)return;const a=gw(t,n);if(a==null)return;const s=i=>{if(!i.defaultPrevented)switch(i.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{i.preventDefault(),r(i);break}case"F6":{i.preventDefault();const l=a.getAttribute("data-panel-group-id");Xe(l,`No group element found for id "${l}"`);const c=up(l,n),u=X7(l,t,n);Xe(u!==null,`No resize element found for id "${t}"`);const d=i.shiftKey?u>0?u-1:c.length-1:u+1<c.length?u+1:0;c[d].focus();break}}};return a.addEventListener("keydown",s),()=>{a.removeEventListener("keydown",s)}},[n,e,t,r])}function o9({children:e=null,className:t="",disabled:r=!1,hitAreaMargins:n,id:a,onBlur:s,onDragging:i,onFocus:l,style:c={},tabIndex:u=0,tagName:d="div",...f}){var h,m;const v=En(null),p=En({onDragging:i});Kl(()=>{p.current.onDragging=i});const g=B7(hw);if(g===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:b,groupId:y,registerResizeHandle:w,startDragging:_,stopDragging:j,panelGroupElement:S}=g,k=DP(a),[N,E]=Ju("inactive"),[P,A]=Ju(!1),[O,T]=Ju(null),C=En({state:N});Gl(()=>{C.current.state=N}),Kl(()=>{if(r)T(null);else{const D=w(k);T(()=>D)}},[r,k,w]);const I=(h=n==null?void 0:n.coarse)!==null&&h!==void 0?h:15,$=(m=n==null?void 0:n.fine)!==null&&m!==void 0?m:5;return Kl(()=>{if(r||O==null)return;const D=v.current;return Xe(D,"Element ref not attached"),m8e(k,D,b,{coarse:I,fine:$},(z,U,R)=>{if(U)switch(z){case"down":{E("drag"),Xe(R,'Expected event to be defined for "down" action'),_(k,R);const{onDragging:B}=p.current;B&&B(!0);break}case"move":{const{state:B}=C.current;B!=="drag"&&E("hover"),Xe(R,'Expected event to be defined for "move" action'),O(R);break}case"up":{E("hover"),j();const{onDragging:B}=p.current;B&&B(!1);break}}else E("inactive")})},[I,b,r,$,w,k,O,_,j]),C8e({disabled:r,handleId:k,resizeHandler:O,panelGroupElement:S}),sf(d,{...f,children:e,className:t,id:a,onBlur:()=>{A(!1),s==null||s()},onFocus:()=>{A(!0),l==null||l()},ref:v,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...c},tabIndex:u,"data-panel-group-direction":b,"data-panel-group-id":y,"data-resize-handle":"","data-resize-handle-active":N==="drag"?"pointer":P?"keyboard":void 0,"data-resize-handle-state":N,"data-panel-resize-handle-enabled":!r,"data-panel-resize-handle-id":k})}o9.displayName="PanelResizeHandle";const A8e=({className:e,...t})=>o.jsx(i9,{className:se("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t}),R$=H7,P8e=({withHandle:e,className:t,...r})=>o.jsx(o9,{className:se("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...r,children:e&&o.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:o.jsx(G5,{className:"h-2.5 w-2.5"})})}),yj=(e,t,r)=>{const n=u=>(T8e(u),"#FFFFFF");if(e!=null&&e.color&&e.color!=="#6B7280")return{background:e.color,text:n(e.color),border:oN(e.color,-20)};if(t&&t!=="#6B7280")return{background:t,text:n(t),border:oN(t,-20)};const a=(e==null?void 0:e.name)||(e==null?void 0:e.id)||"default",s=l9(a),i=[{bg:"#10B981",border:"#059669"},{bg:"#3B82F6",border:"#2563EB"},{bg:"#F59E0B",border:"#D97706"},{bg:"#8B5CF6",border:"#7C3AED"},{bg:"#EF4444",border:"#DC2626"},{bg:"#06B6D4",border:"#0891B2"},{bg:"#84CC16",border:"#65A30D"},{bg:"#F97316",border:"#EA580C"},{bg:"#EC4899",border:"#DB2777"},{bg:"#6366F1",border:"#4F46E5"},{bg:"#14B8A6",border:"#0F766E"},{bg:"#A855F7",border:"#9333EA"}],l=s%i.length,c=i[l];return{background:c.bg,text:n(c.bg),border:c.border}};function l9(e){let t=0;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return Math.abs(t)}function oN(e,t){const r=parseInt(e.replace("#",""),16),n=Math.round(2.55*t),a=(r>>16)+n,s=(r>>8&255)+n,i=(r&255)+n;return"#"+(16777216+(a<255?a<1?0:a:255)*65536+(s<255?s<1?0:s:255)*256+(i<255?i<1?0:i:255)).toString(16).slice(1)}function T8e(e){const t=parseInt(e.replace("#",""),16),r=t>>16&255,n=t>>8&255,a=t&255;return(r*299+n*587+a*114)/1e3}const c9=(e,t)=>e!=null&&e.color&&e.color!=="#6B7280"?yj(e):t!=null&&t.color&&t.color!=="#6B7280"?yj(e,t.color):yj(e),D8e=e=>{if(e!=null&&e.color&&e.color!=="#6B7280")return{background:e.color,text:"#FFFFFF",border:oN(e.color,-20)};const t=(e==null?void 0:e.name)||"default",r=l9(t),n=[{bg:"#10B981",border:"#059669"},{bg:"#3B82F6",border:"#2563EB"},{bg:"#F59E0B",border:"#D97706"},{bg:"#8B5CF6",border:"#7C3AED"},{bg:"#EF4444",border:"#DC2626"},{bg:"#06B6D4",border:"#0891B2"},{bg:"#84CC16",border:"#65A30D"},{bg:"#F97316",border:"#EA580C"}],a=r%n.length,s=n[a];return{background:s.bg,text:"#FFFFFF",border:s.border}},Bf=()=>Ze({queryKey:["subjects"],queryFn:async()=>{console.log("Fetching subjects...");const{data:{user:e}}=await G.auth.getUser();if(!e)throw new Error("User not authenticated");const{data:t,error:r}=await G.from("profiles").select("school_id").eq("id",e.id).single();if(r)throw console.error("Error fetching profile:",r),new Error("Failed to get user profile");const{data:n,error:a}=await G.from("academic_years").select("id").eq("school_id",t.school_id).eq("is_active",!0).single();if(a)throw console.error("Error fetching active year:",a),new Error("Failed to get active academic year");const{data:s,error:i}=await G.from("subjects").select(`
          *,
          session_categories (
            id,
            name,
            color
          )
        `).eq("school_id",t.school_id).eq("academic_year_id",n.id).order("created_at",{ascending:!1});if(i)throw console.error("Error fetching subjects:",i),i;return console.log("Subjects fetched:",s),s},staleTime:0,gcTime:0,retry:2,refetchOnWindowFocus:!0,refetchOnMount:!0}),u9=e=>(console.log(" useJPProgressSimple hook called with:",{classId:e,type:typeof e,isUndefined:e===void 0,isEmpty:e===""}),Ze({queryKey:["jp-progress-simple",e],queryFn:async()=>{if(console.log(" useJPProgressSimple - queryFn executing for classId:",e),!e)return console.log(" useJPProgressSimple - No classId provided, returning empty array"),[];console.log(" useJPProgressSimple - Starting query for classId:",e);const{data:{user:t}}=await G.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:r}=await G.from("profiles").select("school_id").eq("id",t.id).single();if(!(r!=null&&r.school_id))throw new Error("School not found");const{data:n}=await G.from("academic_years").select("id").eq("school_id",r.school_id).eq("is_active",!0).single();if(!(n!=null&&n.id))throw new Error("Active academic year not found");const{data:a,error:s}=await G.from("schedule_class_subjects").select(`
          schedule_subject_id,
          hours_per_year,
          schedule_subjects (
            id,
            name,
            code,
            color,
            session_category_id,
            session_categories (
              name
            )
          )
        `).eq("class_id",e);if(s)throw console.error(" Error fetching KBM targets:",s),s;const{data:i,error:l}=await G.from("extracurricular_classes").select(`
          extracurricular_id,
          hours_per_year,
          extracurriculars (
            id,
            name,
            color,
            session_category_id,
            session_categories (
              name
            )
          )
        `).eq("class_id",e);if(l)throw console.error(" Error fetching EKSKUL targets:",l),l;console.log(" KBM Targets fetched:",a),console.log(" EKSKUL Targets fetched:",i),console.log(" ALL SUBJECT IDs in targets:",{kbm_subject_ids:(a==null?void 0:a.map(g=>{var b;return{name:(b=g.schedule_subjects)==null?void 0:b.name,id:g.schedule_subject_id}}))||[],ekskul_subject_ids:(i==null?void 0:i.map(g=>{var b;return{name:(b=g.extracurriculars)==null?void 0:b.name,id:g.extracurricular_id}}))||[]});const{data:c,error:u}=await G.from("class_schedules").select(`
          id,
          subject_id,
          start_time,
          end_time,
          day_of_week,
          schedule_date
        `).eq("class_id",e).eq("school_id",r.school_id).eq("academic_year_id",n.id).not("day_of_week","is",null);if(u)throw console.error(" Error fetching realisasi:",u),u;console.log(" Realisasi fetched:",c);const d=[...new Set((c==null?void 0:c.map(g=>g.subject_id))||[])];console.log(" UNIQUE SUBJECT IDs in realisasi:",d);const f=(c==null?void 0:c.filter(g=>{const b=a==null?void 0:a.some(w=>{var _;return w.schedule_subject_id===g.subject_id&&((_=w.schedule_subjects)==null?void 0:_.name)==="Aqidatuna"}),y=i==null?void 0:i.some(w=>{var _;return w.extracurricular_id===g.subject_id&&((_=w.extracurriculars)==null?void 0:_.name)==="Aqidatuna"});return b||y}))||[],h=(c==null?void 0:c.filter(g=>{const b=a==null?void 0:a.some(w=>{var _;return w.schedule_subject_id===g.subject_id&&((_=w.schedule_subjects)==null?void 0:_.name)==="Nabiyuna"}),y=i==null?void 0:i.some(w=>{var _;return w.extracurricular_id===g.subject_id&&((_=w.extracurriculars)==null?void 0:_.name)==="Nabiyuna"});return b||y}))||[];console.log(" AQIDATUNA REALISASI FOUND:",f.length,f),console.log(" NABIYUNA REALISASI FOUND:",h.length,h);const m=(a==null?void 0:a.map(g=>{var j,S,k,N,E,P,A,O,T;const b=(c==null?void 0:c.filter(C=>C.subject_id===g.schedule_subject_id))||[];(((j=g.schedule_subjects)==null?void 0:j.name)==="Aqidatuna"||((S=g.schedule_subjects)==null?void 0:S.name)==="Nabiyuna")&&console.log(` DETAILED DEBUG for ${(k=g.schedule_subjects)==null?void 0:k.name}:`,{target_schedule_subject_id:g.schedule_subject_id,total_realisasi_records:(c==null?void 0:c.length)||0,filtered_schedules:b.length,filtered_schedules_detail:b.map(C=>({id:C.id,subject_id:C.subject_id,start_time:C.start_time,end_time:C.end_time,schedule_date:C.schedule_date,day_of_week:C.day_of_week}))});const y=b.reduce((C,I)=>{var D;if(!I.start_time||!I.end_time)return C;const $=Zd(I.start_time,I.end_time),M=ef($,45);return console.log(` KBM JP calculation for ${(D=g.schedule_subjects)==null?void 0:D.name}:`,{schedule_id:I.id||"unknown",start_time:I.start_time,end_time:I.end_time,durationMinutes:$,jp:M,day_of_week:I.day_of_week,schedule_date:I.schedule_date}),C+M},0),w=g.hours_per_year||0,_=w>0?y/w*100:0;return console.log(` Final KBM JP calculation for ${(N=g.schedule_subjects)==null?void 0:N.name}:`,{subject_id:g.schedule_subject_id,totalSchedules:b.length,totalRealizationJP:Math.round(y*100)/100,targetJP:w,progressPercentage:Math.round(_*100)/100}),{subject_id:g.schedule_subject_id,subject_name:((E=g.schedule_subjects)==null?void 0:E.name)||"Unknown",subject_code:(P=g.schedule_subjects)==null?void 0:P.code,subject_color:(A=g.schedule_subjects)==null?void 0:A.color,target_jp:w,realisasi_jp:Math.round(y*100)/100,progress_percentage:Math.min(Math.round(_*100)/100,100),category:((T=(O=g.schedule_subjects)==null?void 0:O.session_categories)==null?void 0:T.name)||"Unknown"}}))||[],v=(i==null?void 0:i.map(g=>{var j,S,k,N,E,P,A,O;const b=(c==null?void 0:c.filter(T=>T.subject_id===g.extracurricular_id))||[];(((j=g.extracurriculars)==null?void 0:j.name)==="Aqidatuna"||((S=g.extracurriculars)==null?void 0:S.name)==="Nabiyuna")&&console.log(` DETAILED DEBUG EKSKUL for ${(k=g.extracurriculars)==null?void 0:k.name}:`,{target_extracurricular_id:g.extracurricular_id,total_realisasi_records:(c==null?void 0:c.length)||0,filtered_schedules:b.length,filtered_schedules_detail:b.map(T=>({id:T.id,subject_id:T.subject_id,start_time:T.start_time,end_time:T.end_time,schedule_date:T.schedule_date,day_of_week:T.day_of_week}))});const y=b.reduce((T,C)=>{var M;if(!C.start_time||!C.end_time)return T;const I=Zd(C.start_time,C.end_time),$=ef(I,45);return console.log(` EKSKUL JP calculation for ${(M=g.extracurriculars)==null?void 0:M.name}:`,{schedule_id:C.id||"unknown",start_time:C.start_time,end_time:C.end_time,durationMinutes:I,jp:$,day_of_week:C.day_of_week,schedule_date:C.schedule_date}),T+$},0),w=g.hours_per_year||0,_=w>0?y/w*100:0;return console.log(` Final EKSKUL JP calculation for ${(N=g.extracurriculars)==null?void 0:N.name}:`,{subject_id:g.extracurricular_id,totalSchedules:b.length,totalRealizationJP:Math.round(y*100)/100,targetJP:w,progressPercentage:Math.round(_*100)/100}),{subject_id:g.extracurricular_id,subject_name:((E=g.extracurriculars)==null?void 0:E.name)||"Unknown",subject_code:void 0,subject_color:(P=g.extracurriculars)==null?void 0:P.color,target_jp:w,realisasi_jp:Math.round(y*100)/100,progress_percentage:Math.min(Math.round(_*100)/100,100),category:((O=(A=g.extracurriculars)==null?void 0:A.session_categories)==null?void 0:O.name)||"EKSKUL"}}))||[],p=[...m,...v];return console.log(" JP Progress calculated (simple) - COMBINED:",{total:p.length,kbm:m.length,ekskul:v.length,data:p}),p},enabled:!!e,onSuccess:t=>{console.log(" useJPProgressSimple - Query successful:",{classId:e,dataLength:t.length,data:t})},onError:t=>{console.error(" useJPProgressSimple - Query error:",{classId:e,error:t})},staleTime:5e3,gcTime:3e5})),vw=e=>{console.log(" useScheduleSubjectsByCategory called with:",{selectedClassId:e,type:typeof e,isNull:e===null,isUndefined:e===void 0,isEmpty:e===""});const{data:t=[]}=xn(),{data:r=[]}=Jx(),{data:n=[]}=iq(),{data:a=[]}=Bf(),{data:s=[]}=Xp(),{data:i=[]}=zW(),{data:l=[]}=ZA(),c=e||void 0,{data:u=[],isLoading:d,error:f}=u9(c);return console.log(" useScheduleSubjectsByCategory - JP Progress Data:",{selectedClassId:e,classIdForJP:c,jpProgressData:u.length,jpLoading:d,jpError:f,jpData:u}),Ze({queryKey:["schedule-subjects-by-category",e,t,r,n,a,s,i,l,u],queryFn:()=>{console.log(" Processing schedule subjects by category with JP data..."),console.log(" Data summary:",{sessionCategories:t.length,scheduleSubjects:r.length,mataPelajaran:a.length,ekstrakurikuler:s.length,jpProgressData:u.length,selectedClassId:e});const h=v=>{const p=u.find(b=>b.subject_id===v),g={target_jp:(p==null?void 0:p.target_jp)||0,realisasi_jp:(p==null?void 0:p.realisasi_jp)||0,progress_percentage:(p==null?void 0:p.progress_percentage)||0};return console.log(` JP Data lookup for subject ${v}:`,{found:!!p,jpData:p,result:g}),g},m=[];return t.forEach(v=>{console.log(` Processing session category: ${v.name} (${v.id})`);const p=[],g=r.filter(y=>y.session_category_id===v.id),b=a.filter(y=>y.session_categories_id===v.id);console.log(` Data for category ${v.name}:`,{scheduleSubjectsCount:g.length,subjectsCount:b.length,scheduleSubjects:g.map(y=>y.name),subjects:b.map(y=>y.name)}),g.forEach(y=>{if(e){if(n.some(_=>_.schedule_subject_id===y.id&&_.class_id===e)){const _=h(y.id),j={id:y.id,name:y.name,code:y.code,color:y.color,total_hours_per_year:y.total_hours_per_year||0,category:v.name,type:"schedule_subject",source:"schedule_subjects",session_category_id:y.session_category_id,target_jp:_.target_jp,realisasi_jp:_.realisasi_jp,progress_percentage:_.progress_percentage};console.log(` Adding subject "${y.name}" with JP data:`,j),p.push(j)}}else{const w=h(y.id);p.push({id:y.id,name:y.name,code:y.code,color:y.color,total_hours_per_year:y.total_hours_per_year||0,category:v.name,type:"schedule_subject",source:"schedule_subjects",session_category_id:y.session_category_id,target_jp:w.target_jp,realisasi_jp:w.realisasi_jp,progress_percentage:w.progress_percentage})}}),b.forEach(y=>{if(e){if(i.some(_=>_.subject_id===y.id&&_.class_id===e)){const _=h(y.id);p.push({id:y.id,name:y.name,code:y.code,color:y.color,total_hours_per_year:y.total_hours_per_year||0,category:v.name,type:"mata_pelajaran",source:"mata_pelajaran",session_category_id:y.session_categories_id,target_jp:_.target_jp,realisasi_jp:_.realisasi_jp,progress_percentage:_.progress_percentage})}}else{const w=h(y.id);p.push({id:y.id,name:y.name,code:y.code,color:y.color,total_hours_per_year:y.total_hours_per_year||0,category:v.name,type:"mata_pelajaran",source:"mata_pelajaran",session_category_id:y.session_categories_id,target_jp:w.target_jp,realisasi_jp:w.realisasi_jp,progress_percentage:w.progress_percentage})}}),v.name==="Ekskul"&&(console.log(" Processing Ekskul from ekstrakurikuler table"),s.forEach(y=>{if(e){if(l.some(_=>_.extracurricular_id===y.id&&_.class_id===e)){const _=h(y.id);p.push({id:y.id,name:y.name,color:y.color,total_hours_per_year:0,category:v.name,type:"ekstrakurikuler",source:"ekstrakurikuler",session_category_id:v.id,target_jp:_.target_jp,realisasi_jp:_.realisasi_jp,progress_percentage:_.progress_percentage})}}else{const w=h(y.id);p.push({id:y.id,name:y.name,color:y.color,total_hours_per_year:0,category:v.name,type:"ekstrakurikuler",source:"ekstrakurikuler",session_category_id:v.id,target_jp:w.target_jp,realisasi_jp:w.realisasi_jp,progress_percentage:w.progress_percentage})}})),console.log(` Session Category ${v.name} processed with ${p.length} subjects`),m.push({id:v.id,name:v.name,color:v.color,description:v.description,is_system_category:!1,subjects:p})}),console.log(" Final categories with subjects:",{totalCategories:m.length,categoriesWithData:m.filter(v=>v.subjects.length>0).length,totalSubjects:m.reduce((v,p)=>v+p.subjects.length,0),categories:m.map(v=>({name:v.name,is_system:v.is_system_category,subjectCount:v.subjects.length,subjects:v.subjects.map(p=>({name:p.name,type:p.type,source:p.source}))}))}),m},enabled:!!t&&!!r&&!!n&&!!a&&!!s&&!!i&&!!l&&!d,staleTime:0,gcTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0})};var zn=(e=>(e.SINGLE="single",e.MULTIPLE="multiple",e.ALL="all",e))(zn||{});const lN=["#10B981","#F59E0B","#8B5CF6","#EF4444","#F97316","#3B82F6","#EC4899","#06B6D4","#84CC16","#6366F1"],M8e=({isOpen:e,onClose:t,selectedCategoryId:r,selectedClassId:n})=>{const a=Ce(),{data:s=[]}=jr(),{data:i=[]}=xn(),l=MA(!1),c=()=>{var y;return r&&i.length>0?r:((y=i[0])==null?void 0:y.id)||""},u=()=>lN[0],[d,f]=x.useState({name:"",code:"",color:u(),total_hours_per_year:0,standard_duration:45,schedule_category_id:c(),selected_classes:n?[n]:[]});x.useEffect(()=>{e&&f({name:"",code:"",color:u(),total_hours_per_year:0,standard_duration:45,schedule_category_id:c(),selected_classes:n?[n]:[]})},[e,r,n,i]);const h=async()=>{var y;if(console.log(" === SCHEDULE SUBJECT MODAL SUBMIT ==="),console.log(" Form data:",d),!d.name.trim()){ot({title:"Error",description:"Nama mata pelajaran harus diisi",variant:"destructive"});return}if(d.name.trim().length<2){ot({title:"Error",description:"Nama mata pelajaran minimal 2 karakter",variant:"destructive"});return}if(!d.schedule_category_id){ot({title:"Error",description:"Kategori harus dipilih",variant:"destructive"});return}if(d.selected_classes.length===0){ot({title:"Error",description:"Minimal pilih satu kelas",variant:"destructive"});return}try{const w={name:d.name.trim(),code:((y=d.code)==null?void 0:y.trim())||void 0,color:d.color,total_hours_per_year:d.total_hours_per_year!==void 0?d.total_hours_per_year:0,standard_duration:d.standard_duration||45,schedule_category_id:d.schedule_category_id,selected_classes:d.selected_classes};console.log(" Subject data to be sent:",w),console.log(" Color being saved:",d.color);const _=await l.mutateAsync(w);console.log(" Schedule subject created successfully:",_),await a.invalidateQueries({queryKey:["schedule-subjects"]}),await a.invalidateQueries({queryKey:["schedule-subjects-by-category"]}),ot({title:"Berhasil",description:`Mata pelajaran "${w.name}" berhasil ditambahkan ke ${d.selected_classes.length} kelas`}),console.log(" === SCHEDULE SUBJECT MODAL COMPLETED ==="),t()}catch(w){console.error(" === ERROR IN SCHEDULE SUBJECT MODAL ==="),console.error(" Error details:",w),ot({title:"Gagal",description:`Gagal menambahkan mata pelajaran: ${(w==null?void 0:w.message)||"Terjadi kesalahan tidak dikenal"}`,variant:"destructive"})}},m=(y,w)=>{f(_=>({..._,selected_classes:w?[..._.selected_classes,y]:_.selected_classes.filter(j=>j!==y)}))},v=()=>{const y=s.map(w=>w.id);f(w=>({...w,selected_classes:y}))},p=()=>{f(y=>({...y,selected_classes:[]}))},g=s.length>0&&d.selected_classes.length===s.length,b=i;return console.log(" ScheduleSubjectModal - Debug data:",{isOpen:e,sessionCategories:(i==null?void 0:i.length)||0,availableCategories:(b==null?void 0:b.length)||0,categories:i==null?void 0:i.map(y=>({id:y.id,name:y.name}))}),o.jsx(Ft,{open:e,onOpenChange:t,children:o.jsxs(Ct,{className:"bg-gray-900 border-gray-700 text-white max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(At,{children:o.jsxs(Pt,{className:"text-xl font-bold text-white flex items-center justify-between",children:[o.jsx("span",{children:"Tambah Mata Pelajaran Manual"}),o.jsx(V,{variant:"ghost",size:"sm",onClick:t,className:"text-gray-400 hover:text-white",children:o.jsx(Co,{className:"h-4 w-4"})})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(oe,{className:"text-white",children:"Nama Mata Pelajaran *"}),o.jsx(xe,{value:d.name,onChange:y=>f(w=>({...w,name:y.target.value})),placeholder:"Masukkan nama mata pelajaran",className:"bg-gray-800 border-gray-600 text-white"})]}),o.jsxs("div",{children:[o.jsx(oe,{className:"text-white",children:"Kode Mata Pelajaran"}),o.jsx(xe,{value:d.code,onChange:y=>f(w=>({...w,code:y.target.value})),placeholder:"Masukkan kode mata pelajaran (opsional)",className:"bg-gray-800 border-gray-600 text-white"})]}),o.jsxs("div",{children:[o.jsx(oe,{className:"text-white",children:"Kategori *"}),o.jsxs(ze,{value:d.schedule_category_id,onValueChange:y=>f(w=>({...w,schedule_category_id:y})),children:[o.jsx($e,{className:"bg-gray-800 border-gray-600 text-white",children:o.jsx(Ue,{placeholder:"Pilih kategori"})}),o.jsx(Le,{className:"bg-gray-800 border-gray-700",children:b.map(y=>o.jsx(pe,{value:y.id,className:"text-white hover:bg-gray-700",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:y.color}}),o.jsx("span",{children:y.name})]})},y.id))})]}),b.length===0&&o.jsx("p",{className:"text-sm text-yellow-400 mt-1",children:"Tidak ada kategori tersedia. Buat kategori baru terlebih dahulu di menu Sesi dan Waktu."})]}),o.jsxs("div",{children:[o.jsx(oe,{className:"text-white",children:"Warna"}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:lN.map(y=>o.jsx("button",{type:"button",onClick:()=>f(w=>({...w,color:y})),className:`w-8 h-8 rounded-full border-2 ${d.color===y?"border-white":"border-gray-600"}`,style:{backgroundColor:y}},y))})]}),o.jsxs("div",{children:[o.jsx(oe,{className:"text-white",children:"JP/Tahun"}),o.jsx(xe,{type:"number",value:d.total_hours_per_year,onChange:y=>f(w=>({...w,total_hours_per_year:parseInt(y.target.value)||0})),placeholder:"0",className:"bg-gray-800 border-gray-600 text-white"})]}),o.jsxs("div",{children:[o.jsx(oe,{className:"text-white",children:"Durasi Standar (menit)"}),o.jsx(xe,{type:"number",value:d.standard_duration,onChange:y=>f(w=>({...w,standard_duration:parseInt(y.target.value)||45})),placeholder:"45",className:"bg-gray-800 border-gray-600 text-white"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(oe,{className:"text-white",children:"Pilih Kelas *"}),o.jsx("div",{className:"flex space-x-2",children:o.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:g?p:v,className:"border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white text-xs",children:g?o.jsxs(o.Fragment,{children:[o.jsx(Co,{className:"h-3 w-3 mr-1"}),"Batal Semua"]}):o.jsxs(o.Fragment,{children:[o.jsx(mt,{className:"h-3 w-3 mr-1"}),"Pilih Semua"]})})})]}),o.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto border border-gray-600 rounded-md p-2 bg-gray-800",children:s.map(y=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mn,{id:y.id,checked:d.selected_classes.includes(y.id),onCheckedChange:w=>m(y.id,w),className:"border-gray-600 data-[state=checked]:bg-blue-600"}),o.jsx(oe,{htmlFor:y.id,className:"text-white text-sm cursor-pointer",children:y.name})]},y.id))}),o.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[d.selected_classes.length," dari ",s.length," kelas dipilih"]})]}),o.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[o.jsx(V,{variant:"outline",onClick:t,className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"Batal"}),o.jsx(V,{onClick:h,disabled:l.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white",children:l.isPending?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Menyimpan..."]}):o.jsxs(o.Fragment,{children:[o.jsx(mt,{className:"h-4 w-4 mr-2"}),"Simpan"]})})]})]})]})})},O8e=({subject:e,selectedClassId:t})=>{const r=Ce(),{data:n=[]}=jr(),{data:a=[]}=iq(),s=aq(!1),i=sq(!1),l=oq(!1),c=VOe(!1),[u,d]=x.useState(!1),[f,h]=x.useState(!1),[m,v]=x.useState({name:e.name,code:e.code||"",color:e.color,total_hours_per_year:e.total_hours_per_year,assigned_classes:[]}),p=a.filter(N=>N.schedule_subject_id===e.id).map(N=>N.class_id),g=()=>{v({name:e.name,code:e.code||"",color:e.color,total_hours_per_year:e.total_hours_per_year,assigned_classes:p}),d(!0)},b=async()=>{var N;try{console.log(" Updating schedule subject:",m),await s.mutateAsync({id:e.id,name:m.name.trim(),code:((N=m.code)==null?void 0:N.trim())||void 0,color:m.color,total_hours_per_year:m.total_hours_per_year});const E=p,P=m.assigned_classes,A=P.filter(T=>!E.includes(T)),O=E.filter(T=>!P.includes(T));for(const T of A)await l.mutateAsync({schedule_subject_id:e.id,class_id:T,hours_per_week:0,hours_per_year:0});for(const T of O){const C=a.find(I=>I.schedule_subject_id===e.id&&I.class_id===T);C&&await c.mutateAsync(C.id)}await r.invalidateQueries({queryKey:["schedule-subjects"]}),await r.invalidateQueries({queryKey:["schedule-subjects-by-category"]}),await r.invalidateQueries({queryKey:["schedule-class-subjects"]}),ot({title:"Berhasil",description:`Mata pelajaran "${m.name}" berhasil diperbarui`}),d(!1)}catch(E){console.error("Error updating subject:",E),ot({title:"Gagal",description:`Gagal memperbarui mata pelajaran: ${(E==null?void 0:E.message)||"Terjadi kesalahan"}`,variant:"destructive"})}},y=async()=>{try{console.log(" Deleting schedule subject:",e.id),await i.mutateAsync(e.id),ot({title:"Berhasil",description:`Mata pelajaran "${e.name}" berhasil dihapus`}),h(!1)}catch(N){console.error("Error deleting subject:",N),ot({title:"Gagal",description:`Gagal menghapus mata pelajaran: ${(N==null?void 0:N.message)||"Terjadi kesalahan"}`,variant:"destructive"})}},w=(N,E)=>{v(P=>({...P,assigned_classes:E?[...P.assigned_classes,N]:P.assigned_classes.filter(A=>A!==N)}))},_=()=>{const N=n.map(E=>E.id);v(E=>({...E,assigned_classes:N}))},j=()=>{v(N=>({...N,assigned_classes:[]}))},S=n.length>0&&m.assigned_classes.length===n.length;return e.source==="schedule"||e.type==="ekstrakurikuler"||e.type==="schedule_subject"||e.type==="mata_pelajaran"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex gap-1 bg-black/20 rounded-md p-1",children:[o.jsx(V,{variant:"ghost",size:"sm",onClick:g,className:"h-6 w-6 p-0 text-white/80 hover:text-white hover:bg-white/10 transition-all duration-200",title:"Edit",children:o.jsx(Eo,{className:"h-3 w-3"})}),o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>h(!0),className:"h-6 w-6 p-0 text-white/80 hover:text-red-400 hover:bg-red-500/10 transition-all duration-200",title:"Delete",children:o.jsx(er,{className:"h-3 w-3"})})]}),o.jsx(Ft,{open:u,onOpenChange:d,children:o.jsxs(Ct,{className:"bg-gray-900 border-gray-700 text-white max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(At,{children:o.jsxs(Pt,{className:"text-xl font-bold text-white flex items-center justify-between",children:[o.jsx("span",{children:"Edit Mata Pelajaran"}),o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>d(!1),className:"text-gray-400 hover:text-white",children:o.jsx(Co,{className:"h-4 w-4"})})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(oe,{className:"text-white",children:"Nama Mata Pelajaran *"}),o.jsx(xe,{value:m.name,onChange:N=>v(E=>({...E,name:N.target.value})),placeholder:"Masukkan nama mata pelajaran",className:"bg-gray-800 border-gray-600 text-white"})]}),o.jsxs("div",{children:[o.jsx(oe,{className:"text-white",children:"Kode Mata Pelajaran"}),o.jsx(xe,{value:m.code,onChange:N=>v(E=>({...E,code:N.target.value})),placeholder:"Masukkan kode mata pelajaran (opsional)",className:"bg-gray-800 border-gray-600 text-white"})]}),o.jsxs("div",{children:[o.jsx(oe,{className:"text-white",children:"Warna"}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:lN.map(N=>o.jsx("button",{type:"button",onClick:()=>v(E=>({...E,color:N})),className:`w-8 h-8 rounded-full border-2 ${m.color===N?"border-white":"border-gray-600"}`,style:{backgroundColor:N}},N))})]}),o.jsxs("div",{children:[o.jsx(oe,{className:"text-white",children:"JP/Tahun"}),o.jsx(xe,{type:"number",value:m.total_hours_per_year,onChange:N=>v(E=>({...E,total_hours_per_year:parseInt(N.target.value)||0})),placeholder:"0",className:"bg-gray-800 border-gray-600 text-white"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(oe,{className:"text-white",children:"Pilih Kelas *"}),o.jsx("div",{className:"flex space-x-2",children:o.jsx(V,{type:"button",variant:"outline",size:"sm",onClick:S?j:_,className:"border-gray-600 text-gray-300 hover:bg-gray-700 hover:text-white text-xs",children:S?o.jsxs(o.Fragment,{children:[o.jsx(Co,{className:"h-3 w-3 mr-1"}),"Batal Semua"]}):o.jsxs(o.Fragment,{children:[o.jsx(mt,{className:"h-3 w-3 mr-1"}),"Pilih Semua"]})})})]}),o.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto border border-gray-600 rounded-md p-2 bg-gray-800",children:n.map(N=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mn,{id:`edit-${N.id}`,checked:m.assigned_classes.includes(N.id),onCheckedChange:E=>w(N.id,E),className:"border-gray-600 data-[state=checked]:bg-blue-600"}),o.jsx(oe,{htmlFor:`edit-${N.id}`,className:"text-white text-sm cursor-pointer",children:N.name})]},N.id))}),o.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[m.assigned_classes.length," dari ",n.length," kelas dipilih"]})]}),o.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[o.jsx(V,{variant:"outline",onClick:()=>d(!1),className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"Batal"}),o.jsx(V,{onClick:b,disabled:s.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white",children:s.isPending?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Menyimpan..."]}):o.jsxs(o.Fragment,{children:[o.jsx(hf,{className:"h-4 w-4 mr-2"}),"Simpan"]})})]})]})]})}),o.jsx(Ft,{open:f,onOpenChange:h,children:o.jsxs(Ct,{className:"bg-gray-900 border-gray-700 text-white",children:[o.jsx(At,{children:o.jsx(Pt,{className:"text-xl font-bold text-white",children:"Konfirmasi Hapus"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("p",{className:"text-gray-300",children:["Apakah Anda yakin ingin menghapus mata pelajaran ",o.jsxs("strong",{children:['"',e.name,'"']}),"?"]}),o.jsx("p",{className:"text-sm text-yellow-400",children:"Tindakan ini tidak dapat dibatalkan dan akan menghapus semua data terkait."}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx(V,{variant:"outline",onClick:()=>h(!1),className:"border-gray-600 text-gray-300 hover:bg-gray-800",children:"Batal"}),o.jsx(V,{onClick:y,disabled:i.isPending,className:"bg-red-600 hover:bg-red-700 text-white",children:i.isPending?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Menghapus..."]}):o.jsxs(o.Fragment,{children:[o.jsx(er,{className:"h-4 w-4 mr-2"}),"Hapus"]})})]})]})]})})]}):null},R8e=e=>Ze({queryKey:["jp-progress",e],queryFn:async()=>{if(!e)return[];const{data:{user:t}}=await G.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:r}=await G.from("profiles").select("school_id").eq("id",t.id).single();if(!(r!=null&&r.school_id))throw new Error("School not found");const{data:n}=await G.from("academic_years").select("id").eq("school_id",r.school_id).eq("is_active",!0).single();if(!(n!=null&&n.id))throw new Error("Active academic year not found");const{data:a,error:s}=await G.from("class_schedules").select(`
          subject_id,
          hours_per_year,
          academic_year_id,
          schedule_subjects (
            id,
            name,
            code,
            color,
            session_categories (
              name
            )
          ),
          classes (
            id,
            name,
            level
          )
        `).eq("class_id",e).eq("school_id",r.school_id).is("day_of_week",null);if(s)return console.error(" useJPProgress error:",s),console.log(" Returning empty array to prevent errors"),[];const{data:i,error:l}=await G.from("schedules_view").select(`
          subject_id,
          jp_realisasi,
          academic_year_id
        `).eq("class_id",e).eq("school_id",r.school_id);if(l)throw l;const c=(a==null?void 0:a.reduce((d,f)=>{const h=d[f.subject_id];return(!h||f.hours_per_year>h.hours_per_year)&&(d[f.subject_id]=f),d},{}))||{},u=Object.values(c).map(d=>{var v,p,g,b,y,w,_;const f=((v=i==null?void 0:i.filter(j=>j.subject_id===d.subject_id))==null?void 0:v.reduce((j,S)=>j+(parseFloat(S.jp_realisasi)||0),0))||0,h=d.hours_per_year||0,m=h>0?f/h*100:0;return{subject_id:d.subject_id,subject_name:((p=d.schedule_subjects)==null?void 0:p.name)||"Unknown",subject_code:(g=d.schedule_subjects)==null?void 0:g.code,subject_color:(b=d.schedule_subjects)==null?void 0:b.color,class_id:e,class_name:((y=d.classes)==null?void 0:y.name)||"Unknown",target_jp:h,realisasi_jp:Math.round(f*100)/100,progress_percentage:Math.min(Math.round(m*100)/100,100),category:((_=(w=d.schedule_subjects)==null?void 0:w.session_categories)==null?void 0:_.name)||"Unknown"}});return console.log(" JP Progress calculated:",{classId:e,totalSubjects:u.length,progressData:u.map(d=>({subject:d.subject_name,target:d.target_jp,realisasi:d.realisasi_jp,percentage:d.progress_percentage}))}),console.log(" Raw targets data:",a),console.log(" Raw realisasi data:",i),u},enabled:!!e,staleTime:5e3,gcTime:3e5}),d9=({selectedClassId:e,selectedWeek:t}={})=>{const{data:r=[],isLoading:n,error:a}=Yo();Bf(),xn();const{data:s=[]}=R8e(e),{data:i=[]}=u9(e),l=x.useMemo(()=>{if(!e)return[];console.log(" useJPCalculation (PAGINATED) - Processing JP Progress:",{jpProgress:s.length,jpProgressSimple:i.length,schedulesCount:r.length,selectedWeek:t,isLoading:n,error:a});const u=i.map(d=>({id:d.subject_id,name:d.subject_name,targetJP:d.target_jp,realizationJP:d.realisasi_jp,percentage:Math.round(d.progress_percentage),color:d.subject_color||"#8B5CF6",category:d.category,type:"subject"}));return console.log(" useJPCalculation - Final JP Results:",u),u},[i,e]),c=x.useMemo(()=>{const u=l.reduce((h,m)=>h+m.targetJP,0),d=l.reduce((h,m)=>h+m.realizationJP,0),f=u>0?Math.round(d/u*100):0;return{targetJP:u,realizationJP:Math.round(d*10)/10,percentage:f}},[l]);return{jpData:l,totalJP:c,isLoading:!1}},I8e=({selectedClassId:e,selectedWeek:t,onSubjectDrag:r})=>{console.log(" ExpandableCategorySidebar rendered with props:",{selectedClassId:e,selectedWeek:t,type:typeof e,isNull:e===null,isUndefined:e===void 0,isEmpty:e===""});const{data:n=[]}=vw(e),[a,s]=x.useState({}),[i,l]=x.useState(!1),[c,u]=x.useState(""),{jpData:d}=d9({selectedClassId:e||void 0,selectedWeek:t});console.log(" ExpandableCategorySidebar DEBUG:",{selectedClassId:e,scheduleSubjectsByCategory:n.length,jpData:d.length,categoriesWithJPData:n.map(g=>({name:g.name,subjects:g.subjects.map(b=>({name:b.name,target_jp:b.target_jp,realisasi_jp:b.realisasi_jp,progress_percentage:b.progress_percentage}))}))}),console.log(" All JP Data in sidebar:",d),console.log(" Selected Class ID:",e);const f=n;console.log(" ExpandableCategorySidebar - selectedClassId:",e),console.log(" ExpandableCategorySidebar - scheduleSubjectsByCategory:",n),console.log(" ExpandableCategorySidebar - categoriesToRender:",f),console.log(" Sidebar Categories to Render:",{selectedClassId:e,totalCategories:f.length,categories:f.map(g=>({name:g.name,subjectCount:g.subjects.length,subjects:g.subjects.map(b=>b.name)}))});const h=g=>{s(b=>({...b,[g]:!b[g]}))},m=(g,b)=>{if(!e){g.preventDefault();return}const y={...b,type:b.type||"schedule_subject",source:"sidebar",id:b.id,name:b.name,color:b.color||"#6B7280",session_category_id:b.session_category_id,original_data:b};console.log(" Drag Start - Enhanced Subject Data:",y),g.dataTransfer.setData("application/json",JSON.stringify(y)),g.dataTransfer.effectAllowed="copy",r(y)},v=g=>{u(g),l(!0)},p=()=>{l(!1),u("")};return o.jsxs("div",{id:"external-events-container",className:"h-full bg-muted/20 p-4 space-y-4 overflow-y-auto expandable-category-sidebar",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-base font-semibold text-foreground",children:"Mata Pelajaran"}),o.jsxs(V,{size:"sm",onClick:()=>v(""),className:"bg-primary hover:bg-primary/90 text-primary-foreground font-semibold shadow-lg transition-all duration-300",children:[o.jsx(mt,{className:"h-4 w-4 mr-1"}),"Mapel"]})]}),!e&&o.jsx("div",{className:"bg-lime-500/10 border border-lime-500/30 rounded-lg p-3 mb-4",children:o.jsx("p",{className:"text-lime-400 text-sm text-center",children:"Pilih kelas terlebih dahulu untuk menambahkan jadwal"})}),o.jsx("div",{className:"space-y-3",children:f.map(g=>{const b=a[g.id],y=g.subjects;return o.jsx(le,{className:"border-border shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02] overflow-hidden bg-card",style:{borderRadius:"20px",boxShadow:`0 4px 12px rgba(0, 0, 0, 0.1), 0 2px 6px rgba(0, 0, 0, 0.05), 0 0 0 1px ${g.color}40`},children:o.jsxs(ac,{open:b,onOpenChange:()=>h(g.id),children:[o.jsx(Ed,{asChild:!0,children:o.jsx(ke,{className:"p-4 cursor-pointer transition-all duration-300 hover:bg-accent/10",children:o.jsxs(Pe,{className:"flex items-center justify-between w-full",children:[o.jsx("div",{className:"flex-1",children:o.jsx("div",{className:"text-foreground font-medium text-sm",children:g.name})}),o.jsx("div",{className:"bg-primary text-primary-foreground font-normal px-3 py-1 rounded-full text-sm min-w-[2.5rem] text-center mr-3",style:{},children:y.length}),o.jsx(ci,{className:`h-5 w-5 text-white transition-transform duration-300 ${b?"rotate-90":""}`})]})})}),o.jsx(sc,{children:o.jsxs(ce,{className:"pt-0 space-y-2",children:[y.map(w=>{const _=c9(w,g),j=D8e(g),S=d.find(N=>N.id===w.id);console.log(` SUBJECT DEBUG "${w.name}":`,{id:w.id,name:w.name,target_jp:w.target_jp,realisasi_jp:w.realisasi_jp,progress_percentage:w.progress_percentage,hasJPData:w.target_jp!==void 0,legacyJPInfo:S}),console.log(` Subject "${w.name}" - Category: ${g.name}`,{subjectColor:w.color,categoryColor:g.color,finalColors:_,categoryColors:j,jpInfo:S});const k={...w,type:w.type||"schedule_subject",source:"sidebar",session_category_id:w.session_category_id};return o.jsx("div",{className:`
                            fc-event fc-event-draggable rounded-lg border-2 p-3 transition-all duration-300 group backdrop-blur-sm shadow-lg hover:shadow-2xl select-none
                            ${e?"cursor-move hover:scale-105 hover:shadow-2xl hover:z-50 hover:-translate-y-1":"cursor-not-allowed opacity-50"}
                          `,style:{background:e?_.background:"linear-gradient(135deg, #4B556340, #37415040)",borderColor:e?_.border:"#6B728080",boxShadow:e?`0 4px 12px rgba(0,0,0,0.15), 0 0 0 1px ${_.border}30`:"0 2px 8px rgba(0,0,0,0.1)"},"data-subject":JSON.stringify(k),"data-subject-id":w.id,"data-subject-name":w.name,"data-subject-color":_.background,"data-category-name":g.name,"data-duration":"01:00",draggable:!!e,onDragStart:N=>m(N,w),children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(G5,{className:`h-5 w-5 transition-all duration-300 ${e?"group-hover:scale-125 group-hover:rotate-12":"text-gray-600"}`,style:{color:e?_.text:"#6B7280",filter:"none"}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-sm font-bold truncate drop-shadow-sm",style:{color:e?_.text:"#9CA3AF",textShadow:"none"},children:w.name}),e&&w.target_jp!==void 0&&o.jsxs("div",{className:"text-xs font-semibold mt-1 space-y-1",children:[o.jsxs("div",{style:{color:e?_.text:"#9CA3AF"},children:[w.realisasi_jp||0,"/",w.target_jp||0," JP/Tahun"]}),o.jsx("div",{className:"w-full",children:o.jsx(xC,{value:w.progress_percentage||0,className:"h-2 bg-gray-700/50",indicatorClassName:(w.progress_percentage||0)>=100?"bg-green-500":(w.progress_percentage||0)>=75?"bg-blue-500":(w.progress_percentage||0)>=50?"bg-yellow-500":"bg-red-500"})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"px-2 py-1 rounded text-xs font-bold",style:{backgroundColor:(w.progress_percentage||0)>=100?"#10B981":(w.progress_percentage||0)>=75?"#3B82F6":(w.progress_percentage||0)>=50?"#F59E0B":"#EF4444",color:"white"},children:[Math.round(w.progress_percentage||0),"%"]}),o.jsx("span",{className:"text-xs",style:{color:e?`${_.text}80`:"#6B7280"},children:(w.progress_percentage||0)>=100?"Tercapai":(w.progress_percentage||0)>=75?"Baik":(w.progress_percentage||0)>=50?"Cukup":"Kurang"})]})]}),w.code&&o.jsx("div",{className:"text-xs truncate font-semibold",style:{color:e?`${_.text}90`:"#6B7280"},children:w.code})]}),o.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-all duration-200 z-20",children:o.jsx(O8e,{subject:w,selectedClassId:e})})]})},w.id)}),y.length===0&&o.jsxs("div",{className:"text-center py-4",children:[o.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:"Belum ada mata pelajaran"}),o.jsxs(V,{size:"sm",variant:"outline",onClick:()=>v(g.id),className:"border-border text-muted-foreground hover:bg-accent hover:text-accent-foreground",children:[o.jsx(mt,{className:"h-3 w-3 mr-1"}),"Tambah"]})]})]})})]})},g.id)})}),o.jsx(M8e,{isOpen:i,onClose:p,selectedCategoryId:c,selectedClassId:e})]})};var I$=1,$8e=.9,L8e=.8,F8e=.17,bj=.1,xj=.999,B8e=.9999,z8e=.99,U8e=/[\\\/_+.#"@\[\(\{&]/,H8e=/[\\\/_+.#"@\[\(\{&]/g,q8e=/[\s-]/,f9=/[\s-]/g;function cN(e,t,r,n,a,s,i){if(s===t.length)return a===e.length?I$:z8e;var l=`${a},${s}`;if(i[l]!==void 0)return i[l];for(var c=n.charAt(s),u=r.indexOf(c,a),d=0,f,h,m,v;u>=0;)f=cN(e,t,r,n,u+1,s+1,i),f>d&&(u===a?f*=I$:U8e.test(e.charAt(u-1))?(f*=L8e,m=e.slice(a,u-1).match(H8e),m&&a>0&&(f*=Math.pow(xj,m.length))):q8e.test(e.charAt(u-1))?(f*=$8e,v=e.slice(a,u-1).match(f9),v&&a>0&&(f*=Math.pow(xj,v.length))):(f*=F8e,a>0&&(f*=Math.pow(xj,u-a))),e.charAt(u)!==t.charAt(s)&&(f*=B8e)),(f<bj&&r.charAt(u-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&r.charAt(u-1)!==n.charAt(s))&&(h=cN(e,t,r,n,u+1,s+2,i),h*bj>f&&(f=h*bj)),f>d&&(d=f),u=r.indexOf(c,u+1);return i[l]=d,d}function $$(e){return e.toLowerCase().replace(f9," ")}function W8e(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,cN(e,t,$$(e),$$(t),0,0,{})}function Zu(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function K8e(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function h9(...e){return t=>e.forEach(r=>K8e(r,t))}function ng(...e){return x.useCallback(h9(...e),e)}function G8e(e,t=[]){let r=[];function n(s,i){const l=x.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:h,children:m,...v}=f,p=(h==null?void 0:h[e][c])||l,g=x.useMemo(()=>v,Object.values(v));return x.createElement(p.Provider,{value:g},m)}function d(f,h){const m=(h==null?void 0:h[e][c])||l,v=x.useContext(m);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const a=()=>{const s=r.map(i=>x.createContext(i));return function(l){const c=(l==null?void 0:l[e])||s;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,V8e(a,...t)]}function V8e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}const uN=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},Q8e=bp.useId||(()=>{});let Y8e=0;function wj(e){const[t,r]=x.useState(Q8e());return uN(()=>{e||r(n=>n??String(Y8e++))},[e]),e||(t?`radix-${t}`:"")}function yc(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)===null||n===void 0?void 0:n.call(t,...r)},[])}function J8e({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=X8e({defaultProp:t,onChange:r}),s=e!==void 0,i=s?e:n,l=yc(r),c=x.useCallback(u=>{if(s){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[s,e,a,l]);return[i,c]}function X8e({defaultProp:e,onChange:t}){const r=x.useState(e),[n]=r,a=x.useRef(n),s=yc(t);return x.useEffect(()=>{a.current!==n&&(s(n),a.current=n)},[n,a,s]),r}const IP=x.forwardRef((e,t)=>{const{children:r,...n}=e,a=x.Children.toArray(r),s=a.find(eze);if(s){const i=s.props.children,l=a.map(c=>c===s?x.Children.count(i)>1?x.Children.only(null):x.isValidElement(i)?i.props.children:null:c);return x.createElement(dN,vn({},n,{ref:t}),x.isValidElement(i)?x.cloneElement(i,void 0,l):null)}return x.createElement(dN,vn({},n,{ref:t}),r)});IP.displayName="Slot";const dN=x.forwardRef((e,t)=>{const{children:r,...n}=e;return x.isValidElement(r)?x.cloneElement(r,{...tze(n,r.props),ref:t?h9(t,r.ref):r.ref}):x.Children.count(r)>1?x.Children.only(null):null});dN.displayName="SlotClone";const Z8e=({children:e})=>x.createElement(x.Fragment,null,e);function eze(e){return x.isValidElement(e)&&e.type===Z8e}function tze(e,t){const r={...t};for(const n in t){const a=e[n],s=t[n];/^on[A-Z]/.test(n)?a&&s?r[n]=(...l)=>{s(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...s}:n==="className"&&(r[n]=[a,s].filter(Boolean).join(" "))}return{...e,...r}}const rze=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ta=rze.reduce((e,t)=>{const r=x.forwardRef((n,a)=>{const{asChild:s,...i}=n,l=s?IP:t;return x.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),x.createElement(l,vn({},i,{ref:a}))});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function nze(e,t){e&&Ea.flushSync(()=>e.dispatchEvent(t))}function aze(e,t=globalThis==null?void 0:globalThis.document){const r=yc(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n),()=>t.removeEventListener("keydown",n)},[r,t])}const fN="dismissableLayer.update",sze="dismissableLayer.pointerDownOutside",ize="dismissableLayer.focusOutside";let L$;const oze=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lze=x.forwardRef((e,t)=>{var r;const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:c,...u}=e,d=x.useContext(oze),[f,h]=x.useState(null),m=(r=f==null?void 0:f.ownerDocument)!==null&&r!==void 0?r:globalThis==null?void 0:globalThis.document,[,v]=x.useState({}),p=ng(t,N=>h(N)),g=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(b),w=f?g.indexOf(f):-1,_=d.layersWithOutsidePointerEventsDisabled.size>0,j=w>=y,S=cze(N=>{const E=N.target,P=[...d.branches].some(A=>A.contains(E));!j||P||(s==null||s(N),l==null||l(N),N.defaultPrevented||c==null||c())},m),k=uze(N=>{const E=N.target;[...d.branches].some(A=>A.contains(E))||(i==null||i(N),l==null||l(N),N.defaultPrevented||c==null||c())},m);return aze(N=>{w===d.layers.size-1&&(a==null||a(N),!N.defaultPrevented&&c&&(N.preventDefault(),c()))},m),x.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(L$=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),F$(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=L$)}},[f,m,n,d]),x.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),F$())},[f,d]),x.useEffect(()=>{const N=()=>v({});return document.addEventListener(fN,N),()=>document.removeEventListener(fN,N)},[]),x.createElement(Ta.div,vn({},u,{ref:p,style:{pointerEvents:_?j?"auto":"none":void 0,...e.style},onFocusCapture:Zu(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Zu(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Zu(e.onPointerDownCapture,S.onPointerDownCapture)}))});function cze(e,t=globalThis==null?void 0:globalThis.document){const r=yc(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let u=function(){m9(sze,r,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function uze(e,t=globalThis==null?void 0:globalThis.document){const r=yc(e),n=x.useRef(!1);return x.useEffect(()=>{const a=s=>{s.target&&!n.current&&m9(ize,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function F$(){const e=new CustomEvent(fN);document.dispatchEvent(e)}function m9(e,t,r,{discrete:n}){const a=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?nze(a,s):a.dispatchEvent(s)}const _j="focusScope.autoFocusOnMount",jj="focusScope.autoFocusOnUnmount",B$={bubbles:!1,cancelable:!0},dze=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...i}=e,[l,c]=x.useState(null),u=yc(a),d=yc(s),f=x.useRef(null),h=ng(t,p=>c(p)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:Li(f.current,{select:!0})},g=function(w){if(m.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||Li(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&Li(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const y=new MutationObserver(b);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),y.disconnect()}}},[n,l,m.paused]),x.useEffect(()=>{if(l){U$.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(_j,B$);l.addEventListener(_j,u),l.dispatchEvent(b),b.defaultPrevented||(fze(vze(p9(l)),{select:!0}),document.activeElement===p&&Li(l))}return()=>{l.removeEventListener(_j,u),setTimeout(()=>{const b=new CustomEvent(jj,B$);l.addEventListener(jj,d),l.dispatchEvent(b),b.defaultPrevented||Li(p??document.body,{select:!0}),l.removeEventListener(jj,d),U$.remove(m)},0)}}},[l,u,d,m]);const v=x.useCallback(p=>{if(!r&&!n||m.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(g&&b){const y=p.currentTarget,[w,_]=hze(y);w&&_?!p.shiftKey&&b===_?(p.preventDefault(),r&&Li(w,{select:!0})):p.shiftKey&&b===w&&(p.preventDefault(),r&&Li(_,{select:!0})):b===y&&p.preventDefault()}},[r,n,m.paused]);return x.createElement(Ta.div,vn({tabIndex:-1},i,{ref:h,onKeyDown:v}))});function fze(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Li(n,{select:t}),document.activeElement!==r)return}function hze(e){const t=p9(e),r=z$(t,e),n=z$(t.reverse(),e);return[r,n]}function p9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function z$(e,t){for(const r of e)if(!mze(r,{upTo:t}))return r}function mze(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function pze(e){return e instanceof HTMLInputElement&&"select"in e}function Li(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&pze(e)&&t&&e.select()}}const U$=gze();function gze(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=H$(e,t),e.unshift(t)},remove(t){var r;e=H$(e,t),(r=e[0])===null||r===void 0||r.resume()}}}function H$(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function vze(e){return e.filter(t=>t.tagName!=="A")}const yze=x.forwardRef((e,t)=>{var r;const{container:n=globalThis==null||(r=globalThis.document)===null||r===void 0?void 0:r.body,...a}=e;return n?uE.createPortal(x.createElement(Ta.div,vn({},a,{ref:t})),n):null});function bze(e,t){return x.useReducer((r,n)=>{const a=t[r][n];return a??r},e)}const yw=e=>{const{present:t,children:r}=e,n=xze(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=ng(n.ref,a.ref);return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:s}):null};yw.displayName="Presence";function xze(e){const[t,r]=x.useState(),n=x.useRef({}),a=x.useRef(e),s=x.useRef("none"),i=e?"mounted":"unmounted",[l,c]=bze(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=dv(n.current);s.current=l==="mounted"?u:"none"},[l]),uN(()=>{const u=n.current,d=a.current;if(d!==e){const h=s.current,m=dv(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),uN(()=>{if(t){const u=f=>{const m=dv(n.current).includes(f.animationName);f.target===t&&m&&Ea.flushSync(()=>c("ANIMATION_END"))},d=f=>{f.target===t&&(s.current=dv(n.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function dv(e){return(e==null?void 0:e.animationName)||"none"}let Sj=0;function wze(){x.useEffect(()=>{var e,t;const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=r[0])!==null&&e!==void 0?e:q$()),document.body.insertAdjacentElement("beforeend",(t=r[1])!==null&&t!==void 0?t:q$()),Sj++,()=>{Sj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Sj--}},[])}function q$(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var g9=LF(),kj=function(){},bw=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:kj,onWheelCapture:kj,onTouchMoveCapture:kj}),a=n[0],s=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,v=e.inert,p=e.allowPinchZoom,g=e.as,b=g===void 0?"div":g,y=QE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=h,_=$F([r,t]),j=Kr(Kr({},y),a);return x.createElement(x.Fragment,null,d&&x.createElement(w,{sideCar:g9,removeScrollBar:u,shards:f,noIsolation:m,inert:v,setCallbacks:s,allowPinchZoom:!!p,lockRef:r}),i?x.cloneElement(x.Children.only(l),Kr(Kr({},j),{ref:_})):x.createElement(b,Kr({},j,{className:c,ref:_}),l))});bw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bw.classNames={fullWidth:zh,zeroRight:Bh};var hN=!1;if(typeof window<"u")try{var fv=Object.defineProperty({},"passive",{get:function(){return hN=!0,!0}});window.addEventListener("test",fv,fv),window.removeEventListener("test",fv,fv)}catch{hN=!1}var tu=hN?{passive:!1}:!1,_ze=function(e){return e.tagName==="TEXTAREA"},v9=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!_ze(e)&&r[t]==="visible")},jze=function(e){return v9(e,"overflowY")},Sze=function(e){return v9(e,"overflowX")},W$=function(e,t){var r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var n=y9(e,r);if(n){var a=b9(e,r),s=a[1],i=a[2];if(s>i)return!0}r=r.parentNode}while(r&&r!==document.body);return!1},kze=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Nze=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},y9=function(e,t){return e==="v"?jze(t):Sze(t)},b9=function(e,t){return e==="v"?kze(t):Nze(t)},Eze=function(e,t){return e==="h"&&t==="rtl"?-1:1},Cze=function(e,t,r,n,a){var s=Eze(e,window.getComputedStyle(t).direction),i=s*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var m=b9(e,l),v=m[0],p=m[1],g=m[2],b=p-g-s*v;(v||b)&&y9(e,l)&&(f+=b,h+=v),l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(f===0||!a)||!d&&(h===0||!a))&&(u=!0),u},hv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},K$=function(e){return[e.deltaX,e.deltaY]},G$=function(e){return e&&"current"in e?e.current:e},Aze=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Pze=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Tze=0,ru=[];function Dze(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(Tze++)[0],s=x.useState(function(){return YE()})[0],i=x.useRef(e);x.useEffect(function(){i.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=IF([e.lockRef.current],(e.shards||[]).map(G$),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(p,g){if("touches"in p&&p.touches.length===2)return!i.current.allowPinchZoom;var b=hv(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-b[0],_="deltaY"in p?p.deltaY:y[1]-b[1],j,S=p.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&k==="h"&&S.type==="range")return!1;var N=W$(k,S);if(!N)return!0;if(N?j=k:(j=k==="v"?"h":"v",N=W$(k,S)),!N)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=j),!j)return!0;var E=n.current||j;return Cze(E,g,p,E==="h"?w:_,!0)},[]),c=x.useCallback(function(p){var g=p;if(!(!ru.length||ru[ru.length-1]!==s)){var b="deltaY"in g?K$(g):hv(g),y=t.current.filter(function(j){return j.name===g.type&&j.target===g.target&&Aze(j.delta,b)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(i.current.shards||[]).map(G$).filter(Boolean).filter(function(j){return j.contains(g.target)}),_=w.length>0?l(g,w[0]):!i.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),u=x.useCallback(function(p,g,b,y){var w={name:p,delta:g,target:b,should:y};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=x.useCallback(function(p){r.current=hv(p),n.current=void 0},[]),f=x.useCallback(function(p){u(p.type,K$(p),p.target,l(p,e.lockRef.current))},[]),h=x.useCallback(function(p){u(p.type,hv(p),p.target,l(p,e.lockRef.current))},[]);x.useEffect(function(){return ru.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,tu),document.addEventListener("touchmove",c,tu),document.addEventListener("touchstart",d,tu),function(){ru=ru.filter(function(p){return p!==s}),document.removeEventListener("wheel",c,tu),document.removeEventListener("touchmove",c,tu),document.removeEventListener("touchstart",d,tu)}},[]);var m=e.removeScrollBar,v=e.inert;return x.createElement(x.Fragment,null,v?x.createElement(s,{styles:Pze(a)}):null,m?x.createElement(UF,{gapMode:"margin"}):null)}const Mze=BF(g9,Dze);var x9=x.forwardRef(function(e,t){return x.createElement(bw,Kr({},e,{ref:t,sideCar:Mze}))});x9.classNames=bw.classNames;const w9="Dialog",[_9,GHe]=G8e(w9),[Oze,Fc]=_9(w9),Rze=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:i=!0}=e,l=x.useRef(null),c=x.useRef(null),[u=!1,d]=J8e({prop:n,defaultProp:a,onChange:s});return x.createElement(Oze,{scope:t,triggerRef:l,contentRef:c,contentId:wj(),titleId:wj(),descriptionId:wj(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:i},r)},j9="DialogPortal",[Ize,S9]=_9(j9,{forceMount:void 0}),$ze=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,s=Fc(j9,t);return x.createElement(Ize,{scope:t,forceMount:r},x.Children.map(n,i=>x.createElement(yw,{present:r||s.open},x.createElement(yze,{asChild:!0,container:a},i))))},mN="DialogOverlay",Lze=x.forwardRef((e,t)=>{const r=S9(mN,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Fc(mN,e.__scopeDialog);return s.modal?x.createElement(yw,{present:n||s.open},x.createElement(Fze,vn({},a,{ref:t}))):null}),Fze=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Fc(mN,r);return x.createElement(x9,{as:IP,allowPinchZoom:!0,shards:[a.contentRef]},x.createElement(Ta.div,vn({"data-state":N9(a.open)},n,{ref:t,style:{pointerEvents:"auto",...n.style}})))}),dp="DialogContent",Bze=x.forwardRef((e,t)=>{const r=S9(dp,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,s=Fc(dp,e.__scopeDialog);return x.createElement(yw,{present:n||s.open},s.modal?x.createElement(zze,vn({},a,{ref:t})):x.createElement(Uze,vn({},a,{ref:t})))}),zze=x.forwardRef((e,t)=>{const r=Fc(dp,e.__scopeDialog),n=x.useRef(null),a=ng(t,r.contentRef,n);return x.useEffect(()=>{const s=n.current;if(s)return Dp(s)},[]),x.createElement(k9,vn({},e,{ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Zu(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),(i=r.triggerRef.current)===null||i===void 0||i.focus()}),onPointerDownOutside:Zu(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&s.preventDefault()}),onFocusOutside:Zu(e.onFocusOutside,s=>s.preventDefault())}))}),Uze=x.forwardRef((e,t)=>{const r=Fc(dp,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return x.createElement(k9,vn({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i;if((i=e.onCloseAutoFocus)===null||i===void 0||i.call(e,s),!s.defaultPrevented){var l;n.current||(l=r.triggerRef.current)===null||l===void 0||l.focus(),s.preventDefault()}n.current=!1,a.current=!1},onInteractOutside:s=>{var i,l;(i=e.onInteractOutside)===null||i===void 0||i.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=s.target;((l=r.triggerRef.current)===null||l===void 0?void 0:l.contains(c))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}}))}),k9=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,...i}=e,l=Fc(dp,r),c=x.useRef(null),u=ng(t,c);return wze(),x.createElement(x.Fragment,null,x.createElement(dze,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s},x.createElement(lze,vn({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":N9(l.open)},i,{ref:u,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function N9(e){return e?"open":"closed"}const Hze=Rze,qze=$ze,Wze=Lze,Kze=Bze;var fh='[cmdk-group=""]',Nj='[cmdk-group-items=""]',Gze='[cmdk-group-heading=""]',$P='[cmdk-item=""]',V$=`${$P}:not([aria-disabled="true"])`,pN="cmdk-item-select",bl="data-value",Vze=(e,t,r)=>W8e(e,t,r),E9=x.createContext(void 0),ag=()=>x.useContext(E9),C9=x.createContext(void 0),LP=()=>x.useContext(C9),A9=x.createContext(void 0),P9=x.forwardRef((e,t)=>{let r=lu(()=>{var R,B;return{search:"",value:(B=(R=e.value)!=null?R:e.defaultValue)!=null?B:"",filtered:{count:0,items:new Map,groups:new Set}}}),n=lu(()=>new Set),a=lu(()=>new Map),s=lu(()=>new Map),i=lu(()=>new Set),l=T9(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:m,loop:v,disablePointerSelection:p=!1,vimBindings:g=!0,...b}=e,y=x.useId(),w=x.useId(),_=x.useId(),j=x.useRef(null),S=sUe();bc(()=>{if(d!==void 0){let R=d.trim();r.current.value=R,k.emit()}},[d]),bc(()=>{S(6,T)},[]);let k=x.useMemo(()=>({subscribe:R=>(i.current.add(R),()=>i.current.delete(R)),snapshot:()=>r.current,setState:(R,B,K)=>{var J,X,te;if(!Object.is(r.current[R],B)){if(r.current[R]=B,R==="search")O(),P(),S(1,A);else if(R==="value"&&(K||S(5,T),((J=l.current)==null?void 0:J.value)!==void 0)){let q=B??"";(te=(X=l.current).onValueChange)==null||te.call(X,q);return}k.emit()}},emit:()=>{i.current.forEach(R=>R())}}),[]),N=x.useMemo(()=>({value:(R,B,K)=>{var J;B!==((J=s.current.get(R))==null?void 0:J.value)&&(s.current.set(R,{value:B,keywords:K}),r.current.filtered.items.set(R,E(B,K)),S(2,()=>{P(),k.emit()}))},item:(R,B)=>(n.current.add(R),B&&(a.current.has(B)?a.current.get(B).add(R):a.current.set(B,new Set([R]))),S(3,()=>{O(),P(),r.current.value||A(),k.emit()}),()=>{s.current.delete(R),n.current.delete(R),r.current.filtered.items.delete(R);let K=C();S(4,()=>{O(),(K==null?void 0:K.getAttribute("id"))===R&&A(),k.emit()})}),group:R=>(a.current.has(R)||a.current.set(R,new Set),()=>{s.current.delete(R),a.current.delete(R)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],disablePointerSelection:p,listId:y,inputId:_,labelId:w,listInnerRef:j}),[]);function E(R,B){var K,J;let X=(J=(K=l.current)==null?void 0:K.filter)!=null?J:Vze;return R?X(R,r.current.search,B):0}function P(){if(!r.current.search||l.current.shouldFilter===!1)return;let R=r.current.filtered.items,B=[];r.current.filtered.groups.forEach(J=>{let X=a.current.get(J),te=0;X.forEach(q=>{let Q=R.get(q);te=Math.max(Q,te)}),B.push([J,te])});let K=j.current;I().sort((J,X)=>{var te,q;let Q=J.getAttribute("id"),ie=X.getAttribute("id");return((te=R.get(ie))!=null?te:0)-((q=R.get(Q))!=null?q:0)}).forEach(J=>{let X=J.closest(Nj);X?X.appendChild(J.parentElement===X?J:J.closest(`${Nj} > *`)):K.appendChild(J.parentElement===K?J:J.closest(`${Nj} > *`))}),B.sort((J,X)=>X[1]-J[1]).forEach(J=>{let X=j.current.querySelector(`${fh}[${bl}="${encodeURIComponent(J[0])}"]`);X==null||X.parentElement.appendChild(X)})}function A(){let R=I().find(K=>K.getAttribute("aria-disabled")!=="true"),B=R==null?void 0:R.getAttribute(bl);k.setState("value",B||void 0)}function O(){var R,B,K,J;if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let X=0;for(let te of n.current){let q=(B=(R=s.current.get(te))==null?void 0:R.value)!=null?B:"",Q=(J=(K=s.current.get(te))==null?void 0:K.keywords)!=null?J:[],ie=E(q,Q);r.current.filtered.items.set(te,ie),ie>0&&X++}for(let[te,q]of a.current)for(let Q of q)if(r.current.filtered.items.get(Q)>0){r.current.filtered.groups.add(te);break}r.current.filtered.count=X}function T(){var R,B,K;let J=C();J&&(((R=J.parentElement)==null?void 0:R.firstChild)===J&&((K=(B=J.closest(fh))==null?void 0:B.querySelector(Gze))==null||K.scrollIntoView({block:"nearest"})),J.scrollIntoView({block:"nearest"}))}function C(){var R;return(R=j.current)==null?void 0:R.querySelector(`${$P}[aria-selected="true"]`)}function I(){var R;return Array.from((R=j.current)==null?void 0:R.querySelectorAll(V$))}function $(R){let B=I()[R];B&&k.setState("value",B.getAttribute(bl))}function M(R){var B;let K=C(),J=I(),X=J.findIndex(q=>q===K),te=J[X+R];(B=l.current)!=null&&B.loop&&(te=X+R<0?J[J.length-1]:X+R===J.length?J[0]:J[X+R]),te&&k.setState("value",te.getAttribute(bl))}function D(R){let B=C(),K=B==null?void 0:B.closest(fh),J;for(;K&&!J;)K=R>0?nUe(K,fh):aUe(K,fh),J=K==null?void 0:K.querySelector(V$);J?k.setState("value",J.getAttribute(bl)):M(R)}let F=()=>$(I().length-1),z=R=>{R.preventDefault(),R.metaKey?F():R.altKey?D(1):M(1)},U=R=>{R.preventDefault(),R.metaKey?$(0):R.altKey?D(-1):M(-1)};return x.createElement(Ta.div,{ref:t,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:R=>{var B;if((B=b.onKeyDown)==null||B.call(b,R),!R.defaultPrevented)switch(R.key){case"n":case"j":{g&&R.ctrlKey&&z(R);break}case"ArrowDown":{z(R);break}case"p":case"k":{g&&R.ctrlKey&&U(R);break}case"ArrowUp":{U(R);break}case"Home":{R.preventDefault(),$(0);break}case"End":{R.preventDefault(),F();break}case"Enter":if(!R.nativeEvent.isComposing&&R.keyCode!==229){R.preventDefault();let K=C();if(K){let J=new Event(pN);K.dispatchEvent(J)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:N.inputId,id:N.labelId,style:oUe},c),xw(e,R=>x.createElement(C9.Provider,{value:k},x.createElement(E9.Provider,{value:N},R))))}),Qze=x.forwardRef((e,t)=>{var r,n;let a=x.useId(),s=x.useRef(null),i=x.useContext(A9),l=ag(),c=T9(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:i==null?void 0:i.forceMount;bc(()=>{if(!u)return l.item(a,i==null?void 0:i.id)},[u]);let d=D9(a,s,[e.value,e.children,s],e.keywords),f=LP(),h=xc(S=>S.value&&S.value===d.current),m=xc(S=>u||l.filter()===!1?!0:S.search?S.filtered.items.get(a)>0:!0);x.useEffect(()=>{let S=s.current;if(!(!S||e.disabled))return S.addEventListener(pN,v),()=>S.removeEventListener(pN,v)},[m,e.onSelect,e.disabled]);function v(){var S,k;p(),(k=(S=c.current).onSelect)==null||k.call(S,d.current)}function p(){f.setState("value",d.current,!0)}if(!m)return null;let{disabled:g,value:b,onSelect:y,forceMount:w,keywords:_,...j}=e;return x.createElement(Ta.div,{ref:fp([s,t]),...j,id:a,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!h,"data-disabled":!!g,"data-selected":!!h,onPointerMove:g||l.disablePointerSelection?void 0:p,onClick:g?void 0:v},e.children)}),Yze=x.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...s}=e,i=x.useId(),l=x.useRef(null),c=x.useRef(null),u=x.useId(),d=ag(),f=xc(m=>a||d.filter()===!1?!0:m.search?m.filtered.groups.has(i):!0);bc(()=>d.group(i),[]),D9(i,l,[e.value,e.heading,c]);let h=x.useMemo(()=>({id:i,forceMount:a}),[a]);return x.createElement(Ta.div,{ref:fp([l,t]),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&x.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),xw(e,m=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},x.createElement(A9.Provider,{value:h},m))))}),Jze=x.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=x.useRef(null),s=xc(i=>!i.search);return!r&&!s?null:x.createElement(Ta.div,{ref:fp([a,t]),...n,"cmdk-separator":"",role:"separator"})}),Xze=x.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,s=LP(),i=xc(d=>d.search),l=xc(d=>d.value),c=ag(),u=x.useMemo(()=>{var d;let f=(d=c.listInnerRef.current)==null?void 0:d.querySelector(`${$P}[${bl}="${encodeURIComponent(l)}"]`);return f==null?void 0:f.getAttribute("id")},[]);return x.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),x.createElement(Ta.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":u,id:c.inputId,type:"text",value:a?e.value:i,onChange:d=>{a||s.setState("search",d.target.value),r==null||r(d.target.value)}})}),Zze=x.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,s=x.useRef(null),i=x.useRef(null),l=ag();return x.useEffect(()=>{if(i.current&&s.current){let c=i.current,u=s.current,d,f=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let h=c.offsetHeight;u.style.setProperty("--cmdk-list-height",h.toFixed(1)+"px")})});return f.observe(c),()=>{cancelAnimationFrame(d),f.unobserve(c)}}},[]),x.createElement(Ta.div,{ref:fp([s,t]),...a,"cmdk-list":"",role:"listbox","aria-label":n,id:l.listId},xw(e,c=>x.createElement("div",{ref:fp([i,l.listInnerRef]),"cmdk-list-sizer":""},c)))}),eUe=x.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:s,container:i,...l}=e;return x.createElement(Hze,{open:r,onOpenChange:n},x.createElement(qze,{container:i},x.createElement(Wze,{"cmdk-overlay":"",className:a}),x.createElement(Kze,{"aria-label":e.label,"cmdk-dialog":"",className:s},x.createElement(P9,{ref:t,...l}))))}),tUe=x.forwardRef((e,t)=>xc(r=>r.filtered.count===0)?x.createElement(Ta.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),rUe=x.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...s}=e;return x.createElement(Ta.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},xw(e,i=>x.createElement("div",{"aria-hidden":!0},i)))}),Bn=Object.assign(P9,{List:Zze,Item:Qze,Input:Xze,Group:Yze,Separator:Jze,Dialog:eUe,Empty:tUe,Loading:rUe});function nUe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function aUe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function T9(e){let t=x.useRef(e);return bc(()=>{t.current=e}),t}var bc=typeof window>"u"?x.useEffect:x.useLayoutEffect;function lu(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function fp(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}function xc(e){let t=LP(),r=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,r,r)}function D9(e,t,r,n=[]){let a=x.useRef(),s=ag();return bc(()=>{var i;let l=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),c=n.map(u=>u.trim());s.value(e,l,c),(i=t.current)==null||i.setAttribute(bl,l),a.current=l}),a}var sUe=()=>{let[e,t]=x.useState(),r=lu(()=>new Map);return bc(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function iUe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function xw({asChild:e,children:t},r){return e&&x.isValidElement(t)?x.cloneElement(iUe(t),{ref:t.ref},r(t.props.children)):r(t)}var oUe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const M9=x.forwardRef(({className:e,...t},r)=>o.jsx(Bn,{ref:r,className:se("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));M9.displayName=Bn.displayName;const O9=x.forwardRef(({className:e,...t},r)=>o.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[o.jsx(b0,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(Bn.Input,{ref:r,className:se("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));O9.displayName=Bn.Input.displayName;const R9=x.forwardRef(({className:e,...t},r)=>o.jsx(Bn.List,{ref:r,className:se("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));R9.displayName=Bn.List.displayName;const I9=x.forwardRef((e,t)=>o.jsx(Bn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));I9.displayName=Bn.Empty.displayName;const $9=x.forwardRef(({className:e,...t},r)=>o.jsx(Bn.Group,{ref:r,className:se("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));$9.displayName=Bn.Group.displayName;const lUe=x.forwardRef(({className:e,...t},r)=>o.jsx(Bn.Separator,{ref:r,className:se("-mx-1 h-px bg-border",e),...t}));lUe.displayName=Bn.Separator.displayName;const L9=x.forwardRef(({className:e,...t},r)=>o.jsx(Bn.Item,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));L9.displayName=Bn.Item.displayName;const F9=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async r=>{var u;const{data:n}=await G.from("profiles").select("school_id").eq("id",(u=(await G.auth.getUser()).data.user)==null?void 0:u.id).single(),{data:a}=await G.from("academic_years").select("id").eq("school_id",n==null?void 0:n.school_id).eq("is_active",!0).single(),s=r.time_session_id&&typeof r.time_session_id=="string"&&!r.time_session_id.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i)?null:r.time_session_id,i={subject_id:r.subject_id,teacher_id:r.teacher_id||null,class_id:r.class_id,time_session_id:s,day_of_week:r.day_of_week,start_time:r.start_time,end_time:r.end_time||r.start_time,academic_week:r.academic_week,schedule_date:r.schedule_date,room:r.room||"",notes:r.notes||"",tujuan_pembelajaran:r.tujuan_pembelajaran||null,materi_pembelajaran:r.materi_pembelajaran||null,school_id:n==null?void 0:n.school_id,academic_year_id:a==null?void 0:a.id};console.log(" Creating schedule with data:",i),console.log(" Profile data:",n),console.log(" Active year data:",a);const{data:l,error:c}=await G.from("class_schedules").insert(i).select().single();if(c)throw console.error(" Schedule creation error:",c),console.error(" Error details:",{message:c.message,details:c.details,hint:c.hint,code:c.code}),c;return l},onSuccess:r=>{console.log(" Schedule created successfully:",r),console.log(" Invalidating all schedule-related queries after CREATE..."),e.invalidateQueries({queryKey:["schedules"]}),e.invalidateQueries({queryKey:["schedules-simple"]}),e.invalidateQueries({queryKey:["schedules-paginated"]}),e.invalidateQueries({queryKey:["schedules-complete"]}),e.invalidateQueries({queryKey:["schedules-calendar"]}),e.invalidateQueries({queryKey:["schedules-week"]}),e.invalidateQueries({queryKey:["schedule-subjects"]}),e.invalidateQueries({queryKey:["schedule-class-subjects"]}),e.invalidateQueries({queryKey:["jp-progress"]}),e.invalidateQueries({queryKey:["jp-progress-simple"]}),console.log(" Force refetching critical queries after CREATE..."),e.refetchQueries({queryKey:["schedules"]}),e.refetchQueries({queryKey:["schedules-simple"]}),e.refetchQueries({queryKey:["schedules-complete"]}),e.refetchQueries({queryKey:["jp-progress-simple"]}),t({title:"Berhasil",description:"Jadwal berhasil ditambahkan"})},onError:r=>{console.error("Full error:",r),t({title:"Gagal",description:"Gagal menambahkan jadwal: "+r.message,variant:"destructive"})}})},B9=()=>{const e=Ce();return Ee({mutationFn:async({id:t,...r})=>{console.log(" Updating schedule:",t,r);const{data:n,error:a}=await G.from("class_schedules").update(r).eq("id",t).select().single();if(a)throw console.error(" Error updating schedule:",a),a;return console.log(" Schedule updated successfully:",n),n},onSuccess:t=>{console.log(" Schedule update mutation successful:",t),console.log(" Invalidating all schedule-related queries after UPDATE..."),e.invalidateQueries({queryKey:["schedules"]}),e.invalidateQueries({queryKey:["schedules-simple"]}),e.invalidateQueries({queryKey:["schedules-paginated"]}),e.invalidateQueries({queryKey:["schedules-complete"]}),e.invalidateQueries({queryKey:["schedules-calendar"]}),e.invalidateQueries({queryKey:["schedules-week"]}),e.invalidateQueries({queryKey:["schedule-subjects"]}),e.invalidateQueries({queryKey:["schedule-class-subjects"]}),e.invalidateQueries({queryKey:["jp-progress"]}),e.invalidateQueries({queryKey:["jp-progress-simple"]}),console.log(" Force refetching critical queries after UPDATE..."),e.refetchQueries({queryKey:["schedules"]}),e.refetchQueries({queryKey:["schedules-simple"]}),e.refetchQueries({queryKey:["schedules-complete"]}),e.refetchQueries({queryKey:["jp-progress-simple"]})},onError:t=>{console.error(" Schedule update mutation failed:",t)}})},cUe=()=>{const e=Ce(),{toast:t}=Te();return Ee({mutationFn:async r=>{var u,d,f,h,m,v;console.log(" Deleting schedule:",r);const{data:n,error:a}=await G.auth.getSession();console.log(" Current user session:",{user:(d=(u=n==null?void 0:n.session)==null?void 0:u.user)==null?void 0:d.id,email:(h=(f=n==null?void 0:n.session)==null?void 0:f.user)==null?void 0:h.email,role:(v=(m=n==null?void 0:n.session)==null?void 0:m.user)==null?void 0:v.role,sessionError:a});const{data:s,error:i}=await G.from("class_schedules").select("id, class_id, subject_id, academic_week, day_of_week").eq("id",r).single();if(i)throw console.error(" Error checking schedule existence:",i),new Error(`Schedule not found: ${i.message}`);if(!s)throw console.error(" Schedule not found:",r),new Error("Schedule not found");console.log(" Schedule to delete:",s);const{data:l,error:c}=await G.from("class_schedules").delete().eq("id",r).select();if(c)if(console.error(" Error deleting schedule:",{error:c,code:c.code,message:c.message,details:c.details,hint:c.hint}),c.code==="42501"){console.log(" Trying alternative delete approach...");const{data:p,error:g}=await G.rpc("delete_schedule_by_id",{schedule_id:r});if(g)throw console.error(" Alternative delete also failed:",g),new Error("Tidak memiliki izin untuk menghapus jadwal ini. Hubungi administrator.");return console.log(" Alternative delete successful:",p),p}else throw c.code==="23503"?new Error("Jadwal tidak dapat dihapus karena masih terkait dengan data lain."):new Error(`Gagal menghapus jadwal: ${c.message}`);return console.log(" Schedule deleted successfully:",l),l},onSuccess:()=>{console.log(" Schedule delete mutation successful"),console.log(" Invalidating all schedule-related queries..."),e.invalidateQueries({queryKey:["schedules"]}),e.invalidateQueries({queryKey:["schedules-simple"]}),e.invalidateQueries({queryKey:["schedules-paginated"]}),e.invalidateQueries({queryKey:["schedules-complete"]}),e.invalidateQueries({queryKey:["schedules-calendar"]}),e.invalidateQueries({queryKey:["schedules-week"]}),e.invalidateQueries({queryKey:["schedule-subjects"]}),e.invalidateQueries({queryKey:["schedule-class-subjects"]}),e.invalidateQueries({queryKey:["jp-progress"]}),e.invalidateQueries({queryKey:["jp-progress-simple"]}),console.log(" Force refetching critical queries..."),e.refetchQueries({queryKey:["schedules"]}),e.refetchQueries({queryKey:["schedules-simple"]}),e.refetchQueries({queryKey:["schedules-complete"]}),e.refetchQueries({queryKey:["jp-progress-simple"]}),t({title:"Berhasil",description:"Jadwal berhasil dihapus"})},onError:r=>{console.error(" Schedule delete mutation failed:",r),t({title:"Gagal",description:"Gagal menghapus jadwal: "+r.message,variant:"destructive"})}})};var FP="Radio",[uUe,z9]=ia(FP),[dUe,fUe]=uUe(FP),U9=x.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:s,disabled:i,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=x.useState(null),m=tt(t,g=>h(g)),v=x.useRef(!1),p=f?u||!!f.closest("form"):!0;return o.jsxs(dUe,{scope:r,checked:a,disabled:i,children:[o.jsx(Ae.button,{type:"button",role:"radio","aria-checked":a,"data-state":W9(a),"data-disabled":i?"":void 0,disabled:i,value:l,...d,ref:m,onClick:me(e.onClick,g=>{a||c==null||c(),p&&(v.current=g.isPropagationStopped(),v.current||g.stopPropagation())})}),p&&o.jsx(hUe,{control:f,bubbles:!v.current,name:n,value:l,checked:a,required:s,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});U9.displayName=FP;var H9="RadioIndicator",q9=x.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,s=fUe(H9,r);return o.jsx(rn,{present:n||s.checked,children:o.jsx(Ae.span,{"data-state":W9(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})})});q9.displayName=H9;var hUe=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,s=x.useRef(null),i=wC(r),l=ME(t);return x.useEffect(()=>{const c=s.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[i,r,n]),o.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:s,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function W9(e){return e?"checked":"unchecked"}var mUe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BP="RadioGroup",[pUe,VHe]=ia(BP,[wf,z9]),K9=wf(),G9=z9(),[gUe,vUe]=pUe(BP),V9=x.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:s,required:i=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,m=K9(r),v=V0(u),[p,g]=Za({prop:s,defaultProp:a,onChange:f});return o.jsx(gUe,{scope:r,name:n,required:i,disabled:l,value:p,onValueChange:g,children:o.jsx(lC,{asChild:!0,...m,orientation:c,dir:v,loop:d,children:o.jsx(Ae.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...h,ref:t})})})});V9.displayName=BP;var Q9="RadioGroupItem",Y9=x.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,s=vUe(Q9,r),i=s.disabled||n,l=K9(r),c=G9(r),u=x.useRef(null),d=tt(t,u),f=s.value===a.value,h=x.useRef(!1);return x.useEffect(()=>{const m=p=>{mUe.includes(p.key)&&(h.current=!0)},v=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",v)}},[]),o.jsx(cC,{asChild:!0,...l,focusable:!i,active:f,children:o.jsx(U9,{disabled:i,required:s.required,checked:f,...c,...a,name:s.name,ref:d,onCheck:()=>s.onValueChange(a.value),onKeyDown:me(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:me(a.onFocus,()=>{var m;h.current&&((m=u.current)==null||m.click())})})})});Y9.displayName=Q9;var yUe="RadioGroupIndicator",J9=x.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=G9(r);return o.jsx(q9,{...a,...n,ref:t})});J9.displayName=yUe;var X9=V9,Z9=Y9,bUe=J9;const eG=x.forwardRef(({className:e,...t},r)=>o.jsx(X9,{className:se("grid gap-2",e),...t,ref:r}));eG.displayName=X9.displayName;const zv=x.forwardRef(({className:e,...t},r)=>o.jsx(Z9,{ref:r,className:se("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(bUe,{className:"flex items-center justify-center",children:o.jsx(W5,{className:"h-2.5 w-2.5 fill-current text-current"})})}));zv.displayName=Z9.displayName;const Ej=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#06B6D4","#84CC16","#F97316","#6366F1"],xUe=({isOpen:e,onClose:t,selectedCategoryId:r,selectedClassId:n})=>{const a=Ce(),{data:s=[]}=jr(),{data:i=[]}=xn(),l=MA(!1),c=oq(!1),[u,d]=x.useState({name:"",code:"",color:Ej[0],total_hours_per_year:0,standard_duration:45,schedule_category_id:r||"",selected_classes:n?[n]:[]}),[f,h]=x.useState(zn.SINGLE);x.useEffect(()=>{e&&(d({name:"",code:"",color:Ej[0],total_hours_per_year:0,standard_duration:45,schedule_category_id:r||"",selected_classes:n?[n]:[]}),h(zn.SINGLE))},[e,r,n]);const m=async()=>{var g;if(console.log("=== NEW MODAL SUBMIT PROCESS ==="),console.log("Form data:",u),!u.name.trim()){ot({title:"Error",description:"Nama pelajaran harus diisi",variant:"destructive"});return}if(u.name.trim().length<2){ot({title:"Error",description:"Nama pelajaran minimal 2 karakter",variant:"destructive"});return}if(!u.schedule_category_id){ot({title:"Error",description:"Kategori harus dipilih",variant:"destructive"});return}let p=[];if(f===zn.ALL?p=s.map(b=>b.id):f===zn.MULTIPLE?p=u.selected_classes:p=u.selected_classes.slice(0,1),p.length===0){ot({title:"Error",description:"Minimal pilih satu kelas",variant:"destructive"});return}console.log("Target classes:",p);try{console.log("=== CREATING SCHEDULE SUBJECT ===");const b={name:u.name.trim(),code:((g=u.code)==null?void 0:g.trim())||void 0,color:u.color,total_hours_per_year:u.total_hours_per_year,standard_duration:u.standard_duration,schedule_category_id:u.schedule_category_id,selected_classes:p};console.log("Subject data:",b);const y=await l.mutateAsync(b);console.log("Schedule subject created:",y),console.log("=== CREATING CLASS RELATIONS ===");for(let w=0;w<p.length;w++){const j={class_id:p[w],schedule_subject_id:y.id,hours_per_week:Math.round(u.total_hours_per_year/36)||0,hours_per_year:u.total_hours_per_year};console.log(`Creating class relation ${w+1}/${p.length}:`,j),await c.mutateAsync(j)}console.log("=== REFRESHING QUERIES ==="),await a.invalidateQueries({queryKey:["schedule-subjects"]}),await a.invalidateQueries({queryKey:["schedule-class-subjects"]}),await a.invalidateQueries({queryKey:["schedule-subjects-by-category"]}),ot({title:"Berhasil",description:`Mata pelajaran berhasil ditambahkan ke ${p.length} kelas`}),console.log("=== NEW MODAL SUBMIT COMPLETED ==="),t()}catch(b){console.error("=== ERROR IN NEW MODAL SUBMIT ==="),console.error("Error details:",b),ot({title:"Error",description:`Gagal menambahkan mata pelajaran: ${(b==null?void 0:b.message)||"Unknown error"}`,variant:"destructive"})}},v=(p,g)=>{d(g?b=>({...b,selected_classes:[...b.selected_classes,p]}):b=>({...b,selected_classes:b.selected_classes.filter(y=>y!==p)}))};return o.jsx(Ft,{open:e,onOpenChange:t,children:o.jsxs(Ct,{className:"max-w-md max-h-[90vh] overflow-y-auto bg-gray-900 border-gray-700",children:[o.jsx(At,{children:o.jsx(Pt,{className:"text-white",children:"+ Buat Pelajaran Baru"})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"name",className:"text-white",children:"Nama Pelajaran"}),o.jsx(xe,{id:"name",value:u.name,onChange:p=>d(g=>({...g,name:p.target.value})),className:"bg-gray-800 border-gray-600 text-white",placeholder:"Contoh: Fisika"})]}),o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"code",className:"text-white",children:"Kode (Opsional)"}),o.jsx(xe,{id:"code",value:u.code,onChange:p=>d(g=>({...g,code:p.target.value})),className:"bg-gray-800 border-gray-600 text-white",placeholder:"Contoh: FIS (kosongkan untuk auto-generate)"})]}),o.jsxs("div",{children:[o.jsx(oe,{className:"text-white",children:"Kategori"}),o.jsxs(ze,{value:u.schedule_category_id,onValueChange:p=>d(g=>({...g,schedule_category_id:p})),children:[o.jsx($e,{className:"bg-gray-800 border-gray-600 text-white",children:o.jsx(Ue,{placeholder:"Pilih kategori"})}),o.jsx(Le,{className:"bg-gray-800 border-gray-700",children:i.map(p=>o.jsx(pe,{value:p.id,className:"text-white hover:bg-gray-700",children:p.name},p.id))})]})]}),o.jsxs("div",{children:[o.jsx(oe,{className:"text-white",children:"Warna"}),o.jsx("div",{className:"grid grid-cols-10 gap-2 mt-2",children:Ej.map(p=>o.jsx("button",{type:"button",className:`w-8 h-8 rounded-full border-2 transition-all ${u.color===p?"border-white scale-110":"border-gray-600"}`,style:{backgroundColor:p},onClick:()=>d(g=>({...g,color:p}))},p))})]}),o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"hours",className:"text-white",children:"JP/Tahun"}),o.jsx(xe,{id:"hours",type:"number",value:u.total_hours_per_year,onChange:p=>d(g=>({...g,total_hours_per_year:parseInt(p.target.value)||0})),className:"bg-gray-800 border-gray-600 text-white",placeholder:"144",min:"0"})]}),o.jsxs("div",{children:[o.jsx(oe,{className:"text-white",children:"Mode Pemilihan Kelas"}),o.jsxs(eG,{value:f,onValueChange:p=>{h(p),d(g=>({...g,selected_classes:p===zn.ALL?s.map(b=>b.id):[]}))},className:"mt-2 space-y-2",children:[o.jsxs("div",{className:`flex items-start space-x-3 p-3 rounded-lg border transition-all ${f===zn.SINGLE?"border-blue-400 bg-blue-500/20 shadow-md":"border-gray-500 bg-gray-700/50 hover:bg-gray-700/70"}`,children:[o.jsx(zv,{value:zn.SINGLE,id:"single",className:"mt-1 border-white data-[state=checked]:bg-blue-500 data-[state=checked]:border-blue-500"}),o.jsxs("div",{className:"flex-1",children:[o.jsx(oe,{htmlFor:"single",className:"text-white font-medium cursor-pointer",children:"Satu Kelas"}),o.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Pelajaran hanya akan ditambahkan ke satu kelas yang dipilih"})]})]}),o.jsxs("div",{className:`flex items-start space-x-3 p-3 rounded-lg border transition-all ${f===zn.MULTIPLE?"border-blue-400 bg-blue-500/20 shadow-md":"border-gray-500 bg-gray-700/50 hover:bg-gray-700/70"}`,children:[o.jsx(zv,{value:zn.MULTIPLE,id:"multiple",className:"mt-1 border-white data-[state=checked]:bg-blue-500 data-[state=checked]:border-blue-500"}),o.jsxs("div",{className:"flex-1",children:[o.jsx(oe,{htmlFor:"multiple",className:"text-white font-medium cursor-pointer",children:"Beberapa Kelas"}),o.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Pilih beberapa kelas tertentu untuk ditambahkan pelajaran"})]})]}),o.jsxs("div",{className:`flex items-start space-x-3 p-3 rounded-lg border transition-all ${f===zn.ALL?"border-blue-400 bg-blue-500/20 shadow-md":"border-gray-500 bg-gray-700/50 hover:bg-gray-700/70"}`,children:[o.jsx(zv,{value:zn.ALL,id:"all",className:"mt-1 border-white data-[state=checked]:bg-blue-500 data-[state=checked]:border-blue-500"}),o.jsxs("div",{className:"flex-1",children:[o.jsx(oe,{htmlFor:"all",className:"text-white font-medium cursor-pointer",children:"Semua Kelas"}),o.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Pelajaran akan ditambahkan ke semua ",s.length," kelas sekaligus"]})]})]})]})]}),f!==zn.ALL&&o.jsxs("div",{children:[o.jsx(oe,{className:"text-white",children:"Pilih Kelas"}),o.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4 border border-gray-500 mt-2",children:[o.jsx("p",{className:"text-sm text-gray-200 mb-3",children:"Pilih kelas untuk pelajaran ini"}),o.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-32 overflow-y-auto",children:s.map(p=>o.jsxs("div",{className:`flex items-center space-x-3 p-2 rounded border transition-all ${u.selected_classes.includes(p.id)?"bg-blue-500/20 border-blue-400":"bg-gray-600/30 border-gray-500 hover:bg-gray-600/50"}`,children:[o.jsx(mn,{id:p.id,checked:u.selected_classes.includes(p.id),onCheckedChange:g=>v(p.id,g),className:"border-white data-[state=checked]:bg-blue-500 data-[state=checked]:border-blue-500"}),o.jsxs(oe,{htmlFor:p.id,className:"text-white text-sm cursor-pointer flex-1",children:[p.name," (",p.level," ",p.grade,")"]})]},p.id))})]})]}),o.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[o.jsx(V,{variant:"outline",onClick:t,children:"Batal"}),o.jsx(V,{onClick:m,disabled:l.isPending||c.isPending,className:"bg-lime-500 hover:bg-lime-600",children:l.isPending||c.isPending?"Menyimpan...":"Simpan"})]})]})]})})},wUe=({isOpen:e,onClose:t,selectedTimeSlot:r,selectedDate:n,selectedClassId:a,onScheduleCreated:s})=>{var j,S,k;const[i,l]=x.useState({subject_id:"",teacher_id:"no-teacher",class_id:"",start_time:"",end_time:"",room:"",notes:"",tujuan_pembelajaran:"",materi_pembelajaran:""}),[c,u]=x.useState(!1),[d,f]=x.useState(""),[h,m]=x.useState(!1),{data:v=[]}=vw(a),{data:p}=Xx(),{data:g}=jr(),b=L.useMemo(()=>{const N=v.flatMap(E=>E.subjects.map(P=>({id:P.id,name:P.name,code:P.code,category:E.name})));return console.log(" AddScheduleModal - Schedule subjects only:",{fromCategories:N.length,categories:v.length,subjects:N.map(E=>({name:E.name,category:E.category}))}),N},[v]),y=F9(),{toast:w}=Te();x.useEffect(()=>{var N;if(e){const E={subject_id:"",teacher_id:"no-teacher",class_id:a||"",start_time:"",end_time:"",room:"",notes:"",tujuan_pembelajaran:"",materi_pembelajaran:""};if(r!=null&&r.subject&&(E.subject_id=r.subject.id),r){if(r.start_time&&r.end_time)E.start_time=r.start_time,E.end_time=r.end_time;else if((N=r.timeSlot)!=null&&N.time){const[P,A]=r.timeSlot.time.split(" - ");E.start_time=P,E.end_time=A}else if(r.time){E.start_time=r.time;const P=new Date(`2000-01-01 ${r.time}`),A=new Date(P.getTime()+60*60*1e3);E.end_time=A.toTimeString().slice(0,5)}}l(E),console.log(" Auto-populated form data:",{selectedClassId:a,selectedTimeSlot:r,formData:E})}},[e,r,a]);const _=async N=>{var E,P,A,O,T;if(N.preventDefault(),!(!r||!i.subject_id||!i.class_id)){if(i.start_time&&i.end_time&&i.start_time>=i.end_time){w({title:"Validasi Gagal",description:"Waktu mulai harus lebih awal dari waktu selesai",variant:"destructive"});return}try{const C={...i,teacher_id:i.teacher_id===""||i.teacher_id==="no-teacher"?null:i.teacher_id,time_session_id:((E=r.timeSlot)==null?void 0:E.id)||null,day_of_week:r.dayIndex,start_time:i.start_time||((A=(P=r.timeSlot)==null?void 0:P.time)==null?void 0:A.split(" - ")[0])||null,end_time:i.end_time||((T=(O=r.timeSlot)==null?void 0:O.time)==null?void 0:T.split(" - ")[1])||null,academic_week:r.academicWeek,schedule_date:r.date?r.date.toISOString().split("T")[0]:null};console.log(" Creating schedule with data:",C),await y.mutateAsync(C),console.log(" Schedule created successfully"),w({title:"Berhasil",description:"Jadwal berhasil ditambahkan"}),s&&s(),t(),l({subject_id:"",teacher_id:"no-teacher",class_id:"",start_time:"",end_time:"",room:"",notes:"",tujuan_pembelajaran:"",materi_pembelajaran:""})}catch(C){console.error("Error creating schedule:",C),w({title:"Gagal",description:"Gagal menambahkan jadwal. Silakan coba lagi.",variant:"destructive"})}}};return o.jsx(Ft,{open:e,onOpenChange:t,children:o.jsxs(Ct,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-gray-900 border-gray-700",children:[o.jsx(At,{children:o.jsx(Pt,{className:"text-white",children:"Tambah Jadwal Pelajaran"})}),o.jsxs("form",{onSubmit:_,className:"space-y-4",children:[r&&o.jsx("div",{className:"p-3 bg-gray-700/50 rounded-lg border border-gray-500",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-200",children:[o.jsx(lr,{className:"h-4 w-4 text-gray-400"}),o.jsx("span",{className:"font-medium",children:r.day}),r.timeSlot&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-400",children:""}),o.jsx("span",{children:r.timeSlot.time})]}),o.jsx("span",{className:"text-gray-400",children:""}),o.jsxs("span",{children:["Minggu ",r.academicWeek]})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(oe,{className:"text-white",children:"Mata Pelajaran"}),o.jsxs(V,{type:"button",variant:"outline",size:"sm",onClick:()=>m(!0),className:"text-xs bg-gray-700 border-gray-600 text-white hover:bg-gray-600",children:[o.jsx(mt,{className:"h-3 w-3 mr-1"}),"Buat Baru"]})]}),b.length===0?o.jsxs("div",{className:"p-4 bg-gray-700/50 rounded-lg border border-gray-500 text-center",children:[o.jsx(WY,{className:"h-8 w-8 text-yellow-400 mx-auto mb-2"}),o.jsx("p",{className:"text-gray-300 text-sm mb-3",children:"Belum ada mata pelajaran tersedia"}),o.jsxs(V,{type:"button",onClick:()=>m(!0),className:"bg-lime-500 hover:bg-lime-600 text-white",size:"sm",children:[o.jsx(mt,{className:"h-4 w-4 mr-2"}),"Buat Mata Pelajaran Pertama"]})]}):o.jsxs(Uk,{open:c,onOpenChange:u,children:[o.jsx(Hk,{asChild:!0,children:o.jsxs(V,{variant:"outline",role:"combobox","aria-expanded":c,className:"w-full justify-between bg-gray-800 border-gray-600 text-white hover:bg-gray-700",children:[i.subject_id?(j=b.find(N=>N.id===i.subject_id))==null?void 0:j.name:"Ketik untuk mencari mata pelajaran...",o.jsx(qY,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),o.jsx(Ab,{className:"w-full p-0 bg-gray-800 border-gray-700",children:o.jsxs(M9,{className:"bg-gray-800",children:[o.jsx(O9,{placeholder:"Ketik nama mata pelajaran...",className:"text-white",value:d,onValueChange:f}),o.jsxs(R9,{children:[o.jsx(I9,{className:"text-gray-400 p-4 text-center",children:o.jsxs("div",{children:[o.jsx("p",{className:"mb-2",children:"Mata pelajaran tidak ditemukan."}),o.jsxs(V,{type:"button",onClick:()=>{u(!1),m(!0)},className:"bg-lime-500 hover:bg-lime-600 text-white",size:"sm",children:[o.jsx(mt,{className:"h-4 w-4 mr-2"}),"Buat Mata Pelajaran Baru"]})]})}),o.jsx($9,{children:b.filter(N=>N.name.toLowerCase().includes(d.toLowerCase())||N.code&&N.code.toLowerCase().includes(d.toLowerCase())).map(N=>o.jsxs(L9,{value:N.name,onSelect:()=>{l(E=>({...E,subject_id:N.id})),u(!1),f("")},className:"text-white hover:bg-gray-700",children:[o.jsx(g0,{className:se("mr-2 h-4 w-4",i.subject_id===N.id?"opacity-100":"opacity-0")}),o.jsxs("div",{className:"flex items-center justify-between w-full",children:[o.jsxs("span",{children:[N.name," ",N.code&&`(${N.code})`]}),o.jsx("span",{className:"text-xs text-gray-400 ml-2",children:N.category})]})]},N.id))})]})]})})]})]}),o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"teacher",className:"text-white",children:"Guru Pengajar"}),o.jsxs(ze,{value:i.teacher_id,onValueChange:N=>l(E=>({...E,teacher_id:N})),children:[o.jsx($e,{className:"bg-gray-800 border-gray-600 text-white",children:o.jsx(Ue,{placeholder:"Pilih guru"})}),o.jsxs(Le,{className:"bg-gray-800 border-gray-700",children:[o.jsx(pe,{value:"no-teacher",className:"text-gray-400 hover:bg-gray-700",children:"Tidak ada guru"}),p==null?void 0:p.map(N=>o.jsx(pe,{value:N.id,className:"text-white hover:bg-gray-700",children:N.full_name},N.id))]})]})]}),a?o.jsxs("div",{children:[o.jsx(oe,{className:"text-white",children:"Kelas"}),o.jsxs("div",{className:"bg-gray-800 border border-gray-600 rounded-md px-3 py-2 text-white",children:[(S=g==null?void 0:g.find(N=>N.id===a))==null?void 0:S.name," - ",(k=g==null?void 0:g.find(N=>N.id===a))==null?void 0:k.level]})]}):o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"class",className:"text-white",children:"Kelas"}),o.jsxs(ze,{value:i.class_id,onValueChange:N=>l(E=>({...E,class_id:N})),children:[o.jsx($e,{className:"bg-gray-800 border-gray-600 text-white",children:o.jsx(Ue,{placeholder:"Pilih kelas"})}),o.jsx(Le,{className:"bg-gray-800 border-gray-700",children:g==null?void 0:g.map(N=>o.jsxs(pe,{value:N.id,className:"text-white hover:bg-gray-700",children:[N.name," - ",N.level]},N.id))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"start_time",className:"text-white",children:"Waktu Mulai"}),o.jsx(xe,{id:"start_time",type:"time",value:i.start_time,onChange:N=>l(E=>({...E,start_time:N.target.value})),className:"bg-gray-800 border-gray-600 text-white",placeholder:"HH:MM"})]}),o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"end_time",className:"text-white",children:"Waktu Selesai"}),o.jsx(xe,{id:"end_time",type:"time",value:i.end_time,onChange:N=>l(E=>({...E,end_time:N.target.value})),className:"bg-gray-800 border-gray-600 text-white",placeholder:"HH:MM"})]})]}),o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"room",className:"text-white",children:"Ruangan"}),o.jsx(xe,{id:"room",value:i.room,onChange:N=>l(E=>({...E,room:N.target.value})),className:"bg-gray-800 border-gray-600 text-white",placeholder:"Masukkan nama ruangan"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"notes",className:"text-white",children:"Catatan Guru"}),o.jsx(Ns,{id:"notes",value:i.notes,onChange:N=>l(E=>({...E,notes:N.target.value})),className:"bg-gray-800 border-gray-600 text-white resize-none",placeholder:"Tambahkan catatan khusus",rows:4})]}),o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"tujuan_pembelajaran",className:"text-white",children:"Tujuan Pembelajaran"}),o.jsx(Ns,{id:"tujuan_pembelajaran",value:i.tujuan_pembelajaran,onChange:N=>l(E=>({...E,tujuan_pembelajaran:N.target.value})),className:"bg-gray-800 border-gray-600 text-white resize-none",placeholder:"Masukkan tujuan pembelajaran",rows:4})]}),o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"materi_pembelajaran",className:"text-white",children:"Materi Pembelajaran"}),o.jsx(Ns,{id:"materi_pembelajaran",value:i.materi_pembelajaran,onChange:N=>l(E=>({...E,materi_pembelajaran:N.target.value})),className:"bg-gray-800 border-gray-600 text-white resize-none",placeholder:"Masukkan materi pembelajaran",rows:4})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[o.jsx(V,{type:"button",variant:"outline",onClick:t,children:"Batal"}),o.jsx(V,{type:"submit",disabled:y.isPending||!i.subject_id||!i.class_id,className:"bg-lime-500 hover:bg-lime-600",children:y.isPending?"Menyimpan...":"Simpan"})]})]}),o.jsx(xUe,{isOpen:h,onClose:()=>m(!1),selectedClassId:a})]})})},_Ue=({isOpen:e,onClose:t,schedule:r,onScheduleUpdated:n})=>{const{data:a}=Bf(),{data:s=[]}=vw(r==null?void 0:r.class_id),{data:i=[]}=xn(),{data:l}=Xx(),{data:c}=jr(),u=L.useMemo(()=>{const b=s.flatMap(j=>j.subjects.map(S=>({id:S.id,name:S.name,code:S.code,category:j.name}))),y=(a==null?void 0:a.map(j=>({id:j.id,name:j.name,code:j.code,category:j.category||"Lainnya"})))||[],w=[...b,...y],_=w.filter((j,S,k)=>S===k.findIndex(N=>N.id===j.id));return console.log(" EditScheduleModal - All subjects:",{fromCategories:b.length,fromTable:y.length,merged:w.length,unique:_.length,p5Subjects:_.filter(j=>j.category==="P5")}),_},[a,s]),d=B9(),f=cUe(),{toast:h}=Te(),[m,v]=x.useState({subject_id:"",teacher_id:"",class_id:"",session_category_id:"",start_time:"",end_time:"",room:"",notes:"",tujuan_pembelajaran:"",materi_pembelajaran:""});x.useEffect(()=>{r&&v({subject_id:r.subject_id||"",teacher_id:r.teacher_id||"no-teacher",class_id:r.class_id||"",session_category_id:r.session_category_id||"",start_time:r.start_time||"",end_time:r.end_time||"",room:r.room||"",notes:r.notes||"",tujuan_pembelajaran:r.tujuan_pembelajaran||"",materi_pembelajaran:r.materi_pembelajaran||""})},[r]);const p=async b=>{if(b.preventDefault(),!(r!=null&&r.id)){h({title:"Error",description:"ID jadwal tidak ditemukan",variant:"destructive"});return}if(!m.subject_id||!m.class_id){h({title:"Validasi Gagal",description:"Mata pelajaran dan kelas harus dipilih",variant:"destructive"});return}if(!m.start_time||!m.end_time){h({title:"Validasi Gagal",description:"Waktu mulai dan selesai harus diisi",variant:"destructive"});return}if(m.start_time>=m.end_time){h({title:"Validasi Gagal",description:"Waktu mulai harus lebih awal dari waktu selesai",variant:"destructive"});return}try{console.log(" Updating schedule with data:",{id:r.id,formData:m});const{session_category_id:y,...w}=m,_={...w,teacher_id:w.teacher_id===""||w.teacher_id==="no-teacher"?null:w.teacher_id};await d.mutateAsync({id:r.id,..._}),h({title:"Berhasil",description:"Jadwal berhasil diperbarui"}),n&&n(),t()}catch(y){console.error(" Error updating schedule:",y),h({title:"Gagal",description:`Gagal memperbarui jadwal: ${y.message}`,variant:"destructive"})}},g=async()=>{if(r!=null&&r.id&&confirm("Apakah Anda yakin ingin menghapus jadwal ini?"))try{await f.mutateAsync(r.id),h({title:"Berhasil",description:"Jadwal berhasil dihapus"}),n&&n(),t()}catch(b){console.error("Error deleting schedule:",b),h({title:"Gagal",description:"Gagal menghapus jadwal",variant:"destructive"})}};return r?o.jsx(Ft,{open:e,onOpenChange:t,children:o.jsxs(Ct,{className:"sm:max-w-[700px] w-[90vw] max-h-[90vh] overflow-y-auto bg-gray-900 border-gray-700",children:[o.jsx(At,{children:o.jsx(Pt,{className:"text-white",children:"Edit Jadwal"})}),o.jsxs("form",{onSubmit:p,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"subject",className:"text-white",children:"Mata Pelajaran"}),o.jsxs(ze,{value:m.subject_id,onValueChange:b=>v(y=>({...y,subject_id:b})),children:[o.jsx($e,{className:"bg-gray-800 border-gray-600 text-white",children:o.jsx(Ue,{placeholder:"Pilih mata pelajaran"})}),o.jsx(Le,{className:"bg-gray-800 border-gray-600",children:u.map(b=>o.jsx(pe,{value:b.id,className:"text-white hover:bg-gray-700",children:b.name},b.id))})]})]}),o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"category",className:"text-white",children:"Kategori"}),o.jsxs(ze,{value:m.session_category_id,onValueChange:b=>v(y=>({...y,session_category_id:b})),children:[o.jsx($e,{className:"bg-gray-800 border-gray-600 text-white",children:o.jsx(Ue,{placeholder:"Pilih kategori"})}),o.jsx(Le,{className:"bg-gray-800 border-gray-600",children:i.map(b=>o.jsx(pe,{value:b.id,className:"text-white hover:bg-gray-700",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:b.color}}),b.name]})},b.id))})]})]}),o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"teacher",className:"text-white",children:"Guru"}),o.jsxs(ze,{value:m.teacher_id,onValueChange:b=>v(y=>({...y,teacher_id:b})),children:[o.jsx($e,{className:"bg-gray-800 border-gray-600 text-white",children:o.jsx(Ue,{placeholder:"Pilih guru (opsional)"})}),o.jsxs(Le,{className:"bg-gray-800 border-gray-600",children:[o.jsx(pe,{value:"no-teacher",className:"text-gray-400 hover:bg-gray-700",children:"Tidak ada guru"}),l==null?void 0:l.map(b=>o.jsx(pe,{value:b.id,className:"text-white hover:bg-gray-700",children:b.full_name},b.id))]})]})]})]}),o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"class",className:"text-white",children:"Kelas"}),o.jsxs(ze,{value:m.class_id,onValueChange:b=>v(y=>({...y,class_id:b})),children:[o.jsx($e,{className:"bg-gray-800 border-gray-600 text-white",children:o.jsx(Ue,{placeholder:"Pilih kelas"})}),o.jsx(Le,{className:"bg-gray-800 border-gray-600",children:c==null?void 0:c.map(b=>o.jsx(pe,{value:b.id,className:"text-white hover:bg-gray-700",children:b.name},b.id))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"start_time",className:"text-white",children:"Waktu Mulai"}),o.jsx(xe,{id:"start_time",type:"time",value:m.start_time,onChange:b=>v(y=>({...y,start_time:b.target.value})),className:"bg-gray-800 border-gray-600 text-white"})]}),o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"end_time",className:"text-white",children:"Waktu Selesai"}),o.jsx(xe,{id:"end_time",type:"time",value:m.end_time,onChange:b=>v(y=>({...y,end_time:b.target.value})),className:"bg-gray-800 border-gray-600 text-white"})]})]}),o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"room",className:"text-white",children:"Ruangan"}),o.jsx(xe,{id:"room",value:m.room,onChange:b=>v(y=>({...y,room:b.target.value})),placeholder:"Masukkan ruangan",className:"bg-gray-800 border-gray-600 text-white"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"notes",className:"text-white",children:"Catatan Guru"}),o.jsx(Ns,{id:"notes",value:m.notes,onChange:b=>v(y=>({...y,notes:b.target.value})),placeholder:"Masukkan catatan",className:"bg-gray-800 border-gray-600 text-white",rows:4})]})}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"tujuan_pembelajaran",className:"text-white",children:"Tujuan Pembelajaran"}),o.jsx(Ns,{id:"tujuan_pembelajaran",value:m.tujuan_pembelajaran,onChange:b=>v(y=>({...y,tujuan_pembelajaran:b.target.value})),placeholder:"Masukkan tujuan pembelajaran",className:"bg-gray-800 border-gray-600 text-white",rows:4})]})})]}),o.jsxs("div",{children:[o.jsx(oe,{htmlFor:"materi_pembelajaran",className:"text-white",children:"Materi Pembelajaran"}),o.jsx(Ns,{id:"materi_pembelajaran",value:m.materi_pembelajaran,onChange:b=>v(y=>({...y,materi_pembelajaran:b.target.value})),placeholder:"Masukkan materi pembelajaran",className:"bg-gray-800 border-gray-600 text-white",rows:3})]}),o.jsxs("div",{className:"flex justify-between pt-4",children:[o.jsxs(V,{type:"button",variant:"destructive",onClick:g,disabled:f.isPending,children:[o.jsx(er,{className:"w-4 h-4 mr-2"}),"Hapus"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(V,{type:"button",variant:"outline",onClick:t,children:"Batal"}),o.jsx(V,{type:"submit",disabled:d.isPending,className:"bg-emerald-600 hover:bg-emerald-700 disabled:opacity-50",children:d.isPending?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Menyimpan..."]}):o.jsxs(o.Fragment,{children:[o.jsx(hf,{className:"w-4 h-4 mr-2"}),"Simpan"]})})]})]})]})]})}):null},tG=({selectedClassId:e,onClassChange:t})=>{const{data:r=[]}=jr(),n=[...r].sort((a,s)=>a.level!==s.level?a.level.localeCompare(s.level):a.grade!==s.grade?a.grade-s.grade:a.name.localeCompare(s.name));return o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Filter Kelas:"}),o.jsxs(ze,{value:e||"all",onValueChange:a=>t(a==="all"?null:a),children:[o.jsx($e,{className:"w-48 bg-background border-border text-foreground",children:o.jsx(Ue,{placeholder:"Semua Kelas"})}),o.jsxs(Le,{className:"bg-popover border-border",children:[o.jsx(pe,{value:"all",className:"text-foreground hover:bg-accent",children:"Semua Kelas"}),n.map(a=>o.jsxs(pe,{value:a.id,className:"text-foreground hover:bg-accent",children:[a.name," (",a.level," ",a.grade,")"]},a.id))]})]})]})},jUe=({selectedClassId:e,selectedWeek:t,periodType:r,customDateRange:n})=>{const{data:a=[],isLoading:s,error:i}=Yo(),{data:l=[]}=Bf(),{data:c=[]}=xn(),{academicWeeks:u}=nn(),{data:d}=Si(),{data:f=[]}=vw(e);return x.useMemo(()=>{if(console.log(" JP Period Calculation Debug (PAGINATED):",{selectedClassId:e,selectedWeek:t,periodType:r,totalSchedules:a.length,totalSubjects:l.length,totalSessionCategories:c.length,scheduleSubjectsByCategory:f.length,isLoading:s,error:i,activeAcademicYear:d==null?void 0:d.year_name}),!e)return console.log(" No selectedClassId provided"),{period:r,dateRange:"",categories:[],grandTotal:{totalJP:0,totalHours:0,totalMinutes:0}};if(!f.length)return console.log(" No scheduleSubjectsByCategory data available"),{period:r,dateRange:"",categories:[],grandTotal:{totalJP:0,totalHours:0,totalMinutes:0}};let m=a.filter(_=>_.class_id===e);console.log(" Filtered schedules by class (PAGINATED):",{classId:e,filteredCount:m.length,schedules:m.map(_=>({id:_.id,subject_id:_.subject_id,academic_week:_.academic_week,start_time:_.start_time,end_time:_.end_time}))}),t&&t>=14&&console.log(` JP CALCULATION MINGGU ${t} ANALYSIS:`,{totalSchedulesInData:(a==null?void 0:a.length)||0,schedulesForThisWeek:(a==null?void 0:a.filter(_=>_.academic_week===t).length)||0,schedulesForThisClass:(a==null?void 0:a.filter(_=>_.class_id===e).length)||0,schedulesForThisWeekAndClass:m.length,weekDistribution:a==null?void 0:a.reduce((_,j)=>(_[j.academic_week]=(_[j.academic_week]||0)+1,_),{}),availableWeeks:[...new Set(a==null?void 0:a.map(_=>_.academic_week))].sort((_,j)=>_-j)});let v="";switch(r){case"weekly":if(t){m=m.filter(j=>j.academic_week===t);const _=u.find(j=>j.weekNumber===t);v=(_==null?void 0:_.dateRange)||`Minggu ${t}`}break;case"monthly":if(t){const _=u.find(j=>j.weekNumber===t);if(_){const j=new Date(_.startDate),S=j.getMonth(),k=j.getFullYear(),E=u.filter(A=>{const O=new Date(A.startDate);return O.getMonth()===S&&O.getFullYear()===k}).map(A=>A.weekNumber);m=m.filter(A=>E.includes(A.academic_week)),v=`${["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"][S]} ${k}`}}break;case"all":v=(d==null?void 0:d.year_name)||"Tahun Akademik";break}const p=_=>Math.round(_/45*10)/10,g=_=>Math.round(_/60*10)/10,b=new Map;console.log(" Processing categories from sidebar data:",{categoriesCount:f.length,categories:f.map(_=>({name:_.name,subjectsCount:_.subjects.length,subjects:_.subjects.map(j=>j.name)}))}),f.forEach(_=>{if(console.log(` Processing category: ${_.name} with ${_.subjects.length} subjects`),_.subjects.length===0){console.log(` Skipping empty category: ${_.name}`);return}const j={id:_.id,name:_.name.toUpperCase(),totalJP:0,totalHours:0,totalMinutes:0,subjects:[],color:_.color||"#3B82F6",isExpanded:!0};_.subjects.forEach(S=>{console.log(` Processing subject: ${S.name} (${S.id})`);const k=m.filter(A=>{const O=A.subject_id===S.id;return console.log(` Schedule check for ${S.name}:`,{scheduleSubjectId:A.subject_id,subjectId:S.id,isMatch:O,scheduleTime:`${A.start_time}-${A.end_time}`}),O});console.log(` Found ${k.length} schedules for ${S.name}`),(S.name==="Aqidatuna"||S.name==="Nabiyuna")&&console.log(` JP PERIOD CALCULATION DEBUG for ${S.name}:`,{subject_id:S.id,total_filtered_schedules:m.length,subject_schedules_count:k.length,subject_schedules_detail:k.map(A=>({id:A.id,subject_id:A.subject_id,start_time:A.start_time,end_time:A.end_time,academic_week:A.academic_week,day_of_week:A.day_of_week}))});const N=k.reduce((A,O)=>{const[T,C]=O.start_time.split(":").map(Number),[I,$]=O.end_time.split(":").map(Number),M=T*60+C,F=I*60+$-M;return console.log(` Schedule duration for ${S.name}:`,{startTime:O.start_time,endTime:O.end_time,duration:F}),A+F},0),E=p(N),P=g(N);console.log(` JP calculation for ${S.name}:`,{totalMinutes:N,jp:E,hours:P}),j.subjects.push({id:S.id,name:S.name,jp:E,hours:P,minutes:N,color:S.color||_.color||"#3B82F6"}),j.totalJP+=E,j.totalHours+=P,j.totalMinutes+=N}),console.log(` Adding category ${_.name} with ${j.subjects.length} subjects, total JP: ${j.totalJP}`),b.set(_.id,j)});const y=Array.from(b.values()),w=y.reduce((_,j)=>({totalJP:_.totalJP+j.totalJP,totalHours:_.totalHours+j.totalHours,totalMinutes:_.totalMinutes+j.totalMinutes}),{totalJP:0,totalHours:0,totalMinutes:0});return w.totalJP=Math.round(w.totalJP*10)/10,w.totalHours=Math.round(w.totalHours*10)/10,{period:r,dateRange:v,categories:y,grandTotal:w}},[a,l,c,u,e,t,r,n,f])},rG=({isOpen:e,onClose:t,selectedClassId:r,selectedWeek:n})=>{const[a,s]=x.useState("weekly"),[i,l]=x.useState({kbm:!0,ekstrakurikuler:!0}),c=jUe({selectedClassId:r,selectedWeek:n,periodType:a}),u=f=>{l(h=>({...h,[f]:!h[f]}))},d=[{value:"weekly",label:"Mingguan",icon:rt},{value:"monthly",label:"Bulanan",icon:$l},{value:"all",label:"Semua",icon:lr}];return o.jsx(Ft,{open:e,onOpenChange:t,children:o.jsxs(Ct,{className:"max-w-lg max-h-[85vh] bg-background border-border backdrop-blur-sm shadow-2xl animate-in fade-in-0 zoom-in-95 duration-300",children:[o.jsxs(At,{className:"pb-3",children:[o.jsxs(Pt,{className:"text-lg font-bold text-foreground flex items-center gap-2",children:[o.jsx("div",{className:"p-1.5 rounded-lg bg-primary/20",children:o.jsx(Ru,{className:"h-5 w-5 text-primary"})}),"JP dalam Periode"]}),o.jsx("div",{className:"flex gap-1.5 mt-3",children:d.map(f=>{const h=f.icon;return o.jsxs(V,{variant:a===f.value?"default":"outline",size:"sm",onClick:()=>s(f.value),className:`flex items-center gap-1.5 text-xs px-3 py-1.5 ${a===f.value?"bg-primary text-primary-foreground border-primary":"bg-muted text-muted-foreground border-border hover:bg-accent hover:text-accent-foreground"}`,children:[o.jsx(h,{className:"h-3.5 w-3.5"}),f.label]},f.value)})}),c.dateRange&&o.jsxs("div",{className:"flex items-center gap-1.5 mt-2 p-2 bg-muted/50 border border-border rounded-md",children:[o.jsx(rt,{className:"h-3.5 w-3.5 text-primary"}),o.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:c.dateRange})]})]}),o.jsxs("div",{className:"space-y-3 overflow-y-auto max-h-[55vh] pr-2",children:[c.categories.map(f=>o.jsx(le,{className:"bg-card border-border",children:o.jsxs(ac,{open:i[f.id],onOpenChange:()=>u(f.id),children:[o.jsx(Ed,{asChild:!0,children:o.jsx("div",{className:"p-3 cursor-pointer hover:bg-accent/30 transition-colors",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsx("div",{className:"w-3.5 h-3.5 rounded-sm",style:{backgroundColor:f.color}}),o.jsx("span",{className:"font-medium text-foreground text-sm",children:f.name})]}),o.jsxs("div",{className:"flex items-center gap-2.5",children:[o.jsxs(ht,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30 text-xs px-2 py-0.5",children:[f.totalJP," JP"]}),i[f.id]?o.jsx(Va,{className:"h-3.5 w-3.5 text-muted-foreground"}):o.jsx(ci,{className:"h-3.5 w-3.5 text-muted-foreground"})]})]})})}),o.jsx(sc,{children:o.jsx("div",{className:"px-3 pb-3 space-y-1.5",children:f.subjects.map(h=>o.jsxs("div",{className:"flex items-center justify-between p-2.5 bg-muted/40 rounded-md border-l-3",style:{borderLeftColor:h.color},children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-foreground text-xs",children:h.name}),o.jsxs("div",{className:"text-xs text-muted-foreground mt-0.5",children:[h.hours," jam"]})]}),o.jsxs(ht,{variant:"outline",className:"bg-muted text-muted-foreground border-border text-xs px-1.5 py-0.5",children:[h.jp," JP"]})]},h.id))})})]})},f.id)),c.categories.length===0&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Ru,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),o.jsx("h3",{className:"text-base font-medium text-foreground mb-1",children:"Belum Ada Data JP"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Belum ada jadwal untuk periode yang dipilih"})]})]}),c.categories.length>0&&o.jsx("div",{className:"border-t border-border pt-2 mt-3",children:o.jsx(le,{className:"bg-primary/10 border-primary/30",children:o.jsx(ce,{className:"p-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{children:o.jsx("h3",{className:"font-bold text-foreground text-base",children:"Total JP"})}),o.jsx("div",{className:"text-right",children:o.jsx("div",{className:"text-2xl font-bold text-primary",children:c.grandTotal.totalJP})})]})})})})]})})},hp=e=>{let t;if(typeof e=="string"){const[s,i]=e.split(":").map(Number);t=new Date,t.setHours(s,i,0,0)}else t=new Date(e);const r=t.getMinutes(),n=r%5;let a;return n<2.5?a=r-n:a=r+(5-n),a>=60&&(t.setHours(t.getHours()+1),a=0),t.setMinutes(a,0,0),t.toTimeString().slice(0,5)},nG=(e,t)=>{const[r,n]=e.split(":").map(Number),a=new Date;return a.setHours(r,n,0,0),a.setMinutes(a.getMinutes()+t),hp(a)},aG=(e,t)=>{const[r,n]=e.split(":").map(Number),[a,s]=t.split(":").map(Number),i=new Date;i.setHours(r,n,0,0);const l=new Date;return l.setHours(a,s,0,0),l<i&&l.setDate(l.getDate()+1),Math.round((l.getTime()-i.getTime())/(1e3*60))},SUe=(e,t,r)=>{const n=e,a=hp(r),s=aG(n,a);if(s<5){const i=nG(n,5);return{startTime:n,endTime:i,duration:5}}return{startTime:n,endTime:a,duration:s}},Q$=(e,t)=>{const r=hp(t),n=nG(r,e);return{startTime:r,endTime:n,duration:e}},Uv=(e,t,r)=>e.some(n=>{if(r&&n.id===r)return!1;if(n.class_id===t.class_id&&n.day_of_week===t.day_of_week&&n.academic_week===t.academic_week){const a=n.start_time,s=n.end_time,i=t.start_time,l=t.end_time,c=mv(a),u=mv(s),d=mv(i),f=mv(l);return c<f&&d<u}return!1}),mv=e=>{const[t,r]=e.split(":").map(Number);return t*60+r},pv=(e,t)=>{console.log(` ${e}:`,{...t,timestamp:new Date().toISOString()})},kUe=()=>{const e=Ce(),{toast:t}=Te(),{forceRefresh:r}=RA(),{data:n=[],isLoading:a,error:s}=Ze({queryKey:["schedules-for-copy"],queryFn:async()=>{console.log(" Fetching schedules for copy operation from schedules_view (SAME AS CALENDAR)..."),console.log(" Query timestamp:",new Date().toISOString());let m=[],v=0;const p=500;let g=!0,b=0;for(;g;){console.log(` Copy batch: ${v} to ${v+p-1} (Progress: ${b} rows)`);const{data:_,error:j}=await G.from("schedules_view").select("*").not("day_of_week","is",null).order("academic_week",{ascending:!0}).order("day_of_week",{ascending:!0}).order("start_time",{ascending:!0}).range(v,v+p-1);if(j)throw console.error(" Error fetching copy schedules batch:",j),j;if(!_||_.length===0){g=!1;break}m=[...m,..._],b+=_.length,_.length<p?g=!1:v+=p,b>=5e4&&(console.log(" Reached safety limit of 50k records for copy"),g=!1)}console.log(" Schedules for copy fetched:",m.length,"records"),console.log(" Raw data sample:",m.slice(0,3));const y=m.filter(_=>_.class_id==="556ea61c-8dad-4441-8001-a70f3d448ffa"),w=y.filter(_=>_.academic_week===25&&_.day_of_week===2);return console.log(" Test class data (FROM SCHEDULES_VIEW):",{classId:"556ea61c-8dad-4441-8001-a70f3d448ffa",totalForClass:y.length,week25Data:y.filter(_=>_.academic_week===25),selasaWeek25Count:w.length,selasaWeek25Detail:w.map(_=>({id:_.id,subject_name:_.subject_name,start_time:_.start_time,end_time:_.end_time,class_name:_.class_name})),allWeeks:[...new Set(y.map(_=>_.academic_week))].sort(),sampleData:y.slice(0,5).map(_=>({id:_.id,day:_.day_of_week,week:_.academic_week,subject_name:_.subject_name,time:`${_.start_time}-${_.end_time}`}))}),m},staleTime:0,gcTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0,retry:3,enabled:!0,refetchInterval:!1,refetchOnReconnect:!0});console.log(" useCopySchedule - Schedules data:",{totalSchedules:n.length,isLoading:a,hasError:!!s,sampleSchedule:n[0]});const i=async()=>{var p;const{data:m}=await G.from("profiles").select("school_id").eq("id",(p=(await G.auth.getUser()).data.user)==null?void 0:p.id).single(),{data:v}=await G.from("academic_years").select("id").eq("school_id",m==null?void 0:m.school_id).eq("is_active",!0).single();return{schoolId:m==null?void 0:m.school_id,academicYearId:v==null?void 0:v.id}},l=(m,v,p,g)=>{const b=[],y=n.filter(w=>w.class_id===g&&w.day_of_week===v&&w.academic_week===p);return m.forEach(w=>{const _={class_id:g,day_of_week:v,start_time:w.start_time,end_time:w.end_time,academic_week:p},j=y.find(S=>Uv([S],_));j&&b.push({existingSchedule:j,newSchedule:w,conflictTime:`${w.start_time}-${w.end_time}`})}),b},c=Ee({mutationFn:async m=>{console.log(" Copy Day Operation:",m);const{schoolId:v,academicYearId:p}=await i(),g=n.filter(j=>j.class_id===m.classId&&j.day_of_week===m.sourceDay&&j.academic_week===m.sourceWeek);if(g.length===0)throw new Error("Tidak ada jadwal untuk disalin dari hari yang dipilih");console.log(` Found ${g.length} schedules to copy`);const b=l(g,m.targetDay,m.targetWeek,m.classId);if(b.length>0&&!m.overwriteConflicts)throw new Error(`Ditemukan ${b.length} konflik jadwal. Aktifkan "Timpa Konflik" untuk melanjutkan.`);if(m.overwriteConflicts&&b.length>0){const j=b.map(k=>k.existingSchedule.id),{error:S}=await G.from("class_schedules").delete().in("id",j);if(S)throw console.error("Error deleting conflicting schedules:",S),S;console.log(` Deleted ${j.length} conflicting schedules`)}const y=g.map(j=>({subject_id:j.subject_id,teacher_id:j.teacher_id,class_id:m.classId,time_session_id:j.time_session_id,day_of_week:m.targetDay,start_time:j.start_time,end_time:j.end_time,academic_week:m.targetWeek,schedule_date:null,room:j.room,notes:j.notes,tujuan_pembelajaran:j.tujuan_pembelajaran||null,materi_pembelajaran:j.materi_pembelajaran||null,school_id:v,academic_year_id:p}));console.log(" Prepared schedules for copy:",{sourceCount:g.length,targetDay:m.targetDay,targetWeek:m.targetWeek,classId:m.classId,newSchedules:y.length});const{data:w,error:_}=await G.from("class_schedules").insert(y).select();if(_)throw console.error("Error copying schedules:",_),_;return console.log(` Successfully copied ${w.length} schedules`),{copiedCount:w.length,conflicts:b.length}},onSuccess:async m=>{console.log(" Copy day operation successful"),await Promise.all([e.invalidateQueries({queryKey:["schedules"]}),e.invalidateQueries({queryKey:["schedules-complete"]}),e.invalidateQueries({queryKey:["schedules-for-copy"]}),e.invalidateQueries({queryKey:["schedules-calendar"]}),e.invalidateQueries({queryKey:["jp-progress-simple"]})]),await Promise.all([e.refetchQueries({queryKey:["schedules"]}),e.refetchQueries({queryKey:["schedules-complete"]})]),setTimeout(()=>{r(),console.log(" Force refresh triggered after copy day operation"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("forceCalendarRefresh")),console.log(" Calendar refetch event dispatched for day copy")},100)},500),t({title:" Berhasil",description:`${m.copiedCount} jadwal berhasil disalin${m.conflicts>0?` (${m.conflicts} konflik ditimpa)`:""}`})},onError:m=>{console.error("Copy day error:",m),t({title:" Gagal",description:m.message||"Gagal menyalin jadwal",variant:"destructive"})}}),u=Ee({mutationFn:async m=>{console.log(" Copy Week Operation:",m);const{schoolId:v,academicYearId:p}=await i(),g=n.filter(k=>k.class_id===m.classId&&k.academic_week===m.sourceWeek);if(g.length===0)throw new Error("Tidak ada jadwal untuk disalin dari pekan yang dipilih");console.log(` Found ${g.length} schedules to copy from week ${m.sourceWeek}`);const b=g.reduce((k,N)=>{const E=N.day_of_week;return k[E]||(k[E]=[]),k[E].push(N),k},{});let y=0;const w={};if(Object.entries(b).forEach(([k,N])=>{const E=l(N,parseInt(k),m.targetWeek,m.classId);w[parseInt(k)]=E,y+=E.length}),y>0&&!m.overwriteConflicts)throw new Error(`Ditemukan ${y} konflik jadwal. Aktifkan "Timpa Konflik" untuk melanjutkan.`);if(m.overwriteConflicts&&y>0){const k=Object.values(w).flat().map(E=>E.existingSchedule.id),{error:N}=await G.from("class_schedules").delete().in("id",k);if(N)throw console.error("Error deleting conflicting schedules:",N),N;console.log(` Deleted ${k.length} conflicting schedules`)}const _=g.map(k=>({subject_id:k.subject_id,teacher_id:k.teacher_id,class_id:m.classId,time_session_id:k.time_session_id,day_of_week:k.day_of_week,start_time:k.start_time,end_time:k.end_time,academic_week:m.targetWeek,schedule_date:null,room:k.room,notes:k.notes,tujuan_pembelajaran:k.tujuan_pembelajaran||null,materi_pembelajaran:k.materi_pembelajaran||null,school_id:v,academic_year_id:p}));console.log(" Prepared week schedules for copy:",{sourceCount:g.length,targetWeek:m.targetWeek,classId:m.classId,newSchedules:_.length});const{data:j,error:S}=await G.from("class_schedules").insert(_).select();if(S)throw console.error("Error copying week schedules:",S),S;return console.log(` Successfully copied ${j.length} schedules for week`),{copiedCount:j.length,conflicts:y}},onSuccess:async m=>{console.log(" Copy week operation successful"),await Promise.all([e.invalidateQueries({queryKey:["schedules"]}),e.invalidateQueries({queryKey:["schedules-complete"]}),e.invalidateQueries({queryKey:["schedules-for-copy"]}),e.invalidateQueries({queryKey:["schedules-calendar"]}),e.invalidateQueries({queryKey:["jp-progress-simple"]})]),await Promise.all([e.refetchQueries({queryKey:["schedules"]}),e.refetchQueries({queryKey:["schedules-complete"]})]),setTimeout(()=>{r(),console.log(" Force refresh triggered after copy week operation")},200),t({title:" Berhasil",description:`${m.copiedCount} jadwal berhasil disalin${m.conflicts>0?` (${m.conflicts} konflik ditimpa)`:""}`})},onError:m=>{console.error("Copy week error:",m),t({title:" Gagal",description:m.message||"Gagal menyalin jadwal pekan",variant:"destructive"})}}),d=Ee({mutationFn:async m=>{console.log(" Copy Multiple Weeks Operation:",m);const{schoolId:v,academicYearId:p}=await i(),g=n.filter(S=>S.class_id===m.classId&&S.academic_week===m.sourceWeek);if(g.length===0)throw new Error("Tidak ada jadwal untuk disalin dari pekan yang dipilih");console.log(` Found ${g.length} schedules to copy from week ${m.sourceWeek} to ${m.targetWeeks.length} target weeks`);let b=0;const y={},w=[];for(const S of m.targetWeeks){y[S]={};const k=g.reduce((E,P)=>{const A=P.day_of_week;return E[A]||(E[A]=[]),E[A].push(P),E},{});Object.entries(k).forEach(([E,P])=>{const A=l(P,parseInt(E),S,m.classId);y[S][parseInt(E)]=A,b+=A.length});const N=g.map(E=>({subject_id:E.subject_id,teacher_id:E.teacher_id,class_id:m.classId,time_session_id:E.time_session_id,day_of_week:E.day_of_week,start_time:E.start_time,end_time:E.end_time,academic_week:S,schedule_date:null,room:E.room,notes:E.notes,tujuan_pembelajaran:E.tujuan_pembelajaran||null,materi_pembelajaran:E.materi_pembelajaran||null,school_id:v,academic_year_id:p}));w.push(...N)}if(b>0&&!m.overwriteConflicts)throw new Error(`Ditemukan ${b} konflik jadwal di ${m.targetWeeks.length} pekan. Aktifkan "Timpa Konflik" untuk melanjutkan.`);if(m.overwriteConflicts&&b>0){const S=[];if(Object.values(y).forEach(k=>{Object.values(k).forEach(N=>{N.forEach(E=>{S.push(E.existingSchedule.id)})})}),S.length>0){const{error:k}=await G.from("class_schedules").delete().in("id",S);if(k)throw console.error("Error deleting conflicting schedules:",k),k;console.log(` Deleted ${S.length} conflicting schedules across ${m.targetWeeks.length} weeks`)}}const _=100;let j=0;for(let S=0;S<w.length;S+=_){const k=w.slice(S,S+_),{data:N,error:E}=await G.from("class_schedules").insert(k).select();if(E)throw console.error("Error copying schedules batch:",E),E;j+=N.length,console.log(` Inserted batch ${Math.floor(S/_)+1}: ${N.length} schedules`)}return console.log(` Successfully copied ${j} schedules to ${m.targetWeeks.length} weeks`),{copiedCount:j,conflicts:b,targetWeeksCount:m.targetWeeks.length,schedulesPerWeek:g.length}},onSuccess:async m=>{console.log(" Copy multiple weeks operation successful"),await Promise.all([e.invalidateQueries({queryKey:["schedules"]}),e.invalidateQueries({queryKey:["schedules-complete"]}),e.invalidateQueries({queryKey:["schedules-for-copy"]}),e.invalidateQueries({queryKey:["schedules-calendar"]}),e.invalidateQueries({queryKey:["jp-progress-simple"]})]),await Promise.all([e.refetchQueries({queryKey:["schedules"]}),e.refetchQueries({queryKey:["schedules-complete"]})]),setTimeout(()=>{r(),console.log(" Force refresh triggered after copy multiple weeks operation")},200),t({title:" Berhasil",description:`${m.copiedCount} jadwal berhasil disalin ke ${m.targetWeeksCount} pekan${m.conflicts>0?` (${m.conflicts} konflik ditimpa)`:""}`})},onError:m=>{console.error("Copy multiple weeks error:",m),t({title:" Gagal",description:m.message||"Gagal menyalin jadwal ke beberapa pekan",variant:"destructive"})}}),f=(m,v,p,g=!1)=>{console.log(" getPreviewSchedules called with:",{sourceDay:m,sourceWeek:v,classId:p,isWeekCopy:g,totalSchedules:n.length,schedulesLoading:a,schedulesError:s==null?void 0:s.message,timestamp:new Date().toISOString()}),console.log(" First 10 schedules in memory:",n.slice(0,10).map(w=>({id:w.id,class_id:w.class_id,day_of_week:w.day_of_week,academic_week:w.academic_week,subject_id:w.subject_id,start_time:w.start_time})));const b=n.filter(w=>w.academic_week===25);if(console.log(" Week 25 data in memory:",{count:b.length,data:b.map(w=>({id:w.id,class_id:w.class_id,day_of_week:w.day_of_week,subject_id:w.subject_id}))}),!p||!v)return console.log(" Missing classId or sourceWeek"),[];if(a)return console.log(" Schedules still loading..."),[];if(s)return console.log(" Schedules error:",s),[];let y;if(g)y=n.filter(w=>w.class_id===p&&w.academic_week===v),console.log(" Week copy filter result:",{classId:p,sourceWeek:v,resultCount:y.length,matchingSchedules:y.map(w=>({day:w.day_of_week,subject_id:w.subject_id}))});else if(m){const w=n.filter(S=>S.class_id===p),_=w.filter(S=>S.day_of_week===m),j=_.filter(S=>S.academic_week===v);console.log(" Day copy filter debug:",{classId:p,sourceDay:m,sourceWeek:v,totalSchedules:n.length,classMatches:w.length,dayMatches:_.length,weekMatches:j.length,classMatchesSample:w.slice(0,3).map(S=>({day:S.day_of_week,week:S.academic_week,subject_id:S.subject_id})),dayMatchesSample:_.slice(0,3).map(S=>({week:S.academic_week,subject_id:S.subject_id}))}),y=j,console.log(" Day copy filter result:",{classId:p,sourceDay:m,sourceWeek:v,resultCount:y.length,matchingSchedules:y.map(S=>({subject_id:S.subject_id,time:`${S.start_time}-${S.end_time}`}))})}else y=[];return y},h=Ee({mutationFn:async m=>{console.log(" Copy Multiple Days Operation:",m);const{schoolId:v,academicYearId:p}=await i(),g=n.filter(S=>S.class_id===m.classId&&S.day_of_week===m.sourceDay&&S.academic_week===m.sourceWeek);if(g.length===0)throw new Error("Tidak ada jadwal untuk disalin dari hari yang dipilih");console.log(` Found ${g.length} schedules to copy to ${m.targetDays.length} days`);let b=0;const y={};if(m.targetDays.forEach(S=>{const k=l(g,S,m.targetWeek,m.classId);k.length>0&&(y[S]=k,b+=k.length)}),b>0&&!m.overwriteConflicts)throw new Error(`Ditemukan ${b} konflik jadwal di ${m.targetDays.length} hari. Aktifkan "Timpa Konflik" untuk melanjutkan.`);if(m.overwriteConflicts&&b>0){const S=[];if(Object.values(y).forEach(k=>{k.forEach(N=>{S.push(N.existingSchedule.id)})}),S.length>0){const{error:k}=await G.from("class_schedules").delete().in("id",S);if(k)throw console.error("Error deleting conflicting schedules:",k),k;console.log(` Deleted ${S.length} conflicting schedules`)}}const w=[];m.targetDays.forEach(S=>{const k=g.map(N=>({subject_id:N.subject_id,teacher_id:N.teacher_id||null,class_id:m.classId,time_session_id:N.time_session_id||null,day_of_week:S,start_time:N.start_time,end_time:N.end_time,academic_week:m.targetWeek,schedule_date:null,room:N.room||"",notes:N.notes||"",tujuan_pembelajaran:N.tujuan_pembelajaran||null,materi_pembelajaran:N.materi_pembelajaran||null,school_id:v,academic_year_id:p,hours_per_week:0,hours_per_year:0}));w.push(...k)}),console.log(` Prepared ${w.length} schedules for ${m.targetDays.length} days`,{sourceSchedules:g.length,targetDays:m.targetDays,targetWeek:m.targetWeek,classId:m.classId,sampleSchedule:w[0]});const{data:_,error:j}=await G.from("class_schedules").insert(w).select();if(j)throw console.error("Error copying schedules to multiple days:",j),j;return console.log(` Successfully copied ${_.length} schedules to ${m.targetDays.length} days`),{copiedCount:_.length,conflicts:b,targetDaysCount:m.targetDays.length,schedulesPerDay:g.length}},onSuccess:async m=>{console.log(" Copy multiple days operation successful"),await Promise.all([e.invalidateQueries({queryKey:["schedules"]}),e.invalidateQueries({queryKey:["schedules-complete"]}),e.invalidateQueries({queryKey:["schedules-for-copy"]}),e.invalidateQueries({queryKey:["schedules-calendar"]}),e.invalidateQueries({queryKey:["jp-progress-simple"]})]),await Promise.all([e.refetchQueries({queryKey:["schedules"]}),e.refetchQueries({queryKey:["schedules-complete"]})]),setTimeout(()=>{r(),console.log(" Force refresh triggered after copy multiple days operation"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("forceCalendarRefresh")),console.log(" Calendar refetch event dispatched for day copy")},100)},500),t({title:" Berhasil",description:`${m.copiedCount} jadwal berhasil disalin ke ${m.targetDaysCount} hari${m.conflicts>0?` (${m.conflicts} konflik ditimpa)`:""}`})},onError:m=>{console.error("Copy multiple days error:",m),t({title:" Gagal",description:m.message||"Gagal menyalin jadwal ke beberapa hari",variant:"destructive"})}});return{copyDay:c,copyWeek:u,copyMultipleWeeks:d,copyMultipleDays:h,getPreviewSchedules:f,checkCopyConflicts:l,isLoading:c.isPending||u.isPending||d.isPending||h.isPending||a}},Cu=({selectedWeek:e=0,onWeekSelect:t,selectedTargetWeeks:r,sourceWeek:n,isSelectionMode:a=!1,variant:s="copy"})=>{const{academicWeeks:i}=nn(),l=c=>{const u=e===c,d=r==null?void 0:r.has(c);return a&&n===c?"bg-muted/30 border-muted text-muted-foreground cursor-not-allowed":d&&a?s==="delete"?"bg-red-500/80 border-red-400 text-white shadow-lg scale-105 ring-1 ring-red-400/50":"bg-green-500/80 border-green-400 text-white shadow-lg scale-105 ring-1 ring-green-400/50":u&&!a?s==="delete"?"bg-red-500/20 border-red-400 text-red-300":"bg-primary/20 border-primary text-primary":"bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground hover:scale-105"};return o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"grid grid-cols-8 sm:grid-cols-10 md:grid-cols-12 lg:grid-cols-15 xl:grid-cols-16 gap-2 w-full",children:i.map(c=>o.jsx(V,{"data-week":c.weekNumber,variant:"outline",size:"sm",onClick:()=>{a&&n===c.weekNumber||t(c.weekNumber)},disabled:a&&n===c.weekNumber,className:`h-8 w-8 flex items-center justify-center text-xs font-medium rounded-full p-0 transition-all duration-200 ${l(c.weekNumber)}`,children:c.weekNumber},c.weekNumber))})})},NUe=({isOpen:e,onClose:t,selectedClassId:r,currentWeek:n=1})=>{var F,z,U;const[a,s]=x.useState("day"),[i,l]=x.useState(!1),[c,u]=x.useState(1),[d,f]=x.useState(new Set([2])),[h,m]=x.useState(n),[v,p]=x.useState(n),[g,b]=x.useState(n),[y,w]=x.useState(new Set([n+1])),{academicWeeks:_}=nn(),{copyDay:j,copyMultipleWeeks:S,copyMultipleDays:k,getPreviewSchedules:N,checkCopyConflicts:E,isLoading:P}=kUe(),A=R=>{const B=new Set(y);B.has(R)?B.delete(R):B.add(R),w(B)},O=Array.from(y).sort((R,B)=>R-B),T=Array.from(d).sort((R,B)=>R-B),C=R=>{const B=new Set(d);B.has(R)?B.delete(R):B.add(R),f(B)},I=[{value:1,label:"Senin"},{value:2,label:"Selasa"},{value:3,label:"Rabu"},{value:4,label:"Kamis"},{value:5,label:"Jumat"},{value:6,label:"Sabtu"},{value:7,label:"Minggu"}],$=x.useMemo(()=>{if(!r)return console.log(" CopyScheduleModal: No selectedClassId"),[];let R;return a==="day"?(R=N(c,h,r,!1),console.log(" CopyScheduleModal Day Preview:",{sourceDay:c,sourceDayWeek:h,selectedClassId:r,resultCount:R.length,sampleSchedule:R[0]}),R.length===0&&console.log(" No schedules found for day copy. Debug info:",{sourceDay:c,sourceDayWeek:h,selectedClassId:r,totalSchedulesAvailable:N(void 0,h,r,!0).length})):(R=N(void 0,g,r,!0),console.log(" CopyScheduleModal Week Preview:",{sourceWeek:g,selectedClassId:r,resultCount:R.length,sampleSchedule:R[0]}),R.length===0&&console.log(" No schedules found for week copy. Debug info:",{sourceWeek:g,selectedClassId:r})),R},[a,c,h,g,r,N]),M=x.useMemo(()=>{if(!r||$.length===0)return[];if(a==="day"){const R=[];return T.forEach(B=>{const K=E($,B,v,r);R.push(...K)}),R}else{const R=[],B=$.reduce((K,J)=>{const X=J.day_of_week;return K[X]||(K[X]=[]),K[X].push(J),K},{});return O.forEach(K=>{Object.entries(B).forEach(([J,X])=>{const te=E(X,parseInt(J),K,r);R.push(...te)})}),R}},[a,$,T,v,O,r,E]),D=async()=>{if(console.log(" Copy operation started:",{activeTab:a,selectedClassId:r,previewSchedules:$.length,sourceDay:c,sourceDayWeek:h,targetDaysArray:T,targetDayWeek:v,sourceWeek:g,targetWeeksArray:O,overwriteConflicts:i,samplePreviewSchedule:$[0]}),!r){console.error(" No class selected");return}if($.length===0){console.error(" No schedules to copy - previewSchedules is empty"),console.log("Debug info:",{activeTab:a,sourceDay:c,sourceDayWeek:h,sourceWeek:g,selectedClassId:r});const B=a==="day"?["","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu","Minggu"][c]:"",K=a==="day"?h:g;alert(`Tidak ada jadwal untuk disalin dari ${a==="day"?`${B} pekan ${K}`:`pekan ${K}`}. Silakan pilih hari/pekan lain yang memiliki jadwal.`);return}if(a==="day"){if(T.length===0){console.error(" No target days specified");return}if(T.includes(c)&&h===v){console.error(" Source day cannot be in target days for the same week");return}}if(a==="week"){if(O.length===0){console.error(" No target weeks specified");return}if(O.includes(g)){console.error(" Source week cannot be in target weeks");return}}try{console.log(" All validations passed, starting copy operation..."),a==="day"?(console.log(" Copying day with params:",{sourceDay:c,targetDays:T,sourceWeek:h,targetWeek:v,classId:r,overwriteConflicts:i}),await k.mutateAsync({sourceDay:c,targetDays:T,sourceWeek:h,targetWeek:v,classId:r,overwriteConflicts:i})):(console.log(" Copying week with params:",{sourceWeek:g,targetWeeks:O,classId:r,overwriteConflicts:i}),await S.mutateAsync({sourceWeek:g,targetWeeks:O,classId:r,overwriteConflicts:i})),console.log(" Copy operation completed successfully"),t()}catch(R){console.error(" Copy error:",R)}};return o.jsx(Ft,{open:e,onOpenChange:t,children:o.jsxs(Ct,{className:"max-w-6xl max-h-[90vh] bg-background border-border backdrop-blur-sm",children:[o.jsx(At,{className:"pb-1",children:o.jsxs(Pt,{className:"text-xl font-bold text-foreground flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-green-500/20",children:o.jsx(Pv,{className:"h-6 w-6 text-green-400"})}),"Salin Jadwal"]})}),o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("div",{className:"w-80 space-y-4",children:[M.length>0&&o.jsx(le,{className:"bg-red-500/10 border-red-500/30",children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(jd,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("h4",{className:"font-medium text-red-600 mb-2",children:[M.length," Konflik Jadwal",a==="day"&&T.length>0&&o.jsxs("span",{className:"text-red-500 text-sm font-normal block",children:["di ",T.length," hari tujuan"]}),a==="week"&&O.length>0&&o.jsxs("span",{className:"text-red-200 text-sm font-normal block",children:["di ",O.length," pekan tujuan"]})]}),o.jsxs("div",{className:"text-sm text-red-200 space-y-1 max-h-40 overflow-y-auto",children:[M.slice(0,5).map((R,B)=>{var K;return o.jsxs("div",{className:"text-xs",children:[" ",R.conflictTime," - ",(K=R.newSchedule.subjects)==null?void 0:K.name]},B)}),M.length>5&&o.jsxs("div",{className:"text-red-300 text-xs",children:["... dan ",M.length-5," konflik lainnya"]})]})]})]})})}),o.jsx(le,{className:"bg-card border-border",children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mn,{id:"overwrite",checked:i,onCheckedChange:R=>{l(R===!0)}}),o.jsx("label",{htmlFor:"overwrite",className:"text-sm text-foreground",children:"Timpa jadwal yang konflik"})]})})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(V,{onClick:D,disabled:P||M.length>0&&!i,className:"w-full bg-green-500 hover:bg-green-600 text-white",children:P?o.jsxs(o.Fragment,{children:[o.jsx(lr,{className:"h-4 w-4 mr-2 animate-spin"}),"Menyalin..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Pv,{className:"h-4 w-4 mr-2"}),"Salin Jadwal"]})}),o.jsx(V,{variant:"outline",onClick:t,className:"w-full border-border text-foreground hover:bg-accent",children:"Batal"})]}),a==="day"&&o.jsxs(le,{className:"bg-card border-border",children:[o.jsx(ke,{className:"pb-3",children:o.jsxs(Pe,{className:"text-foreground text-sm flex items-center gap-2",children:[o.jsx(rt,{className:"h-4 w-4 text-primary"}),"Hari Sumber"]})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx("div",{children:o.jsxs(ze,{value:c.toString(),onValueChange:R=>u(parseInt(R)),children:[o.jsx($e,{className:"bg-background border-border text-foreground",children:o.jsx(Ue,{})}),o.jsx(Le,{className:"bg-popover border-border",children:I.map(R=>o.jsx(pe,{value:R.value.toString(),children:R.label},R.value))})]})}),o.jsx("div",{children:o.jsxs("div",{className:"text-center",children:[o.jsxs(ht,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:["Pekan ",h]}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:((F=_.find(R=>R.weekNumber===h))==null?void 0:F.dateRange)||"Tanggal tidak tersedia"})]})})]}),o.jsx("div",{className:"max-h-40 overflow-y-auto border border-border rounded-lg p-3 bg-muted/30 custom-scrollbar",children:o.jsx(Cu,{selectedWeek:h,onWeekSelect:m,isSelectionMode:!1,variant:"copy"})})]})]})]}),o.jsx("div",{className:"flex-1 space-y-6",children:o.jsxs(Rc,{value:a,onValueChange:R=>s(R),children:[o.jsxs(Xo,{className:"grid w-full grid-cols-2 bg-muted",children:[o.jsxs(Yr,{value:"day",className:"flex items-center gap-2 data-[state=active]:bg-background data-[state=active]:text-foreground",children:[o.jsx(Zn,{className:"h-4 w-4"}),"Salin Hari"]}),o.jsxs(Yr,{value:"week",className:"flex items-center gap-2 data-[state=active]:bg-background data-[state=active]:text-foreground",children:[o.jsx(k1,{className:"h-4 w-4"}),"Salin Pekan"]})]}),o.jsx(Jr,{value:"day",className:"space-y-6 mt-6",children:o.jsx("div",{className:"space-y-6",children:o.jsxs(le,{className:"bg-card border-border",children:[o.jsxs(ke,{className:"pb-3",children:[o.jsxs(Pe,{className:"text-foreground text-sm flex items-center gap-2",children:[o.jsx(rt,{className:"h-4 w-4 text-green-500"}),"Hari Tujuan (Pilih Multiple)"]}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Klik hari untuk memilih/membatalkan. Bisa pilih beberapa hari sekaligus."})]}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground mb-3 block",children:"Pilih Hari Tujuan"}),o.jsx("div",{className:"grid grid-cols-4 gap-2",children:I.map(R=>{const B=d.has(R.value),K=R.value===c;return o.jsxs(V,{variant:B?"default":"outline",size:"sm",onClick:()=>C(R.value),disabled:K&&h===v,className:`h-10 text-xs transition-all duration-200 ${B?"bg-green-500/80 border-green-400 text-white shadow-lg scale-105 ring-1 ring-green-400/50":K&&h===v?"bg-gray-600/30 border-gray-600/30 text-gray-500 cursor-not-allowed":"bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600 hover:border-gray-500"}`,children:[R.label,K&&h===v&&o.jsx("span",{className:"ml-1 text-xs",children:"(Sumber)"})]},R.value)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground block",children:"Pekan Tujuan"}),o.jsxs("div",{className:"text-center",children:[o.jsxs(ht,{variant:"secondary",className:"bg-green-500/20 text-green-600 border-green-500/30",children:["Pekan ",v]}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:((z=_.find(R=>R.weekNumber===v))==null?void 0:z.dateRange)||"Tanggal tidak tersedia"})]})]}),o.jsx("div",{className:"max-h-40 overflow-y-auto border border-border rounded-lg p-3 bg-muted/30 custom-scrollbar",children:o.jsx(Cu,{selectedWeek:v,onWeekSelect:p,isSelectionMode:!1,variant:"copy"})})]})]})})}),o.jsx(Jr,{value:"week",className:"space-y-6 mt-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs(le,{className:"bg-card border-border",children:[o.jsx(ke,{className:"pb-3",children:o.jsxs(Pe,{className:"text-foreground text-sm flex items-center gap-2",children:[o.jsx(k1,{className:"h-4 w-4 text-primary"}),"Pekan Sumber"]})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs(ht,{variant:"secondary",className:"bg-primary/20 text-primary border-primary/30",children:["Pekan ",g]}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:((U=_.find(R=>R.weekNumber===g))==null?void 0:U.dateRange)||"Tanggal tidak tersedia"})]}),o.jsx("div",{className:"max-h-40 overflow-y-auto border border-border rounded-lg p-3 bg-muted/30 custom-scrollbar",children:o.jsx(Cu,{selectedWeek:g,onWeekSelect:b,isSelectionMode:!1,variant:"copy"})})]})]}),o.jsxs(le,{className:"bg-card border-border",children:[o.jsxs(ke,{className:"pb-3",children:[o.jsxs(Pe,{className:"text-foreground text-sm flex items-center gap-2",children:[o.jsx(Pv,{className:"h-4 w-4 text-green-500"}),"Pekan Tujuan (Pilih Multiple)"]}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Klik angka pekan untuk memilih/membatalkan. Bisa pilih beberapa pekan sekaligus."})]}),o.jsx(ce,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"max-h-48 overflow-y-auto border border-border rounded-lg p-3 bg-muted/30 custom-scrollbar",children:o.jsx(Cu,{selectedWeek:g,onWeekSelect:A,selectedTargetWeeks:y,sourceWeek:g,isSelectionMode:!0,variant:"copy"})}),O.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium text-foreground",children:["Pekan Terpilih (",O.length," pekan):"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:O.map(R=>o.jsxs(ht,{variant:"secondary",className:"bg-green-500/20 text-green-600 border-green-500/30 cursor-pointer hover:bg-green-500/30",onClick:()=>A(R),children:["Pekan ",R," "]},R))})]})]})})]})]})})]})})]})]})})},EUe=e=>{const t=Ce(),{data:r=[],isLoading:n,error:a}=Yo();console.log(" useDeleteSchedule (PAGINATED):",{classId:e,allSchedulesCount:(r==null?void 0:r.length)||0,isLoading:n,error:a});const s=Ee({mutationFn:async({day:f,week:h,classId:m})=>{console.log(" Deleting day schedules:",{day:f,week:h,classId:m});const{data:v,error:p}=await G.from("class_schedules").delete().eq("day_of_week",f).eq("academic_week",h).eq("class_id",m);if(p)throw console.error(" Error deleting day schedules:",p),p;return console.log(" Day schedules deleted successfully:",v),v},onSuccess:async(f,h)=>{console.log(" Delete day successful"),await Promise.all([t.invalidateQueries({queryKey:["schedules"]}),t.invalidateQueries({queryKey:["schedules-complete"]}),t.invalidateQueries({queryKey:["schedules-for-copy"]}),t.invalidateQueries({queryKey:["schedules-calendar"]}),t.invalidateQueries({queryKey:["jp-progress-simple"]})]),await Promise.all([t.refetchQueries({queryKey:["schedules"]}),t.refetchQueries({queryKey:["schedules-complete"]})]),ha.success("Jadwal hari berhasil dihapus")},onError:f=>{console.error("Delete day error:",f),ha.error("Gagal menghapus jadwal hari")}}),i=Ee({mutationFn:async({days:f,week:h,classId:m})=>{console.log(" Deleting multiple days schedules:",{days:f,week:h,classId:m});const{data:v,error:p}=await G.from("class_schedules").delete().in("day_of_week",f).eq("academic_week",h).eq("class_id",m);if(p)throw console.error(" Error deleting multiple days schedules:",p),p;return console.log(" Multiple days schedules deleted successfully:",v),v},onSuccess:async(f,h)=>{console.log(" Delete multiple days successful"),await Promise.all([t.invalidateQueries({queryKey:["schedules"]}),t.invalidateQueries({queryKey:["schedules-complete"]}),t.invalidateQueries({queryKey:["schedules-for-copy"]}),t.invalidateQueries({queryKey:["schedules-calendar"]}),t.invalidateQueries({queryKey:["jp-progress-simple"]})]),await Promise.all([t.refetchQueries({queryKey:["schedules"]}),t.refetchQueries({queryKey:["schedules-complete"]})]),ha.success(`Jadwal ${h.days.length} hari berhasil dihapus`)},onError:f=>{console.error("Delete multiple days error:",f),ha.error("Gagal menghapus jadwal multiple hari")}}),l=Ee({mutationFn:async({weeks:f,classId:h})=>{console.log(" Deleting week schedules:",{weeks:f,classId:h});const{data:m,error:v}=await G.from("class_schedules").delete().in("academic_week",f).eq("class_id",h);if(v)throw console.error(" Error deleting week schedules:",v),v;return console.log(" Week schedules deleted successfully:",m),m},onSuccess:async(f,h)=>{console.log(" Delete weeks successful"),await Promise.all([t.invalidateQueries({queryKey:["schedules"]}),t.invalidateQueries({queryKey:["schedules-complete"]}),t.invalidateQueries({queryKey:["schedules-for-copy"]}),t.invalidateQueries({queryKey:["schedules-calendar"]}),t.invalidateQueries({queryKey:["jp-progress-simple"]})]),await Promise.all([t.refetchQueries({queryKey:["schedules"]}),t.refetchQueries({queryKey:["schedules-complete"]})]),ha.success(`Jadwal ${h.weeks.length} pekan berhasil dihapus`)},onError:f=>{console.error("Delete weeks error:",f),ha.error("Gagal menghapus jadwal pekan")}}),c=Ee({mutationFn:async({month:f,classId:h})=>{console.log(" Deleting month schedules:",{month:f,classId:h});const m=new Date().getFullYear(),v=new Date(m,f-1,1),p=new Date(m,f,0);console.log(" Month range:",{month:f,monthStart:v,monthEnd:p});const g=r.filter(k=>k.class_id===h),b=[...new Set(g.map(k=>k.academic_week))].sort((k,N)=>k-N);console.log(" All weeks in class:",b);const w={1:[21,22,23,24],2:[25,26,27,28],3:[29,30,31,32],4:[33,34,35,36],5:[37,38,39,40],6:[41,42,43,44],7:[1,2,3,4],8:[5,6,7,8],9:[9,10,11,12],10:[13,14,15,16],11:[17,18,19,20],12:[45,46,47,48]}[f]||[],_=w.filter(k=>b.includes(k));if(console.log(" Mapped weeks for month",f,":",w),console.log(" Existing weeks to delete:",_),_.length===0)throw new Error(`No schedules found for month ${f} in the selected class`);const{data:j,error:S}=await G.from("class_schedules").delete().in("academic_week",_).eq("class_id",h);if(S)throw console.error(" Error deleting month schedules:",S),S;return console.log(" Month schedules deleted successfully:",j),j},onSuccess:async(f,h)=>{console.log(" Delete month successful"),await Promise.all([t.invalidateQueries({queryKey:["schedules"]}),t.invalidateQueries({queryKey:["schedules-complete"]}),t.invalidateQueries({queryKey:["schedules-for-copy"]}),t.invalidateQueries({queryKey:["schedules-calendar"]}),t.invalidateQueries({queryKey:["jp-progress-simple"]})]),await Promise.all([t.refetchQueries({queryKey:["schedules"]}),t.refetchQueries({queryKey:["schedules-complete"]})]),ha.success("Jadwal bulan berhasil dihapus")},onError:f=>{console.error("Delete month error:",f),ha.error("Gagal menghapus jadwal bulan")}}),u=(f,h,m,v)=>{if(console.log(" getPreviewSchedules called:",{dayOrUndefined:f,weekOrWeeksOrMonth:h,targetClassId:m,type:v,allSchedulesCount:(r==null?void 0:r.length)||0}),!r||!m)return console.log(" No schedules or classId available"),[];if(r.length>0){console.log(" Sample schedule data structure:",{firstSchedule:r[0],fieldsAvailable:Object.keys(r[0])});const g=r.reduce((b,y)=>{const w=y.class_id;return b[w]||(b[w]=0),b[w]++,b},{});console.log(" Class distribution in schedules:",g),console.log(" Target class ID:",m)}let p=[];if(v==="day"&&typeof f=="number"&&typeof h=="number")p=r.filter(g=>g.day_of_week===f&&g.academic_week===h&&g.class_id===m),console.log(" Day filter result:",p.length);else if(v==="multiple-days"&&Array.isArray(f)&&typeof h=="number")p=r.filter(g=>f.includes(g.day_of_week)&&g.academic_week===h&&g.class_id===m),console.log(" Multiple days filter result:",p.length);else if(v==="week"&&Array.isArray(h))p=r.filter(g=>h.includes(g.academic_week)&&g.class_id===m),console.log(" Week filter result:",p.length);else if(v==="month"&&typeof h=="number"){const g=(h-1)*4+1,b=h*4;p=r.filter(y=>y.academic_week>=g&&y.academic_week<=b&&y.class_id===m),console.log(" Month filter result:",p.length)}return console.log(" Final filtered schedules:",p.length),p},d=s.isPending||i.isPending||l.isPending||c.isPending;return{deleteDay:s,deleteMultipleDays:i,deleteWeeks:l,deleteMonth:c,getPreviewSchedules:u,isLoading:d}},CUe=({isOpen:e,onClose:t,selectedClassId:r,currentWeek:n=1,onScheduleDeleted:a})=>{var X,te;const[s,i]=x.useState("day"),[l,c]=x.useState(!1),[u,d]=x.useState(1),[f,h]=x.useState(n),[m,v]=x.useState(new Set([1])),[p,g]=x.useState(!1),[b,y]=x.useState(new Set([n])),[w,_]=x.useState(new Date().getMonth()+1),[j,S]=x.useState(new Set([new Date().getMonth()+1])),[k,N]=x.useState(!1),{academicWeeks:E}=nn(),{deleteDay:P,deleteMultipleDays:A,deleteWeeks:O,deleteMonth:T,getPreviewSchedules:C,isLoading:I}=EUe(r);console.log(" DeleteScheduleModal props:",{isOpen:e,selectedClassId:r,currentWeek:n}),L.useEffect(()=>{e&&(c(!1),console.log(" Modal opened, resetting confirmation"))},[e]);const $=q=>{const Q=new Set(b);Q.has(q)?Q.delete(q):Q.add(q),y(Q)},M=q=>{const Q=new Set(m);Q.has(q)?Q.delete(q):Q.add(q),v(Q)},D=q=>{const Q=new Set(j);Q.has(q)?Q.delete(q):Q.add(q),S(Q)},F=Array.from(b).sort((q,Q)=>q-Q),z=Array.from(m).sort((q,Q)=>q-Q),U=Array.from(j).sort((q,Q)=>q-Q),R=[{value:1,label:"Senin"},{value:2,label:"Selasa"},{value:3,label:"Rabu"},{value:4,label:"Kamis"},{value:5,label:"Jumat"},{value:6,label:"Sabtu"},{value:7,label:"Minggu"}],B=[{value:1,label:"Januari"},{value:2,label:"Februari"},{value:3,label:"Maret"},{value:4,label:"April"},{value:5,label:"Mei"},{value:6,label:"Juni"},{value:7,label:"Juli"},{value:8,label:"Agustus"},{value:9,label:"September"},{value:10,label:"Oktober"},{value:11,label:"November"},{value:12,label:"Desember"}],K=x.useMemo(()=>{var Q;if(console.log(" DeleteScheduleModal: Computing preview schedules",{selectedClassId:r,activeTab:s,targetDay:u,targetDayWeek:f,targetWeeksArray:F,targetMonth:w}),!r)return console.log(" DeleteScheduleModal: No selectedClassId"),[];let q;if(s==="day")p?(q=C(z,f,r,"multiple-days"),console.log(" DeleteScheduleModal Multiple Days Preview:",{targetDaysArray:z,targetDayWeek:f,selectedClassId:r,resultCount:q.length,result:q.slice(0,3)})):(q=C(u,f,r,"day"),console.log(" DeleteScheduleModal Day Preview:",{targetDay:u,targetDayWeek:f,selectedClassId:r,resultCount:q.length,result:q.slice(0,3)}));else if(s==="week")q=C(void 0,F,r,"week"),console.log(" DeleteScheduleModal Week Preview:",{targetWeeksArray:F,selectedClassId:r,resultCount:q.length,result:q.slice(0,3)});else if(k){q=[];for(const ie of U){const de=C(void 0,ie,r,"month");q=[...q,...de]}console.log(" DeleteScheduleModal Multiple Months Preview:",{targetMonthsArray:U,selectedClassId:r,resultCount:q.length,result:q.slice(0,3)})}else q=C(void 0,w,r,"month"),console.log(" DeleteScheduleModal Month Preview:",{targetMonth:w,selectedClassId:r,resultCount:q.length,result:q.slice(0,3)});return console.log(" Final preview result:",q.length),q.length>0&&console.log(" First schedule structure for subject name debugging:",{schedule:q[0],subject_name:q[0].subject_name,subjects_name:(Q=q[0].subjects)==null?void 0:Q.name,availableFields:Object.keys(q[0])}),q},[s,u,f,z,p,F,w,U,k,r,C]),J=async()=>{if(console.log(" Delete button clicked:",{selectedClassId:r,previewSchedulesLength:K.length,confirmDelete:l,activeTab:s}),!r){console.error(" No class selected"),alert("Pilih kelas terlebih dahulu!");return}if(K.length===0){console.error(" No schedules to delete"),alert("Tidak ada jadwal yang ditemukan untuk dihapus!");return}if(!l){console.error(" Please confirm deletion"),alert("Centang konfirmasi terlebih dahulu!");return}try{if(console.log(" Starting delete operation..."),s==="day")p?(console.log(" Deleting multiple days schedules:",{days:z,week:f}),await A.mutateAsync({days:z,week:f,classId:r})):(console.log(" Deleting day schedules:",{day:u,week:f}),await P.mutateAsync({day:u,week:f,classId:r}));else if(s==="week")console.log(" Deleting week schedules:",{weeks:F}),await O.mutateAsync({weeks:F,classId:r});else if(k){console.log(" Deleting multiple months schedules:",{months:U});for(const q of U)await T.mutateAsync({month:q,classId:r})}else console.log(" Deleting month schedules:",{month:w}),await T.mutateAsync({month:w,classId:r});console.log(" Delete operation completed successfully"),a==null||a(),t()}catch(q){console.error(" Delete error:",q),alert(`Gagal menghapus jadwal: ${q.message}`)}};return o.jsx(Ft,{open:e,onOpenChange:t,children:o.jsxs(Ct,{className:"max-w-6xl max-h-[90vh] bg-background border-border backdrop-blur-sm",children:[o.jsx(At,{className:"pb-4",children:o.jsxs(Pt,{className:"text-xl font-bold text-foreground flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-red-500/20",children:o.jsx(er,{className:"h-6 w-6 text-red-500"})}),"Hapus Jadwal"]})}),o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("div",{className:"w-80 space-y-4",children:[o.jsx(le,{className:"bg-red-500/10 border-red-500/30",children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(jd,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-red-600 mb-2",children:"Peringatan!"}),o.jsxs("div",{className:"text-sm text-red-600 space-y-1",children:[o.jsx("p",{children:"Jadwal yang dihapus tidak dapat dikembalikan."}),o.jsxs("p",{className:"font-medium",children:[K.length," jadwal akan dihapus",s==="day"&&p&&z.length>0&&o.jsxs("span",{className:"block text-xs",children:["dari ",z.length," hari"]}),s==="week"&&F.length>0&&o.jsxs("span",{className:"block text-xs",children:["dari ",F.length," pekan"]}),s==="month"&&k&&U.length>0&&o.jsxs("span",{className:"block text-xs",children:["dari ",U.length," bulan"]})]})]})]})]})})}),o.jsx(le,{className:"bg-card border-border",children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mn,{id:"confirm",checked:l,onCheckedChange:q=>c(q===!0)}),o.jsx("label",{htmlFor:"confirm",className:"text-sm text-foreground",children:"Saya yakin ingin menghapus jadwal"})]})})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(V,{onClick:J,disabled:I||!l,className:"w-full bg-red-500 hover:bg-red-600 text-white",children:I?o.jsxs(o.Fragment,{children:[o.jsx(lr,{className:"h-4 w-4 mr-2 animate-spin"}),"Menghapus..."]}):o.jsxs(o.Fragment,{children:[o.jsx(er,{className:"h-4 w-4 mr-2"}),"Hapus Jadwal"]})}),o.jsx(V,{variant:"outline",onClick:t,className:"w-full border-border text-foreground hover:bg-accent",children:"Batal"})]})]}),o.jsxs("div",{className:"flex-1 space-y-6",children:[o.jsxs(Rc,{value:s,onValueChange:q=>i(q),children:[o.jsxs(Xo,{className:"grid w-full grid-cols-3 bg-muted",children:[o.jsxs(Yr,{value:"day",className:"flex items-center gap-2 data-[state=active]:bg-background data-[state=active]:text-foreground",children:[o.jsx(Zn,{className:"h-4 w-4"}),"Hapus Hari"]}),o.jsxs(Yr,{value:"week",className:"flex items-center gap-2 data-[state=active]:bg-background data-[state=active]:text-foreground",children:[o.jsx(k1,{className:"h-4 w-4"}),"Hapus Pekan"]}),o.jsxs(Yr,{value:"month",className:"flex items-center gap-2 data-[state=active]:bg-background data-[state=active]:text-foreground",children:[o.jsx(a2,{className:"h-4 w-4"}),"Hapus Bulan"]})]}),o.jsx(Jr,{value:"day",className:"space-y-6 mt-6",children:o.jsx("div",{className:"space-y-6",children:o.jsxs(le,{className:"bg-card border-border",children:[o.jsxs(ke,{className:"pb-3",children:[o.jsxs(Pe,{className:"text-foreground text-sm flex items-center gap-2",children:[o.jsx(rt,{className:"h-4 w-4 text-red-500"}),"Hari yang Akan Dihapus (Pilih Multiple)"]}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Klik hari untuk memilih/membatalkan. Bisa pilih beberapa hari sekaligus."})]}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mn,{id:"multiple-days-mode",checked:p,onCheckedChange:q=>g(q===!0)}),o.jsx("label",{htmlFor:"multiple-days-mode",className:"text-sm text-foreground",children:"Mode Pilih Multiple Hari"})]}),p?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 gap-2",children:R.map(q=>o.jsx(V,{variant:m.has(q.value)?"default":"outline",size:"sm",onClick:()=>M(q.value),className:`h-12 text-xs ${m.has(q.value)?"bg-red-500 hover:bg-red-600 text-white border-red-500":"border-border text-foreground hover:bg-accent"}`,children:q.label},q.value))}),z.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium text-foreground",children:["Hari Terpilih (",z.length," hari):"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:z.map(q=>{var Q;return o.jsxs(ht,{variant:"secondary",className:"bg-red-500/20 text-red-600 border-red-500/30 cursor-pointer hover:bg-red-500/30",onClick:()=>M(q),children:[(Q=R.find(ie=>ie.value===q))==null?void 0:Q.label," "]},q)})})]})]}):o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Hari"}),o.jsxs(ze,{value:u.toString(),onValueChange:q=>d(parseInt(q)),children:[o.jsx($e,{className:"bg-background border-border text-foreground",children:o.jsx(Ue,{})}),o.jsx(Le,{className:"bg-popover border-border",children:R.map(q=>o.jsx(pe,{value:q.value.toString(),children:q.label},q.value))})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Pekan"}),o.jsxs("div",{className:"text-center mb-3",children:[o.jsxs(ht,{variant:"secondary",className:"bg-red-500/20 text-red-600 border-red-500/30",children:["Pekan ",f]}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:((X=E.find(q=>q.weekNumber===f))==null?void 0:X.dateRange)||"Tanggal tidak tersedia"})]}),o.jsx("div",{className:"max-h-40 overflow-y-auto border border-border rounded-lg p-3 bg-muted/30 custom-scrollbar",children:o.jsx(Cu,{selectedWeek:f,onWeekSelect:h,isSelectionMode:!1,variant:"delete"})})]})]})]})})}),o.jsx(Jr,{value:"week",className:"space-y-6 mt-6",children:o.jsx("div",{className:"space-y-6",children:o.jsxs(le,{className:"bg-card border-border",children:[o.jsxs(ke,{className:"pb-3",children:[o.jsxs(Pe,{className:"text-foreground text-sm flex items-center gap-2",children:[o.jsx(er,{className:"h-4 w-4 text-red-500"}),"Pekan yang Akan Dihapus (Pilih Multiple)"]}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Klik angka pekan untuk memilih/membatalkan. Bisa pilih beberapa pekan sekaligus."})]}),o.jsx(ce,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"max-h-48 overflow-y-auto border border-border rounded-lg p-3 bg-muted/30 custom-scrollbar",children:o.jsx(Cu,{selectedWeek:0,onWeekSelect:$,selectedTargetWeeks:b,sourceWeek:0,isSelectionMode:!0,variant:"delete"})}),F.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium text-foreground",children:["Pekan Terpilih (",F.length," pekan):"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:F.map(q=>o.jsxs(ht,{variant:"secondary",className:"bg-red-500/20 text-red-600 border-red-500/30 cursor-pointer hover:bg-red-500/30",onClick:()=>$(q),children:["Pekan ",q," "]},q))})]})]})})]})})}),o.jsx(Jr,{value:"month",className:"space-y-6 mt-6",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs(le,{className:"bg-card border-border",children:[o.jsxs(ke,{className:"pb-3",children:[o.jsxs(Pe,{className:"text-foreground text-sm flex items-center gap-2",children:[o.jsx(a2,{className:"h-4 w-4 text-red-500"}),"Bulan yang Akan Dihapus (Pilih Multiple)"]}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Klik bulan untuk memilih/membatalkan. Bisa pilih beberapa bulan sekaligus."})]}),o.jsx(ce,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mn,{id:"multiple-months-mode",checked:k,onCheckedChange:q=>N(q===!0)}),o.jsx("label",{htmlFor:"multiple-months-mode",className:"text-sm text-foreground",children:"Mode Pilih Multiple Bulan"})]}),k?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2",children:B.map(q=>o.jsx(V,{variant:j.has(q.value)?"default":"outline",size:"sm",onClick:()=>D(q.value),className:`h-12 text-xs ${j.has(q.value)?"bg-red-500 hover:bg-red-600 text-white border-red-500":"border-border text-foreground hover:bg-accent"}`,children:q.label},q.value))}),U.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium text-foreground",children:["Bulan Terpilih (",U.length," bulan):"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:U.map(q=>{var Q;return o.jsxs(ht,{variant:"secondary",className:"bg-red-500/20 text-red-600 border-red-500/30 cursor-pointer hover:bg-red-500/30",onClick:()=>D(q),children:[(Q=B.find(ie=>ie.value===q))==null?void 0:Q.label," "]},q)})})]})]}):o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Bulan"}),o.jsxs(ze,{value:w.toString(),onValueChange:q=>_(parseInt(q)),children:[o.jsx($e,{className:"bg-background border-border text-foreground",children:o.jsx(Ue,{})}),o.jsx(Le,{className:"bg-popover border-border",children:B.map(q=>o.jsx(pe,{value:q.value.toString(),children:q.label},q.value))})]})]})]})})]}),o.jsxs(le,{className:"bg-card border-border",children:[o.jsx(ke,{className:"pb-3",children:o.jsxs(Pe,{className:"text-foreground text-sm flex items-center gap-2",children:[o.jsx(jd,{className:"h-4 w-4 text-yellow-500"}),"Informasi"]})}),o.jsx(ce,{children:o.jsx("div",{className:"text-sm text-foreground space-y-2",children:k&&U.length>0?o.jsxs(o.Fragment,{children:[o.jsx("p",{children:"Semua jadwal pada bulan berikut akan dihapus:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:U.map(q=>{var Q;return o.jsxs("strong",{className:"text-red-600",children:[(Q=B.find(ie=>ie.value===q))==null?void 0:Q.label,q!==U[U.length-1]&&", "]},q)})}),o.jsxs("p",{className:"text-red-600 font-medium",children:["Aksi ini akan menghapus seluruh jadwal dalam ",U.length," bulan!"]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("p",{children:["Semua jadwal pada bulan ",o.jsx("strong",{className:"text-red-600",children:(te=B.find(q=>q.value===w))==null?void 0:te.label})," akan dihapus."]}),o.jsx("p",{className:"text-red-600 font-medium",children:"Aksi ini akan menghapus seluruh jadwal dalam 1 bulan!"})]})})})]})]})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Preview Jadwal yang Akan Dihapus"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(ht,{variant:"secondary",className:"bg-red-500/20 text-red-600",children:[K.length," jadwal"]}),s==="day"&&p&&z.length>0&&o.jsxs(ht,{variant:"secondary",className:"bg-red-500/20 text-red-600",children:["dari ",z.length," hari"]}),s==="week"&&F.length>0&&o.jsxs(ht,{variant:"secondary",className:"bg-red-500/20 text-red-600",children:["dari ",F.length," pekan"]}),s==="month"&&k&&U.length>0&&o.jsxs(ht,{variant:"secondary",className:"bg-red-500/20 text-red-600",children:["dari ",U.length," bulan"]})]})]}),K.length>0?o.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:K.map((q,Q)=>{var ie,de;return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-500/10 rounded-lg border-l-4 border-red-500",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-foreground text-sm",children:q.subject_name||((ie=q.subjects)==null?void 0:ie.name)||"Mata Pelajaran"}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[(de=R.find(ee=>ee.value===q.day_of_week))==null?void 0:de.label," ",q.start_time,"-",q.end_time,q.room&&`  ${q.room}`]})]}),o.jsxs(ht,{variant:"outline",className:"text-xs border-red-500/30 text-red-600",children:["Pekan ",q.academic_week]})]},q.id||Q)})}):o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(rt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"Tidak ada jadwal untuk dihapus"})]})]})]})]})]})})},AUe=(e,t)=>{const r=Ce(),{data:n=[]}=Ze({queryKey:["classes"],queryFn:async()=>{const{data:h,error:m}=await G.from("classes").select("id, name").order("name");if(m)throw m;return h}}),{data:a=[]}=Ze({queryKey:["source-schedules",e],queryFn:async()=>{if(!e)return[];console.log(" Fetching source schedules for class:",e);let{data:h,error:m}=await G.from("schedules_view").select("*").eq("class_id",e).not("day_of_week","is",null);if(m){console.log(" schedules_view failed, trying schedules table:",m);const v=await G.from("class_schedules").select(`
            *,
            schedule_subjects (
              id,
              name,
              session_category_id,
              session_categories (id, name)
            )
          `).eq("class_id",e).not("day_of_week","is",null);h=v.data,m=v.error}if(m)throw console.error(" Error fetching source schedules:",m),m;return console.log(" Found source schedules:",(h==null?void 0:h.length)||0),h||[]},enabled:!!e}),{data:s=[]}=Ze({queryKey:["target-schedules",t],queryFn:async()=>{if(!t)return[];console.log(" Fetching target schedules for class:",t);let{data:h,error:m}=await G.from("schedules_view").select("*").eq("class_id",t).not("day_of_week","is",null);if(m){console.log(" schedules_view failed, trying schedules table:",m);const v=await G.from("class_schedules").select(`
            *,
            schedule_subjects (id, name)
          `).eq("class_id",t).not("day_of_week","is",null);h=v.data,m=v.error}if(m)throw console.error(" Error fetching target schedules:",m),m;return console.log(" Found target schedules:",(h==null?void 0:h.length)||0),h||[]},enabled:!!t}),i=Ee({mutationFn:async({sourceClassId:h,targetClassId:m,categories:v,overwriteConflicts:p})=>{console.log(" Starting merge by category:",{sourceClassId:h,targetClassId:m,categories:v,overwriteConflicts:p});let{data:g,error:b}=await G.from("schedules_view").select("*").eq("class_id",h).not("day_of_week","is",null);if(b){console.log(" schedules_view failed, trying schedules table:",b);const S=await G.from("class_schedules").select(`
            *,
            schedule_subjects (
              id,
              name,
              session_category_id,
              session_categories (id, name)
            )
          `).eq("class_id",h).not("day_of_week","is",null);g=S.data,b=S.error}if(b)throw console.error(" Error fetching source schedules:",b),b;if(!g||g.length===0)throw new Error("No schedules found in source class");console.log(" Found source schedules:",g.length);const y=g.filter(S=>{var N;const k=S.session_category_id||((N=S.schedule_subjects)==null?void 0:N.session_category_id);return console.log(" Checking schedule category:",{scheduleId:S.id,categoryId:k,selectedCategories:v}),k&&v.includes(k)});if(console.log(" Filtered schedules by categories:",{total:g.length,filtered:y.length,categories:v,sampleSourceSchedule:g[0],sampleFilteredSchedule:y[0]}),y.length===0)throw new Error("No schedules found in source class for selected categories");if(!p){const S=await c(y,m);if(S.length>0)throw new Error(`Found ${S.length} conflicts. Enable overwrite to proceed.`)}if(p){console.log(" Deleting conflicting schedules...");for(const S of y)await G.from("class_schedules").delete().eq("class_id",m).eq("day_of_week",S.day_of_week).eq("start_time",S.start_time).eq("end_time",S.end_time)}const w=y.map(S=>({class_id:m,subject_id:S.subject_id,day_of_week:S.day_of_week,start_time:S.start_time,end_time:S.end_time,room:S.room,academic_week:S.academic_week,teacher_id:S.teacher_id,time_session_id:S.time_session_id,schedule_date:S.schedule_date,notes:S.notes,tujuan_pembelajaran:S.tujuan_pembelajaran||S.learning_objectives,materi_pembelajaran:S.materi_pembelajaran||S.learning_materials,school_id:S.school_id,academic_year_id:S.academic_year_id,hours_per_week:S.hours_per_week||0,hours_per_year:S.hours_per_year||0}));console.log(" Inserting schedules:",w.length),console.log(" Sample schedule to insert:",w[0]);const{data:_,error:j}=await G.from("class_schedules").insert(w);if(j)throw console.error(" Error inserting schedules:",j),console.error(" Error details:",{message:j.message,details:j.details,hint:j.hint,code:j.code}),j;return console.log(" Successfully merged schedules"),_},onSuccess:(h,m)=>{r.invalidateQueries({queryKey:["schedules"]}),r.invalidateQueries({queryKey:["schedules",m.targetClassId]}),r.invalidateQueries({queryKey:["jp-progress"]}),r.invalidateQueries({queryKey:["jp-progress-simple"]}),ha.success(`Jadwal berhasil di-merge dari ${m.categories.length} kategori`)},onError:h=>{console.error("Merge by category error:",h),ha.error("Gagal merge jadwal per kategori")}}),l=Ee({mutationFn:async({sourceClassId:h,targetClassId:m,overwriteConflicts:v})=>{console.log(" Starting merge all schedules:",{sourceClassId:h,targetClassId:m,overwriteConflicts:v});let{data:p,error:g}=await G.from("schedules_view").select("*").eq("class_id",h).not("day_of_week","is",null);if(g){console.log(" schedules_view failed, trying schedules table:",g);const _=await G.from("class_schedules").select(`
            *,
            schedule_subjects (
              id,
              name,
              session_category_id,
              session_categories (id, name)
            )
          `).eq("class_id",h).not("day_of_week","is",null);p=_.data,g=_.error}if(g)throw console.error(" Error fetching source schedules:",g),g;if(!p||p.length===0)throw new Error("No schedules found in source class");if(console.log(" Found source schedules for merge all:",p.length),!v){const _=await c(p,m);if(_.length>0)throw new Error(`Found ${_.length} conflicts. Enable overwrite to proceed.`)}v&&(console.log(" Deleting all existing schedules in target class..."),await G.from("class_schedules").delete().eq("class_id",m));const b=p.map(_=>({class_id:m,subject_id:_.subject_id,day_of_week:_.day_of_week,start_time:_.start_time,end_time:_.end_time,room:_.room,academic_week:_.academic_week,teacher_id:_.teacher_id,time_session_id:_.time_session_id,schedule_date:_.schedule_date,notes:_.notes,tujuan_pembelajaran:_.tujuan_pembelajaran||_.learning_objectives,materi_pembelajaran:_.materi_pembelajaran||_.learning_materials,school_id:_.school_id,academic_year_id:_.academic_year_id,hours_per_week:_.hours_per_week||0,hours_per_year:_.hours_per_year||0}));console.log(" Inserting all schedules:",b.length),console.log(" Sample schedule to insert:",b[0]);const{data:y,error:w}=await G.from("class_schedules").insert(b);if(w)throw console.error(" Error inserting all schedules:",w),console.error(" Error details:",{message:w.message,details:w.details,hint:w.hint,code:w.code}),w;return console.log(" Successfully merged all schedules"),y},onSuccess:(h,m)=>{r.invalidateQueries({queryKey:["schedules"]}),r.invalidateQueries({queryKey:["schedules",m.targetClassId]}),r.invalidateQueries({queryKey:["jp-progress"]}),r.invalidateQueries({queryKey:["jp-progress-simple"]}),ha.success("Semua jadwal berhasil di-merge")},onError:h=>{console.error("Merge all error:",h),ha.error("Gagal merge semua jadwal")}}),c=async(h,m)=>{const v=[];for(const p of h){let{data:g,error:b}=await G.from("schedules_view").select("*").eq("class_id",m).eq("day_of_week",p.day_of_week).eq("start_time",p.start_time).eq("end_time",p.end_time);if(b){const y=await G.from("class_schedules").select(`
            *,
            schedule_subjects (id, name)
          `).eq("class_id",m).eq("day_of_week",p.day_of_week).eq("start_time",p.start_time).eq("end_time",p.end_time);g=y.data,b=y.error}b||g&&g.length>0&&v.push({schedule:p,conflictTime:`${p.start_time}-${p.end_time}`,existingSchedule:g[0]})}return v},u=(h,m,v)=>!a||!h?[]:v==="category"&&m.length>0?a.filter(p=>{var b;const g=p.session_category_id||((b=p.schedule_subjects)==null?void 0:b.session_category_id);return g&&m.includes(g)}):a,d=(h,m)=>{if(!s||!h||!m)return[];const v=[];return h.forEach(p=>{const g=s.find(b=>b.day_of_week===p.day_of_week&&b.academic_week===p.academic_week&&(p.start_time>=b.start_time&&p.start_time<b.end_time||p.end_time>b.start_time&&p.end_time<=b.end_time||p.start_time<=b.start_time&&p.end_time>=b.end_time));g&&v.push({schedule:p,conflictTime:`${p.start_time}-${p.end_time}`,existingSchedule:g})}),v},f=i.isPending||l.isPending;return{mergeByCategory:i,mergeAll:l,getPreviewSchedules:u,checkMergeConflicts:d,classes:n,isLoading:f}},PUe=({isOpen:e,onClose:t,selectedClassId:r,currentWeek:n=1})=>{const[a,s]=x.useState("category"),[i,l]=x.useState(!1),[c,u]=x.useState(!1),[d,f]=x.useState(""),[h,m]=x.useState(r||""),[v,p]=x.useState(new Set),[g,b]=x.useState(""),[y,w]=x.useState(r||""),{data:_=[]}=xn(),{mergeByCategory:j,mergeAll:S,getPreviewSchedules:k,checkMergeConflicts:N,isLoading:E,classes:P=[]}=AUe(a==="category"?d:g,a==="category"?h:y),A=M=>{const D=new Set(v);D.has(M)?D.delete(M):D.add(M),p(D)},O=Array.from(v),T=x.useMemo(()=>a==="category"?!d||O.length===0?[]:k(d,O,"category")||[]:g?k(g,[],"all")||[]:[],[a,d,g,O]),C=x.useMemo(()=>!T||T.length===0?[]:a==="category"?h?N(T,h)||[]:[]:y?N(T,y)||[]:[],[a,T,h,y]),I=async()=>{if(!i){console.error("Please confirm merge");return}if(!T||T.length===0){console.error("No schedules to merge");return}try{if(a==="category"){if(!d||!h||O.length===0){console.error("Missing required fields for category merge");return}await j.mutateAsync({sourceClassId:d,targetClassId:h,categories:O,overwriteConflicts:c})}else{if(!g||!y){console.error("Missing required fields for all merge");return}await S.mutateAsync({sourceClassId:g,targetClassId:y,overwriteConflicts:c})}t()}catch(M){console.error("Merge error:",M)}},$=M=>{const D=M.toLowerCase();return D.includes("kbm")||D.includes("pelajaran")?o.jsx(ir,{className:"h-4 w-4"}):D.includes("asrama")||D.includes("keasramaan")?o.jsx(yE,{className:"h-4 w-4"}):D.includes("ekskul")||D.includes("ekstrakurikuler")?o.jsx(U5,{className:"h-4 w-4"}):o.jsx(rt,{className:"h-4 w-4"})};return o.jsx(Ft,{open:e,onOpenChange:t,children:o.jsxs(Ct,{className:"max-w-6xl max-h-[90vh] bg-background border-border backdrop-blur-sm",children:[o.jsx(At,{className:"pb-4",children:o.jsxs(Pt,{className:"text-xl font-bold text-foreground flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-purple-500/20",children:o.jsx(E1,{className:"h-6 w-6 text-purple-500"})}),"Merge Jadwal Kelas"]})}),o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("div",{className:"w-80 space-y-4",children:[C&&C.length>0&&o.jsx(le,{className:"bg-orange-500/10 border-orange-500/30",children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(jd,{className:"h-5 w-5 text-orange-400 mt-0.5 flex-shrink-0"}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("h4",{className:"font-medium text-orange-300 mb-2",children:[C.length," Konflik Jadwal"]}),o.jsxs("div",{className:"text-sm text-orange-200 space-y-1 max-h-40 overflow-y-auto",children:[C&&C.slice(0,5).map((M,D)=>{var F;return o.jsxs("div",{className:"text-xs",children:[" ",M.conflictTime," - ",(F=M.schedule.subjects)==null?void 0:F.name]},D)}),C&&C.length>5&&o.jsxs("div",{className:"text-orange-300 text-xs",children:["... dan ",C.length-5," konflik lainnya"]})]})]})]})})}),o.jsx(le,{className:"bg-card border-border",children:o.jsxs(ce,{className:"p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mn,{id:"overwrite",checked:c,onCheckedChange:u}),o.jsx("label",{htmlFor:"overwrite",className:"text-sm text-foreground",children:"Timpa jadwal yang konflik"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mn,{id:"confirm",checked:i,onCheckedChange:l}),o.jsx("label",{htmlFor:"confirm",className:"text-sm text-foreground",children:"Saya yakin ingin merge jadwal"})]})]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(V,{onClick:I,disabled:E||!i||C&&C.length>0&&!c,className:"w-full bg-purple-500 hover:bg-purple-600 text-white",children:E?o.jsxs(o.Fragment,{children:[o.jsx(lr,{className:"h-4 w-4 mr-2 animate-spin"}),"Merging..."]}):o.jsxs(o.Fragment,{children:[o.jsx(E1,{className:"h-4 w-4 mr-2"}),"Merge Jadwal"]})}),o.jsx(V,{variant:"outline",onClick:t,className:"w-full border-gray-600 text-gray-300 hover:bg-gray-700",children:"Batal"})]})]}),o.jsxs("div",{className:"flex-1 space-y-6",children:[o.jsxs(Rc,{value:a,onValueChange:M=>s(M),children:[o.jsxs(Xo,{className:"grid w-full grid-cols-2 bg-gray-700/50",children:[o.jsxs(Yr,{value:"category",className:"flex items-center gap-2 data-[state=active]:bg-purple-500/20 data-[state=active]:text-purple-300",children:[o.jsx(ir,{className:"h-4 w-4"}),"Merge Per Kategori"]}),o.jsxs(Yr,{value:"all",className:"flex items-center gap-2 data-[state=active]:bg-purple-500/20 data-[state=active]:text-purple-300",children:[o.jsx(vr,{className:"h-4 w-4"}),"Merge Semua"]})]}),o.jsxs(Jr,{value:"category",className:"space-y-6 mt-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs(le,{className:"bg-gray-700/30 border-gray-600/50",children:[o.jsx(ke,{className:"pb-3",children:o.jsxs(Pe,{className:"text-white text-sm flex items-center gap-2",children:[o.jsx(vr,{className:"h-4 w-4 text-blue-400"}),"Kelas Sumber"]})}),o.jsx(ce,{children:o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Pilih Kelas Sumber"}),o.jsxs(ze,{value:d,onValueChange:f,children:[o.jsx($e,{className:"bg-gray-700 border-gray-600 text-white",children:o.jsx(Ue,{placeholder:"Pilih kelas..."})}),o.jsx(Le,{className:"bg-gray-700 border-gray-600",children:P.map(M=>o.jsx(pe,{value:M.id,children:M.name},M.id))})]})]})})]}),o.jsxs(le,{className:"bg-gray-700/30 border-gray-600/50",children:[o.jsx(ke,{className:"pb-3",children:o.jsxs(Pe,{className:"text-white text-sm flex items-center gap-2",children:[o.jsx(vr,{className:"h-4 w-4 text-green-400"}),"Kelas Tujuan"]})}),o.jsx(ce,{children:o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Pilih Kelas Tujuan"}),o.jsxs(ze,{value:h,onValueChange:m,children:[o.jsx($e,{className:"bg-gray-700 border-gray-600 text-white",children:o.jsx(Ue,{placeholder:"Pilih kelas..."})}),o.jsx(Le,{className:"bg-gray-700 border-gray-600",children:P&&P.length>0?P.map(M=>o.jsx(pe,{value:M.id,children:M.name},M.id)):o.jsx(pe,{value:"",disabled:!0,children:"Tidak ada kelas tersedia"})})]})]})})]})]}),o.jsxs(le,{className:"bg-gray-700/30 border-gray-600/50",children:[o.jsxs(ke,{className:"pb-3",children:[o.jsxs(Pe,{className:"text-white text-sm flex items-center gap-2",children:[o.jsx(ir,{className:"h-4 w-4 text-purple-400"}),"Pilih Kategori yang Akan Di-merge"]}),o.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Pilih kategori jadwal yang ingin dipindahkan dari kelas sumber ke kelas tujuan."})]}),o.jsxs(ce,{children:[o.jsx("div",{className:"grid grid-cols-2 gap-3",children:_&&_.length>0?_.map(M=>o.jsxs("div",{onClick:()=>A(M.id),className:`p-3 rounded-lg border cursor-pointer transition-all duration-200 ${v.has(M.id)?"bg-purple-500/20 border-purple-500/50 text-purple-300":"bg-gray-700/50 border-gray-600/50 text-gray-300 hover:bg-gray-600/50"}`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[$(M.name),o.jsx("span",{className:"text-sm font-medium",children:M.name})]}),o.jsx("div",{className:"text-xs text-gray-400 mt-1",children:M.description||"Kategori jadwal"})]},M.id)):o.jsx("div",{className:"col-span-2 text-center py-4 text-gray-400",children:o.jsx("p",{children:"Tidak ada kategori tersedia"})})}),O.length>0&&o.jsxs("div",{className:"mt-4 space-y-2",children:[o.jsxs("label",{className:"text-sm font-medium text-gray-300",children:["Kategori Terpilih (",O.length," kategori):"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:O.map(M=>{const D=_.find(F=>F.id===M);return o.jsxs(ht,{variant:"secondary",className:"bg-purple-500/20 text-purple-300 border-purple-500/30 cursor-pointer hover:bg-purple-500/30",onClick:()=>A(M),children:[D==null?void 0:D.name," "]},M)})})]})]})]})]}),o.jsxs(Jr,{value:"all",className:"space-y-6 mt-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs(le,{className:"bg-gray-700/30 border-gray-600/50",children:[o.jsx(ke,{className:"pb-3",children:o.jsxs(Pe,{className:"text-white text-sm flex items-center gap-2",children:[o.jsx(vr,{className:"h-4 w-4 text-blue-400"}),"Kelas Sumber"]})}),o.jsx(ce,{children:o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Pilih Kelas Sumber"}),o.jsxs(ze,{value:g,onValueChange:b,children:[o.jsx($e,{className:"bg-gray-700 border-gray-600 text-white",children:o.jsx(Ue,{placeholder:"Pilih kelas..."})}),o.jsx(Le,{className:"bg-gray-700 border-gray-600",children:P&&P.length>0?P.map(M=>o.jsx(pe,{value:M.id,children:M.name},M.id)):o.jsx(pe,{value:"",disabled:!0,children:"Tidak ada kelas tersedia"})})]})]})})]}),o.jsxs(le,{className:"bg-gray-700/30 border-gray-600/50",children:[o.jsx(ke,{className:"pb-3",children:o.jsxs(Pe,{className:"text-white text-sm flex items-center gap-2",children:[o.jsx(vr,{className:"h-4 w-4 text-green-400"}),"Kelas Tujuan"]})}),o.jsx(ce,{children:o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Pilih Kelas Tujuan"}),o.jsxs(ze,{value:y,onValueChange:w,children:[o.jsx($e,{className:"bg-gray-700 border-gray-600 text-white",children:o.jsx(Ue,{placeholder:"Pilih kelas..."})}),o.jsx(Le,{className:"bg-gray-700 border-gray-600",children:P&&P.length>0?P.map(M=>o.jsx(pe,{value:M.id,children:M.name},M.id)):o.jsx(pe,{value:"",disabled:!0,children:"Tidak ada kelas tersedia"})})]})]})})]})]}),o.jsxs(le,{className:"bg-gray-700/30 border-gray-600/50",children:[o.jsx(ke,{className:"pb-3",children:o.jsxs(Pe,{className:"text-white text-sm flex items-center gap-2",children:[o.jsx(jd,{className:"h-4 w-4 text-yellow-400"}),"Informasi Merge Semua"]})}),o.jsx(ce,{children:o.jsxs("div",{className:"text-sm text-gray-300 space-y-2",children:[o.jsx("p",{children:"Semua jadwal dari kelas sumber akan dipindahkan ke kelas tujuan."}),o.jsx("p",{className:"text-yellow-300 font-medium",children:"Ini akan memindahkan seluruh jadwal tanpa memilih kategori tertentu."}),o.jsx("p",{className:"text-orange-300",children:"Pastikan kelas tujuan sudah benar sebelum melanjutkan!"})]})})]})]})]}),!1,o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Preview Jadwal yang Akan Di-merge"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(ht,{variant:"secondary",className:"bg-purple-500/20 text-purple-300",children:[(T==null?void 0:T.length)||0," jadwal"]}),a==="category"&&O.length>0&&o.jsxs(ht,{variant:"secondary",className:"bg-purple-500/20 text-purple-300",children:["dari ",O.length," kategori"]})]})]}),T&&T.length>0?o.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:T.map((M,D)=>{var F,z;return o.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-500/10 rounded-lg border-l-4 border-purple-500",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-white text-sm",children:((F=M.subjects)==null?void 0:F.name)||"Mata Pelajaran"}),o.jsxs("div",{className:"text-xs text-gray-400",children:[M.day_of_week,"  ",M.start_time,"-",M.end_time,M.room&&`  ${M.room}`]})]}),o.jsx(ht,{variant:"outline",className:"text-xs border-purple-500/30 text-purple-300",children:((z=M.category)==null?void 0:z.name)||"Kategori"})]},M.id||D)})}):o.jsxs("div",{className:"text-center py-8 text-gray-400",children:[o.jsx(rt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"Tidak ada jadwal untuk di-merge"})]})]})]})]})]})})},TUe=({selectedClassId:e,onClassChange:t,selectedWeek:r,onWeekSelect:n,onCurrentWeekClick:a})=>{const{data:s}=Rf(),{data:i}=Si(),{academicWeeks:l}=nn(),[c,u]=x.useState(!1),[d,f]=x.useState(!1),[h,m]=x.useState(!1),[v,p]=x.useState(!1),{toast:g}=Te(),{profile:b}=ct(),y=Ce(),{forceRefresh:w}=RA(),_=()=>{if(!e||!(b!=null&&b.school_id)){g({title:"Pilih Kelas",description:"Silakan pilih kelas terlebih dahulu untuk membuat link publik",variant:"destructive"});return}try{const N=`${e}:${b.school_id}`,E=btoa(N),P=`${window.location.origin}/external/${E}`;navigator.clipboard.writeText(P).then(()=>{g({title:"Link Publik Berhasil Dibuat! ",description:"Link telah disalin ke clipboard. Bagikan link ini untuk akses publik tanpa login."})}).catch(()=>{prompt("Link Publik (Copy manual):",P),g({title:"Link Publik Dibuat",description:"Silakan copy link dari dialog yang muncul"})}),console.log(" Public link generated:",{classId:e,schoolId:b.school_id,token:E,publicUrl:P})}catch(N){console.error(" Error generating public link:",N),g({title:"Gagal Membuat Link",description:"Terjadi kesalahan saat membuat link publik",variant:"destructive"})}};d9({selectedClassId:e||void 0,selectedWeek:r});const j=l.find(N=>N.weekNumber===r),S=()=>{r>1&&n(r-1)},k=()=>{r<l.length&&n(r+1)};return o.jsxs("div",{className:"p-2 space-y-2 bg-transparent relative",children:[o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",children:[o.jsx("div",{className:"flex items-center gap-4 flex-1",children:o.jsx(tG,{selectedClassId:e,onClassChange:t})}),o.jsxs("div",{className:"flex items-center gap-6 flex-1 justify-center",children:[o.jsx("div",{className:"flex items-center justify-center w-14 h-14 rounded-none overflow-hidden",children:s!=null&&s.logo_url?o.jsx("img",{src:s.logo_url,alt:"Logo Sekolah",className:"w-full h-full object-cover"}):o.jsx(xo,{className:"h-6 w-6 text-foreground"})}),o.jsxs("div",{className:"flex flex-col text-center",children:[o.jsx("div",{className:"text-foreground font-semibold text-base leading-tight",children:(s==null?void 0:s.name)||"SMA Negeri 1 Jakarta"}),o.jsx("div",{className:"text-muted-foreground text-sm leading-tight",children:(s==null?void 0:s.address)||"Jl. Pendidikan No. 123, Jakarta Pusat"}),o.jsxs("div",{className:"text-muted-foreground text-xs",children:["Tahun Akademik ",(i==null?void 0:i.year_name)||"2025/2026"]})]})]}),o.jsxs("div",{className:"flex gap-3 flex-1 justify-end items-center",children:[o.jsx(V,{variant:"outline",size:"sm",onClick:S,disabled:r<=1,className:"bg-background border-border text-foreground hover:bg-primary hover:text-primary-foreground flex items-center justify-center",children:o.jsx(xd,{className:"h-4 w-4"})}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-bold text-foreground px-2 py-1 text-sm",children:["Minggu ",r]}),j&&o.jsx("div",{className:"text-xs text-muted-foreground whitespace-nowrap",children:j.dateRange})]}),o.jsx(V,{variant:"outline",size:"sm",onClick:k,disabled:r>=l.length,className:"bg-background border-border text-foreground hover:bg-primary hover:text-primary-foreground flex items-center justify-center",children:o.jsx(ci,{className:"h-4 w-4"})}),o.jsx(V,{variant:"ghost",size:"sm",onClick:a,className:"w-10 h-10 rounded-full bg-background border border-blue-500 text-blue-500 hover:bg-blue-500/10 hover:border-blue-500/70 hover:text-blue-600 transition-all duration-300 transform hover:scale-105",title:"Minggu Ini",children:o.jsx(rt,{className:"h-4 w-4"})}),o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>u(!0),className:"w-10 h-10 rounded-full bg-background border border-green-500 text-green-500 hover:bg-green-500/10 hover:border-green-500/70 hover:text-green-600 transition-all duration-300 transform hover:scale-105",title:"Hitung JP",children:o.jsx(Ru,{className:"h-4 w-4"})}),o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>f(!0),className:"w-10 h-10 rounded-full bg-background border border-cyan-500 text-cyan-500 hover:bg-cyan-500/10 hover:border-cyan-500/70 hover:text-cyan-600 transition-all duration-300 transform hover:scale-105",title:"Salin Jadwal",children:o.jsx(Pv,{className:"h-4 w-4"})}),o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>m(!0),className:"w-10 h-10 rounded-full bg-background border border-red-500 text-red-500 hover:bg-red-500/10 hover:border-red-500/70 hover:text-red-600 transition-all duration-300 transform hover:scale-105",title:"Hapus Jadwal",children:o.jsx(er,{className:"h-4 w-4"})}),o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>p(!0),className:"w-10 h-10 rounded-full bg-background border border-purple-500 text-purple-500 hover:bg-purple-500/10 hover:border-purple-500/70 hover:text-purple-600 transition-all duration-300 transform hover:scale-105",title:"Merge Jadwal",children:o.jsx(E1,{className:"h-4 w-4"})}),o.jsx(V,{variant:"ghost",size:"sm",onClick:_,className:"w-10 h-10 rounded-full bg-background border border-orange-500 text-orange-500 hover:bg-orange-500/10 hover:border-orange-500/70 hover:text-orange-600 transition-all duration-300 transform hover:scale-105",title:"Buat Link Publik",children:o.jsx(KY,{className:"h-4 w-4"})}),o.jsx(V,{variant:"ghost",size:"sm",className:"w-10 h-10 rounded-full bg-lime-400/0 border border-amber-600 text-amber-600 hover:bg-gray-700/20 hover:border-amber-600/50 hover:text-amber-600 transition-all duration-300 transform hover:scale-105",title:"Setting",children:o.jsx(x0,{className:"h-4 w-4"})})]})]}),o.jsx(rG,{isOpen:c,onClose:()=>u(!1),selectedClassId:e||void 0,selectedWeek:r}),o.jsx(NUe,{isOpen:d,onClose:()=>f(!1),selectedClassId:e||void 0,currentWeek:r}),o.jsx(CUe,{isOpen:h,onClose:()=>m(!1),selectedClassId:e||void 0,currentWeek:r,onScheduleDeleted:()=>{console.log(" Schedule deleted, refreshing data without page reload..."),y.invalidateQueries({queryKey:["schedules"]}),y.invalidateQueries({queryKey:["schedules-simple"]}),y.invalidateQueries({queryKey:["schedules",e]}),y.invalidateQueries({queryKey:["jp-progress"]}),y.invalidateQueries({queryKey:["jp-progress-simple"]}),w(),console.log(" Data refresh completed, staying on week",r)}}),o.jsx(PUe,{isOpen:v,onClose:()=>p(!1),selectedClassId:e||void 0,currentWeek:r})]})},sG=({selectedWeek:e,onWeekSelect:t,selectedTargetWeeks:r,sourceWeek:n,isSelectionMode:a=!1})=>{const{academicWeeks:s}=nn(),i=x.useRef(null);return L.useEffect(()=>{if(i.current){const l=i.current.querySelector(`[data-week="${e}"]`);l&&l.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}},[e]),o.jsx("div",{className:"bg-background border-t border-border",children:o.jsx("div",{className:"p-2 w-full bg-card backdrop-blur-xl border border-border rounded-xl shadow-lg relative overflow-hidden",children:o.jsx("div",{className:"relative z-15 p-3 py-[5px] my-0",children:o.jsxs("div",{ref:i,className:"w-full overflow-x-auto pb-2 custom-scrollbar",children:[o.jsx("style",{children:`
                .custom-scrollbar::-webkit-scrollbar {
                  height: 6px;
                }
                .custom-scrollbar::-webkit-scrollbar-track {
                  background: hsl(var(--muted));
                  border-radius: 3px;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb {
                  background: hsl(var(--muted-foreground) / 0.3);
                  border-radius: 3px;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                  background: hsl(var(--muted-foreground) / 0.5);
                }
                .dark .custom-scrollbar::-webkit-scrollbar-track {
                  background: rgba(255, 255, 255, 0.1);
                }
                .dark .custom-scrollbar::-webkit-scrollbar-thumb {
                  background: rgba(255, 255, 255, 0.3);
                }
                .dark .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                  background: rgba(255, 255, 255, 0.5);
                }
              `}),o.jsx("div",{className:"flex gap-2",style:{width:`${s.length*60}px`},children:s.map(l=>{const c=e===l.weekNumber,u=r==null?void 0:r.has(l.weekNumber),d=n===l.weekNumber,f=a&&d;return o.jsx(V,{"data-week":l.weekNumber,variant:c&&!a?"default":"outline",size:"sm",onClick:()=>!f&&t(l.weekNumber),disabled:f,className:`h-6 flex items-center justify-center space-x-2 text-xs font-thin rounded-full px-3 transition-all duration-200 ${f?"bg-muted/30 border-muted text-muted-foreground cursor-not-allowed":u&&a?"bg-green-500/80 border-green-400 text-white shadow-lg scale-105 ring-1 ring-green-400/50":c&&!a?"bg-primary border-primary text-primary-foreground":"bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground hover:scale-105"}`,children:l.weekNumber},l.weekNumber)})})]})})})})},DUe=({selectedWeek:e,selectedClassId:t,selectedDate:r})=>{const{data:n=[],isLoading:a,error:s}=Yo(),{academicWeeks:i}=nn(),l=i.find(u=>u.weekNumber===e),c=x.useMemo(()=>{if(console.log(" WeeklyActivityList Debug (PAGINATED):",{selectedDate:r,selectedClassId:t,selectedWeek:e,totalSchedules:(n==null?void 0:n.length)||0,isLoading:a,error:s,sampleSchedules:n==null?void 0:n.slice(0,3).map(d=>({id:d.id,academic_week:d.academic_week,class_id:d.class_id,subject_name:d.subject_name,day_of_week:d.day_of_week}))}),!r||!t)return console.log(" WeeklyActivityList: Missing selectedDate or selectedClassId"),[];tn(r,{weekStartsOn:1});const u=n.filter(d=>!(d.class_id!==t||d.academic_week!==e));return console.log(" WeeklyActivityList Filtered (PAGINATED):",{filteredCount:u.length,selectedWeek:e,selectedClassId:t,filteredSchedules:u.map(d=>({id:d.id,subject_name:d.subject_name,day_of_week:d.day_of_week,start_time:d.start_time,end_time:d.end_time,academic_week:d.academic_week}))}),e>=14&&console.log(` MINGGU ${e} ANALYSIS:`,{totalSchedulesInData:(n==null?void 0:n.length)||0,schedulesForThisWeek:(n==null?void 0:n.filter(d=>d.academic_week===e).length)||0,schedulesForThisClass:(n==null?void 0:n.filter(d=>d.class_id===t).length)||0,schedulesForThisWeekAndClass:u.length,weekDistribution:n==null?void 0:n.reduce((d,f)=>(d[f.academic_week]=(d[f.academic_week]||0)+1,d),{}),availableWeeks:[...new Set(n==null?void 0:n.map(d=>d.academic_week))].sort((d,f)=>d-f)}),u.map(d=>{var w,_,j,S,k,N;const f=d.subject_name||d.schedule_subject_name||((w=d.subjects)==null?void 0:w.name)||((_=d.schedule_subjects)==null?void 0:_.name)||((j=d.extracurriculars)==null?void 0:j.name)||"Mata Pelajaran",h=d.subject_color||d.schedule_subject_color||((S=d.subjects)==null?void 0:S.color)||((k=d.schedule_subjects)==null?void 0:k.color)||((N=d.extracurriculars)==null?void 0:N.color)||"#6B7280",m=new Date(`2000-01-01 ${d.start_time}`),p=(new Date(`2000-01-01 ${d.end_time}`).getTime()-m.getTime())/(1e3*60),g=Math.round(p/45),y=["","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu","Minggu"][d.day_of_week||0];return{id:d.id,mapel:f,jp:g,tujuan_pembelajaran:d.tujuan_pembelajaran||"-",materi_pembelajaran:d.materi_pembelajaran||"-",catatan_guru:d.notes||"-",day:y,time:`${d.start_time} - ${d.end_time}`,color:h}}).sort((d,f)=>{const h=["Senin","Selasa","Rabu","Kamis","Jumat","Sabtu","Minggu"],m=h.indexOf(d.day)-h.indexOf(f.day);return m!==0?m:d.time.localeCompare(f.time)})},[n,e,t,r]);return t?a?o.jsx("div",{className:"mt-8 p-6 bg-card rounded-lg border border-border",children:o.jsxs("div",{className:"text-center text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-3",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),o.jsx(ir,{className:"h-8 w-8 opacity-50"})]}),o.jsx("p",{children:"Memuat daftar kegiatan mingguan..."})]})}):s?o.jsx("div",{className:"mt-8 p-6 bg-red-500/10 border border-red-500/30 rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx(ir,{className:"h-12 w-12 mx-auto mb-3 text-red-500"}),o.jsx("div",{className:"text-red-600 mb-2",children:" Gagal memuat daftar kegiatan"}),o.jsx("div",{className:"text-muted-foreground text-sm",children:s.message})]})}):o.jsxs("div",{className:"mt-8 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(ir,{className:"h-6 w-6 text-primary"}),o.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Daftar Kegiatan Mingguan"})]}),l&&o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Minggu ",e,"  ",l.dateRange]})]}),c.length===0?o.jsxs("div",{className:"p-8 bg-card rounded-lg border border-border text-center",children:[o.jsx(lr,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),o.jsx("p",{className:"text-muted-foreground",children:"Belum ada kegiatan terjadwal untuk minggu ini"})]}):o.jsxs("div",{className:"bg-card rounded-lg border border-border overflow-hidden",children:[o.jsx("div",{className:"bg-muted/50 px-6 py-4 border-b border-border",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm font-semibold text-foreground",children:[o.jsxs("div",{className:"col-span-2 flex items-center space-x-2",children:[o.jsx(ir,{className:"h-4 w-4 text-primary"}),o.jsx("span",{children:"MAPEL"})]}),o.jsxs("div",{className:"col-span-1 flex items-center space-x-2",children:[o.jsx(lr,{className:"h-4 w-4 text-blue-500"}),o.jsx("span",{children:"JP"})]}),o.jsxs("div",{className:"col-span-3 flex items-center space-x-2",children:[o.jsx(_E,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{children:"TUJUAN PEMBELAJARAN"})]}),o.jsxs("div",{className:"col-span-3 flex items-center space-x-2",children:[o.jsx(vE,{className:"h-4 w-4 text-purple-500"}),o.jsx("span",{children:"MATERI PEMBELAJARAN"})]}),o.jsxs("div",{className:"col-span-3 flex items-center space-x-2",children:[o.jsx(Y5,{className:"h-4 w-4 text-orange-500"}),o.jsx("span",{children:"CATATAN GURU"})]})]})}),o.jsx("div",{className:"divide-y divide-border",children:c.map((u,d)=>o.jsx("div",{className:"px-6 py-4 hover:bg-accent/30 transition-colors",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm",children:[o.jsx("div",{className:"col-span-2",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:u.color}}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-foreground",children:u.mapel}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[u.day,"  ",u.time]})]})]})}),o.jsx("div",{className:"col-span-1",children:o.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded-full bg-blue-500/20 text-blue-600 text-xs font-medium",children:[u.jp," JP"]})}),o.jsx("div",{className:"col-span-3",children:o.jsx("div",{className:"text-foreground text-sm leading-relaxed",children:u.tujuan_pembelajaran})}),o.jsx("div",{className:"col-span-3",children:o.jsx("div",{className:"text-foreground text-sm leading-relaxed",children:u.materi_pembelajaran})}),o.jsx("div",{className:"col-span-3",children:o.jsx("div",{className:"text-foreground text-sm leading-relaxed",children:u.catatan_guru})})]})},u.id))}),o.jsx("div",{className:"bg-muted/30 px-6 py-3 border-t border-border",children:o.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[o.jsxs("span",{children:["Total kegiatan: ",c.length]}),o.jsxs("span",{children:["Total JP: ",c.reduce((u,d)=>u+d.jp,0)]})]})})]})]}):o.jsx("div",{className:"mt-8 p-6 bg-card rounded-lg border border-border",children:o.jsxs("div",{className:"text-center text-muted-foreground",children:[o.jsx(ir,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),o.jsx("p",{children:"Pilih kelas untuk melihat daftar kegiatan mingguan"})]})})},MUe=()=>{const[e,t]=x.useState({screenWidth:typeof window<"u"?window.innerWidth:1280,screenHeight:typeof window<"u"?window.innerHeight:720,availableWidth:typeof window<"u"?window.innerWidth:1280,sidebarWidth:0,containerWidth:"100%",isCompact:!1}),r=x.useCallback(()=>{const n=window.innerWidth,a=window.innerHeight,s=document.querySelector('[data-sidebar="sidebar"]');document.querySelector('[data-sidebar="inset"]');const i=document.querySelector("[data-panel-group]");let l=0,c=n;if(s&&s.offsetWidth>0){const v=s.offsetWidth;l+=v,c-=v}let u=0;if(i){const v=i.querySelectorAll("[data-panel]");if(v.length>=2){const p=v[0];p&&p.offsetWidth>0&&(u=p.offsetWidth)}}const f=c-u,h=n<1024||f<600;let m;if(h)m=`${Math.max(c-8,320)}px`;else{const v=Math.min(24,c*.015);m=`${Math.max(c-v,400)}px`}console.log(" Dynamic Layout Calculation:",{screenWidth:n,totalSidebarWidth:l,mainContentWidth:c,scheduleSidebarWidth:u,calendarAvailableWidth:f,containerWidth:m,isCompact:h}),t({screenWidth:n,screenHeight:a,availableWidth:f,sidebarWidth:l,containerWidth:m,isCompact:h})},[]);return x.useEffect(()=>{r(),window.addEventListener("resize",r);const n=new ResizeObserver(()=>{setTimeout(r,100)}),a=document.querySelector('[data-sidebar="sidebar"]');a&&n.observe(a);const s=document.querySelector("[data-panel-group]");s&&(n.observe(s),s.querySelectorAll("[data-panel]").forEach(c=>{n.observe(c)}));const i=()=>{setTimeout(r,150)};return document.addEventListener("mouseup",i),document.addEventListener("touchend",i),()=>{window.removeEventListener("resize",r),n.disconnect(),document.removeEventListener("mouseup",i),document.removeEventListener("touchend",i)}},[r]),e},OUe=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[a,s]=x.useState(null),[i,l]=x.useState(1),[c,u]=x.useState(new Date),[d,f]=x.useState(null),[h,m]=x.useState(null),[v,p]=x.useState(null),[g,b]=x.useState(null),{activeAcademicYear:y}=nn(),w=()=>{if(!y)return new Date;const E=new Date(y.start_date);return Cd(tn(E,{weekStartsOn:1}),i-1)};return{isAddModalOpen:e,isEditModalOpen:r,selectedTimeSlot:a,selectedWeek:i,selectedDate:c,selectedClassId:d,activeSchedule:h,editingSchedule:v,draggedSubject:g,setSelectedClassId:f,setActiveSchedule:m,setDraggedSubject:b,setSelectedTimeSlot:s,setIsAddModalOpen:t,getCurrentWeekDate:w,handleTimeSlotClick:E=>{s(E),t(!0)},handleWeekSelect:E=>{l(E);const P=w();u(P)},handleScheduleEdit:E=>{console.log("Editing schedule:",E),p(E),n(!0)},closeModal:()=>{t(!1),m(null),s(null)},closeEditModal:()=>{n(!1),p(null)}}},iG=()=>{const{data:e}=$A();return(()=>{let r=3,n=22;if(console.log(" Time Sessions Debug:",{timeSessionsCount:(e==null?void 0:e.length)||0,timeSessions:e==null?void 0:e.map(s=>({id:s.id,session_name:s.session_name,start_time:s.start_time,end_time:s.end_time,session_number:s.session_number}))}),e!=null&&e.length){const s=e.map(l=>{var u;const c=((u=l.start_time)==null?void 0:u.slice(0,5))||"03:00";return parseInt(c.split(":")[0])}),i=e.map(l=>{var u;const c=((u=l.end_time)==null?void 0:u.slice(0,5))||"22:00";return parseInt(c.split(":")[0])});r=Math.min(...s),n=Math.max(...i),console.log(" Calculated Hours:",{startTimes:s,endTimes:i,calculatedStartHour:r,calculatedEndHour:n})}const a=[];for(let s=r;s<=n;s++){const i=`${s.toString().padStart(2,"0")}:00`;a.push({id:`slot-${s}`,time:i,displayTime:i,hour:s})}return{slots:a,startHour:r,endHour:n,totalHours:n-r+1}})()},oG=()=>{const e=x.useRef(null),t=x.useRef(null);x.useRef(null);const{toast:r}=Te();Ce(),OA(),RA(),x.useEffect(()=>{const Z=()=>{var ne;console.log(" Force calendar refresh event received");const Y=(ne=e.current)==null?void 0:ne.getApi();Y&&(Y.refetchEvents(),console.log(" Calendar events refetched via custom event"))};return window.addEventListener("forceCalendarRefresh",Z),()=>{window.removeEventListener("forceCalendarRefresh",Z)}},[]);const{isAddModalOpen:n,isEditModalOpen:a,selectedTimeSlot:s,selectedWeek:i,selectedDate:l,selectedClassId:c,activeSchedule:u,editingSchedule:d,draggedSubject:f,setSelectedClassId:h,setActiveSchedule:m,setDraggedSubject:v,setSelectedTimeSlot:p,setIsAddModalOpen:g,getCurrentWeekDate:b,handleTimeSlotClick:y,handleWeekSelect:w,handleScheduleEdit:_,closeModal:j,closeEditModal:S}=OUe(),{data:k,isLoading:N,error:E}=Yo();console.log(" Schedule Data Status (PAGINATED):",{selectedWeek:i,selectedClassId:c,schedulesCount:(k==null?void 0:k.length)||0,isLoading:N,error:E,usingPagination:!0});const P=F9(),A=B9(),{startHour:O,endHour:T,totalHours:C}=iG(),{data:I}=Si(),{academicWeeks:$}=nn(),{data:M=[]}=xn(),{containerWidth:D,isCompact:F}=MUe();x.useEffect(()=>{const Y=setTimeout(()=>{const ne=document.querySelector(".expandable-category-sidebar");ne&&!t.current&&(t.current=new JBe(ne,{itemSelector:"[data-subject]",eventData:function(fe){const ve=fe.dataset.subject;if(ve)try{const be=JSON.parse(ve),je=be.color||"#6B7280";return console.log(" Draggable Event Data:",{name:be.name,id:be.id,color:je,type:be.type,source:be.source}),{title:be.name,id:be.id,duration:"00:45:00",backgroundColor:je,borderColor:je,textColor:"#FFFFFF",extendedProps:{subject:be,type:"external"}}}catch(be){console.error("Error parsing subject data:",be)}return{title:fe.textContent||"Unknown Subject",duration:"00:45:00",backgroundColor:"#6B7280",borderColor:"#6B7280",textColor:"#FFFFFF"}}}),console.log(" External draggable initialized"))},100);return()=>{clearTimeout(Y),t.current&&(t.current.destroy(),t.current=null)}},[c]);const z=x.useMemo(()=>{const fe=140+C*2*30;return Math.max(fe+40,500)},[C]),U=x.useMemo(()=>{const Z=`${O.toString().padStart(2,"0")}:00:00`,Y=`${(T+1).toString().padStart(2,"0")}:00:00`;return console.log(" Calendar Time Range Debug:",{startHour:O,endHour:T,totalHours:C,slotMinTime:Z,slotMaxTime:Y,calendarHeight:z,slotHeight:30,total30MinSlots:C*2,expectedGridHeight:C*2*30}),{slotMinTime:Z,slotMaxTime:Y}},[O,T,C,z]),R=x.useMemo(()=>{const Z=b();return console.log(" Calendar Date Update:",{selectedWeek:i,weekDate:Z.toISOString().split("T")[0],academicYear:I==null?void 0:I.year_name}),Z},[i,b,I]);x.useEffect(()=>{var Y;const Z=(Y=e.current)==null?void 0:Y.getApi();Z&&R&&(console.log(" Updating calendar to week:",i,"date:",R),Z.gotoDate(R))},[i,R]),x.useEffect(()=>{var Y;const Z=(Y=e.current)==null?void 0:Y.getApi();Z&&k&&(console.log(" AGGRESSIVE Real-time calendar refresh triggered by schedules change:",k.length,"schedules"),console.log(" Schedules data:",k),Z.refetchEvents(),setTimeout(()=>{Z.refetchEvents()},100),setTimeout(()=>{Z.refetchEvents()},500))},[k]),x.useEffect(()=>{var Y;const Z=(Y=e.current)==null?void 0:Y.getApi();Z&&M&&(console.log(" Real-time calendar refresh triggered by session categories change:",M.length,"categories"),Z.refetchEvents())},[M]);const B=x.useMemo(()=>{if(console.log(" CALENDAR EVENTS PROCESSING:",{schedulesLength:(k==null?void 0:k.length)||0,selectedWeek:i,selectedClassId:c,rawSchedules:k}),!c)return console.log(" No class selected - showing empty calendar to prevent UI overlap"),[];if(!k)return console.log(" No schedules data available"),[];const Z=k.filter(ne=>{const fe=parseInt(ne.academic_week),ve=parseInt(i.toString()),be=fe===ve,je=!c||ne.class_id===c;return fe===ve&&console.log(" FILTERING DEBUG - WEEK MATCH FOUND:",{scheduleId:ne.id,scheduleWeek:ne.academic_week,scheduleWeekInt:fe,selectedWeek:i,selectedWeekInt:ve,weekMatch:be,scheduleClassId:ne.class_id,selectedClassId:c,classMatch:je,startTime:ne.start_time,endTime:ne.end_time,subjectName:ne.subject_name,className:ne.class_name,finalResult:be&&je}),be&&je});if(console.log(" FILTERED SCHEDULES:",{totalSchedules:k.length,filteredCount:Z.length,selectedWeek:i,selectedClassId:c,filteredSchedules:Z.slice(0,3)}),Z.length===0){console.log(" TIDAK ADA HASIL untuk minggu:",i),console.log(" Raw schedules sample:",k==null?void 0:k.slice(0,5)),console.log(" Schedules untuk minggu ini:",k==null?void 0:k.filter(ve=>ve.academic_week===i)),console.log(" Schedules untuk kelas ini:",k==null?void 0:k.filter(ve=>ve.class_id===c));const ne=k==null?void 0:k.reduce((ve,be)=>(ve[be.academic_week]=(ve[be.academic_week]||0)+1,ve),{});console.log(" DISTRIBUSI MINGGU:",ne);const fe=k==null?void 0:k.filter(ve=>ve.academic_week>=1&&ve.academic_week<=24).slice(0,5);console.log(" SAMPLE SEMUA MINGGU 1-24:",fe)}const Y=Z.map(ne=>{let fe,ve;if(ne.subject_name)fe={id:ne.subject_id,name:ne.subject_name||ne.schedule_subject_name,code:ne.subject_code||ne.schedule_subject_code,color:ne.subject_color||ne.schedule_subject_color},ve={id:ne.session_category_id,name:ne.session_category_name,color:ne.session_category_color};else{console.log(" RAW SCHEDULE DATA ANALYSIS:",{schedule_id:ne.id,subject_id:ne.subject_id,hasSubjects:!!ne.subjects,hasScheduleSubjects:!!ne.schedule_subjects,hasExtracurriculars:!!ne.extracurriculars,subjectsData:ne.subjects,scheduleSubjectsData:ne.schedule_subjects,extracurricularsData:ne.extracurriculars,allKeys:Object.keys(ne)});const zt=ne.subjects||ne.schedule_subjects||ne.extracurriculars,sn=(zt==null?void 0:zt.session_categories)||(zt==null?void 0:zt.session_category);let wn="unknown";ne.subjects?wn="subjects":ne.schedule_subjects?wn="schedule_subjects":ne.extracurriculars&&(wn="extracurriculars"),console.log(` Processing ${wn} data for schedule:`,{schedule_id:ne.id,subject_id:ne.subject_id,subjectType:wn,subjectData:zt,categoryData:sn,subjectDataExists:!!zt,subjectName:zt==null?void 0:zt.name}),fe={id:ne.subject_id,name:(zt==null?void 0:zt.name)||`Unknown ${wn}`,code:zt==null?void 0:zt.code,color:(zt==null?void 0:zt.color)||"#6B7280"},ve={id:sn==null?void 0:sn.id,name:sn==null?void 0:sn.name,color:sn==null?void 0:sn.color},console.log(" Processed subject data:",{subject:fe,category:ve,originalType:wn})}const be=c9(fe,ve);console.log(` Calendar Event "${fe==null?void 0:fe.name}" - Colors:`,{subjectColor:fe==null?void 0:fe.color,categoryColor:ve==null?void 0:ve.color,finalColors:be,scheduleStructure:ne.subject_name?"schedules_view":"manual_joins",rawScheduleData:{id:ne.id,subject_id:ne.subject_id,subjects:ne.subjects,schedule_subjects:ne.schedule_subjects,extracurriculars:ne.extracurriculars}});const je=b(),dt=new Date(je);dt.setDate(dt.getDate()+(ne.day_of_week-1));const pt=new Date(dt),[Se,We]=ne.start_time.split(":");pt.setHours(parseInt(Se),parseInt(We));const Ie=new Date(dt),[Lr,Da]=ne.end_time.split(":");Ie.setHours(parseInt(Lr),parseInt(Da));const la=(Ie.getTime()-pt.getTime())/(1e3*60),Ci=la/30,Ma=Ci*30;console.log(` Event "${fe==null?void 0:fe.name}" Duration Debug:`,{startTime:ne.start_time,endTime:ne.end_time,durationMinutes:la,expectedSlots:Ci,expectedHeightPx:`${Ma}px`,dayOfWeek:ne.day_of_week});const rr={id:ne.id,title:(fe==null?void 0:fe.name)||"Mata Pelajaran",start:pt.toISOString(),end:Ie.toISOString(),backgroundColor:be.background,borderColor:be.border,textColor:be.text,extendedProps:{schedule:ne,teacher:{id:ne.teacher_id,full_name:ne.teacher_name},class:{id:ne.class_id,name:ne.class_name},subject:fe,category:ve,originalColor:be.background}};return console.log(" CREATED CALENDAR EVENT:",rr),rr});return console.log(" FINAL CALENDAR EVENTS:",{eventsCount:Y.length,events:Y}),Y},[k,i,c,b,M]),K=Z=>{const Y=Z.event.extendedProps.schedule;_(Y)},J=Z=>{var We,Ie;if(!c){r({title:" Gagal",description:"Pilih kelas terlebih dahulu",variant:"destructive"});const Lr=(We=e.current)==null?void 0:We.getApi();Lr&&Lr.unselect();return}const Y=new Date(Z.start),ne=Y.getDay(),fe=ne===0?7:ne,ve=Z.start.toTimeString().slice(0,5),be=Z.end.toTimeString().slice(0,5),je=hp(ve),dt=hp(be),pt={dayIndex:fe-1,date:Y.toISOString().split("T")[0],academicWeek:i,time:je,start_time:je,end_time:dt,source:"calendar_select"};pv("Calendar Selection Time Snapping",{rawStartTime:ve,rawEndTime:be,snappedStartTime:je,snappedEndTime:dt}),p(pt),g(!0);const Se=(Ie=e.current)==null?void 0:Ie.getApi();Se&&Se.unselect()},X=async Z=>{const Y=Z.event.extendedProps.schedule,ne=new Date(Z.event.start),fe=ne.getDay(),ve=fe===0?7:fe,be=aG(Y.start_time,Y.end_time),je=Z.event.start.toTimeString().slice(0,5),dt=Q$(be,je),pt=dt.startTime,Se=dt.endTime;pv("Event Drag - 5-Minute Snapping",{originalStartTime:Y.start_time,originalEndTime:Y.end_time,originalDuration:be,rawNewStartTime:je,snappedStartTime:pt,snappedEndTime:Se,snapDelta:`${je}  ${pt}`});const We={class_id:Y.class_id,day_of_week:ve,start_time:pt,end_time:Se,academic_week:i};if(Uv(k||[],We,Y.id)){Z.revert(),r({title:" Konflik Jadwal",description:`Jadwal bertabrakan dengan jadwal lain pada ${pt}-${Se}`,variant:"destructive"});return}try{await A.mutateAsync({id:Y.id,day_of_week:ve,start_time:pt,end_time:Se,schedule_date:ne.toISOString().split("T")[0],academic_week:i}),r({title:" Berhasil",description:"Jadwal berhasil dipindahkan"})}catch(Ie){console.error("Error moving schedule:",Ie),Z.revert(),r({title:" Gagal",description:"Gagal memindahkan jadwal",variant:"destructive"})}},te=async Z=>{const Y=Z.event.extendedProps.schedule,ne=Z.event.end.toTimeString().slice(0,5);console.log(" Event Resize Debug:",{originalStartTime:Y.start_time,originalEndTime:Y.end_time,rawNewEndTime:ne,eventId:Y.id,eventTitle:Z.event.title});const fe=SUe(Y.start_time,Y.end_time,ne),ve=fe.startTime,be=fe.endTime,je=fe.duration;if(je<5){Z.revert(),r({title:" Durasi Terlalu Pendek",description:"Durasi minimum adalah 5 menit",variant:"destructive"});return}pv("Event Resize - 5-Minute Snapping",{originalStartTime:Y.start_time,originalEndTime:Y.end_time,rawNewEndTime:ne,snappedStartTime:ve,snappedEndTime:be,newDuration:je,snapDelta:`${ne}  ${be}`});const dt={class_id:Y.class_id,day_of_week:Y.day_of_week,start_time:ve,end_time:be,academic_week:i};if(Uv(k||[],dt,Y.id)){Z.revert(),r({title:" Konflik Jadwal",description:`Jadwal bertabrakan dengan jadwal lain pada ${ve}-${be}`,variant:"destructive"});return}try{await A.mutateAsync({id:Y.id,start_time:ve,end_time:be}),r({title:" Berhasil",description:`Jadwal berhasil diubah menjadi ${ve}-${be}`})}catch(pt){console.error("Error resizing schedule:",pt),Z.revert(),r({title:" Gagal",description:"Gagal mengubah durasi jadwal",variant:"destructive"})}},q=Z=>{console.log(" Resize Start:",Z.event.title),Z.el.classList.add("fc-event-resizing-preview")},Q=Z=>{console.log(" Resize Stop:",Z.event.title),Z.el.classList.remove("fc-event-resizing-preview")},ie=Z=>{if(Z.view.type==="dayGridMonth"&&Z.events.length>0){const Y=Z.el.querySelector(".fc-daygrid-day-number");if(Y){Y.style.position="relative",Y.style.zIndex="1";const ne=document.createElement("div");ne.style.width="26px",ne.style.height="26px",ne.style.backgroundColor="#EC4899",ne.style.borderRadius="50%",ne.style.position="absolute",ne.style.top="50%",ne.style.left="50%",ne.style.transform="translate(-50%, -50%)",ne.style.zIndex="-1",Y.appendChild(ne)}}},de=()=>{const Z=$.find(Y=>Y.isCurrentWeek);Z&&w(Z.weekNumber)},ee=async Z=>{var Ie,Lr,Da,la,Ci,Ma;if(!c){r({title:" Gagal",description:"Pilih kelas terlebih dahulu",variant:"destructive"});return}let Y=null;if(console.log(" Drop event data:",{event:Z.event,draggedEl:Z.draggedEl,extendedProps:(Ie=Z.event)==null?void 0:Ie.extendedProps,dataset:(Lr=Z.draggedEl)==null?void 0:Lr.dataset}),(la=(Da=Z.event)==null?void 0:Da.extendedProps)!=null&&la.subject)Y=Z.event.extendedProps.subject,console.log(" Using FullCalendar Draggable data:",Y);else if((Ma=(Ci=Z.draggedEl)==null?void 0:Ci.dataset)!=null&&Ma.subject)try{Y=JSON.parse(Z.draggedEl.dataset.subject),console.log(" Using HTML5 drag data:",Y),(Y.type==="schedule_subject"||Y.session_category_id)&&(Y={...Y,id:Y.id,name:Y.name,color:Y.color,type:"schedule_subject",source:"sidebar"})}catch(rr){console.error(" Failed to parse subject data:",rr)}else Z.event&&(Y={id:Z.event.id,name:Z.event.title,color:Z.event.backgroundColor},console.log(" Using basic event data:",Y));if(!(Y!=null&&Y.id)){console.error(" No valid subject data found"),r({title:" Gagal",description:"Data mata pelajaran tidak valid",variant:"destructive"});return}console.log(" Subject data extracted:",{id:Y.id,name:Y.name,type:Y.type||"unknown",source:Y.source||"unknown"});const ne=new Date(Z.dateStr||Z.date),fe=ne.getDay(),ve=fe===0?7:fe,je=(Z.date||new Date(Z.dateStr)).toTimeString().slice(0,5),dt=45,pt=Q$(dt,je),Se=pt.startTime,We=pt.endTime;pv("External Drag & Drop - 5-Minute Snapping",{rawDropTime:je,snappedStartTime:Se,snappedEndTime:We,defaultDuration:dt,subject:Y.name,type:Y.type,source:Y.source,snapDelta:`${je}  ${Se}`});try{let rr=Y.id,zt=Y.name,sn=Y.color||"#6B7280";console.log(" Analyzing subject data for correct ID and styling:",{id:Y.id,name:zt,color:sn,type:Y.type,source:Y.source,hasSessionCategoryId:!!Y.session_category_id}),Y.type==="schedule_subject"||Y.session_category_id?(rr=Y.id,console.log(" Using schedule_subject ID:",rr)):(Y.type==="subject"||!Y.type&&!Y.session_category_id)&&(rr=Y.id,console.log(" Using legacy subject ID:",rr)),Y.type==="mata_pelajaran"||Y.type==="schedule_subject"?(rr=Y.id,console.log(" Using schedule_subject ID:",rr)):Y.type==="ekstrakurikuler"?(rr=Y.id,console.log(" Using ekstrakurikuler ID directly:",rr)):(rr=Y.id,console.log(" Using direct subject ID:",rr));let wn=rr;(Y.type==="schedule_subject"||Y.source==="schedule_subjects")&&(wn=Y.id,console.log(" Using original schedule_subject ID for schedule:",wn));const zf={subject_id:wn,class_id:c,day_of_week:ve,start_time:Se,end_time:We,academic_week:i,schedule_date:ne.toISOString().split("T")[0],teacher_id:null,room:"",notes:""};if(Uv(k||[],zf)){r({title:" Konflik Jadwal",description:`Jadwal bertabrakan dengan jadwal lain pada ${Se}-${We}`,variant:"destructive"});return}console.log(" Creating schedule with enhanced data:",zf);try{await P.mutateAsync(zf),r({title:" Berhasil",description:`Jadwal ${zt} berhasil ditambahkan`}),console.log(" Schedule created successfully via drag and drop")}catch(Bc){console.error(" Error creating schedule via drag and drop:",Bc),r({title:" Gagal",description:`Gagal menambahkan jadwal: ${Bc.message}`,variant:"destructive"});return}Z.draggedEl&&Z.draggedEl.parentNode&&(Z.draggedEl.style.opacity="0.5",setTimeout(()=>{Z.draggedEl.parentNode&&(Z.draggedEl.style.opacity="1")},1e3))}catch(rr){console.error("Error creating schedule from drop:",rr),r({title:" Gagal",description:`Gagal menambahkan jadwal: ${rr.message||"Unknown error"}`,variant:"destructive"})}};return o.jsxs("div",{className:"bg-card/40 backdrop-blur-sm border border-border rounded-2xl overflow-hidden mx-auto",style:{maxWidth:D,transition:"max-width 0.3s ease-in-out"},children:[o.jsxs("div",{className:"relative z-10 flex flex-col",style:{minHeight:`${z}px`},children:[o.jsx(TUe,{selectedClassId:c,onClassChange:h,selectedWeek:i,onWeekSelect:w,onCurrentWeekClick:de}),o.jsx(sG,{selectedWeek:i,onWeekSelect:w}),N&&o.jsx("div",{className:"flex items-center justify-center py-8 bg-muted/50 rounded-lg mx-4 mb-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),o.jsx("span",{className:"text-muted-foreground text-sm",children:"Memuat data jadwal dengan paginasi..."})]})}),E&&o.jsx("div",{className:"flex items-center justify-center py-8 bg-red-900/20 border border-red-500/30 rounded-lg mx-4 mb-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-red-400 text-sm mb-2",children:" Gagal memuat data jadwal"}),o.jsx("div",{className:"text-muted-foreground text-xs",children:E.message})]})}),o.jsx("div",{className:"flex-1",children:o.jsxs(A8e,{direction:"horizontal",className:"h-full",children:[o.jsx(R$,{defaultSize:F?35:22,minSize:F?30:18,maxSize:F?50:35,className:"my-0 transition-all duration-300",children:o.jsx(I8e,{selectedClassId:c,selectedWeek:i,onSubjectDrag:()=>{}})}),o.jsx(P8e,{withHandle:!0,className:"bg-border hover:bg-accent transition-colors duration-300 w-1 my-0"}),o.jsx(R$,{defaultSize:F?65:78,className:"transition-all duration-300",children:o.jsxs("div",{className:"h-full flex flex-col px-2 py-2 relative",children:[!c&&o.jsx("div",{className:"absolute inset-10 z-50 p-32 flex items-top justify-center -mr-7 mx-0 ml-3 bg-gray-900/80 backdrop-blur-sm rounded-lg",children:o.jsxs("div",{className:"h-40 bg-white dark:bg-gray-800 rounded-lg p-4 max-w-sm mx-4 text-center shadow-2xl border border-gray-200 dark:border-gray-700",children:[o.jsx("div",{className:"mb-3",children:o.jsx("div",{className:"w-12 h-12 mx-auto bg-yellow-100 dark:bg-yellow-900/30 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})})}),o.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white mb-2",children:"Pilih Kelas Terlebih Dahulu"}),o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:' Gunakan dropdown "Filter Kelas"'})]})}),o.jsx("div",{className:"flex-1 calendar-container",style:{minHeight:`${z-140}px`,height:"auto",opacity:c?1:.3},children:o.jsx(Lf,{ref:e,plugins:[eg,PP,XBe],initialView:"timeGridWeek",initialDate:R,headerToolbar:!1,events:B,editable:!0,eventStartEditable:!0,eventDurationEditable:!0,droppable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,height:"auto",locale:fw,slotMinTime:U.slotMinTime,slotMaxTime:U.slotMaxTime,slotDuration:"00:30:00",slotLabelInterval:"01:00:00",snapDuration:"00:01:00",allDaySlot:!1,eventMinHeight:15,eventShortHeight:30,slotEventOverlap:!1,expandRows:!0,stickyHeaderDates:!1,viewDidMount:Z=>{console.log(" ELITE Calendar Mount Analysis:",{view:Z.view.type,timeRange:U,totalSlots:C,expectedEndTime:`${T}:00`,calendarDimensions:{width:Z.el.offsetWidth,height:Z.el.offsetHeight,scrollHeight:Z.el.scrollHeight}}),Z.el.querySelectorAll(".fc-timegrid-slot").forEach(je=>{je.style.height="30px",je.style.minHeight="30px",je.style.maxHeight="30px"}),Z.el.querySelectorAll(".fc-timegrid-event").forEach(je=>{je.style.margin="0",je.style.boxSizing="border-box"});const fe=Z.el.querySelectorAll(".fc-timegrid-slot"),ve=fe[fe.length-1];console.log(" Grid Completeness Check:",{totalSlotsRendered:fe.length,expectedSlots:C,lastSlotVisible:ve?ve.offsetHeight>0:!1,gridComplete:fe.length>=C});const be=Z.el.querySelector(".fc-scroller");be&&console.log(" Performance Metrics:",{scrollerOverflow:getComputedStyle(be).overflow,scrollerHeight:be.offsetHeight,contentHeight:be.scrollHeight,isContentClipped:be.scrollHeight>be.offsetHeight})},eventClick:K,select:J,eventDrop:X,eventResize:te,eventResizeStart:q,eventResizeStop:Q,dayCellDidMount:ie,eventTimeFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},slotLabelFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},dayHeaderFormat:{weekday:"short",month:"numeric",day:"numeric"},businessHours:{daysOfWeek:[1,2,3,4,5,6,0],startTime:U.slotMinTime.slice(0,5),endTime:U.slotMaxTime.slice(0,5)},selectConstraint:"businessHours",eventConstraint:"businessHours",dragScroll:!0,eventOverlap:!1,selectOverlap:!1,drop:ee})})]})})]})}),o.jsx("div",{className:"px-4 sm:px-6",children:o.jsx(DUe,{selectedWeek:i,selectedClassId:c,selectedDate:b()})})]}),o.jsx(wUe,{isOpen:n,onClose:j,selectedTimeSlot:s,selectedDate:b(),selectedClassId:c,onScheduleCreated:()=>{console.log(" Schedule created"),j()}}),o.jsx(_Ue,{isOpen:a,onClose:S,schedule:d,onScheduleUpdated:()=>{console.log(" Schedule updated")}})]})},RUe=({schedules:e,activeAcademicYear:t,academicWeeks:r,selectedSubjectName:n})=>{const a=e.length,s=new Set;e.forEach(h=>{if(h.academic_week&&h.day_of_week&&r.length>0){const m=r.find(v=>v.weekNumber===h.academic_week);if(m){const v=m.startDate instanceof Date?m.startDate:new Date(m.startDate),p=h.day_of_week===7?6:h.day_of_week-1,g=new Date(v);g.setDate(v.getDate()+p);const b=g.toISOString().split("T")[0];s.add(b)}}h.schedule_date&&s.add(h.schedule_date)});const i=s.size,l=e.reduce((h,m)=>{const v=m.start_time||"00:00",p=m.end_time||"00:00",[g,b]=v.split(":").map(Number),[y,w]=p.split(":").map(Number),_=y*60+w-(g*60+b);return h+(_>0?_:0)},0),c=Math.round(l/60*10)/10,u=Math.round(l/45);console.log(" Print Layout Debug:",{totalSchedules:a,activeDays:i,totalMinutes:l,totalHours:c,totalJP:u,sampleSchedule:e[0],allSchedules:e,academicWeeksCount:r.length,sampleAcademicWeek:r[0],activeAcademicYear:t});const d=["Juli","Agustus","September","Oktober","November","Desember","Januari","Februari","Maret","April","Mei","Juni"],f=h=>{const m=(t==null?void 0:t.start_year)||2025,v=h<6?h+7:h-5,p=h<6?m:m+1,g=e.filter(y=>{if(y.academic_week&&y.day_of_week&&r.length>0){const w=r.find(_=>_.weekNumber===y.academic_week);if(w){const _=w.startDate instanceof Date?w.startDate:new Date(w.startDate),j=y.day_of_week===7?6:y.day_of_week-1,S=new Date(_);return S.setDate(_.getDate()+j),S.getMonth()+1===v&&S.getFullYear()===p}}if(y.schedule_date){const w=new Date(y.schedule_date);return w.getMonth()+1===v&&w.getFullYear()===p}return!1}),b=new Set;return g.forEach(y=>{if(y.academic_week&&y.day_of_week&&r.length>0){const w=r.find(_=>_.weekNumber===y.academic_week);if(w){const _=w.startDate instanceof Date?w.startDate:new Date(w.startDate),j=y.day_of_week===7?6:y.day_of_week-1,S=new Date(_);S.setDate(_.getDate()+j),b.add(S.getDate())}}if(y.schedule_date){const w=new Date(y.schedule_date);b.add(w.getDate())}}),console.log(` Month ${d[h]} (${v}/${p}):`,{monthSchedules:g.length,scheduleDates:Array.from(b),sampleSchedule:g[0]}),{count:g.length,scheduleDates:b,year:p,month:v}};return o.jsxs(o.Fragment,{children:[o.jsx("style",{jsx:!0,children:`
        .calendar-day-box {
          width: 20px !important;
          height: 20px !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          box-sizing: border-box !important;
          padding: 0 !important;
          margin: 0 !important;
        }

        .calendar-day-number {
          font-size: 8px !important;
          line-height: 1 !important;
          margin: 0 !important;
          padding: 0 !important;
          text-align: center !important;
          display: block !important;
        }

        @media print {
          .calendar-day-box {
            width: 20px !important;
            height: 20px !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            box-sizing: border-box !important;
            padding: 0 !important;
            margin: 0 !important;
          }

          .calendar-day-number {
            font-size: 8px !important;
            line-height: 1 !important;
            margin: 0 !important;
            padding: 0 !important;
            text-align: center !important;
            display: block !important;
          }
        }
      `}),o.jsxs("div",{className:"w-full h-screen bg-white p-4 print:p-2",style:{minWidth:"1200px"},children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-1",children:"PENANGGALAN JADWAL MAPEL"}),o.jsx("h2",{className:"text-sm text-gray-700 mb-1",children:"SMA IT HSI"}),o.jsxs("div",{className:"text-xs text-gray-600",children:[o.jsxs("span",{children:["Tahun Akademik ",(t==null?void 0:t.year_name)||"2025/2026"]}),n&&o.jsxs("span",{className:"ml-4 font-medium text-gray-800",children:[" ",n]})]})]}),o.jsx("div",{className:"w-full",children:o.jsx(le,{className:"bg-white border-gray-200",children:o.jsx(ce,{className:"p-2",children:o.jsx("div",{className:"space-y-1",children:d.map((h,m)=>{const v=f(m);return o.jsx("div",{className:"bg-gray-50 rounded p-2 border border-gray-200",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"w-14 text-left flex-shrink-0",children:[o.jsx("h3",{className:"text-[10px] font-bold text-gray-900 leading-tight",children:h}),o.jsxs("p",{className:"text-[8px] text-blue-600 font-medium leading-tight",children:[v.scheduleDates.size," hari efektif"]})]}),o.jsx("div",{className:"flex flex-wrap gap-0.5",children:Array.from({length:31},(p,g)=>{const b=g+1;if(new Date(v.year,v.month-1,b).getMonth()!==v.month-1)return null;const w=v.scheduleDates.has(b);return o.jsx("div",{className:`
                                calendar-day-box rounded transition-colors
                                ${w?"bg-blue-500 text-white font-bold":"text-gray-600 border border-gray-300"}
                              `,children:o.jsx("span",{className:`calendar-day-number ${w?"font-bold":""}`,children:b})},b)})})]})},h)})})})})}),o.jsxs("div",{className:"mt-3 text-center",children:[o.jsxs("div",{className:"inline-flex items-center gap-4 text-xs text-gray-600 bg-gray-50 px-4 py-2 rounded",children:[o.jsxs("span",{children:[o.jsx("strong",{children:a})," Total Jadwal"]}),o.jsxs("span",{children:[o.jsx("strong",{children:i})," Hari Aktif"]}),o.jsxs("span",{children:[o.jsxs("strong",{children:[c,"h"]})," Total Jam"]}),o.jsxs("span",{children:[o.jsx("strong",{children:u})," Total JP"]}),o.jsx("span",{className:"text-[10px]",children:" 1 JP = 45 menit"})]}),o.jsxs("div",{className:"mt-2 flex justify-center items-center gap-3 text-[10px] text-gray-500",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded"}),o.jsx("span",{children:"Tanggal dengan jadwal"})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded"}),o.jsx("span",{children:"Tanggal kosong"})]})]})]}),o.jsxs("div",{className:"text-center mt-3 text-[10px] text-gray-500",children:["Dicetak pada: ",new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]})]})]})},IUe=({selectedClassId:e,onClassChange:t,selectedCategoryId:r,onCategoryChange:n,selectedSubjectId:a,onSubjectChange:s,selectedSemester:i,onSemesterChange:l})=>{const{data:c=[]}=jr(),{data:u=[]}=xn(),{data:d=[],isLoading:f}=Jx(),{data:h=[],isLoading:m}=Xp(),v=L.useMemo(()=>{const b=[...d.map(y=>({id:y.id,name:y.name,session_category_id:y.session_category_id,color:y.color||"#6B7280",type:"subject"})),...h.map(y=>({id:y.id,name:y.name,session_category_id:y.session_category_id,color:y.color||"#EF4444",type:"extracurricular"}))];return console.log(" OverviewFilters - Combined subjects:",{scheduleSubjectsLoading:f,extracurricularsLoading:m,scheduleSubjects:d.length,extracurriculars:h.length,combined:b.length,scheduleSubjectsData:d.map(y=>({name:y.name,category_id:y.session_category_id})),extracurricularsData:h.map(y=>({name:y.name,category_id:y.session_category_id})),combinedData:b.map(y=>({name:y.name,type:y.type,category_id:y.session_category_id}))}),b},[d,h]),p=[...c].sort((b,y)=>b.level!==y.level?b.level.localeCompare(y.level):b.grade!==y.grade?b.grade-y.grade:b.name.localeCompare(y.name)),g=r?v.filter(b=>b.session_category_id===r):v;return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Filter Kelas:"}),o.jsxs(ze,{value:e||"all",onValueChange:b=>t(b==="all"?null:b),children:[o.jsx($e,{className:"w-full bg-background border-border text-foreground",children:o.jsx(Ue,{placeholder:"Semua Kelas"})}),o.jsxs(Le,{className:"bg-popover border-border",children:[o.jsx(pe,{value:"all",className:"text-foreground hover:bg-accent",children:"Semua Kelas"}),p.map(b=>o.jsxs(pe,{value:b.id,className:"text-foreground hover:bg-accent",children:[b.name," (",b.level," ",b.grade,")"]},b.id))]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Filter Kategori:"}),o.jsxs(ze,{value:r||"all",onValueChange:b=>{const y=b==="all"?null:b;n(y),y!==r&&s(null)},children:[o.jsx($e,{className:"w-full bg-background border-border text-foreground",children:o.jsx(Ue,{placeholder:"Semua Kategori"})}),o.jsxs(Le,{className:"bg-popover border-border",children:[o.jsx(pe,{value:"all",className:"text-foreground hover:bg-accent",children:"Semua Kategori"}),u.map(b=>o.jsx(pe,{value:b.id,className:"text-foreground hover:bg-accent",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:b.color}}),b.name]})},b.id))]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Filter Semester:"}),o.jsxs(ze,{value:i||"all",onValueChange:b=>l(b==="all"?null:b),children:[o.jsx($e,{className:"w-full bg-background border-border text-foreground",children:o.jsx(Ue,{placeholder:"Semua Semester"})}),o.jsxs(Le,{className:"bg-popover border-border",children:[o.jsx(pe,{value:"all",className:"text-foreground hover:bg-accent",children:"Semua Semester"}),o.jsx(pe,{value:"1",className:"text-foreground hover:bg-accent",children:"Semester 1 (Juli - Desember)"}),o.jsx(pe,{value:"2",className:"text-foreground hover:bg-accent",children:"Semester 2 (Januari - Juni)"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Filter Pelajaran/Kegiatan:"}),o.jsxs(ze,{value:a||"all",onValueChange:b=>s(b==="all"?null:b),children:[o.jsx($e,{className:"w-full bg-background border-border text-foreground",children:o.jsx(Ue,{placeholder:"Semua Pelajaran/Kegiatan"})}),o.jsxs(Le,{className:"bg-popover border-border",children:[o.jsx(pe,{value:"all",className:"text-foreground hover:bg-accent",children:"Semua Pelajaran/Kegiatan"}),g.map(b=>o.jsx(pe,{value:b.id,className:"text-foreground hover:bg-accent",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:b.color}}),b.name]})},b.id))]})]})]})]})},lG=({schedules:e,isLoading:t,selectedSemester:r,academicWeeks:n,activeAcademicYear:a})=>{const{data:s}=Si(),{academicWeeks:i}=nn(),l=n||i,c=a||s,u=x.useMemo(()=>{if(!c||!c.year_name)return[];const h=c.year_name.split("/");if(h.length!==2)return[];const m=parseInt(h[0]),v=parseInt(h[1]),p=[{name:"Juli",year:m,monthIndex:6,semester:1},{name:"Agustus",year:m,monthIndex:7,semester:1},{name:"September",year:m,monthIndex:8,semester:1},{name:"Oktober",year:m,monthIndex:9,semester:1},{name:"November",year:m,monthIndex:10,semester:1},{name:"Desember",year:m,monthIndex:11,semester:1},{name:"Januari",year:v,monthIndex:0,semester:2},{name:"Februari",year:v,monthIndex:1,semester:2},{name:"Maret",year:v,monthIndex:2,semester:2},{name:"April",year:v,monthIndex:3,semester:2},{name:"Mei",year:v,monthIndex:4,semester:2},{name:"Juni",year:v,monthIndex:5,semester:2}];if(r){const g=parseInt(r);return p.filter(b=>b.semester===g)}return p},[c]),d=x.useMemo(()=>{const h=new Set;return e.forEach(m=>{if(m.academic_week&&m.day_of_week&&l.length>0){const v=l.find(p=>p.weekNumber===m.academic_week);if(v){const p=new Date(v.startDate),g=m.day_of_week===7?6:m.day_of_week-1,b=new Date(p);b.setDate(p.getDate()+g);const y=Ne(b,"yyyy-MM-dd");h.add(y)}}m.schedule_date&&h.add(m.schedule_date)}),h},[e,l]),f=h=>{const m=new Date(h.year,h.monthIndex,1),v=dr(m),p=xi(m);return ns({start:v,end:p}),Bl(v),o.jsx("div",{className:"bg-card border border-border rounded-lg p-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-20 text-left",children:o.jsx("h3",{className:"text-sm font-semibold text-foreground",children:h.name})}),o.jsx("div",{className:"flex flex-wrap gap-1",children:Array.from({length:31},(g,b)=>{const y=b+1,w=new Date(h.year,h.monthIndex,y);if(w.getMonth()!==h.monthIndex)return null;const _=Ne(w,"yyyy-MM-dd"),j=d.has(_);return o.jsx("div",{className:`
                    h-8 w-8 flex items-center justify-center text-xs rounded cursor-pointer transition-colors
                    ${j?"bg-blue-500 text-white font-semibold hover:bg-blue-600":"text-foreground hover:bg-accent border border-border"}
                  `,title:j?`Ada jadwal pada ${Ne(w,"dd MMMM yyyy",{locale:Nt})}`:"",children:y},y)})})]})},`${h.name}-${h.year}`)};return t?o.jsxs(le,{className:"bg-card border-border shadow-sm",children:[o.jsx(ke,{children:o.jsx(Pe,{className:"text-xl font-bold text-foreground",children:"Kalender Tahunan"})}),o.jsx(ce,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"text-muted-foreground",children:"Memuat data kalender..."})})})]}):o.jsxs(le,{className:"bg-card border-border shadow-sm",children:[o.jsxs(ke,{children:[o.jsxs(Pe,{className:"text-xl font-bold text-foreground",children:["Kalender Tahunan",c&&o.jsx("span",{className:"text-lg font-normal text-muted-foreground ml-2",children:c.year_name}),r&&o.jsxs("span",{className:"text-base font-normal text-primary ml-2",children:["- Semester ",r]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Hari yang berwarna menunjukkan adanya jadwal/kegiatan",r&&o.jsxs("span",{className:"ml-2 text-primary",children:["(Semester ",r,": ",r==="1"?"Juli - Desember":"Januari - Juni",")"]})]})]}),o.jsx(ce,{children:o.jsx("div",{className:"space-y-6",children:u.map(f)})})]})},cG=({schedules:e,isLoading:t,academicWeeks:r})=>{const{academicWeeks:n}=nn(),a=r||n,s=x.useMemo(()=>{if(!e||e.length===0||a.length===0)return{totalSchedules:0,totalDaysWithSchedule:0,monthlyBreakdown:[],totalSubjects:0,totalHours:0};const i=new Set,l=new Set;let c=0;e.forEach(h=>{if(h.academic_week&&h.day_of_week){const m=a.find(v=>v.weekNumber===h.academic_week);if(m){const v=new Date(m.startDate),p=h.day_of_week===7?6:h.day_of_week-1,g=new Date(v);g.setDate(v.getDate()+p);const b=Ne(g,"yyyy-MM-dd");i.add(b)}}if(h.subject_id&&l.add(h.subject_id),h.start_time&&h.end_time){const m=new Date(`2000-01-01 ${h.start_time}`),p=(new Date(`2000-01-01 ${h.end_time}`).getTime()-m.getTime())/(1e3*60);c+=p}});const u=[];let d=new Date().getFullYear();return a.length>0&&(d=new Date(a[0].startDate).getFullYear()),[{name:"Juli",monthIndex:6,year:d},{name:"Agustus",monthIndex:7,year:d},{name:"September",monthIndex:8,year:d},{name:"Oktober",monthIndex:9,year:d},{name:"November",monthIndex:10,year:d},{name:"Desember",monthIndex:11,year:d},{name:"Januari",monthIndex:0,year:d+1},{name:"Februari",monthIndex:1,year:d+1},{name:"Maret",monthIndex:2,year:d+1},{name:"April",monthIndex:3,year:d+1},{name:"Mei",monthIndex:4,year:d+1},{name:"Juni",monthIndex:5,year:d+1}].forEach(h=>{const m=dr(new Date(h.year,h.monthIndex,1)),v=xi(new Date(h.year,h.monthIndex,1)),p=ns({start:m,end:v});let g=0;p.forEach(b=>{const y=Ne(b,"yyyy-MM-dd");i.has(y)&&g++}),u.push({month:h.name,totalDays:p.length,daysWithSchedule:g,percentage:Math.round(g/p.length*100)})}),{totalSchedules:e.length,totalDaysWithSchedule:i.size,monthlyBreakdown:u,totalSubjects:l.size,totalHours:Math.round(c/60*10)/10}},[e,a]);return t?o.jsxs(le,{className:"bg-card border-border shadow-sm",children:[o.jsx(ke,{children:o.jsx(Pe,{className:"text-xl font-bold text-foreground",children:"Ringkasan Statistik"})}),o.jsx(ce,{children:o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx("div",{className:"text-muted-foreground",children:"Memuat statistik..."})})})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsx(le,{className:"bg-card border-border shadow-sm",children:o.jsx(ce,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:o.jsx(rt,{className:"h-6 w-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Jadwal"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:s.totalSchedules})]})]})})}),o.jsx(le,{className:"bg-card border-border shadow-sm",children:o.jsx(ce,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:o.jsx(lr,{className:"h-6 w-6 text-blue-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Hari Aktif"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:s.totalDaysWithSchedule})]})]})})}),o.jsx(le,{className:"bg-card border-border shadow-sm",children:o.jsx(ce,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-green-500/10 rounded-lg",children:o.jsx(ir,{className:"h-6 w-6 text-green-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Mata Pelajaran"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:s.totalSubjects})]})]})})}),o.jsx(le,{className:"bg-card border-border shadow-sm",children:o.jsx(ce,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-orange-500/10 rounded-lg",children:o.jsx(vr,{className:"h-6 w-6 text-orange-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Jam"}),o.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[s.totalHours,"h"]})]})]})})}),o.jsx(le,{className:"bg-card border-border shadow-sm",children:o.jsx(ce,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-3 bg-purple-500/10 rounded-lg",children:o.jsx(V5,{className:"h-6 w-6 text-purple-500"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Total JP"}),o.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[Math.round(s.totalHours*60/45)," JP"]})]})]})})})]}),o.jsxs(le,{className:"bg-card border-border shadow-sm",children:[o.jsxs(ke,{children:[o.jsx(Pe,{className:"text-lg font-semibold text-foreground",children:"Ringkasan Bulanan"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Jumlah hari dengan jadwal/kegiatan per bulan"})]}),o.jsx(ce,{children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:s.monthlyBreakdown.map((i,l)=>o.jsxs("div",{className:"p-4 bg-muted/20 rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h4",{className:"font-medium text-foreground",children:i.month}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[i.percentage,"%"]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:[i.daysWithSchedule," dari ",i.totalDays," hari"]}),o.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${i.percentage}%`}})})]},l))})})]})]})},uG=()=>{var w;const[e,t]=x.useState(null),[r,n]=x.useState(null),[a,s]=x.useState(null),[i,l]=x.useState(null),{data:c=[],isLoading:u,error:d}=Yo(),{data:f}=Si(),{academicWeeks:h}=nn(),{data:m=[]}=Jx(),{data:v=[]}=Xp(),p=L.useMemo(()=>[...m.map(_=>({id:_.id,name:_.name,type:"subject"})),...v.map(_=>({id:_.id,name:_.name,type:"extracurricular"}))],[m,v]),g=a?((w=p.find(_=>_.id===a))==null?void 0:w.name)||"Mata Pelajaran Terpilih":null,b=async()=>{try{const _=(await rc(async()=>{const{default:E}=await import("./html2canvas.esm-CBrSDip1.js");return{default:E}},[])).default,j=document.createElement("div");j.style.position="fixed",j.style.top="-9999px",j.style.left="-9999px",j.style.width="1200px",j.style.height="800px",j.style.backgroundColor="#ffffff",document.body.appendChild(j);const S=dE(j);S.render(o.jsx(RUe,{schedules:y,activeAcademicYear:f,academicWeeks:h,selectedSubjectName:g})),await new Promise(E=>setTimeout(E,1e3));const k=await _(j,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:"#ffffff",width:1200,height:800}),N=document.createElement("a");N.download=`Overview-Jadwal-${(f==null?void 0:f.year_name)||"Unknown"}.png`,N.href=k.toDataURL("image/png"),N.click(),S.unmount(),document.body.removeChild(j)}catch(_){console.error("Error printing overview:",_)}},y=x.useMemo(()=>(console.log(" Filtering schedules with:",{selectedClassId:e,selectedCategoryId:r,selectedSubjectId:a,selectedSemester:i,totalSchedules:(c==null?void 0:c.length)||0,sampleSchedule:c==null?void 0:c[0]}),!c||c.length===0?(console.log(" No schedules data available"),[]):c.filter(_=>{if(e&&_.class_id!==e||r&&_.session_category_id!==r||a&&_.subject_id!==a)return!1;if(i&&h.length>0){const j=h.find(S=>S.weekNumber===_.academic_week);if(j){const k=new Date(j.startDate).getMonth()+1;if(i==="1"){if(k<7||k>12)return!1}else if(i==="2"&&(k<1||k>6))return!1}}return!0})),[c,e,r,a,i,h]);return console.log(" Filtered schedules result:",{originalCount:(c==null?void 0:c.length)||0,filteredCount:(y==null?void 0:y.length)||0,filteredSchedules:y==null?void 0:y.slice(0,3)}),o.jsxs("div",{id:"overview-container",className:"space-y-6",children:[o.jsx(le,{className:"bg-card border-border shadow-sm",children:o.jsx(ke,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Pe,{className:"text-2xl font-bold text-foreground flex items-center gap-3",children:[o.jsx(rt,{className:"h-8 w-8 text-primary"}),"Overview Jadwal",f&&o.jsxs("span",{className:"text-lg font-normal text-muted-foreground",children:["- ",f.year_name]})]}),o.jsxs(V,{onClick:b,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[o.jsx(_d,{className:"h-4 w-4"}),"Print Overview"]})]})})}),o.jsxs(le,{className:"bg-card border-border shadow-sm",children:[o.jsx(ke,{children:o.jsxs(Pe,{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[o.jsx(bi,{className:"h-5 w-5 text-primary"}),"Filter Data"]})}),o.jsx(ce,{children:o.jsx(IUe,{selectedClassId:e,onClassChange:t,selectedCategoryId:r,onCategoryChange:n,selectedSubjectId:a,onSubjectChange:s,selectedSemester:i,onSemesterChange:l})})]}),o.jsx(cG,{schedules:y,isLoading:u}),o.jsx(lG,{schedules:y,isLoading:u,selectedSemester:i})]})},dG=()=>o.jsxs("div",{className:"p-8",children:[o.jsx("div",{className:"bg-red-500 text-white p-4 rounded mb-4",children:" CalendarSync Component is LOADED and RENDERING! "}),o.jsxs("div",{className:"bg-blue-500 text-white p-4 rounded",children:[o.jsx("h1",{className:"text-2xl font-bold",children:"Sinkronisasi Kalender"}),o.jsx("p",{children:"This is the Calendar Sync page - it's working!"})]})]}),fG=()=>{var F;const[e,t]=x.useState(""),[r,n]=x.useState([]),[a,s]=x.useState("week"),[i,l]=x.useState(1),[c,u]=x.useState(1),[d,f]=x.useState("pdf"),{data:h=[]}=jr(),{data:m=[]}=xn(),{academicWeeks:v}=nn(),{data:p}=Rf(),{data:g=[]}=IA(),{activeAcademicYear:b,activeSemester:y,academicPeriodDisplay:w,academicYearInfo:_,semesterInfo:j}=YA(),S=a==="week"?i:1,{data:k=[],isLoading:N,error:E}=HOe(S,e||void 0),{data:P=[]}=UOe(S,e||void 0),A=k.length>0?k:P;console.log("Hook Parameters:",{weekToFetch:S,selectedClassId:e,hookEnabled:S>0&&S<=24,primarySchedulesCount:k.length,fallbackSchedulesCount:P.length,finalSchedulesCount:A.length});const O=x.useMemo(()=>{if(console.log(" FILTERING DEBUG:",{finalSchedulesLength:(A==null?void 0:A.length)||0,selectedCategoriesLength:r.length,selectedCategories:r,sampleSchedule:A==null?void 0:A[0]}),!A||A.length===0)return console.log(" No schedules data available"),[];if(r.length===0)return console.log(" No categories selected, showing all schedules:",A.length),A;const z=A.filter(U=>{const R=r.includes(U.session_category_id);return console.log("Filter check:",{scheduleId:U.id,subjectName:U.subject_name,sessionCategoryId:U.session_category_id,hasCategory:R}),R});return console.log(" Filtered schedules result:",{originalCount:A.length,filteredCount:z.length,selectedCategories:r}),z},[A,r]);console.log("PrintSchedule Debug:",{selectedWeek:i,selectedClassId:e,printPeriod:a,schedulesCount:(A==null?void 0:A.length)||0,isLoading:N,error:E,schedules:A==null?void 0:A.slice(0,3),filteredSchedulesCount:(O==null?void 0:O.length)||0,selectedCategories:r,academicPeriodDisplay:w,activeAcademicYear:b,activeSemester:y}),x.useMemo(()=>{const z={};return k.forEach(U=>{const R=new Date(U.date).getMonth()+1;z[R]||(z[R]=[]),z[R].push(U)}),z},[k]);const T=z=>{n(U=>U.includes(z)?U.filter(R=>R!==z):[...U,z])},C=()=>{if(!e){alert("Silakan pilih kelas terlebih dahulu");return}I()},I=()=>{const z=$(),U=window.open("","_blank");U&&(U.document.write(z),U.document.close(),U.onload=()=>{U.print()})},$=()=>{const z=h.find(K=>K.id===e),U=m.filter(K=>r.includes(K.id)).map(K=>K.name),R=a==="week"?`Jadwal Pekan ${i}`:`Jadwal Bulan ${D[c-1]}`,B=g.find(K=>(z==null?void 0:z.level)>=K.min_grade&&(z==null?void 0:z.level)<=K.max_grade);return`
      <!DOCTYPE html>
      <html>
      <head>
        <title>${R} - ${z==null?void 0:z.name}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; }
          .header { text-align: center; margin-bottom: 30px; }
          .letterhead { margin-bottom: 20px; display: flex; align-items: flex-start; justify-content: center; gap: 15px; }
          .logo { width: 80px; height: 80px; object-fit: contain; flex-shrink: 0; }
          .school-info { text-align: center; }
          .school-name { font-size: 18px; font-weight: bold; margin-bottom: 2px; text-transform: uppercase; }
          .education-level { font-size: 14px; font-weight: normal; margin-bottom: 8px; text-transform: uppercase; }
          .school-address { font-size: 11px; color: #666; margin-bottom: 3px; }
          .school-contact { font-size: 11px; color: #666; margin-bottom: 10px; }
          .divider { border: none; border-top: 2px solid #333; margin: 15px 0; }
          .title { font-size: 16px; margin-bottom: 10px; font-weight: bold; }
          .info { font-size: 12px; color: #666; }
          table { width: 100%; border-collapse: collapse; margin-top: 20px; }
          th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
          th { background-color: #f5f5f5; font-weight: bold; }
          .time-col { width: 100px; }
          .subject-col { width: 150px; }
          .teacher-col { width: 120px; }
          @media print {
            body { margin: 0; }
            .no-print { display: none; }
          }
        </style>
      </head>
      <body>
        <div class="header">
          <div class="letterhead">
            ${p!=null&&p.logo_url?`<img src="${p.logo_url}" alt="Logo Sekolah" class="logo" />`:""}
            <div class="school-info">
              <div class="school-name">${(p==null?void 0:p.name)||"NAMA SEKOLAH"}</div>
              ${B?`<div class="education-level">${B.name}</div>`:""}
              ${p!=null&&p.address?`<div class="school-address">${p.address}</div>`:""}
              <div class="school-contact">
                ${p!=null&&p.phone?`Telp: ${p.phone}`:""}
                ${p!=null&&p.phone&&(p!=null&&p.email)?" | ":""}
                ${p!=null&&p.email?`Email: ${p.email}`:""}
              </div>
            </div>
          </div>
          <hr class="divider" />
          <div class="title">${R}</div>
          <div class="info">
            Kelas: ${z==null?void 0:z.name} |
            Kategori: ${U.length>0?U.join(", "):"Semua"} |
            ${w} ${j?`| Semester ${j.number}`:""}
          </div>
        </div>

        <table>
          <thead>
            <tr>
              <th class="time-col">Waktu</th>
              <th>Hari</th>
              <th class="subject-col">Mata Pelajaran</th>
              <th class="teacher-col">Guru</th>
            </tr>
          </thead>
          <tbody>
            ${M()}
          </tbody>
        </table>

        <div style="margin-top: 30px; font-size: 10px; color: #666;">
          Dicetak pada: ${new Date().toLocaleDateString("id-ID")} ${new Date().toLocaleTimeString("id-ID")}
        </div>
      </body>
      </html>
    `},M=()=>{if(!O||O.length===0)return'<tr><td colspan="4" style="text-align: center; color: #666;">Tidak ada jadwal untuk periode ini</td></tr>';const z=["","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu","Minggu"];return O.sort((U,R)=>U.day_of_week!==R.day_of_week?U.day_of_week-R.day_of_week:U.start_time.localeCompare(R.start_time)).map(U=>`
        <tr>
          <td>${U.start_time} - ${U.end_time}</td>
          <td>${z[U.day_of_week]||U.day_of_week}</td>
          <td>${U.subject_name}</td>
          <td>${U.teacher_name||"-"}</td>
        </tr>
      `).join("")};v.find(z=>z.weekNumber===i);const D=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(le,{className:"bg-muted/20 border-border shadow-sm",children:[o.jsx(ke,{children:o.jsxs(Pe,{className:"text-center text-2xl font-bold text-foreground flex items-center justify-center gap-3",children:[o.jsx(_d,{className:"h-8 w-8 text-primary"}),"Print Jadwal"]})}),o.jsx(ce,{className:"text-center space-y-4",children:o.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Cetak jadwal dalam format tabel dengan berbagai pilihan periode dan kategori. Tersedia dalam format PDF, Excel, dan PNG."})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2 space-y-6",children:o.jsxs(le,{className:"bg-card border-border shadow-sm",children:[o.jsx(ke,{children:o.jsxs(Pe,{className:"text-foreground flex items-center gap-2",children:[o.jsx(rt,{className:"h-5 w-5 text-primary"}),"Konfigurasi Print"]})}),o.jsxs(ce,{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx(oe,{className:"text-foreground",children:"Sekolah"}),o.jsxs("div",{className:"mt-1 p-3 bg-muted/50 rounded-lg border border-border",children:[o.jsx("div",{className:"text-foreground font-semibold",children:(p==null?void 0:p.name)||"Nama Sekolah"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:w})]})]}),o.jsxs("div",{children:[o.jsx(oe,{className:"text-foreground",children:"Kelas"}),o.jsxs(ze,{value:e,onValueChange:t,children:[o.jsx($e,{className:"mt-1 bg-background border-border text-foreground",children:o.jsx(Ue,{placeholder:"Pilih kelas"})}),o.jsx(Le,{className:"bg-popover border-border",children:h.map(z=>o.jsx(pe,{value:z.id,className:"text-foreground hover:bg-accent",children:z.name},z.id))})]})]}),o.jsxs("div",{children:[o.jsx(oe,{className:"text-foreground",children:"Kategori Kegiatan"}),o.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:m.map(z=>o.jsx(ht,{variant:r.includes(z.id)?"default":"outline",className:`cursor-pointer transition-all ${r.includes(z.id)?"bg-primary text-primary-foreground hover:bg-primary/90":"border-border text-muted-foreground hover:border-primary hover:text-primary"}`,onClick:()=>T(z.id),children:z.name},z.id))}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Kosongkan untuk mencetak semua kategori"})]}),o.jsxs("div",{children:[o.jsx(oe,{className:"text-foreground",children:"Periode"}),o.jsxs(Rc,{value:a,onValueChange:z=>s(z),className:"mt-2",children:[o.jsxs(Xo,{className:"grid w-full grid-cols-2 bg-muted",children:[o.jsx(Yr,{value:"week",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Mingguan"}),o.jsx(Yr,{value:"month",className:"data-[state=active]:bg-background data-[state=active]:text-foreground",children:"Bulanan"})]}),o.jsx(Jr,{value:"week",className:"mt-4",children:o.jsxs(ze,{value:i.toString(),onValueChange:z=>l(parseInt(z)),children:[o.jsx($e,{className:"bg-background border-border text-foreground",children:o.jsx(Ue,{placeholder:"Pilih pekan"})}),o.jsx(Le,{className:"bg-popover border-border max-h-60",children:v.map(z=>o.jsxs(pe,{value:z.weekNumber.toString(),className:"text-foreground hover:bg-accent",children:["Pekan ",z.weekNumber," (",new Date(z.startDate).toLocaleDateString("id-ID")," - ",new Date(z.endDate).toLocaleDateString("id-ID"),")"]},z.weekNumber))})]})}),o.jsx(Jr,{value:"month",className:"mt-4",children:o.jsxs(ze,{value:c.toString(),onValueChange:z=>u(parseInt(z)),children:[o.jsx($e,{className:"bg-background border-border text-foreground",children:o.jsx(Ue,{placeholder:"Pilih bulan"})}),o.jsx(Le,{className:"bg-popover border-border",children:D.map((z,U)=>o.jsx(pe,{value:(U+1).toString(),className:"text-foreground hover:bg-accent",children:z},U+1))})]})})]})]}),o.jsxs("div",{children:[o.jsx(oe,{className:"text-foreground",children:"Format Output"}),o.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-2",children:[o.jsxs(V,{variant:d==="pdf"?"default":"outline",onClick:()=>f("pdf"),className:`${d==="pdf"?"bg-primary hover:bg-primary/90 text-primary-foreground":"border-border text-muted-foreground hover:bg-accent hover:text-accent-foreground"}`,children:[o.jsx(vE,{className:"h-4 w-4 mr-2"}),"PDF"]}),o.jsxs(V,{variant:d==="excel"?"default":"outline",onClick:()=>f("excel"),className:`${d==="excel"?"bg-primary hover:bg-primary/90 text-primary-foreground":"border-border text-muted-foreground hover:bg-accent hover:text-accent-foreground"}`,children:[o.jsx(sJ,{className:"h-4 w-4 mr-2"}),"Excel"]}),o.jsxs(V,{variant:d==="png"?"default":"outline",onClick:()=>f("png"),className:`${d==="png"?"bg-primary hover:bg-primary/90 text-primary-foreground":"border-border text-muted-foreground hover:bg-accent hover:text-accent-foreground"}`,children:[o.jsx(QY,{className:"h-4 w-4 mr-2"}),"PNG"]})]})]})]})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(le,{className:"bg-card border-border shadow-sm",children:[o.jsx(ke,{children:o.jsx(Pe,{className:"text-foreground",children:"Preview"})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"text-sm text-foreground space-y-2",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Kelas:"})," ",((F=h.find(z=>z.id===e))==null?void 0:F.name)||"Semua Kelas"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Periode:"})," ",a==="week"?`Pekan ${i}`:D[c-1]]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Kategori:"})," ",r.length===0?"Semua Kategori":`${r.length} kategori dipilih`]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Tahun Akademik:"})," ",w]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Format:"})," ",d.toUpperCase()]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Total Jadwal:"})," ",O.length," item"]})]}),o.jsxs(V,{onClick:C,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",disabled:!e,children:[o.jsx(N1,{className:"h-4 w-4 mr-2"}),"Generate & Download"]})]})]}),o.jsxs(le,{className:"bg-card border-border shadow-sm",children:[o.jsx(ke,{children:o.jsx(Pe,{className:"text-foreground text-sm",children:"Format Information"})}),o.jsxs(ce,{className:"space-y-3 text-xs text-muted-foreground",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-primary font-semibold",children:"PDF:"})," Ideal untuk print dan sharing resmi"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-primary font-semibold",children:"Excel:"})," Dapat diedit dan dianalisis lebih lanjut"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-primary font-semibold",children:"PNG:"})," Gambar untuk media sosial atau presentasi"]})]})]})]})]})]})},$Ue=()=>{OA();const e=Ep(),t=kc(),[r,n]=x.useState("dashboard"),[a,s]=x.useState(!1);x.useEffect(()=>{if(a){console.log(" Skipping URL update during navigation");return}const d=e.pathname;console.log(" Current path:",d);const h={"/":"dashboard","/dashboard":"dashboard","/classes":"classes","/teachers":"teachers","/subjects":"subjects","/time-sessions":"time-sessions","/schedules":"schedules","/schedules/overview":"schedules-overview","/schedules/sync":"schedules-sync","/schedules/print":"schedules-print","/events":"events","/events/print":"events-print","/events/share":"events-share","/settings":"general-settings","/school-info":"school-info"}[d]||"dashboard";h!==r&&(console.log(" Setting activeItem to:",h,"from:",r),n(h))},[e.pathname,a,r]);const i=d=>{if(console.log(" handleItemChange called with:",d,"current activeItem:",r,"isNavigating:",a),a){console.log(" Navigation in progress, ignoring call");return}if(r===d){console.log(" Already on the same item, skipping navigation");return}s(!0),n(d);const h={dashboard:"/",classes:"/classes",teachers:"/teachers",subjects:"/subjects","time-sessions":"/time-sessions",schedules:"/schedules","schedules-overview":"/schedules/overview","schedules-sync":"/schedules/sync","schedules-print":"/schedules/print",events:"/events","events-print":"/events/print","events-share":"/events/share","general-settings":"/settings","school-info":"/school-info"}[d]||"/";console.log(" Navigating to:",h,"from item:",d),t(h,{replace:!1}),setTimeout(()=>{s(!1),console.log(" Navigation completed, flag reset")},150)},{profile:l}=ct(),c=()=>{switch(console.log(" DashboardLayout renderContent - activeItem:",r),r){case"dashboard":return o.jsx(yI,{username:(l==null?void 0:l.full_name)||"User"});case"classes":return o.jsx(fq,{});case"teachers":return o.jsx(hq,{});case"subjects":return o.jsx(WW,{});case"time-sessions":return o.jsx(gq,{});case"schedules":return o.jsx(oG,{});case"schedules-overview":return o.jsx(uG,{});case"schedules-sync":return o.jsx(dG,{});case"schedules-print":return o.jsx(fG,{});case"events":return o.jsx(Gq,{});case"general-settings":return o.jsx(OW,{});case"school-info":return o.jsx(RW,{});default:return o.jsx(yI,{username:(l==null?void 0:l.full_name)||"User"})}},u=()=>{switch(r){case"dashboard":return"Dashboard";case"classes":return"Manajemen Kelas";case"teachers":return"Manajemen Guru";case"subjects":return"Manajemen Mata Pelajaran";case"time-sessions":return"Manajemen Sesi dan Waktu";case"schedules":return"Jadwal";case"schedules-overview":return"Jadwal - Overview";case"schedules-sync":return"Jadwal - Sinkronisasi Kalender";case"schedules-print":return"Jadwal - Print";case"events":return"Manajemen Event";case"general-settings":return"Pengaturan Umum";case"school-info":return"Informasi Sekolah";default:return"Dashboard"}};return o.jsx(W0,{children:o.jsxs("div",{className:"flex h-screen w-full bg-background",children:[o.jsx(oC,{activeItem:r,onItemChange:i}),o.jsxs(G0,{className:"flex-1 min-w-0",children:[o.jsxs("header",{className:"flex h-16 shrink-0 items-center gap-2 bg-background border-b border-border px-4",children:[o.jsx(K0,{className:"text-foreground hover:text-foreground/80"}),o.jsx("div",{className:"text-xl font-semibold text-foreground ml-4 flex-1",children:u()})]}),o.jsx("main",{className:"flex-1 overflow-auto bg-background w-full",children:o.jsx("div",{className:"w-full h-full",children:c()})})]})]})})},LUe=({activeTab:e,onTabChange:t,isLoggedIn:r,onLoginClick:n,onLogoutClick:a})=>{const s=r?[{id:"dashboard",label:"Dashboard",icon:YY},{id:"logout",label:"Logout",icon:ZY,action:a}]:[{id:"beranda",label:"Beranda",icon:yE},{id:"fitur",label:"Fitur Utama",icon:rt},{id:"login",label:"Login/Daftar",icon:Iu,action:n},{id:"kontak",label:"Hubungi Kami",icon:xE}];return o.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border/50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"text-2xl font-bold text-foreground tracking-tight",children:["Indo",o.jsx("span",{className:"text-lime-400",children:"Jadwal"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"flex items-center space-x-2 bg-muted/60 rounded-full p-2",children:s.map(i=>o.jsxs("button",{onClick:()=>i.action?i.action():t(i.id),className:se("flex items-center space-x-2 px-4 py-2 rounded-full transition-all duration-300",e===i.id||i.id==="beranda"&&!r&&e==="beranda"?"bg-lime-400 text-gray-900 shadow-lg shadow-lime-400/20":"text-muted-foreground hover:text-foreground hover:bg-accent/50"),children:[o.jsx(i.icon,{size:18}),o.jsx("span",{className:"text-sm font-medium tracking-wide",children:i.label})]},i.id))}),o.jsx(vB,{})]})]})})})},FUe=()=>o.jsx("div",{className:"flex items-center justify-center mb-8",children:o.jsxs("div",{className:"bg-gradient-to-r from-lime-400/20 to-blue-400/20 backdrop-blur-sm border border-lime-400/30 rounded-full px-6 py-3 flex items-center space-x-3",children:[o.jsx(XY,{size:16,className:"text-lime-400 animate-spin"}),o.jsx("span",{className:"text-sm text-gray-200 tracking-wide",children:"Menyusun Jadwal Cerdas untuk Masa Depan Edukasi Anda"})]})}),BUe=()=>{const e=[{time:"08:00",subject:"Matematika",teacher:"Pak Ahmad",room:"Kelas 1A",color:"lime"},{time:"09:30",subject:"Bahasa Indonesia",teacher:"Bu Sari",room:"Kelas 1B",color:"blue"},{time:"11:00",subject:"IPA",teacher:"Pak Budi",room:"Lab IPA",color:"purple"},{time:"13:00",subject:"Sejarah",teacher:"Bu Ratna",room:"Kelas 2A",color:"cyan"}];return o.jsxs("div",{className:"relative max-w-4xl mx-auto",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-lime-400/10 to-blue-400/10 rounded-3xl blur-xl"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-lime-400/5 to-blue-400/5 rounded-3xl"}),o.jsxs("div",{className:"relative bg-gray-800/40 backdrop-blur-sm border border-gray-600/30 rounded-3xl p-8 shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center space-x-3",children:[o.jsx(rt,{className:"text-lime-400",size:28}),o.jsx("span",{children:"Jadwal Hari Ini"})]}),o.jsx("div",{className:"text-sm text-gray-400",children:"Senin, 27 Mei 2025"})]}),o.jsx("div",{className:"grid gap-4",children:e.map((t,r)=>o.jsx("div",{className:"bg-gray-700/30 backdrop-blur-sm border border-gray-600/20 rounded-xl p-4 hover:bg-gray-700/50 transition-all duration-300 group",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:`w-3 h-12 rounded-full bg-gradient-to-b from-${t.color}-400 to-${t.color}-600`}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold text-white",children:t.subject}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400 mt-1",children:[o.jsxs("span",{className:"flex items-center space-x-1",children:[o.jsx(lr,{size:14}),o.jsx("span",{children:t.time})]}),o.jsxs("span",{className:"flex items-center space-x-1",children:[o.jsx(vr,{size:14}),o.jsx("span",{children:t.teacher})]}),o.jsxs("span",{className:"flex items-center space-x-1",children:[o.jsx(y0,{size:14}),o.jsx("span",{children:t.room})]})]})]})]}),o.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:o.jsx("button",{className:"text-lime-400 hover:text-lime-300 text-sm font-medium",children:"Edit"})})]})},r))}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-8 pt-6 border-t border-gray-600/30",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-lime-400",children:"12"}),o.jsx("div",{className:"text-sm text-gray-400",children:"Kelas Hari Ini"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-400",children:"8"}),o.jsx("div",{className:"text-sm text-gray-400",children:"Guru Aktif"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-purple-400",children:"245"}),o.jsx("div",{className:"text-sm text-gray-400",children:"Siswa"})]})]})]})]})},zUe=({onLoginClick:e})=>{const t=[{icon:rt,title:"Manajemen Jadwal Cerdas",description:"Sistem otomatis untuk mengatur jadwal pelajaran tanpa bentrok",color:"lime"},{icon:vr,title:"Koordinasi Multi-User",description:"Guru, admin, dan siswa dapat mengakses jadwal secara real-time",color:"blue"},{icon:lr,title:"Notifikasi Real-time",description:"Pemberitahuan otomatis untuk perubahan jadwal dan event penting",color:"purple"},{icon:nJ,title:"Sistem Aman & Terpercaya",description:"Data terlindungi dengan enkripsi tingkat enterprise",color:"cyan"}],r=["Mengurangi bentrok jadwal hingga 95%","Menghemat waktu penjadwalan hingga 80%","Meningkatkan koordinasi antar guru","Dashboard analytics yang comprehensive","Support untuk tahun ajaran multiple","Export jadwal ke berbagai format"];return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[o.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-lime-400/5 rounded-full blur-3xl animate-pulse"}),o.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-blue-400/5 rounded-full blur-3xl animate-pulse"}),o.jsx("div",{className:"absolute top-3/4 left-1/2 w-64 h-64 bg-purple-400/5 rounded-full blur-3xl animate-pulse"})]}),o.jsx("section",{className:"relative pt-32 pb-20 px-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[o.jsx(FUe,{}),o.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-foreground mb-6 tracking-tight",children:["Jadwal Pelajaran",o.jsx("span",{className:"block bg-gradient-to-r from-lime-400 to-blue-400 bg-clip-text text-transparent",children:"Masa Depan"})]}),o.jsx("p",{className:"text-xl text-muted-foreground mb-12 max-w-3xl mx-auto leading-relaxed tracking-wide",children:"Revolusikan cara sekolah dan pondok pesantren di Indonesia mengelola jadwal akademik dengan teknologi AI yang cerdas dan intuitif."}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6 mb-16",children:[o.jsxs(V,{onClick:e,className:"bg-lime-500 hover:bg-lime-600 text-gray-900 dark:text-gray-900 font-semibold px-8 py-4 rounded-xl text-lg transition-all duration-300 shadow-lg transform hover:scale-105",children:["Mulai Sekarang",o.jsx(n2,{className:"ml-2",size:20})]}),o.jsx(V,{variant:"outline",className:"border-border hover:bg-accent/50 px-8 py-4 rounded-xl text-lg backdrop-blur-sm",children:"Lihat Demo"})]}),o.jsx(BUe,{})]})}),o.jsx("section",{className:"relative py-20 px-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsxs("h2",{className:"text-4xl font-bold text-foreground mb-6",children:["Fitur ",o.jsx("span",{className:"text-lime-400",children:"Unggulan"})]}),o.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Solusi lengkap untuk semua kebutuhan penjadwalan institusi pendidikan modern"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((n,a)=>o.jsx("div",{className:"group",children:o.jsxs("div",{className:"bg-card/40 backdrop-blur-sm border border-border/30 rounded-2xl p-6 h-full hover:bg-card/60 transition-all duration-300 hover:border-border/50 hover:transform hover:scale-105",children:[o.jsx("div",{className:`w-12 h-12 bg-${n.color}-400/20 rounded-xl flex items-center justify-center mb-4 group-hover:bg-${n.color}-400/30 transition-colors duration-300`,children:o.jsx(n.icon,{className:`text-${n.color}-400`,size:24})}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3",children:n.title}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:n.description})]})},a))})]})}),o.jsx("section",{className:"relative py-20 px-6",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-4xl font-bold text-foreground mb-6",children:["Mengapa Memilih ",o.jsx("span",{className:"text-blue-400",children:"Indo Jadwal"}),"?"]}),o.jsx("p",{className:"text-xl text-muted-foreground mb-8 leading-relaxed",children:"Dipercaya oleh ribuan institusi pendidikan di seluruh Indonesia untuk mengelola jadwal akademik dengan efisiensi maksimal."}),o.jsx("div",{className:"space-y-4",children:r.map((n,a)=>o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(wd,{className:"text-lime-400 flex-shrink-0",size:20}),o.jsx("span",{className:"text-foreground",children:n})]},a))}),o.jsxs(V,{onClick:e,className:"mt-8 bg-blue-500 hover:bg-blue-600 text-white font-semibold px-8 py-4 rounded-xl text-lg transition-all duration-300 shadow-lg",children:["Coba Gratis Sekarang",o.jsx(oJ,{className:"ml-2",size:20})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/10 to-purple-400/10 rounded-3xl blur-xl"}),o.jsx("div",{className:"relative bg-card/40 backdrop-blur-sm border border-border/30 rounded-3xl p-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-5xl font-bold text-foreground mb-2",children:"1000+"}),o.jsx("div",{className:"text-muted-foreground mb-6",children:"Sekolah & Pesantren"}),o.jsxs("div",{className:"grid grid-cols-2 gap-6 mt-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-lime-400",children:"95%"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Efisiensi Jadwal"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-blue-400",children:"24/7"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Support"})]})]})]})})]})]})})}),o.jsx("section",{className:"relative py-20 px-6",children:o.jsx("div",{className:"max-w-4xl mx-auto text-center",children:o.jsxs("div",{className:"bg-gradient-to-r from-lime-400/10 to-blue-400/10 backdrop-blur-sm border border-border/30 rounded-3xl p-12",children:[o.jsx("h2",{className:"text-4xl font-bold text-foreground mb-6",children:"Siap Mengoptimalkan Jadwal Anda?"}),o.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Bergabunglah dengan revolusi digital pendidikan Indonesia"}),o.jsxs(V,{onClick:e,className:"bg-lime-500 hover:bg-lime-600 text-gray-900 dark:text-gray-900 font-bold px-12 py-5 rounded-xl text-xl transition-all duration-300 shadow-lg transform hover:scale-105",children:["Mulai Transformasi Digital",o.jsx(n2,{className:"ml-3",size:24})]})]})})})]})},UUe=({isOpen:e,onClose:t,onLogin:r})=>{const[n,a]=x.useState(!1),[s,i]=x.useState(""),[l,c]=x.useState(""),[u,d]=x.useState(""),{toast:f}=Te(),h=async v=>{v.preventDefault(),a(!0);try{const{error:p}=await G.auth.signInWithPassword({email:s,password:l});p?f({title:"Error",description:p.message,variant:"destructive"}):(f({title:"Success",description:"Login berhasil!"}),r(),t())}catch{f({title:"Error",description:"Terjadi kesalahan saat login",variant:"destructive"})}finally{a(!1)}},m=async v=>{v.preventDefault(),a(!0);try{const{error:p}=await G.auth.signUp({email:s,password:l,options:{data:{full_name:u}}});f(p?{title:"Error",description:p.message,variant:"destructive"}:{title:"Success",description:"Registrasi berhasil! Silakan login dengan akun Anda."})}catch{f({title:"Error",description:"Terjadi kesalahan saat registrasi",variant:"destructive"})}finally{a(!1)}};return o.jsx(Ft,{open:e,onOpenChange:t,children:o.jsxs(Ct,{className:"sm:max-w-md bg-gray-800 border-gray-700",children:[o.jsx(At,{children:o.jsxs(Pt,{className:"text-center text-2xl font-bold text-white",children:["Indo",o.jsx("span",{className:"text-lime-400",children:"Jadwal"})]})}),o.jsxs(Rc,{defaultValue:"login",className:"w-full",children:[o.jsxs(Xo,{className:"grid w-full grid-cols-2 bg-gray-700",children:[o.jsx(Yr,{value:"login",className:"text-gray-300 data-[state=active]:bg-lime-400 data-[state=active]:text-gray-900",children:"Login"}),o.jsx(Yr,{value:"register",className:"text-gray-300 data-[state=active]:bg-lime-400 data-[state=active]:text-gray-900",children:"Daftar"})]}),o.jsx(Jr,{value:"login",children:o.jsxs("form",{onSubmit:h,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"email",className:"text-gray-300",children:"Email"}),o.jsx(xe,{id:"email",type:"email",value:s,onChange:v=>i(v.target.value),placeholder:"nama@email.com",required:!0,className:"bg-gray-700 border-gray-600 text-white placeholder-gray-400"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"password",className:"text-gray-300",children:"Password"}),o.jsx(xe,{id:"password",type:"password",value:l,onChange:v=>c(v.target.value),placeholder:"Password",required:!0,className:"bg-gray-700 border-gray-600 text-white placeholder-gray-400"})]}),o.jsx(V,{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-lime-400 to-lime-500 hover:from-lime-500 hover:to-lime-600 text-gray-900 font-semibold",children:n?o.jsxs(o.Fragment,{children:[o.jsx(_a,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Login"})]})}),o.jsx(Jr,{value:"register",children:o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"fullName",className:"text-gray-300",children:"Nama Lengkap"}),o.jsx(xe,{id:"fullName",type:"text",value:u,onChange:v=>d(v.target.value),placeholder:"Nama Lengkap",required:!0,className:"bg-gray-700 border-gray-600 text-white placeholder-gray-400"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"registerEmail",className:"text-gray-300",children:"Email"}),o.jsx(xe,{id:"registerEmail",type:"email",value:s,onChange:v=>i(v.target.value),placeholder:"nama@email.com",required:!0,className:"bg-gray-700 border-gray-600 text-white placeholder-gray-400"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"registerPassword",className:"text-gray-300",children:"Password"}),o.jsx(xe,{id:"registerPassword",type:"password",value:l,onChange:v=>c(v.target.value),placeholder:"Password (min. 6 karakter)",required:!0,minLength:6,className:"bg-gray-700 border-gray-600 text-white placeholder-gray-400"})]}),o.jsx(V,{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold",children:n?o.jsxs(o.Fragment,{children:[o.jsx(_a,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Daftar"})]})})]})]})})},HUe=()=>{const[e,t]=x.useState("beranda"),[r,n]=x.useState(!1),{user:a,loading:s,signOut:i}=ct(),l=kc();x.useEffect(()=>{a&&!s&&l("/dashboard")},[a,s,l]);const c=()=>{n(!0)},u=()=>{n(!1)},d=()=>{t("dashboard")},f=async()=>{await i(),t("beranda")};return s?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(_a,{className:"h-12 w-12 animate-spin text-lime-400 mx-auto mb-4"}),o.jsx("div",{className:"text-foreground text-lg",children:"Memuat IndoJadwal..."})]})}):o.jsxs("div",{className:"w-full",children:[o.jsx(LUe,{activeTab:e,onTabChange:t,isLoggedIn:!!a,onLoginClick:c,onLogoutClick:f}),o.jsx(zUe,{onLoginClick:c}),o.jsx(UUe,{isOpen:r,onClose:u,onLogin:d}),o.jsx(SE,{})]})},qUe=()=>{const e=kc(),t=r=>{switch(r){case"dashboard":e("/dashboard");break;case"classes":e("/classes");break;case"teachers":e("/teachers");break;case"subjects":e("/subjects");break;case"time-sessions":e("/time-sessions");break;case"schedules":e("/schedules");break;case"events":e("/events");break;case"general-settings":e("/general-settings");break;case"school-info":e("/school-info");break;default:e("/dashboard")}};return o.jsx(W0,{children:o.jsxs("div",{className:"flex h-screen w-full",children:[o.jsx(oC,{activeItem:"subjects",onItemChange:t}),o.jsxs(G0,{className:"flex-1",children:[o.jsxs("header",{className:"flex h-16 shrink-0 items-center gap-2 bg-background border-b border-border px-4",children:[o.jsx(K0,{className:"text-foreground hover:text-foreground/80"}),o.jsxs("div",{className:"flex items-center space-x-2 text-xl font-semibold text-foreground ml-4",children:[o.jsx(ir,{className:"h-6 w-6 text-lime-400"}),o.jsx(v0,{className:"h-6 w-6 text-blue-400"}),o.jsx("span",{children:"Mata Pelajaran & Kelas"})]})]}),o.jsx(WW,{})]})]})})},WUe=({open:e,onOpenChange:t})=>{const[r,n]=x.useState({class_id:"",subject_id:"",hours_per_year:36}),{data:a}=jr(),{data:s}=Bf(),i=UW(),l=u=>{u.preventDefault(),i.mutate(r,{onSuccess:()=>{n({class_id:"",subject_id:"",hours_per_year:36}),t(!1)}})},c=i.isPending;return o.jsx(Ft,{open:e,onOpenChange:t,children:o.jsxs(Ct,{className:"bg-gray-800 border-gray-700 text-white",children:[o.jsx(At,{children:o.jsx(Pt,{className:"text-lime-400",children:"Assign Mata Pelajaran ke Kelas"})}),o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"class",className:"text-gray-300",children:"Kelas"}),o.jsxs(ze,{value:r.class_id,onValueChange:u=>n(d=>({...d,class_id:u})),children:[o.jsx($e,{className:"bg-gray-700 border-gray-600 text-white",children:o.jsx(Ue,{placeholder:"Pilih kelas"})}),o.jsx(Le,{className:"bg-gray-700 border-gray-600",children:a==null?void 0:a.map(u=>o.jsxs(pe,{value:u.id,children:[u.level," ",u.name]},u.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"subject",className:"text-gray-300",children:"Mata Pelajaran"}),o.jsxs(ze,{value:r.subject_id,onValueChange:u=>n(d=>({...d,subject_id:u})),children:[o.jsx($e,{className:"bg-gray-700 border-gray-600 text-white",children:o.jsx(Ue,{placeholder:"Pilih mata pelajaran"})}),o.jsx(Le,{className:"bg-gray-700 border-gray-600",children:s==null?void 0:s.map(u=>o.jsxs(pe,{value:u.id,children:[u.name," (",u.code,")"]},u.id))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(oe,{htmlFor:"hours",className:"text-gray-300",children:"JP per Tahun"}),o.jsx(xe,{id:"hours",type:"number",min:"0",max:"360",value:r.hours_per_year,onChange:u=>n(d=>({...d,hours_per_year:parseInt(u.target.value)||36})),className:"bg-gray-700 border-gray-600 text-white",placeholder:"Contoh: 144 (atau 0 jika belum direncanakan)",required:!0}),o.jsx("p",{className:"text-xs text-gray-400",children:"Masukkan 0 jika belum ada perencanaan pasti. Nanti akan otomatis terhitung dari menu Jadwal."})]}),o.jsxs(an,{className:"gap-2",children:[o.jsx(V,{type:"button",variant:"outline",onClick:()=>t(!1),className:"border-gray-600 text-gray-300",disabled:c,children:"Batal"}),o.jsx(V,{type:"submit",className:"bg-lime-400 hover:bg-lime-500 text-gray-900",disabled:c,children:c?"Menyimpan...":"Simpan"})]})]})]})})},KUe=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState(!1);x.useState(null),x.useState(null);const{data:a,isLoading:s}=Bf(),{data:i,isLoading:l}=jr(),{data:c,isLoading:u}=zW(),d=UW(),f=HW(),h=["bg-purple-400/10 border-purple-400/20 text-purple-400","bg-orange-400/10 border-orange-400/20 text-orange-400","bg-blue-400/10 border-blue-400/20 text-blue-400","bg-green-400/10 border-green-400/20 text-green-400","bg-cyan-400/10 border-cyan-400/20 text-cyan-400","bg-pink-400/10 border-pink-400/20 text-pink-400","bg-yellow-400/10 border-yellow-400/20 text-yellow-400","bg-red-400/10 border-red-400/20 text-red-400"],m=y=>h[y%h.length],v=(y,w)=>c==null?void 0:c.find(_=>_.subject_id===y&&_.class_id===w),p=(y,w)=>{v(y.id,w.id)||d.mutate({subject_id:y.id,class_id:w.id,hours_per_week:2})},g=(y,w)=>{const _=v(y,w);_&&f.mutate(_.id)},b=(i==null?void 0:i.sort((y,w)=>{const _=["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII"],j=_.indexOf(y.level),S=_.indexOf(w.level);return j!==S?j-S:y.name.localeCompare(w.name)}))||[];return s||l||u?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center",children:o.jsx("div",{className:"text-white",children:"Memuat data..."})}):o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[o.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Daftar Mata Pelajaran KBM per Kelas"}),o.jsx("p",{className:"text-muted-foreground",children:"Kelola penugasan mata pelajaran untuk setiap kelas"})]}),o.jsxs(V,{onClick:()=>t(!0),className:"bg-gradient-to-r from-lime-400 to-lime-600 hover:from-lime-500 hover:to-lime-700 text-gray-900 font-semibold shadow-lg shadow-lime-400/25 transition-all duration-300 transform hover:scale-105",children:[o.jsx(mt,{className:"mr-2 h-5 w-5"}),"Tambah Mata Pelajaran"]})]}),o.jsxs(le,{className:"bg-gray-800/40 backdrop-blur-sm border-gray-600/30",children:[o.jsx(ke,{children:o.jsxs(Pe,{className:"text-white flex items-center",children:[o.jsx(ir,{className:"mr-2 h-5 w-5 text-lime-400"}),"Matrix Mata Pelajaran & Kelas"]})}),o.jsx(ce,{className:"p-0",children:b.length===0?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(vr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Belum ada kelas"}),o.jsx("p",{className:"text-gray-400",children:"Silakan tambah kelas terlebih dahulu di menu Kelas"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("div",{className:"min-w-max",children:[o.jsxs("div",{className:"grid grid-cols-[250px_repeat(auto-fit,minmax(150px,1fr))] gap-2 p-4 border-b border-gray-600/30",children:[o.jsx("div",{className:"text-gray-400 font-medium",children:"Mata Pelajaran"}),b.map(y=>o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-white font-medium text-sm",children:["Kelas ",y.level]}),o.jsx("div",{className:"text-gray-400 text-xs",children:y.name})]},y.id))]}),o.jsxs("div",{className:"space-y-2 p-4",children:[a==null?void 0:a.map((y,w)=>o.jsxs("div",{className:"grid grid-cols-[250px_repeat(auto-fit,minmax(150px,1fr))] gap-2 items-center",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ht,{className:`${m(w)} border text-xs px-2 py-1`,children:y.code}),o.jsx("span",{className:"text-white text-sm font-medium truncate",children:y.name})]}),b.map(_=>{const j=v(y.id,_.id);return o.jsx("div",{className:"flex justify-center",children:j?o.jsxs("div",{className:"group relative",children:[o.jsxs(ht,{className:`${m(w)} border text-xs px-2 py-1 cursor-pointer hover:opacity-80`,children:[j.hours_per_week," JP/Minggu"]}),o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>g(y.id,_.id),className:"absolute -top-2 -right-2 h-4 w-4 p-0 bg-red-500 hover:bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(er,{className:"h-2 w-2"})})]}):o.jsx(V,{variant:"ghost",size:"sm",onClick:()=>p(y,_),className:"h-8 w-8 p-0 text-blue-400 hover:bg-blue-400/20 border border-dashed border-blue-400/30 rounded",disabled:d.isPending,children:o.jsx(mt,{className:"h-4 w-4"})})},_.id)})]},y.id)),(!a||a.length===0)&&o.jsxs("div",{className:"col-span-full text-center py-8",children:[o.jsx(ir,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Belum ada mata pelajaran"}),o.jsx("p",{className:"text-gray-400 mb-4",children:"Mulai dengan menambahkan mata pelajaran pertama"}),o.jsxs(V,{onClick:()=>t(!0),className:"bg-gradient-to-r from-lime-400 to-lime-600 hover:from-lime-500 hover:to-lime-700 text-gray-900 font-semibold",children:[o.jsx(mt,{className:"mr-2 h-4 w-4"}),"Tambah Mata Pelajaran"]})]})]})]})})})]}),o.jsx(FW,{open:e,onOpenChange:t}),o.jsx(WUe,{open:r,onOpenChange:n})]})})},GUe=()=>Ze({queryKey:["schedules-simple"],queryFn:async()=>{var i;console.log(" Fetching schedules with simple query...");let e;const t=await G.from("schedules_view").select(`
          id,
          academic_week,
          day_of_week,
          start_time,
          end_time,
          subject_name,
          subject_color,
          class_name,
          class_id,
          subject_id,
          teacher_name
        `).not("day_of_week","is",null).order("academic_week",{ascending:!0}).order("day_of_week",{ascending:!0}).order("start_time",{ascending:!0}).limit(1e3);if(t.error){console.log(" schedules_view failed, trying class_schedules:",t.error);const l=await G.from("class_schedules").select(`
            id,
            academic_week,
            day_of_week,
            start_time,
            end_time,
            class_id,
            subject_id,
            teacher_id,
            room,
            notes,
            schedule_subjects (id, name, color),
            classes (id, name, level, grade),
            teachers (id, full_name, nip)
          `).not("day_of_week","is",null).order("academic_week",{ascending:!0}).order("day_of_week",{ascending:!0}).order("start_time",{ascending:!0}).limit(1e3);if(l.error)throw console.error(" Both queries failed:",l.error),l.error;e=(i=l.data)==null?void 0:i.map(c=>{var u,d,f,h;return{id:c.id,academic_week:c.academic_week,day_of_week:c.day_of_week,start_time:c.start_time,end_time:c.end_time,subject_name:(u=c.schedule_subjects)==null?void 0:u.name,subject_color:(d=c.schedule_subjects)==null?void 0:d.color,class_name:(f=c.classes)==null?void 0:f.name,class_id:c.class_id,subject_id:c.subject_id,teacher_name:(h=c.teachers)==null?void 0:h.full_name}}),console.log(" Using class_schedules fallback data")}else e=t.data,console.log(" Using schedules_view data");console.log(" Simple schedules data fetched:",e==null?void 0:e.length,"records");const r=e==null?void 0:e.reduce((l,c)=>(l[c.academic_week]=(l[c.academic_week]||0)+1,l),{});console.log(" Week distribution:",r),console.log(" Available weeks:",Object.keys(r||{}).sort((l,c)=>parseInt(l)-parseInt(c)));const n=e==null?void 0:e.filter(l=>l.academic_week===2),a=e==null?void 0:e.filter(l=>l.class_id==="556ea61c-8dad-4441-8001-a70f3d448ffa"),s=e==null?void 0:e.filter(l=>l.academic_week===2&&l.class_id==="556ea61c-8dad-4441-8001-a70f3d448ffa");return console.log(" CRITICAL DATA CHECK:",{week2Count:(n==null?void 0:n.length)||0,class10ACount:(a==null?void 0:a.length)||0,week2Class10ACount:(s==null?void 0:s.length)||0,week2Class10ASample:s==null?void 0:s.slice(0,3)}),e},staleTime:0,gcTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),VUe=({selectedClassId:e,onClassChange:t,selectedWeek:r,onWeekSelect:n,onCurrentWeekClick:a,onCopyLink:s})=>{const{data:i}=Rf(),{data:l}=Si(),{academicWeeks:c}=nn(),u=c.find(h=>h.weekNumber===r),d=()=>{r>1&&n(r-1)},f=()=>{r<c.length&&n(r+1)};return o.jsx("div",{className:"p-2 space-y-2 bg-transparent relative",children:o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",children:[o.jsx("div",{className:"flex items-center gap-4 flex-1",children:o.jsx(tG,{selectedClassId:e,onClassChange:t})}),o.jsxs("div",{className:"flex items-center gap-6 flex-1 justify-center",children:[o.jsx("div",{className:"flex items-center justify-center w-14 h-14 rounded-none overflow-hidden",children:i!=null&&i.logo_url?o.jsx("img",{src:i.logo_url,alt:"Logo Sekolah",className:"w-full h-full object-cover"}):o.jsx(xo,{className:"h-6 w-6 text-foreground"})}),o.jsxs("div",{className:"flex flex-col text-center",children:[o.jsx("div",{className:"text-foreground font-semibold text-base leading-tight",children:(i==null?void 0:i.name)||"SMA Negeri 1 Jakarta"}),o.jsx("div",{className:"text-muted-foreground text-sm leading-tight",children:(i==null?void 0:i.address)||"Jl. Pendidikan No. 123, Jakarta Pusat"}),o.jsxs("div",{className:"text-muted-foreground text-xs",children:["Tahun Akademik ",(l==null?void 0:l.year_name)||"2025/2026"]}),o.jsx("div",{className:"text-primary text-xs mt-1",children:"External View - Generate Public Link"})]})]}),o.jsxs("div",{className:"flex gap-3 flex-1 justify-end items-center",children:[o.jsx(V,{variant:"outline",size:"sm",onClick:d,disabled:r<=1,className:"bg-background border-border text-foreground hover:bg-primary hover:text-primary-foreground flex items-center justify-center",children:o.jsx(xd,{className:"h-4 w-4"})}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-bold text-foreground px-2 py-1 text-sm",children:["Minggu ",r]}),u&&o.jsx("div",{className:"text-xs text-muted-foreground whitespace-nowrap",children:u.dateRange})]}),o.jsx(V,{variant:"outline",size:"sm",onClick:f,disabled:r>=c.length,className:"bg-background border-border text-foreground hover:bg-primary hover:text-primary-foreground flex items-center justify-center",children:o.jsx(ci,{className:"h-4 w-4"})}),o.jsx(V,{variant:"ghost",size:"sm",onClick:a,className:"w-10 h-10 rounded-full bg-background border border-blue-500 text-blue-500 hover:bg-blue-500/10 hover:border-blue-500/70 hover:text-blue-600 transition-all duration-300 transform hover:scale-105",title:"Minggu Ini",children:o.jsx(rt,{className:"h-4 w-4"})}),o.jsx(V,{variant:"ghost",size:"sm",onClick:s,className:"w-10 h-10 rounded-full bg-background border border-green-500 text-green-500 hover:bg-green-500/10 hover:border-green-500/70 hover:text-green-600 transition-all duration-300 transform hover:scale-105",title:"Copy Link",children:o.jsx(wE,{className:"h-4 w-4"})})]})]})})},QUe=()=>{const[e,t]=x.useState(""),[r,n]=x.useState(1),[a,s]=x.useState("");x.useEffect(()=>{const S=new URLSearchParams(window.location.search),k=S.get("class"),N=S.get("week");if(k&&t(k),N){const E=parseInt(N,10);E>=1&&E<=24&&n(E)}},[]);const i=x.useRef(null);jr();const{academicWeeks:l}=nn();Rf();const{data:c=[]}=$A();YA(),iG(),console.log(" CRITICAL Academic Weeks Debug:",{academicWeeksCount:(l==null?void 0:l.length)||0,academicWeeksSample:l==null?void 0:l.slice(0,5),selectedWeek:r,currentWeekData:l==null?void 0:l.find(S=>S.weekNumber===r),allWeekNumbers:l==null?void 0:l.map(S=>S.weekNumber)});const u=x.useMemo(()=>{if(l&&l.length>0)return console.log(" Using real academic weeks:",l.length),l;console.log(" No academic weeks found, creating smart fallback weeks");const S=new Date(2025,0,6);return Array.from({length:52},(k,N)=>{const E=N+1,P=new Date(S);P.setDate(S.getDate()+N*7);const A=new Date(P);return A.setDate(P.getDate()+6),{weekNumber:E,startDate:P,endDate:A,label:`Minggu ${E}`,dateRange:`${P.getDate()}/${P.getMonth()+1} - ${A.getDate()}/${A.getMonth()+1}`,isCurrentWeek:!1}})},[l]),{data:d=[],isLoading:f,error:h}=GUe(),{toast:m}=Te();console.log(" CRITICAL DEBUG - External View Data Analysis:"),console.log(" Basic Info:",{selectedWeek:r,selectedClassId:e,schedulesCount:(d==null?void 0:d.length)||0,isLoading:f,error:h==null?void 0:h.message});const v=d==null?void 0:d.filter(S=>S.academic_week===2);console.log(" Week 2 Data:",{week2Count:(v==null?void 0:v.length)||0,week2Sample:v==null?void 0:v.slice(0,3)});const p=d==null?void 0:d.filter(S=>S.class_id===e);console.log(" Selected Class Data:",{classDataCount:(p==null?void 0:p.length)||0,classDataSample:p==null?void 0:p.slice(0,3)});const g=d==null?void 0:d.filter(S=>S.academic_week===2&&S.class_id===e);console.log(" Week 2 + Selected Class Data:",{intersectionCount:(g==null?void 0:g.length)||0,intersectionData:g}),x.useEffect(()=>{const S=new URLSearchParams;e&&S.set("class",e),S.set("week",r.toString());const k=window.location.origin;s(`${k}/public/schedule?${S.toString()}`)},[e,r]);const b=x.useMemo(()=>{if(console.log(" STEP-BY-STEP FILTERING PROCESS:"),console.log("Step 1 - Input data:",{schedulesLength:(d==null?void 0:d.length)||0,selectedWeek:r,selectedClassId:e,isLoading:f,error:h==null?void 0:h.message}),!d||d.length===0)return console.log(" STEP 1 FAILED: No schedules data available"),[];console.log(" STEP 1 PASSED: Schedules data available");const S=d.filter(E=>E.academic_week===r);if(console.log("Step 2 - Week filter:",{originalCount:d.length,weekFilteredCount:S.length,selectedWeek:r,weekFilteredSample:S.slice(0,2)}),S.length===0)return console.log(" STEP 2 FAILED: No data for selected week"),[];console.log(" STEP 2 PASSED: Week data found");let k=S;if(e){if(k=S.filter(E=>E.class_id===e),console.log("Step 3 - Class filter:",{weekFilteredCount:S.length,classFilteredCount:k.length,selectedClassId:e,classFilteredSample:k.slice(0,2)}),k.length===0)return console.log(" STEP 3 FAILED: No data for selected class"),[];console.log(" STEP 3 PASSED: Class data found")}else console.log(" STEP 3 SKIPPED: No class selected");const N=k.filter(E=>E.start_time&&E.end_time&&E.subject_name);return console.log("Step 4 - Required fields filter:",{classFilteredCount:k.length,finalFilteredCount:N.length,finalFilteredSample:N.slice(0,2)}),N.length===0?(console.log(" STEP 4 FAILED: No data with required fields"),[]):(console.log(" STEP 4 PASSED: Final filtered data ready"),console.log(" FINAL RESULT:",{totalSteps:4,finalCount:N.length,finalData:N}),N)},[d,r,e,f,h]),y=x.useMemo(()=>{if(console.log(" Converting filtered schedules to calendar events:",{filteredCount:(b==null?void 0:b.length)||0,selectedWeek:r,academicWeeksCount:(l==null?void 0:l.length)||0,fallbackWeeksCount:(u==null?void 0:u.length)||0,usingFallback:!l||l.length===0}),!b||b.length===0)return console.log(" No filtered schedules for calendar events"),[];const S=u.find(N=>N.weekNumber===r);if(!S)return console.log(" Current week not found:",r,"Available weeks:",u.map(N=>N.weekNumber)),[];console.log(" Using week data:",{weekNumber:S.weekNumber,startDate:S.startDate,endDate:S.endDate});const k=b.map((N,E)=>{try{const P=new Date(S.startDate),A=new Date(P),O=N.day_of_week===7?0:N.day_of_week;A.setDate(P.getDate()+O);const T=A.toISOString().split("T")[0],C={id:N.id,title:N.subject_name||"Mata Pelajaran",start:`${T}T${N.start_time}`,end:`${T}T${N.end_time}`,backgroundColor:N.subject_color||"#6b7280",borderColor:"#ffffff",textColor:"#ffffff",extendedProps:{teacher:{full_name:N.teacher_name},class:{name:N.class_name},classroom:N.room}};return console.log(` EVENT ${E+1} CREATED:`,{id:C.id,title:C.title,start:C.start,end:C.end,backgroundColor:C.backgroundColor,originalSchedule:{subject_name:N.subject_name,day_of_week:N.day_of_week,start_time:N.start_time,end_time:N.end_time},calculatedDate:{weekStartDate:P.toISOString(),scheduleDate:A.toISOString(),dateStr:T,dayOffset:O}}),C}catch(P){return console.error(" Error converting schedule to event:",P,N),null}}).filter(Boolean);return console.log(" External Calendar events created:",{eventsCount:k.length,sampleEvents:k.slice(0,2)}),k},[b,u,r]),w=x.useMemo(()=>{if(!c||c.length===0)return{slotMinTime:"06:00:00",slotMaxTime:"18:00:00"};const S=c.map(P=>P.start_time),k=c.map(P=>P.end_time),N=S.sort()[0],E=k.sort().reverse()[0];return{slotMinTime:N||"06:00:00",slotMaxTime:E||"18:00:00"}},[c]);l.find(S=>S.weekNumber===r);const _=async()=>{try{await navigator.clipboard.writeText(a),m({title:" Link Berhasil Disalin",description:"Link jadwal telah disalin ke clipboard. Bagikan link ini untuk akses publik tanpa login."})}catch(S){console.error("Failed to copy link:",S),m({title:" Gagal Menyalin Link",description:"Terjadi kesalahan saat menyalin link ke clipboard.",variant:"destructive"})}},j=()=>{const S=new Date,k=l.find(N=>{const E=new Date(N.startDate),P=new Date(N.endDate);return S>=E&&S<=P});n(k?k.weekNumber:1)};return o.jsx("div",{className:"bg-gray-800/40 backdrop-blur-sm border border-gray-600/30 rounded-2xl overflow-hidden mx-auto",style:{maxWidth:"100%",transition:"max-width 0.3s ease-in-out"},children:o.jsxs("div",{className:"relative z-10 flex flex-col",style:{minHeight:"800px"},children:[o.jsx(VUe,{selectedClassId:e,onClassChange:t,selectedWeek:r,onWeekSelect:n,onCurrentWeekClick:j,onCopyLink:_}),o.jsx(sG,{selectedWeek:r,onWeekSelect:n}),f&&o.jsx("div",{className:"flex items-center justify-center py-8 bg-gray-900/50 rounded-lg mx-4 mb-4",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),o.jsx("span",{className:"text-gray-300 text-sm",children:"Memuat data jadwal dengan paginasi..."})]})}),h&&o.jsx("div",{className:"flex items-center justify-center py-8 bg-red-900/20 border border-red-500/30 rounded-lg mx-4 mb-4",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-red-400 text-sm mb-2",children:" Gagal memuat data jadwal"}),o.jsx("div",{className:"text-gray-400 text-xs",children:h.message})]})}),o.jsx("div",{className:"flex-1 px-4 sm:px-6",children:o.jsx(le,{className:"bg-card border-border shadow-sm",children:o.jsx(ce,{className:"p-6",children:o.jsx("div",{style:{minHeight:"600px"},children:o.jsx(Lf,{ref:i,plugins:[eg,PP],initialView:"timeGridWeek",headerToolbar:!1,events:y,editable:!1,selectable:!1,height:"auto",locale:fw,slotMinTime:w.slotMinTime,slotMaxTime:w.slotMaxTime,slotDuration:"00:30:00",slotLabelInterval:"01:00:00",allDaySlot:!1,weekends:!0,dayHeaderFormat:{weekday:"short",month:"numeric",day:"numeric"},eventContent:S=>{var k;return o.jsxs("div",{className:"p-1 text-xs",children:[o.jsx("div",{className:"font-semibold truncate",children:S.event.title}),o.jsx("div",{className:"text-xs opacity-75 truncate",children:((k=S.event.extendedProps.teacher)==null?void 0:k.full_name)||"Guru"})]})}})})})})})]})})},YUe=()=>o.jsxs(HE,{children:[o.jsx(St,{index:!0,element:o.jsx(oG,{})}),o.jsx(St,{path:"overview",element:o.jsx(uG,{})}),o.jsx(St,{path:"external",element:o.jsx(QUe,{})}),o.jsx(St,{path:"sync",element:o.jsx(dG,{})}),o.jsx(St,{path:"print",element:o.jsx(fG,{})})]}),JUe=()=>{const[e,t]=x.useState(""),[r,n]=x.useState(1),[a,s]=x.useState(""),[i,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[h,m]=x.useState([]),[v,p]=x.useState(null),[g,b]=x.useState(!0),[y,w]=x.useState(null),_=x.useRef(null),{toast:j}=Te();x.useEffect(()=>{const T=new URLSearchParams(window.location.search),C=T.get("class"),I=T.get("week");if(C&&t(C),I){const $=parseInt(I,10);$>=1&&$<=24&&n($)}},[]),x.useEffect(()=>{(async()=>{b(!0),w(null);try{const{data:C,error:I}=await G.from("class_schedules").select(`
            id,
            academic_week,
            academic_year_id,
            class_id,
            day_of_week,
            start_time,
            end_time,
            subject_id,
            teacher_id,
            room,
            notes,
            created_at,
            schedule_subjects (id, name, code, color),
            classes (id, name, level, grade),
            teachers (id, full_name, nip)
          `).not("day_of_week","is",null).order("academic_week",{ascending:!0}).order("day_of_week",{ascending:!0}).order("start_time",{ascending:!0});if(I)throw I;const{data:$,error:M}=await G.from("classes").select("*").order("name",{ascending:!0});if(M)throw M;const{data:D,error:F}=await G.rpc("get_academic_weeks").order("week_number",{ascending:!0});if(F){const K=Array.from({length:24},(J,X)=>({week_number:X+1,start_date:new Date(2025,0,6+X*7).toISOString().split("T")[0],end_date:new Date(2025,0,12+X*7).toISOString().split("T")[0]}));f(K)}else f(D||[]);const{data:z,error:U}=await G.from("time_sessions").select("*").order("start_time",{ascending:!0});if(U)throw U;const{data:R,error:B}=await G.from("schools").select("*").limit(1).single();if(B&&B.code!=="PGRST116")throw B;l(C||[]),u($||[]),m(z||[]),p(R),console.log(" Public data fetched successfully:",{schedules:(C==null?void 0:C.length)||0,classes:($==null?void 0:$.length)||0,weeks:(D==null?void 0:D.length)||0,timeSessions:(z==null?void 0:z.length)||0})}catch(C){console.error(" Error fetching public data:",C),w(C.message||"Failed to load schedule data")}finally{b(!1)}})()},[]),x.useEffect(()=>{const T=new URLSearchParams;e&&T.set("class",e),T.set("week",r.toString());const C=window.location.origin;s(`${C}/public/schedule?${T.toString()}`)},[e,r]);const S=x.useMemo(()=>!i||i.length===0?[]:i.filter(T=>{var C;return!(T.academic_week!==r||e&&T.class_id!==e||!T.start_time||!T.end_time||!((C=T.schedule_subjects)!=null&&C.name))}),[i,r,e]),k=x.useMemo(()=>{if(!S||S.length===0)return[];const T=d.find(C=>C.week_number===r);return T?S.map(C=>{const I=new Date(T.start_date),$=new Date(I),M=C.day_of_week===7?0:C.day_of_week;$.setDate(I.getDate()+M);const D=$.toISOString().split("T")[0],F=C.schedule_subjects,z=C.teachers;return{id:C.id,title:(F==null?void 0:F.name)||"Mata Pelajaran",start:`${D}T${C.start_time}`,end:`${D}T${C.end_time}`,backgroundColor:(F==null?void 0:F.color)||"#6b7280",borderColor:(F==null?void 0:F.color)||"#6b7280",textColor:"#ffffff",extendedProps:{teacher:z==null?void 0:z.full_name,classroom:C.room}}}).filter(Boolean):[]},[S,d,r]),N=x.useMemo(()=>{if(!h||h.length===0)return{slotMinTime:"06:00:00",slotMaxTime:"18:00:00"};const T=h.map(M=>M.start_time),C=h.map(M=>M.end_time),I=T.sort()[0],$=C.sort().reverse()[0];return{slotMinTime:I||"06:00:00",slotMaxTime:$||"18:00:00"}},[h]),E=async()=>{try{await navigator.clipboard.writeText(a),j({title:" Link Berhasil Disalin",description:"Link jadwal telah disalin ke clipboard."})}catch{j({title:" Gagal Menyalin Link",description:"Terjadi kesalahan saat menyalin link.",variant:"destructive"})}},P=()=>{r>1&&n(r-1)},A=()=>{r<d.length&&n(r+1)},O=d.find(T=>T.week_number===r);return g?o.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-lime-400 mx-auto mb-4"}),o.jsx("div",{className:"text-white text-lg",children:"Memuat Jadwal..."})]})}):y?o.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-red-400 text-lg mb-4",children:" Gagal Memuat Jadwal"}),o.jsx("div",{className:"text-gray-400",children:y})]})}):o.jsxs("div",{className:"min-h-screen bg-gray-900",children:[o.jsx("div",{className:"bg-gray-800/50 border-b border-gray-700/50 p-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(rt,{className:"h-8 w-8 text-lime-400"}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-white",children:(v==null?void 0:v.name)||"Jadwal Sekolah"}),o.jsx("p",{className:"text-gray-400",children:"Public Schedule View"})]})]}),o.jsxs(V,{onClick:E,className:"bg-lime-400 hover:bg-lime-500 text-gray-900",children:[o.jsx(wE,{className:"h-4 w-4 mr-2"}),"Copy Link"]})]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(bi,{className:"h-4 w-4 text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-400",children:"Filter:"})]}),o.jsxs(ze,{value:e,onValueChange:t,children:[o.jsx($e,{className:"w-48 bg-gray-700 border-gray-600 text-white",children:o.jsx(Ue,{placeholder:"Pilih Kelas"})}),o.jsx(Le,{className:"bg-gray-700 border-gray-600",children:c.map(T=>o.jsx(pe,{value:T.id,className:"text-white hover:bg-gray-600",children:T.name},T.id))})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(V,{variant:"outline",size:"sm",onClick:P,disabled:r<=1,className:"bg-gray-700 border-gray-600 text-white hover:bg-gray-600",children:o.jsx(xd,{className:"h-4 w-4"})}),o.jsxs("div",{className:"text-center px-4",children:[o.jsxs("div",{className:"text-white font-semibold",children:["Minggu ",r]}),O&&o.jsxs("div",{className:"text-xs text-gray-400",children:[new Date(O.start_date).toLocaleDateString("id-ID")," - ",new Date(O.end_date).toLocaleDateString("id-ID")]})]}),o.jsx(V,{variant:"outline",size:"sm",onClick:A,disabled:r>=d.length,className:"bg-gray-700 border-gray-600 text-white hover:bg-gray-600",children:o.jsx(ci,{className:"h-4 w-4"})})]})]})]})}),o.jsx("div",{className:"max-w-7xl mx-auto p-4",children:o.jsx(le,{className:"bg-gray-800/50 border-gray-700/50",children:o.jsx(ce,{className:"p-6",children:o.jsx("div",{style:{minHeight:"600px"},children:o.jsx(Lf,{ref:_,plugins:[eg,PP],initialView:"timeGridWeek",headerToolbar:!1,events:k,editable:!1,selectable:!1,height:"auto",locale:fw,slotMinTime:N.slotMinTime,slotMaxTime:N.slotMaxTime,slotDuration:"00:30:00",slotLabelInterval:"01:00:00",allDaySlot:!1,weekends:!0,dayHeaderFormat:{weekday:"short",month:"numeric",day:"numeric"},eventContent:T=>o.jsxs("div",{className:"p-1 text-xs",children:[o.jsx("div",{className:"font-semibold truncate",children:T.event.title}),o.jsx("div",{className:"text-xs opacity-75 truncate",children:T.event.extendedProps.teacher})]})})})})})})]})},XUe=()=>o.jsxs(o.Fragment,{children:[o.jsx(JUe,{}),o.jsx(SE,{})]}),ZUe=()=>{const e=[{id:"test-1",title:"MPLS",start:"2025-01-07T03:00:00",end:"2025-01-07T22:30:00",backgroundColor:"#ff6b6b",borderColor:"#ffffff",textColor:"#ffffff"},{id:"test-2",title:"MPLS",start:"2025-01-08T03:00:00",end:"2025-01-08T22:30:00",backgroundColor:"#4ecdc4",borderColor:"#ffffff",textColor:"#ffffff"},{id:"test-3",title:"MPLS",start:"2025-01-09T03:00:00",end:"2025-01-09T22:30:00",backgroundColor:"#45b7d1",borderColor:"#ffffff",textColor:"#ffffff"},{id:"test-4",title:"MPLS",start:"2025-01-10T03:00:00",end:"2025-01-10T22:30:00",backgroundColor:"#f9ca24",borderColor:"#ffffff",textColor:"#ffffff"},{id:"test-5",title:"Libur Semester",start:"2025-01-11T03:00:00",end:"2025-01-11T22:30:00",backgroundColor:"#6c5ce7",borderColor:"#ffffff",textColor:"#ffffff"},{id:"test-6",title:"Libur Semester",start:"2025-01-12T03:00:00",end:"2025-01-12T22:30:00",backgroundColor:"#a29bfe",borderColor:"#ffffff",textColor:"#ffffff"},{id:"test-7",title:"MPLS",start:"2025-01-13T03:00:00",end:"2025-01-13T22:30:00",backgroundColor:"#fd79a8",borderColor:"#ffffff",textColor:"#ffffff"},{id:"test-8",title:"MPLS",start:"2025-01-14T03:00:00",end:"2025-01-14T22:30:00",backgroundColor:"#fdcb6e",borderColor:"#ffffff",textColor:"#ffffff"}];return console.log(" TEST EVENTS:",e),o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"TEST - Public External View"}),o.jsx("p",{className:"text-gray-600",children:"Testing calendar with hardcoded events based on database data"})]})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:o.jsx(le,{children:o.jsxs(ce,{className:"p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold",children:["Test Events Count: ",e.length]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Events span from Jan 7-14, 2025 (Week 1-2)"})]}),o.jsx("div",{className:"bg-white rounded-lg border border-gray-200",children:o.jsx(Lf,{plugins:[eg],initialView:"timeGridWeek",headerToolbar:{left:"prev,next today",center:"title",right:"timeGridWeek,timeGridDay"},height:"auto",events:e,slotMinTime:"03:00:00",slotMaxTime:"23:00:00",slotDuration:"00:30:00",slotLabelInterval:"01:00:00",firstDay:1,weekends:!0,initialDate:"2025-01-06",eventDisplay:"block",locale:"id",dayHeaderFormat:{weekday:"long",day:"numeric",month:"short"},slotLabelFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},eventContent:t=>{var n,a;const{event:r}=t;return o.jsxs("div",{className:"p-1 text-xs",children:[o.jsx("div",{className:"font-medium truncate",children:r.title}),o.jsxs("div",{className:"opacity-75 truncate",children:[(n=r.start)==null?void 0:n.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})," - ",(a=r.end)==null?void 0:a.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})]})]})}})})]})})}),o.jsxs("div",{className:"bg-gray-100 p-4 text-xs text-gray-600",children:[o.jsx("h4",{className:"font-bold mb-2",children:"Debug Information:"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Total Events:"})," ",e.length]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Date Range:"})," Jan 7-14, 2025"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Time Range:"})," 03:00-22:30"]})]}),o.jsxs("div",{children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Week 1 Events:"})," ",e.filter(t=>t.start.includes("2025-01-0")).length]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Week 2 Events:"})," ",e.filter(t=>t.start.includes("2025-01-1")).length]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Calendar View:"})," timeGridWeek"]})]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("p",{children:o.jsx("strong",{children:"Event Details:"})}),o.jsx("ul",{className:"list-disc list-inside",children:e.map(t=>o.jsxs("li",{children:[t.title," - ",t.start," to ",t.end]},t.id))})]})]})]})},eHe=Sc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),of=x.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:se(eHe({variant:t}),e),...r}));of.displayName="Alert";const tHe=x.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:se("mb-1 font-medium leading-none tracking-tight",e),...t}));tHe.displayName="AlertTitle";const lf=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:se("text-sm [&_p]:leading-relaxed",e),...t}));lf.displayName="AlertDescription";const rHe=({schedules:e,academicWeeks:t,timeSessions:r,selectedWeek:n,onWeekChange:a,selectedClassId:s,className:i})=>{const l=t.find(g=>g.weekNumber===n),c=x.useMemo(()=>{if(!l)return null;const g=new Date(l.startDate),b=Hr(g,6);return{startFormatted:Ne(g,"EEEE, dd/MM",{locale:Nt}),endFormatted:Ne(b,"EEEE, dd/MM",{locale:Nt}),fullRange:`${Ne(g,"EEEE, dd/MM",{locale:Nt})} - ${Ne(b,"EEEE, dd/MM",{locale:Nt})}`}},[l]),u=x.useMemo(()=>s?e?e.filter(b=>{var E;const y=parseInt(b.academic_week),w=parseInt(n.toString()),_=y===w,j=!s||b.class_id===s,S=b.start_time&&b.end_time&&(b.subject_name||((E=b.schedule_subjects)==null?void 0:E.name))&&b.day_of_week,k=/^\d{2}:\d{2}:\d{2}$/.test(b.start_time)&&/^\d{2}:\d{2}:\d{2}$/.test(b.end_time);return _&&j&&S&&k}):[]:[],[e,n,s]),d=x.useMemo(()=>{if(!u||u.length===0)return[];const b=(()=>{const w=t.find(k=>k.weekNumber===n);if(w)return new Date(w.startDate);const _=new Date(2025,0,6),j=(n-1)*7,S=new Date(_);return S.setDate(_.getDate()+j),S})();return u.map(w=>{try{let _,j;if(w.subject_name)_={id:w.subject_id,name:w.subject_name,color:w.subject_color},j={id:w.category_id,name:w.category_name,color:w.category_color};else if(w.schedule_subjects)_=w.schedule_subjects,j=w.schedule_subjects.session_categories;else return null;const k=w.day_of_week-1,N=new Date(b);N.setDate(b.getDate()+k);let E,P;try{const[T,C,I]=w.start_time.split(":").map(Number),[$,M,D]=w.end_time.split(":").map(Number);E=new Date(N),E.setHours(T,C,I||0,0),P=new Date(N),P.setHours($,M,D||0,0)}catch{return null}const A={background:(_==null?void 0:_.color)||(j==null?void 0:j.color)||"#6b7280",border:"#ffffff",text:"#ffffff"};return{id:w.id,title:(_==null?void 0:_.name)||"Mata Pelajaran",start:E.toISOString(),end:P.toISOString(),backgroundColor:A.background,borderColor:A.border,textColor:A.text,extendedProps:{schedule:w,teacher:{id:w.teacher_id,full_name:w.teacher_name},class:{id:w.class_id,name:w.class_name},subject:_,category:j,originalColor:A.background,isPublic:!0}}}catch{return null}}).filter(Boolean)},[u,t,n]),f=()=>{n>1&&a(n-1)},h=()=>{n<t.length&&a(n+1)},m=()=>{const g=new Date,b=t.find(y=>{const w=new Date(y.startDate),_=new Date(y.endDate);return g>=w&&g<=_});a(b?b.weekNumber:1)},v=x.useRef(null),p=x.useRef(null);return x.useEffect(()=>{if(v.current){const g=v.current.querySelector(`[data-week="${n}"]`);g&&g.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}},[n]),x.useEffect(()=>{var b;const g=(b=p.current)==null?void 0:b.getApi();g&&l&&g.gotoDate(l.startDate)},[n,l]),o.jsxs("div",{className:se("w-full",i),children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"md:hidden space-y-3",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Minggu ",n]}),c&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm text-gray-600 font-medium",children:c.fullRange}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Pekan ",n," TA 2025/2026"]})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(V,{variant:"outline",size:"sm",onClick:f,disabled:n<=1,className:"flex items-center gap-1 px-3",children:[o.jsx(xd,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Sebelum"})]}),o.jsxs(V,{variant:"ghost",size:"sm",onClick:m,className:"flex items-center gap-1 px-3 border border-blue-500 text-blue-500 hover:bg-blue-50",title:"Minggu Ini",children:[o.jsx(rt,{className:"h-4 w-4"}),o.jsx("span",{className:"text-xs",children:"Ini"})]}),o.jsxs(V,{variant:"outline",size:"sm",onClick:h,disabled:n>=t.length,className:"flex items-center gap-1 px-3",children:[o.jsx("span",{className:"hidden xs:inline",children:"Selanjut"}),o.jsx(ci,{className:"h-4 w-4"})]})]}),o.jsxs("div",{className:"text-center text-sm text-gray-500",children:[u.length," kegiatan"]})]}),o.jsxs("div",{className:"hidden md:flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(V,{variant:"outline",size:"sm",onClick:f,disabled:n<=1,className:"bg-background border-border text-foreground hover:bg-primary hover:text-primary-foreground",children:o.jsx(xd,{className:"h-4 w-4"})}),o.jsxs("div",{className:"text-center",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Minggu ",n]}),c&&o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-sm text-gray-600 font-medium",children:c.fullRange}),o.jsxs("p",{className:"text-xs text-gray-500",children:["Pekan ",n," Tahun Akademik 2025/2026"]})]})]}),o.jsx(V,{variant:"outline",size:"sm",onClick:h,disabled:n>=t.length,className:"bg-background border-border text-foreground hover:bg-primary hover:text-primary-foreground",children:o.jsx(ci,{className:"h-4 w-4"})}),o.jsx(V,{variant:"ghost",size:"sm",onClick:m,className:"w-10 h-10 rounded-full bg-background border border-blue-500 text-blue-500 hover:bg-blue-500/10 hover:border-blue-500/70 hover:text-blue-600 transition-all duration-300 transform hover:scale-105",title:"Minggu Ini",children:o.jsx(rt,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"text-sm text-gray-500",children:[u.length," kegiatan"]})]})]}),o.jsx("div",{className:"relative z-15 p-3 py-[5px] my-0 mb-4",children:o.jsxs("div",{ref:v,className:"w-full overflow-x-auto pb-2 custom-scrollbar",children:[o.jsx("style",{children:`
              .custom-scrollbar::-webkit-scrollbar {
                height: 6px;
              }
              .custom-scrollbar::-webkit-scrollbar-track {
                background: hsl(var(--muted));
                border-radius: 3px;
              }
              .custom-scrollbar::-webkit-scrollbar-thumb {
                background: hsl(var(--muted-foreground) / 0.3);
                border-radius: 3px;
              }
              .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                background: hsl(var(--muted-foreground) / 0.5);
              }
            `}),o.jsx("div",{className:"flex gap-2",style:{width:`${t.length*60}px`},children:t.map(g=>{const b=n===g.weekNumber;return o.jsx(V,{"data-week":g.weekNumber,variant:b?"default":"outline",size:"sm",onClick:()=>a(g.weekNumber),className:`h-6 flex items-center justify-center space-x-2 text-xs font-thin rounded-full px-3 transition-all duration-200 ${b?"bg-primary border-primary text-primary-foreground":"bg-background border-border text-foreground hover:bg-accent hover:text-accent-foreground hover:scale-105"}`,children:o.jsx("span",{className:"font-medium",children:g.weekNumber})},g.weekNumber)})})]})}),o.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 w-full overflow-hidden",children:[o.jsx("style",{children:`
            /* Mobile Calendar Optimizations */
            @media (max-width: 768px) {
              .fc-timegrid-slot-label {
                font-size: 10px !important;
                padding: 2px !important;
              }
              .fc-col-header-cell {
                font-size: 11px !important;
                padding: 4px 2px !important;
              }
              .fc-timegrid-event {
                font-size: 9px !important;
                padding: 1px 2px !important;
                line-height: 1.1 !important;
              }
              .fc-event-title {
                font-size: 9px !important;
                line-height: 1.1 !important;
              }
              .fc-timegrid-axis {
                width: 35px !important;
              }
              .fc-scrollgrid-sync-table {
                font-size: 10px !important;
              }
            }

            /* Tablet optimizations */
            @media (min-width: 769px) and (max-width: 1024px) {
              .fc-timegrid-slot-label {
                font-size: 11px !important;
              }
              .fc-col-header-cell {
                font-size: 12px !important;
              }
              .fc-timegrid-event {
                font-size: 10px !important;
              }
            }
          `}),o.jsx(Lf,{ref:p,plugins:[eg],initialView:"timeGridWeek",headerToolbar:!1,height:"auto",events:d,locale:fw,initialDate:(l==null?void 0:l.startDate)||new Date(2025,0,6),editable:!1,selectable:!1,selectMirror:!1,dayMaxEvents:!1,slotMinTime:"03:00:00",slotMaxTime:"23:00:00",slotDuration:"00:30:00",slotLabelInterval:"01:00:00",firstDay:1,weekends:!0,allDaySlot:!1,eventDisplay:"block",eventMinHeight:15,eventShortHeight:30,dayHeaderFormat:{weekday:"short",month:"numeric",day:"numeric"},slotLabelFormat:{hour:"2-digit",minute:"2-digit",hour12:!1},businessHours:{daysOfWeek:[1,2,3,4,5,6,0],startTime:"03:00",endTime:"23:00"},eventContent:g=>{var S,k,N;const{event:b}=g,y=(k=(S=b.extendedProps)==null?void 0:S.teacher)==null?void 0:k.full_name,w=(N=b.extendedProps)==null?void 0:N.classroom,_=new Date(b.start).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",hour12:!1}),j=new Date(b.end).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",hour12:!1});return o.jsxs("div",{className:"p-1 text-xs",children:[o.jsxs("div",{className:"font-semibold text-white/90 text-[10px] mb-1",children:[_," - ",j]}),o.jsx("div",{className:"font-medium truncate",children:b.title}),y&&o.jsx("div",{className:"opacity-90 truncate",children:y}),w&&o.jsxs("div",{className:"opacity-75 truncate",children:[" ",w]})]})},eventClick:()=>{},select:()=>{},eventClassNames:"cursor-default"})]}),o.jsx("div",{className:"mt-4 text-center text-sm text-gray-500",children:o.jsx("p",{children:" Jadwal ini adalah tampilan publik - hanya untuk melihat"})})]})},nHe=()=>{const{token:e}=M0();kc();const[t,r]=x.useState(null),[n,a]=x.useState(!0),[s,i]=x.useState(null),[l,c]=x.useState(1),[u,d]=x.useState(!1),[f,h]=x.useState(null),m=()=>{window.open(`/external/${e}/overview`,"_blank")},v=()=>{window.open(`/external/${e}/events`,"_blank")};x.useEffect(()=>{(async()=>{var w;if(!e){i("Token tidak valid"),a(!1);return}try{console.log(" PRODUCTION DEBUG - Starting data fetch"),console.log(" PRODUCTION DEBUG - Token exists:",!!e),console.log(" PRODUCTION DEBUG - Supabase URL configured:",!1);try{const{data:U,error:R}=await G.from("schools").select("id").limit(1);console.log(" PRODUCTION DEBUG - Supabase connection test:",R?"FAILED":"SUCCESS"),R&&console.log(" PRODUCTION DEBUG - Connection error:",R.message)}catch(U){console.log(" PRODUCTION DEBUG - Connection exception:",U)}let _,j;try{const U=atob(e),[R,B]=U.split(":");_=R,j=B,console.log(" PRODUCTION DEBUG - Token decoded successfully"),console.log(" PRODUCTION DEBUG - School ID exists:",!!j),console.log(" PRODUCTION DEBUG - Class ID exists:",!!_)}catch{console.log(" PRODUCTION DEBUG - Token decode failed"),i("Akses tidak valid"),a(!1);return}const{data:S,error:k}=await G.from("schools").select("name, logo_url, address, phone, email").eq("id",j).single();if(k){console.log(" PRODUCTION DEBUG - School fetch failed"),console.log(" PRODUCTION DEBUG - Error code:",k.code),console.log(" PRODUCTION DEBUG - Error message:",k.message),console.log(" PRODUCTION DEBUG - School ID used:",j),(k.code==="PGRST116"||(w=k.message)!=null&&w.includes("policy"))&&(console.log(" PRODUCTION DEBUG - RLS Policy issue detected"),console.log(" PRODUCTION DEBUG - Public access policies may not be configured")),k.code==="PGRST116"?i("Akses publik belum dikonfigurasi. Silakan hubungi administrator."):i("Data tidak ditemukan"),a(!1);return}const{data:N,error:E}=await G.from("classes").select("id, name, level").eq("id",_).eq("school_id",j).single();if(E){i("Data tidak ditemukan"),a(!1);return}const{data:P,error:A}=await G.from("classes").select("id, name, level, grade").eq("school_id",j).order("name");let O=[],T=0;const C=1e3;let I=!0,$=0;for(;I;){const{data:U,error:R}=await G.from("schedules_view").select("*").eq("school_id",j).not("day_of_week","is",null).order("academic_week",{ascending:!0}).order("day_of_week",{ascending:!0}).order("start_time",{ascending:!0}).range(T,T+C-1);if(R){i("Data tidak ditemukan"),a(!1);return}if(!U||U.length===0){I=!1;break}O=[...O,...U],$+=U.length,U.length<C?I=!1:T+=C,$>=5e4&&(I=!1)}if(O.length===0){i("Data tidak ditemukan"),a(!1);return}const{data:M}=await G.from("academic_years").select("*").eq("school_id",j).eq("is_active",!0).single();let D;if(M){const U=new Date(M.start_date),R=new Date(M.end_date),B=[];let K=new Date(U);K.setDate(K.getDate()-K.getDay()+1);let J=1;for(;K<=R&&J<=52;){const X=new Date(K);X.setDate(K.getDate()+6),B.push({weekNumber:J,startDate:new Date(K),endDate:X,label:`Minggu ${J}`,dateRange:`${K.getDate()}/${K.getMonth()+1} - ${X.getDate()}/${X.getMonth()+1}`,isCurrentWeek:!1}),K.setDate(K.getDate()+7),J++}D=B}else{const U=new Date(2025,0,6);D=Array.from({length:52},(R,B)=>{const K=B+1,J=new Date(U);J.setDate(U.getDate()+B*7);const X=new Date(J);return X.setDate(J.getDate()+6),{weekNumber:K,startDate:J,endDate:X,label:`Minggu ${K}`,dateRange:`${J.getDate()}/${J.getMonth()+1} - ${X.getDate()}/${X.getMonth()+1}`,isCurrentWeek:!1}})}const{data:F,error:z}=await G.from("time_sessions").select("*").eq("school_id",j).order("start_time",{ascending:!0});r({school:S,class:N,classes:P||[],schedules:O||[],academicWeeks:D,timeSessions:F||[]}),h(_)}catch{i("Terjadi kesalahan saat memuat data")}finally{a(!1)}})()},[e]);const p=x.useMemo(()=>t!=null&&t.schedules?t.schedules.filter(y=>!(f&&y.class_id!==f)):[],[t==null?void 0:t.schedules,f]),g=x.useMemo(()=>{if(!f||!(t!=null&&t.classes))return"Semua Kelas";const y=t.classes.find(w=>w.id===f);return y?y.name:"Kelas Tidak Ditemukan"},[f,t==null?void 0:t.classes]),b=x.useMemo(()=>!f||!(t!=null&&t.schedules)?[]:t.schedules.filter(w=>!(w.class_id!==f||w.academic_week!==l)).map(w=>{const j=["","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu","Minggu"][w.day_of_week]||"Unknown",S=new Date(`2000-01-01T${w.start_time}`),N=(new Date(`2000-01-01T${w.end_time}`).getTime()-S.getTime())/(1e3*60),E=Math.round(N/45*100)/100;return{id:w.id,mapel:w.subject_name||"Mata Pelajaran",jp:E,tujuan_pembelajaran:w.tujuan_pembelajaran||"-",materi_pembelajaran:w.materi_pembelajaran||"-",catatan_guru:w.notes||"-",day:j,time:`${w.start_time} - ${w.end_time}`,color:w.subject_color||"#3B82F6"}}).sort((w,_)=>{const j=["Senin","Selasa","Rabu","Kamis","Jumat","Sabtu","Minggu"],S=j.indexOf(w.day)-j.indexOf(_.day);return S!==0?S:w.time.localeCompare(_.time)}),[t==null?void 0:t.schedules,l,f]);return n?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(_a,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),o.jsx("p",{className:"text-gray-600",children:"Memuat jadwal..."})]})}):s||!t?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:o.jsx(le,{className:"w-full max-w-md",children:o.jsx(ce,{className:"p-6",children:o.jsx(of,{variant:"destructive",children:o.jsx(lf,{children:s||"Data tidak ditemukan"})})})})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"sticky top-0 z-50 bg-white border-b border-gray-200 shadow-sm backdrop-blur-sm bg-white/95",children:o.jsx("div",{className:"max-w-7xl mx-auto px-3 md:px-4 py-3 md:py-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4 min-w-0 flex-1",children:[t.school.logo_url&&o.jsx("img",{src:t.school.logo_url,alt:"Logo Sekolah",className:"h-8 w-8 md:h-12 md:w-12 object-contain flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h1",{className:"text-lg md:text-2xl font-bold text-gray-900 truncate",children:t.school.name}),o.jsxs("p",{className:"text-sm md:text-base text-gray-600 truncate",children:["Jadwal ",g]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 md:space-x-3 lg:space-x-6",children:[o.jsxs("div",{className:"hidden lg:flex items-center space-x-3",children:[o.jsxs(V,{onClick:()=>d(!0),variant:"outline",size:"sm",className:"flex items-center gap-2 bg-green-50 border-green-200 text-green-700 hover:bg-green-100 hover:border-green-300",children:[o.jsx(Ru,{className:"h-4 w-4"}),"Hitung JP"]}),o.jsxs(V,{onClick:m,variant:"outline",size:"sm",className:"flex items-center gap-2 bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100 hover:border-blue-300",children:[o.jsx($l,{className:"h-4 w-4"}),"Overview"]}),o.jsxs(V,{onClick:v,variant:"outline",size:"sm",className:"flex items-center gap-2 bg-lime-50 border-lime-200 text-lime-700 hover:bg-lime-100 hover:border-lime-300",children:[o.jsx(Zn,{className:"h-4 w-4"}),"Kaldik"]})]}),o.jsxs("div",{className:"hidden md:flex lg:hidden items-center space-x-2",children:[o.jsx(V,{onClick:()=>d(!0),variant:"outline",size:"sm",className:"bg-green-50 border-green-200 text-green-700 hover:bg-green-100 p-2",children:o.jsx(Ru,{className:"h-4 w-4"})}),o.jsx(V,{onClick:m,variant:"outline",size:"sm",className:"bg-blue-50 border-blue-200 text-blue-700 hover:bg-blue-100 p-2",children:o.jsx($l,{className:"h-4 w-4"})}),o.jsx(V,{onClick:v,variant:"outline",size:"sm",className:"bg-lime-50 border-lime-200 text-lime-700 hover:bg-lime-100 p-2",children:o.jsx(Zn,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"text-right text-xs md:text-sm text-gray-500 hidden sm:block",children:[o.jsxs("p",{className:"flex items-center justify-end",children:[o.jsx(rt,{className:"h-3 w-3 md:h-4 md:w-4 mr-1"}),o.jsx("span",{className:"hidden md:inline",children:"TA "}),"2025/26"]}),o.jsxs("p",{className:"flex items-center justify-end mt-1",children:[o.jsx(vr,{className:"h-3 w-3 md:h-4 md:w-4 mr-1"}),g]})]})]})]})})}),o.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-40 bg-white border-t border-gray-200 shadow-lg",children:o.jsxs("div",{className:"grid grid-cols-3 gap-1 p-2",children:[o.jsxs(V,{onClick:()=>d(!0),variant:"ghost",className:"flex flex-col items-center gap-1 h-auto py-3 px-2 bg-green-50 text-green-700 hover:bg-green-100",children:[o.jsx(Ru,{className:"h-5 w-5"}),o.jsx("span",{className:"text-xs font-medium",children:"Hitung JP"})]}),o.jsxs(V,{onClick:m,variant:"ghost",className:"flex flex-col items-center gap-1 h-auto py-3 px-2 bg-blue-50 text-blue-700 hover:bg-blue-100",children:[o.jsx($l,{className:"h-5 w-5"}),o.jsx("span",{className:"text-xs font-medium",children:"Overview"})]}),o.jsxs(V,{onClick:v,variant:"ghost",className:"flex flex-col items-center gap-1 h-auto py-3 px-2 bg-lime-50 text-lime-700 hover:bg-lime-100",children:[o.jsx(Zn,{className:"h-5 w-5"}),o.jsx("span",{className:"text-xs font-medium",children:"Kaldik"})]})]})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-3 md:px-4 py-4 md:py-6 space-y-4 md:space-y-6 pt-6 md:pt-8 pb-20 md:pb-6",children:[o.jsxs(le,{className:"bg-card border-border shadow-sm",children:[o.jsx(ke,{children:o.jsxs(Pe,{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[o.jsx(bi,{className:"h-5 w-5 text-primary"}),"Filter Kelas"]})}),o.jsx(ce,{children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Pilih Kelas:"}),o.jsxs(ze,{value:f||"all",onValueChange:y=>h(y==="all"?null:y),children:[o.jsx($e,{className:"w-full bg-background border-border text-foreground",children:o.jsx(Ue,{placeholder:"Semua Kelas"})}),o.jsxs(Le,{className:"bg-popover border-border",children:[o.jsx(pe,{value:"all",className:"text-foreground hover:bg-accent",children:"Semua Kelas"}),t.classes.map(y=>o.jsxs(pe,{value:y.id,className:"text-foreground hover:bg-accent",children:[y.name," (",y.level," ",y.grade,")"]},y.id))]})]})]})})})]}),o.jsx(le,{children:o.jsx(ce,{className:"p-6",children:o.jsx(rHe,{schedules:p,academicWeeks:t.academicWeeks,timeSessions:t.timeSessions,selectedWeek:l,onWeekChange:c,selectedClassId:f||t.class.id,className:"w-full"})})}),o.jsxs(le,{className:"bg-card border-border",children:[o.jsxs(ke,{children:[o.jsxs(Pe,{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[o.jsx(ir,{className:"h-5 w-5 text-primary"}),"Daftar Kegiatan Mingguan"]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Minggu ",l," - ",g]})]}),o.jsx(ce,{children:b.length===0?o.jsxs("div",{className:"p-8 bg-card rounded-lg border border-border text-center",children:[o.jsx(lr,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground"}),o.jsx("p",{className:"text-muted-foreground",children:"Belum ada kegiatan terjadwal untuk minggu ini"})]}):o.jsxs("div",{className:"bg-card rounded-lg border border-border overflow-hidden",children:[o.jsx("div",{className:"bg-muted/50 px-6 py-4 border-b border-border",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm font-semibold text-foreground",children:[o.jsxs("div",{className:"col-span-2 flex items-center space-x-2",children:[o.jsx(ir,{className:"h-4 w-4 text-primary"}),o.jsx("span",{children:"MAPEL"})]}),o.jsxs("div",{className:"col-span-1 flex items-center space-x-2",children:[o.jsx(lr,{className:"h-4 w-4 text-blue-500"}),o.jsx("span",{children:"JP"})]}),o.jsxs("div",{className:"col-span-3 flex items-center space-x-2",children:[o.jsx(_E,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{children:"TUJUAN PEMBELAJARAN"})]}),o.jsxs("div",{className:"col-span-3 flex items-center space-x-2",children:[o.jsx(vE,{className:"h-4 w-4 text-orange-500"}),o.jsx("span",{children:"MATERI PEMBELAJARAN"})]}),o.jsxs("div",{className:"col-span-3 flex items-center space-x-2",children:[o.jsx(Y5,{className:"h-4 w-4 text-purple-500"}),o.jsx("span",{children:"CATATAN GURU"})]})]})}),o.jsx("div",{className:"divide-y divide-border",children:b.map(y=>o.jsx("div",{className:"px-6 py-4 hover:bg-accent/30 transition-colors",children:o.jsxs("div",{className:"grid grid-cols-12 gap-4 text-sm",children:[o.jsx("div",{className:"col-span-2",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:y.color}}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-foreground",children:y.mapel}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[y.day,"  ",y.time]})]})]})}),o.jsx("div",{className:"col-span-1",children:o.jsx("div",{className:"flex items-center justify-center",children:o.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[y.jp," JP"]})})}),o.jsx("div",{className:"col-span-3",children:o.jsx("div",{className:"text-foreground",children:y.tujuan_pembelajaran})}),o.jsx("div",{className:"col-span-3",children:o.jsx("div",{className:"text-foreground",children:y.materi_pembelajaran})}),o.jsx("div",{className:"col-span-3",children:o.jsx("div",{className:"text-foreground",children:y.catatan_guru})})]})},y.id))})]})})]})]}),o.jsx("div",{className:"bg-white border-t border-gray-200 mt-8",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:o.jsxs("div",{className:"text-center text-sm text-gray-500",children:[o.jsxs("p",{className:"flex items-center justify-center",children:[o.jsx(y0,{className:"h-4 w-4 mr-1"}),t.school.address]}),(t.school.phone||t.school.email)&&o.jsxs("p",{className:"mt-1",children:[t.school.phone&&o.jsxs("span",{className:"mr-4",children:[" ",t.school.phone]}),t.school.email&&o.jsxs("span",{children:[" ",t.school.email]})]})]})})}),u&&o.jsx(rG,{isOpen:u,onClose:()=>d(!1),selectedClassId:f||t.class.id,selectedWeek:l})]})},aHe=(e,t)=>Ze({queryKey:["public-schedule-subjects",e,t],queryFn:async()=>{if(!e||!t)return[];console.log(" Fetching public schedule subjects for:",{school_id:e,academic_year_id:t});const{data:r,error:n}=await G.from("schedule_subjects").select(`
          id, name, color, session_category_id,
          session_categories (id, name, color)
        `).eq("school_id",e).eq("academic_year_id",t).order("name",{ascending:!0});if(n)throw console.error(" Error fetching public schedule subjects:",n),n;return console.log(" Public schedule subjects fetched:",{count:(r==null?void 0:r.length)||0,data:r==null?void 0:r.map(a=>{var s;return{name:a.name,category:(s=a.session_categories)==null?void 0:s.name}})}),r||[]},enabled:!!e&&!!t,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:2}),sHe=(e,t)=>Ze({queryKey:["public-extracurriculars",e,t],queryFn:async()=>{if(!e||!t)return[];console.log(" Fetching public extracurriculars for:",{school_id:e,academic_year_id:t});const{data:r,error:n}=await G.from("extracurriculars").select(`
          id, name, color, session_category_id,
          session_categories (id, name, color)
        `).eq("school_id",e).eq("academic_year_id",t).order("name",{ascending:!0});if(n)throw console.error(" Error fetching public extracurriculars:",n),n;return console.log(" Public extracurriculars fetched:",{count:(r==null?void 0:r.length)||0,data:r==null?void 0:r.map(a=>{var s;return{name:a.name,category:(s=a.session_categories)==null?void 0:s.name}})}),r||[]},enabled:!!e&&!!t,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:2}),iHe=(e,t)=>Ze({queryKey:["public-session-categories",e,t],queryFn:async()=>{if(!e||!t)return[];console.log(" Fetching public session categories for:",{school_id:e,academic_year_id:t});const{data:r,error:n}=await G.from("session_categories").select("id, name, color").eq("school_id",e).eq("academic_year_id",t).order("created_at",{ascending:!0});if(n)throw console.error(" Error fetching public session categories:",n),n;return console.log(" Public session categories fetched:",{count:(r==null?void 0:r.length)||0,categories:r==null?void 0:r.map(a=>({name:a.name,color:a.color}))}),r||[]},enabled:!!e&&!!t,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:2}),oHe=(e,t)=>Ze({queryKey:["public-classes",e,t],queryFn:async()=>{if(!e||!t)return[];console.log(" Fetching public classes for:",{school_id:e,academic_year_id:t});const{data:r,error:n}=await G.from("classes").select("id, name, level, grade").eq("school_id",e).eq("academic_year_id",t).order("level",{ascending:!0});if(n)throw console.error(" Error fetching public classes:",n),n;return console.log(" Public classes fetched:",{count:(r==null?void 0:r.length)||0,classes:r==null?void 0:r.map(a=>({name:a.name,level:a.level,grade:a.grade}))}),r||[]},enabled:!!e&&!!t,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:2}),lHe=e=>Ze({queryKey:["public-active-academic-year",e],queryFn:async()=>{if(!e)return null;console.log(" Fetching public active academic year for:",{school_id:e});const{data:t,error:r}=await G.from("academic_years").select("*").eq("school_id",e).eq("is_active",!0).single();if(r)throw console.error(" Error fetching public active academic year:",r),r;return console.log(" Public active academic year fetched:",{year_name:t==null?void 0:t.year_name,id:t==null?void 0:t.id}),t},enabled:!!e,staleTime:10*60*1e3,gcTime:20*60*1e3,retry:2}),cHe=e=>Ze({queryKey:["public-academic-weeks-generated",e==null?void 0:e.id],queryFn:async()=>{var i,l;if(!e)return[];console.log(" Generating public academic weeks for:",{academic_year:e.year_name,start_date:e.start_date,end_date:e.end_date});const t=new Date(e.start_date),r=new Date(e.end_date),n=[];let a=tn(t,{weekStartsOn:1}),s=1;for(;a<=r;){const c=Ac(a,{weekStartsOn:1});n.push({weekNumber:s,startDate:a,endDate:c,label:`Minggu ${s}`,dateRange:`${Ne(a,"dd MMM",{locale:Nt})} - ${Ne(c,"dd MMM yyyy",{locale:Nt})}`,isCurrentWeek:tx(new Date,{start:a,end:c})}),a=Cd(a,1),s++}return console.log(" Public academic weeks generated:",{count:n.length,firstWeek:(i=n[0])==null?void 0:i.dateRange,lastWeek:(l=n[n.length-1])==null?void 0:l.dateRange}),n},enabled:!!e,staleTime:10*60*1e3,gcTime:20*60*1e3,retry:2}),uHe=()=>{const{token:e}=M0(),t=kc(),[r,n]=x.useState(null),[a,s]=x.useState(!0),[i,l]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(null),[h,m]=x.useState(null),[v,p]=x.useState(null),[g,b]=x.useState(null),y=()=>{t(`/external/${e}`)};x.useEffect(()=>{if(!e){l("Token tidak valid"),s(!1);return}try{const C=atob(e),[I,$]=C.split(":");if(!I||!$){l("Token format tidak valid"),s(!1);return}b({classId:I,schoolId:$}),console.log(" Token decoded successfully:",{classId:I,schoolId:$})}catch(C){console.error(" Token decode error:",C),l("Token tidak valid atau rusak"),s(!1)}},[e]);const{data:w}=lHe((g==null?void 0:g.schoolId)||""),{data:_=[]}=cHe(w),{data:j=[]}=oHe((g==null?void 0:g.schoolId)||"",(w==null?void 0:w.id)||""),{data:S=[]}=aHe((g==null?void 0:g.schoolId)||"",(w==null?void 0:w.id)||""),{data:k=[]}=sHe((g==null?void 0:g.schoolId)||"",(w==null?void 0:w.id)||""),{data:N=[]}=iHe((g==null?void 0:g.schoolId)||"",(w==null?void 0:w.id)||""),{data:E=[],isLoading:P,error:A}=Yo(),O=x.useMemo(()=>{if(!c||c==="all")return"Semua Kelas";const C=j==null?void 0:j.find(I=>I.id===c);return C?`${C.name} (${C.level} ${C.grade})`:c===(r==null?void 0:r.class.id)?r.class.name:"Kelas"},[c,j,r]);x.useEffect(()=>{(async()=>{if(g)try{const{data:I,error:$}=await G.from("schools").select("name, logo_url, address, phone, email").eq("id",g.schoolId).single();if($){l("Data sekolah tidak ditemukan"),s(!1);return}const{data:M,error:D}=await G.from("classes").select("id, name, level").eq("id",g.classId).eq("school_id",g.schoolId).single();if(D){l("Data kelas tidak ditemukan"),s(!1);return}n({school:I,class:M,classes:[],academicYear:null,scheduleSubjects:[],extracurriculars:[],sessionCategories:[]}),u(g.classId)}catch{l("Terjadi kesalahan saat memuat data")}finally{s(!1)}})()},[g]),x.useEffect(()=>{g&&r&&w&&s(!1)},[g,r,w]);const T=x.useMemo(()=>E?E.filter(C=>{if(c&&c!=="all"&&C.class_id!==c||d&&C.session_category_id!==d||h&&C.subject_id!==h)return!1;if(v&&_.length>0){const I=_.find($=>$.weekNumber===C.academic_week);if(I){const M=new Date(I.startDate).getMonth()+1;if(v==="1"){if(M<7||M>12)return!1}else if(v==="2"&&(M<1||M>6))return!1}}return!0}):[],[E,_,c,d,h,v]);return a||P?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(_a,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),o.jsx("p",{className:"text-gray-600",children:"Memuat overview jadwal..."})]})}):i||A||!r?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:o.jsx(le,{className:"w-full max-w-md",children:o.jsx(ce,{className:"p-6",children:o.jsx(of,{variant:"destructive",children:o.jsx(lf,{children:i||(A==null?void 0:A.message)||"Data tidak ditemukan"})})})})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-3 md:px-4 py-4 md:py-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4 min-w-0 flex-1",children:[o.jsxs(V,{onClick:y,variant:"outline",size:"sm",className:"flex items-center gap-1 md:gap-2 px-2 md:px-3",children:[o.jsx(H5,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Kembali ke Jadwal"}),o.jsx("span",{className:"sm:hidden",children:"Kembali"})]}),r.school.logo_url&&o.jsx("img",{src:r.school.logo_url,alt:"Logo Sekolah",className:"h-8 w-8 md:h-12 md:w-12 object-contain flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsxs("h1",{className:"text-lg md:text-2xl font-bold text-gray-900 flex items-center gap-1 md:gap-2",children:[o.jsx($l,{className:"h-5 w-5 md:h-6 md:w-6 text-blue-600"}),o.jsx("span",{className:"truncate",children:"Overview Jadwal"})]}),o.jsxs("p",{className:"text-sm md:text-base text-gray-600 truncate",children:[r.school.name," - Kelas ",O]})]})]}),o.jsxs("div",{className:"text-right text-xs md:text-sm text-gray-500 hidden sm:block",children:[o.jsxs("p",{className:"flex items-center justify-end",children:[o.jsx(rt,{className:"h-3 w-3 md:h-4 md:w-4 mr-1"}),o.jsx("span",{className:"hidden md:inline",children:"TA "}),"2025/26"]}),o.jsxs("p",{className:"flex items-center justify-end mt-1",children:[o.jsx(vr,{className:"h-3 w-3 md:h-4 md:w-4 mr-1"}),O]})]})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 space-y-6",children:[o.jsxs(le,{className:"bg-card border-border shadow-sm",children:[o.jsx(ke,{children:o.jsxs(Pe,{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[o.jsx(bi,{className:"h-5 w-5 text-primary"}),"Filter Data"]})}),o.jsx(ce,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Filter Kelas:"}),o.jsxs(ze,{value:c||"all",onValueChange:C=>u(C==="all"?null:C),children:[o.jsx($e,{className:"w-full bg-background border-border text-foreground",children:o.jsx(Ue,{placeholder:"Semua Kelas"})}),o.jsxs(Le,{className:"bg-popover border-border",children:[o.jsx(pe,{value:"all",className:"text-foreground hover:bg-accent",children:"Semua Kelas"}),j.map(C=>o.jsxs(pe,{value:C.id,className:"text-foreground hover:bg-accent",children:[C.name," (",C.level," ",C.grade,")"]},C.id))]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Filter Kategori:"}),o.jsxs(ze,{value:d||"all",onValueChange:C=>{const I=C==="all"?null:C;f(I),I!==d&&m(null)},children:[o.jsx($e,{className:"w-full bg-background border-border text-foreground",children:o.jsx(Ue,{placeholder:"Semua Kategori"})}),o.jsxs(Le,{className:"bg-popover border-border",children:[o.jsx(pe,{value:"all",className:"text-foreground hover:bg-accent",children:"Semua Kategori"}),N.map(C=>o.jsx(pe,{value:C.id,className:"text-foreground hover:bg-accent",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:C.color}}),C.name]})},C.id))]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Filter Semester:"}),o.jsxs(ze,{value:v||"all",onValueChange:C=>p(C==="all"?null:C),children:[o.jsx($e,{className:"w-full bg-background border-border text-foreground",children:o.jsx(Ue,{placeholder:"Semua Semester"})}),o.jsxs(Le,{className:"bg-popover border-border",children:[o.jsx(pe,{value:"all",className:"text-foreground hover:bg-accent",children:"Semua Semester"}),o.jsx(pe,{value:"1",className:"text-foreground hover:bg-accent",children:"Semester 1 (Juli - Desember)"}),o.jsx(pe,{value:"2",className:"text-foreground hover:bg-accent",children:"Semester 2 (Januari - Juni)"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"text-sm font-medium text-foreground",children:"Filter Pelajaran/Kegiatan:"}),o.jsxs(ze,{value:h||"all",onValueChange:C=>m(C==="all"?null:C),children:[o.jsx($e,{className:"w-full bg-background border-border text-foreground",children:o.jsx(Ue,{placeholder:"Semua Pelajaran/Kegiatan"})}),o.jsxs(Le,{className:"bg-popover border-border",children:[o.jsx(pe,{value:"all",className:"text-foreground hover:bg-accent",children:"Semua Pelajaran/Kegiatan"}),S.filter(C=>!d||C.session_category_id===d).map(C=>o.jsx(pe,{value:C.id,className:"text-foreground hover:bg-accent",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:C.color}}),C.name]})},C.id)),k.filter(C=>!d||C.session_category_id===d).map(C=>o.jsx(pe,{value:C.id,className:"text-foreground hover:bg-accent",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:C.color}}),C.name]})},C.id))]})]})]})]})})]}),o.jsx(cG,{schedules:T,isLoading:P,academicWeeks:_}),o.jsx(lG,{schedules:T,isLoading:P,selectedSemester:v,academicWeeks:_,activeAcademicYear:w})]}),o.jsx("div",{className:"bg-white border-t border-gray-200 mt-8",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:o.jsxs("div",{className:"text-center text-sm text-gray-500",children:[o.jsxs("p",{className:"flex items-center justify-center",children:[o.jsx(y0,{className:"h-4 w-4 mr-1"}),r.school.address]}),(r.school.phone||r.school.email)&&o.jsxs("p",{className:"mt-1",children:[r.school.phone&&o.jsxs("span",{className:"mr-4",children:[" ",r.school.phone]}),r.school.email&&o.jsxs("span",{children:[" ",r.school.email]})]}),o.jsxs("p",{className:"mt-2 text-xs text-gray-400",children:[" Overview Jadwal - Tampilan Publik untuk Kelas ",O]})]})})})]})},dHe=({month:e,holidays:t})=>{const r=dr(e),n=xi(e),a=tn(r,{weekStartsOn:1}),s=Ac(n,{weekStartsOn:1}),i=ns({start:a,end:s}),l=u=>t.filter(d=>{const f=Mr(d.start_date),h=Mr(d.end_date);return tx(u,{start:f,end:h})}),c=t.filter(u=>Zs(Mr(u.start_date),e)||Zs(Mr(u.end_date),e)).sort((u,d)=>new Date(u.start_date).getTime()-new Date(d.start_date).getTime());return o.jsxs("div",{className:"bg-card border border-lime-400/20 rounded-xl p-4 shadow-lg flex flex-col h-full",children:[o.jsx("h4",{className:"text-lg font-semibold text-center mb-3 text-card-foreground",children:Ne(e,"MMMM yyyy",{locale:Nt})}),o.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Sen","Sel","Rab","Kam","Jum","Sab","Min"].map(u=>o.jsx("div",{className:"text-xs font-medium text-muted-foreground text-center p-1",children:u},u))}),o.jsx("div",{className:"grid grid-cols-7 gap-1",children:i.map((u,d)=>{const f=l(u),h=Zs(u,e),m=br(u,new Date),v=f.length>0,p=v?{backgroundColor:f[0].color}:{};return o.jsx("div",{className:se("relative h-10 w-10 text-xs rounded-full transition-colors flex items-center justify-center","border border-transparent",h?"text-foreground":"text-muted-foreground/50",m&&!v&&"bg-primary/20 border-primary/50",v&&"text-white font-bold shadow-inner cursor-pointer hover:opacity-80",!v&&"hover:bg-muted/50"),style:p,title:v?f.map(g=>g.name).join(", "):"",children:Ne(u,"d")},`${Ne(u,"yyyy-MM-dd")}-${d}`)})}),c.length>0&&o.jsx("div",{className:"mt-3 pt-3 border-t border-border/50 flex-grow min-h-0",children:o.jsx("div",{className:"space-y-1.5 max-h-28 overflow-y-auto pr-2",children:c.map(u=>{const d=Mr(u.start_date),f=Mr(u.end_date),h=!br(d,f);return o.jsxs("div",{className:"flex items-start gap-2 text-xs p-1.5 rounded-md bg-muted/30",children:[o.jsx("div",{className:"w-2 h-2 rounded-full mt-1 flex-shrink-0",style:{backgroundColor:u.color}}),o.jsxs("div",{className:"flex-grow",children:[o.jsxs("span",{className:"font-semibold",children:[h?`${Ne(d,"d")} - ${Ne(f,"d")}`:Ne(d,"d"),":"]}),o.jsx("span",{className:"ml-1.5 text-muted-foreground",children:u.name}),u.description&&o.jsx("div",{className:"text-xs text-muted-foreground/80 mt-0.5",children:u.description})]})]},u.id)})})})]})},fHe=({year:e,holidays:t,selectedClassId:r})=>{const n=t.filter(u=>!r||r==="all"||!u.class_ids||u.class_ids.length===0?!0:u.class_ids.includes(r)),s=(u=>{const d=[];for(let f=6;f<12;f++)d.push(new Date(u,f,1));for(let f=0;f<6;f++)d.push(new Date(u+1,f,1));return d})(e),i=s.slice(0,6),l=s.slice(6,12),c=(u,d)=>o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4 text-center",children:d}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map((f,h)=>o.jsx(dHe,{month:f,holidays:n},`${Ne(f,"yyyy-MM")}-${h}`))})]});return o.jsxs("div",{className:"space-y-8",children:[c(i,"Semester 1"),c(l,"Semester 2")]})},hHe=()=>{var _;const{token:e}=M0(),[t,r]=x.useState(null),[n,a]=x.useState(!0),[s,i]=x.useState(null),[l,c]=x.useState("all"),[u,d]=x.useState("start_date"),[f,h]=x.useState("asc"),m=()=>{e&&(window.location.href=`/external/${e}`)},v=j=>{u===j?h(f==="asc"?"desc":"asc"):(d(j),h("asc"))},p=j=>{if(!j||j.length===0||!(t!=null&&t.classes))return"Semua Kelas";const S=j.map(k=>{var N;return(N=t.classes.find(E=>E.id===k))==null?void 0:N.name}).filter(Boolean);return S.length>0?S.join(", "):"Semua Kelas"};x.useEffect(()=>{(async()=>{if(!e){i("Token tidak valid"),a(!1);return}try{let S,k;try{const D=atob(e),[F,z]=D.split(":");S=F,k=z}catch{i("Akses tidak valid"),a(!1);return}const{data:N,error:E}=await G.from("schools").select("name, logo_url, address, phone, email").eq("id",k).single();if(E){i("Data tidak ditemukan"),a(!1);return}const{data:P,error:A}=await G.from("classes").select("id, name, level").eq("id",S).eq("school_id",k).single();if(A){i("Data tidak ditemukan"),a(!1);return}const{data:O,error:T}=await G.from("classes").select("id, name, level").eq("school_id",k).order("name"),{data:C,error:I}=await G.from("academic_years").select("id, year_name, start_date, end_date").eq("school_id",k).eq("is_active",!0).single();if(I){i("Data tidak ditemukan"),a(!1);return}const{data:$,error:M}=await G.from("holidays").select("*").eq("school_id",k).eq("academic_year_id",C.id).order("start_date");if(M){i("Data tidak ditemukan"),a(!1);return}r({school:N,class:P,holidays:$||[],classes:O||[],academicYear:C}),c(S)}catch{i("Terjadi kesalahan saat memuat data")}finally{a(!1)}})()},[e]);const g=x.useMemo(()=>{if(!(t!=null&&t.holidays))return[];let j=t.holidays;return l!=="all"&&(j=t.holidays.filter(k=>!k.class_ids||k.class_ids.length===0||k.class_ids.includes(l))),[...j].sort((k,N)=>{let E,P;switch(u){case"name":E=k.name.toLowerCase(),P=N.name.toLowerCase();break;case"start_date":E=new Date(k.start_date),P=new Date(N.start_date);break;case"end_date":E=new Date(k.end_date),P=new Date(N.end_date);break;case"category":E=k.category_id||"",P=N.category_id||"";break;default:return 0}return E<P?f==="asc"?-1:1:E>P?f==="asc"?1:-1:0})},[t==null?void 0:t.holidays,l,u,f]),{effectiveDaysCount:b,totalDays:y}=x.useMemo(()=>{if(!(t!=null&&t.academicYear)||!(t!=null&&t.holidays))return{effectiveDaysCount:0,totalDays:0};const j=new Date(t.academicYear.start_date),S=new Date(t.academicYear.end_date),k=ns({start:j,end:S}),N=new Set;k.forEach(O=>{Bl(O)===0&&N.add(O.toISOString().split("T")[0])}),t.holidays.filter(O=>!l||l==="all"||!O.class_ids||O.class_ids.length===0?!0:O.class_ids.includes(l)).forEach(O=>{const T=Cs(new Date(O.start_date)),C=Cs(new Date(O.end_date));ns({start:T,end:C}).forEach($=>{N.add($.toISOString().split("T")[0])})});const P=k.length;return{effectiveDaysCount:P-N.size,totalDays:P}},[t==null?void 0:t.academicYear,t==null?void 0:t.holidays,l]);if(n)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(_a,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),o.jsx("p",{className:"text-gray-600",children:"Memuat kalender event..."})]})});if(s||!t)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:o.jsx(le,{className:"w-full max-w-md",children:o.jsx(ce,{className:"p-6",children:o.jsx(of,{variant:"destructive",children:o.jsx(lf,{children:s||"Data tidak ditemukan"})})})})});const w=new Date(t.academicYear.start_date).getFullYear();return o.jsx("div",{className:"min-h-screen bg-background",children:o.jsxs("div",{className:"max-w-7xl mx-auto p-3 md:p-6 space-y-4 md:space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4 min-w-0 flex-1",children:[o.jsxs(V,{onClick:m,variant:"outline",size:"sm",className:"flex items-center gap-1 md:gap-2 px-2 md:px-3",children:[o.jsx(H5,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Kembali ke Jadwal"}),o.jsx("span",{className:"sm:hidden",children:"Kembali"})]}),t.school.logo_url&&o.jsx("img",{src:t.school.logo_url,alt:"Logo Sekolah",className:"h-8 w-8 md:h-12 md:w-12 object-contain flex-shrink-0"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-1 md:space-x-2 mb-1 md:mb-2",children:[o.jsx(Zn,{className:"h-6 w-6 md:h-8 md:w-8 text-lime-400"}),o.jsx("h1",{className:"text-xl md:text-3xl font-bold text-foreground",children:"Kaldik"})]}),o.jsxs("p",{className:"text-sm md:text-base text-muted-foreground truncate",children:[t.school.name," - TA ",t.academicYear.year_name]})]})]})}),o.jsx(le,{className:"bg-card border-border rounded-2xl p-6",children:o.jsx(ce,{className:"p-0",children:o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rt,{className:"h-5 w-5 text-lime-400"}),o.jsx("span",{className:"text-foreground",children:"Filter Kelas:"})]}),o.jsxs(ze,{value:l,onValueChange:c,children:[o.jsx($e,{className:"w-48 bg-background border-lime-400/30 text-foreground",children:o.jsx(Ue,{})}),o.jsxs(Le,{children:[o.jsx(pe,{value:"all",children:"Semua Kelas"}),t.classes.map(j=>o.jsx(pe,{value:j.id,children:j.name},j.id))]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-lime-500",children:[o.jsx(wd,{className:"h-5 w-5"}),o.jsx("span",{children:"Hari Efektif"})]}),o.jsxs("div",{className:"text-2xl font-bold text-foreground mt-1",children:[b," ",o.jsxs("span",{className:"text-base font-normal text-muted-foreground",children:["/ ",y," hari"]})]})]})]})})}),o.jsxs(le,{className:"bg-card border-border rounded-2xl p-2",children:[o.jsx(ke,{className:"p-6 flex flex-row items-start justify-between",children:o.jsxs("div",{children:[o.jsx(Pe,{className:"text-card-foreground text-xl",children:"Kaldik"}),o.jsx(Nn,{className:"text-muted-foreground mt-1",children:"Lihat kegiatan sepanjang tahun akademik"})]})}),o.jsx(ce,{className:"p-6 bg-transparent",children:o.jsx(fHe,{year:w,holidays:t.holidays,selectedClassId:l})})]}),o.jsxs(le,{className:"bg-card border-border rounded-2xl p-2 mt-6",children:[o.jsx(ke,{className:"p-6",children:o.jsx(Pe,{className:"text-card-foreground text-xl",children:"Daftar Event"})}),o.jsxs(ce,{className:"bg-transparent",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg border border-blue-200 mb-6",children:[o.jsxs("div",{className:"text-sm text-blue-700",children:[o.jsx("strong",{children:"Kelas:"})," ",l==="all"?"Semua Kelas":((_=t.classes.find(j=>j.id===l))==null?void 0:_.name)||"Kelas Tidak Ditemukan"]}),o.jsxs("span",{className:"text-blue-600 text-sm font-medium",children:[g.length," dari ",t.holidays.length," event"]})]}),o.jsx("div",{className:"overflow-x-auto rounded-lg border bg-card",children:o.jsxs(Mo,{children:[o.jsx(Oo,{children:o.jsxs(Cr,{children:[o.jsx(Ke,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>v("name"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Nama Event",u==="name"&&(f==="asc"?o.jsx(Ll,{className:"h-4 w-4"}):o.jsx(Va,{className:"h-4 w-4"}))]})}),o.jsx(Ke,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>v("start_date"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Tanggal Mulai",u==="start_date"&&(f==="asc"?o.jsx(Ll,{className:"h-4 w-4"}):o.jsx(Va,{className:"h-4 w-4"}))]})}),o.jsx(Ke,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>v("end_date"),children:o.jsxs("div",{className:"flex items-center gap-1",children:["Tanggal Selesai",u==="end_date"&&(f==="asc"?o.jsx(Ll,{className:"h-4 w-4"}):o.jsx(Va,{className:"h-4 w-4"}))]})}),o.jsx(Ke,{children:"Kelas"}),o.jsx(Ke,{children:"Keterangan"})]})}),o.jsx(Ro,{children:g.length===0?o.jsx(Cr,{children:o.jsx(He,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"Tidak ada event yang ditemukan"})}):g.map(j=>o.jsxs(Cr,{className:"hover:bg-muted/50",children:[o.jsx(He,{className:"font-medium text-foreground",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:j.color||"#3B82F6"}}),o.jsx("span",{children:j.name})]})}),o.jsx(He,{className:"text-muted-foreground",children:Ne(Mr(j.start_date),"dd MMM yyyy",{locale:Nt})}),o.jsx(He,{className:"text-muted-foreground",children:Ne(Mr(j.end_date),"dd MMM yyyy",{locale:Nt})}),o.jsx(He,{className:"text-muted-foreground text-sm",children:p(j.class_ids)}),o.jsx(He,{className:"text-muted-foreground text-sm max-w-xs truncate",children:j.description||"-"})]},j.id))})]})})]})]})]})})},mHe=()=>{const{token:e}=M0(),[t,r]=x.useState(!0),[n,a]=x.useState(null),[s,i]=x.useState({});return x.useEffect(()=>{(async()=>{if(!e){a("Token tidak valid"),r(!1);return}const c={tokenDecoding:null,schoolData:null,classData:null,academicYearData:null,scheduleSubjectsData:null,sessionCategoriesData:null,extracurricularsData:null};try{console.log(" Test 1: Token decoding");try{const u=atob(e),[d,f]=u.split(":");c.tokenDecoding={success:!0,decoded:u,classId:d,schoolId:f},console.log(" Token decoded successfully:",{classId:d,schoolId:f}),console.log(" Test 2: School data fetch");try{const{data:h,error:m}=await G.from("schools").select("name, logo_url, address, phone, email").eq("id",f).single();c.schoolData={success:!m,data:h,error:m==null?void 0:m.message},console.log("School data result:",c.schoolData)}catch(h){c.schoolData={success:!1,error:h instanceof Error?h.message:"Unknown error"}}console.log(" Test 3: Class data fetch");try{const{data:h,error:m}=await G.from("classes").select("id, name, level, grade").eq("id",d).eq("school_id",f).single();c.classData={success:!m,data:h,error:m==null?void 0:m.message},console.log("Class data result:",c.classData)}catch(h){c.classData={success:!1,error:h instanceof Error?h.message:"Unknown error"}}console.log(" Test 4: Academic year data fetch");try{const{data:h,error:m}=await G.from("academic_years").select("*").eq("school_id",f).eq("is_active",!0).single();c.academicYearData={success:!m,data:h,error:m==null?void 0:m.message},console.log("Academic year data result:",c.academicYearData)}catch(h){c.academicYearData={success:!1,error:h instanceof Error?h.message:"Unknown error"}}console.log(" Test 5: Schedule subjects data fetch");try{const{data:h,error:m}=await G.from("schedule_subjects").select("id, name, color, session_category_id").eq("school_id",f).limit(5);c.scheduleSubjectsData={success:!m,data:h,error:m==null?void 0:m.message,count:(h==null?void 0:h.length)||0},console.log("Schedule subjects data result:",c.scheduleSubjectsData)}catch(h){c.scheduleSubjectsData={success:!1,error:h instanceof Error?h.message:"Unknown error"}}console.log(" Test 6: Session categories data fetch");try{const{data:h,error:m}=await G.from("session_categories").select("id, name, color").eq("school_id",f).limit(5);c.sessionCategoriesData={success:!m,data:h,error:m==null?void 0:m.message,count:(h==null?void 0:h.length)||0},console.log("Session categories data result:",c.sessionCategoriesData)}catch(h){c.sessionCategoriesData={success:!1,error:h instanceof Error?h.message:"Unknown error"}}console.log(" Test 7: Extracurriculars data fetch");try{const{data:h,error:m}=await G.from("extracurriculars").select("id, name, color, session_category_id").eq("school_id",f).limit(5);c.extracurricularsData={success:!m,data:h,error:m==null?void 0:m.message,count:(h==null?void 0:h.length)||0},console.log("Extracurriculars data result:",c.extracurricularsData)}catch(h){c.extracurricularsData={success:!1,error:h instanceof Error?h.message:"Unknown error"}}}catch(u){c.tokenDecoding={success:!1,error:"Token decode failed"},console.error(" Token decode error:",u)}}catch(u){a("Terjadi kesalahan saat menjalankan test"),console.error(" Test error:",u)}finally{i(c),r(!1)}})()},[e]),t?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Menjalankan test public access..."})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs(le,{children:[o.jsx(ke,{children:o.jsx(Pe,{children:" Public Access Test Results"})}),o.jsx(ce,{children:o.jsx("div",{className:"space-y-4",children:Object.entries(s).map(([l,c])=>o.jsxs("div",{className:"border rounded p-4",children:[o.jsxs("h3",{className:"font-semibold mb-2",children:[c!=null&&c.success?"":""," ",l]}),(c==null?void 0:c.error)&&o.jsx(of,{variant:"destructive",className:"mb-2",children:o.jsx(lf,{children:c.error})}),(c==null?void 0:c.data)&&o.jsx("pre",{className:"bg-gray-100 p-2 rounded text-sm overflow-auto",children:JSON.stringify(c.data,null,2)}),(c==null?void 0:c.count)!==void 0&&o.jsxs("p",{className:"text-sm text-gray-600",children:["Count: ",c.count]})]},l))})})]}),n&&o.jsx(of,{variant:"destructive",children:o.jsx(lf,{children:n})})]})})},pHe=()=>{const e=Ep();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},gHe=new uee({defaultOptions:{queries:{staleTime:0,gcTime:0,refetchOnWindowFocus:!0,refetchOnMount:!0,refetchOnReconnect:!0,retry:2,retryDelay:e=>Math.min(1e3*2**e,3e4)},mutations:{retry:1,retryDelay:1e3}}}),vHe=()=>o.jsx(pee,{client:gHe,children:o.jsx(WJ,{attribute:"class",defaultTheme:"light",enableSystem:!1,disableTransitionOnChange:!1,children:o.jsx(Lne,{children:o.jsxs(RL,{children:[o.jsx(SE,{}),o.jsx(xX,{}),o.jsx(xte,{children:o.jsxs(HE,{children:[o.jsx(St,{path:"/",element:o.jsx(HUe,{})}),o.jsxs(St,{element:o.jsx(Lie,{}),children:[o.jsx(St,{path:"/dashboard",element:o.jsx($Ue,{})}),o.jsx(St,{path:"/subjects",element:o.jsx(qUe,{})}),o.jsx(St,{path:"/subjects-matrix",element:o.jsx(KUe,{})}),o.jsx(St,{path:"/events/*",element:o.jsx(Gq,{})}),o.jsx(St,{path:"/classes",element:o.jsx(fq,{})}),o.jsx(St,{path:"/teachers",element:o.jsx(hq,{})}),o.jsx(St,{path:"/time-sessions",element:o.jsx(gq,{})}),o.jsx(St,{path:"/settings",element:o.jsx(OW,{})}),o.jsx(St,{path:"/school-info",element:o.jsx(RW,{})}),o.jsx(St,{path:"/schedules/*",element:o.jsx(YUe,{})})]}),o.jsx(St,{path:"/public/schedule",element:o.jsx(XUe,{})}),o.jsx(St,{path:"/external/:token",element:o.jsx(nHe,{})}),o.jsx(St,{path:"/external/:token/overview",element:o.jsx(uHe,{})}),o.jsx(St,{path:"/external/:token/events",element:o.jsx(hHe,{})}),o.jsx(St,{path:"/external/:token/test",element:o.jsx(mHe,{})}),o.jsx(St,{path:"/test-external",element:o.jsx(ZUe,{})}),o.jsx(St,{path:"*",element:o.jsx(pHe,{})})]})})]})})})}),hG=document.getElementById("root");if(!hG)throw new Error("Root element not found");const yHe=dE(hG);yHe.render(o.jsx(vHe,{}));export{yt as g};
